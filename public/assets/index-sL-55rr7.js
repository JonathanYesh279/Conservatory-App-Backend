var dp=n=>{throw TypeError(n)};var Fu=(n,s,c)=>s.has(n)||dp("Cannot "+c);var $=(n,s,c)=>(Fu(n,s,"read from private field"),c?c.call(n):s.get(n)),De=(n,s,c)=>s.has(n)?dp("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(n):s.set(n,c),je=(n,s,c,i)=>(Fu(n,s,"write to private field"),i?i.call(n,c):s.set(n,c),c),lt=(n,s,c)=>(Fu(n,s,"access private method"),c);var nc=(n,s,c,i)=>({set _(u){je(n,s,u,c)},get _(){return $(n,s,i)}});(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function c(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(u){if(u.ep)return;u.ep=!0;const f=c(u);fetch(u.href,f)}})();function k0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qu={exports:{}},Sr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function B0(){if(fp)return Sr;fp=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function c(i,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:n,type:i,key:h,ref:u!==void 0?u:null,props:f}}return Sr.Fragment=s,Sr.jsx=c,Sr.jsxs=c,Sr}var hp;function q0(){return hp||(hp=1,Qu.exports=B0()),Qu.exports}var r=q0(),Vu={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function H0(){if(mp)return we;mp=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function T(j,M,Q){this.props=j,this.context=M,this.refs=O,this.updater=Q||A}T.prototype.isReactComponent={},T.prototype.setState=function(j,M){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,M,"setState")},T.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function D(){}D.prototype=T.prototype;function R(j,M,Q){this.props=j,this.context=M,this.refs=O,this.updater=Q||A}var C=R.prototype=new D;C.constructor=R,N(C,T.prototype),C.isPureReactComponent=!0;var U=Array.isArray,I={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function le(j,M,Q,H,V,re){return Q=re.ref,{$$typeof:n,type:j,key:M,ref:Q!==void 0?Q:null,props:re}}function ie(j,M){return le(j.type,M,void 0,void 0,void 0,j.props)}function J(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function q(j){var M={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Q){return M[Q]})}var P=/\/+/g;function W(j,M){return typeof j=="object"&&j!==null&&j.key!=null?q(""+j.key):M.toString(36)}function te(){}function G(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(te,te):(j.status="pending",j.then(function(M){j.status==="pending"&&(j.status="fulfilled",j.value=M)},function(M){j.status==="pending"&&(j.status="rejected",j.reason=M)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ce(j,M,Q,H,V){var re=typeof j;(re==="undefined"||re==="boolean")&&(j=null);var de=!1;if(j===null)de=!0;else switch(re){case"bigint":case"string":case"number":de=!0;break;case"object":switch(j.$$typeof){case n:case s:de=!0;break;case v:return de=j._init,ce(de(j._payload),M,Q,H,V)}}if(de)return V=V(j),de=H===""?"."+W(j,0):H,U(V)?(Q="",de!=null&&(Q=de.replace(P,"$&/")+"/"),ce(V,M,Q,"",function(xe){return xe})):V!=null&&(J(V)&&(V=ie(V,Q+(V.key==null||j&&j.key===V.key?"":(""+V.key).replace(P,"$&/")+"/")+de)),M.push(V)),1;de=0;var ge=H===""?".":H+":";if(U(j))for(var pe=0;pe<j.length;pe++)H=j[pe],re=ge+W(H,pe),de+=ce(H,M,Q,re,V);else if(pe=E(j),typeof pe=="function")for(j=pe.call(j),pe=0;!(H=j.next()).done;)H=H.value,re=ge+W(H,pe++),de+=ce(H,M,Q,re,V);else if(re==="object"){if(typeof j.then=="function")return ce(G(j),M,Q,H,V);throw M=String(j),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return de}function k(j,M,Q){if(j==null)return j;var H=[],V=0;return ce(j,H,"","",function(re){return M.call(Q,re,V++)}),H}function se(j){if(j._status===-1){var M=j._result;M=M(),M.then(function(Q){(j._status===0||j._status===-1)&&(j._status=1,j._result=Q)},function(Q){(j._status===0||j._status===-1)&&(j._status=2,j._result=Q)}),j._status===-1&&(j._status=0,j._result=M)}if(j._status===1)return j._result.default;throw j._result}var ae=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function he(){}return we.Children={map:k,forEach:function(j,M,Q){k(j,function(){M.apply(this,arguments)},Q)},count:function(j){var M=0;return k(j,function(){M++}),M},toArray:function(j){return k(j,function(M){return M})||[]},only:function(j){if(!J(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},we.Component=T,we.Fragment=c,we.Profiler=u,we.PureComponent=R,we.StrictMode=i,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.act=function(){throw Error("act(...) is not supported in production builds of React.")},we.cache=function(j){return function(){return j.apply(null,arguments)}},we.cloneElement=function(j,M,Q){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var H=N({},j.props),V=j.key,re=void 0;if(M!=null)for(de in M.ref!==void 0&&(re=void 0),M.key!==void 0&&(V=""+M.key),M)!F.call(M,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&M.ref===void 0||(H[de]=M[de]);var de=arguments.length-2;if(de===1)H.children=Q;else if(1<de){for(var ge=Array(de),pe=0;pe<de;pe++)ge[pe]=arguments[pe+2];H.children=ge}return le(j.type,V,void 0,void 0,re,H)},we.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:f,_context:j},j},we.createElement=function(j,M,Q){var H,V={},re=null;if(M!=null)for(H in M.key!==void 0&&(re=""+M.key),M)F.call(M,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(V[H]=M[H]);var de=arguments.length-2;if(de===1)V.children=Q;else if(1<de){for(var ge=Array(de),pe=0;pe<de;pe++)ge[pe]=arguments[pe+2];V.children=ge}if(j&&j.defaultProps)for(H in de=j.defaultProps,de)V[H]===void 0&&(V[H]=de[H]);return le(j,re,void 0,void 0,null,V)},we.createRef=function(){return{current:null}},we.forwardRef=function(j){return{$$typeof:p,render:j}},we.isValidElement=J,we.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:se}},we.memo=function(j,M){return{$$typeof:m,type:j,compare:M===void 0?null:M}},we.startTransition=function(j){var M=I.T,Q={};I.T=Q;try{var H=j(),V=I.S;V!==null&&V(Q,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(he,ae)}catch(re){ae(re)}finally{I.T=M}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(j){return I.H.use(j)},we.useActionState=function(j,M,Q){return I.H.useActionState(j,M,Q)},we.useCallback=function(j,M){return I.H.useCallback(j,M)},we.useContext=function(j){return I.H.useContext(j)},we.useDebugValue=function(){},we.useDeferredValue=function(j,M){return I.H.useDeferredValue(j,M)},we.useEffect=function(j,M){return I.H.useEffect(j,M)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(j,M,Q){return I.H.useImperativeHandle(j,M,Q)},we.useInsertionEffect=function(j,M){return I.H.useInsertionEffect(j,M)},we.useLayoutEffect=function(j,M){return I.H.useLayoutEffect(j,M)},we.useMemo=function(j,M){return I.H.useMemo(j,M)},we.useOptimistic=function(j,M){return I.H.useOptimistic(j,M)},we.useReducer=function(j,M,Q){return I.H.useReducer(j,M,Q)},we.useRef=function(j){return I.H.useRef(j)},we.useState=function(j){return I.H.useState(j)},we.useSyncExternalStore=function(j,M,Q){return I.H.useSyncExternalStore(j,M,Q)},we.useTransition=function(){return I.H.useTransition()},we.version="19.0.0",we}var pp;function md(){return pp||(pp=1,Vu.exports=H0()),Vu.exports}var b=md();const gp=k0(b);var $u={exports:{}},Nr={},Xu={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function I0(){return yp||(yp=1,function(n){function s(k,se){var ae=k.length;k.push(se);e:for(;0<ae;){var he=ae-1>>>1,j=k[he];if(0<u(j,se))k[he]=se,k[ae]=j,ae=he;else break e}}function c(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var se=k[0],ae=k.pop();if(ae!==se){k[0]=ae;e:for(var he=0,j=k.length,M=j>>>1;he<M;){var Q=2*(he+1)-1,H=k[Q],V=Q+1,re=k[V];if(0>u(H,ae))V<j&&0>u(re,H)?(k[he]=re,k[V]=ae,he=V):(k[he]=H,k[Q]=ae,he=Q);else if(V<j&&0>u(re,ae))k[he]=re,k[V]=ae,he=V;else break e}}return se}function u(k,se){var ae=k.sortIndex-se.sortIndex;return ae!==0?ae:k.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var y=[],m=[],v=1,x=null,E=3,A=!1,N=!1,O=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function C(k){for(var se=c(m);se!==null;){if(se.callback===null)i(m);else if(se.startTime<=k)i(m),se.sortIndex=se.expirationTime,s(y,se);else break;se=c(m)}}function U(k){if(O=!1,C(k),!N)if(c(y)!==null)N=!0,G();else{var se=c(m);se!==null&&ce(U,se.startTime-k)}}var I=!1,F=-1,le=5,ie=-1;function J(){return!(n.unstable_now()-ie<le)}function q(){if(I){var k=n.unstable_now();ie=k;var se=!0;try{e:{N=!1,O&&(O=!1,D(F),F=-1),A=!0;var ae=E;try{t:{for(C(k),x=c(y);x!==null&&!(x.expirationTime>k&&J());){var he=x.callback;if(typeof he=="function"){x.callback=null,E=x.priorityLevel;var j=he(x.expirationTime<=k);if(k=n.unstable_now(),typeof j=="function"){x.callback=j,C(k),se=!0;break t}x===c(y)&&i(y),C(k)}else i(y);x=c(y)}if(x!==null)se=!0;else{var M=c(m);M!==null&&ce(U,M.startTime-k),se=!1}}break e}finally{x=null,E=ae,A=!1}se=void 0}}finally{se?P():I=!1}}}var P;if(typeof R=="function")P=function(){R(q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=q,P=function(){te.postMessage(null)}}else P=function(){T(q,0)};function G(){I||(I=!0,P())}function ce(k,se){F=T(function(){k(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_continueExecution=function(){N||A||(N=!0,G())},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return c(y)},n.unstable_next=function(k){switch(E){case 1:case 2:case 3:var se=3;break;default:se=E}var ae=E;E=se;try{return k()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(k,se){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ae=E;E=k;try{return se()}finally{E=ae}},n.unstable_scheduleCallback=function(k,se,ae){var he=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?he+ae:he):ae=he,k){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ae+j,k={id:v++,callback:se,priorityLevel:k,startTime:ae,expirationTime:j,sortIndex:-1},ae>he?(k.sortIndex=ae,s(m,k),c(y)===null&&k===c(m)&&(O?(D(F),F=-1):O=!0,ce(U,ae-he))):(k.sortIndex=j,s(y,k),N||A||(N=!0,G())),k},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(k){var se=E;return function(){var ae=E;E=se;try{return k.apply(this,arguments)}finally{E=ae}}}}(Gu)),Gu}var vp;function Y0(){return vp||(vp=1,Xu.exports=I0()),Xu.exports}var Zu={exports:{}},Tt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function F0(){if(xp)return Tt;xp=1;var n=md();function s(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var i={d:{f:c,r:function(){throw Error(s(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,m,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:y,containerInfo:m,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Tt.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(s(299));return f(y,m,null,v)},Tt.flushSync=function(y){var m=h.T,v=i.p;try{if(h.T=null,i.p=2,y)return y()}finally{h.T=m,i.p=v,i.d.f()}},Tt.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(y,m))},Tt.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},Tt.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,x=p(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,A=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:A}):v==="script"&&i.d.X(y,{crossOrigin:x,integrity:E,fetchPriority:A,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Tt.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);i.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(y)},Tt.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,x=p(v,m.crossOrigin);i.d.L(y,v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Tt.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);i.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(y)},Tt.requestFormReset=function(y){i.d.r(y)},Tt.unstable_batchedUpdates=function(y,m){return y(m)},Tt.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},Tt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Tt.version="19.0.0",Tt}var bp;function Q0(){if(bp)return Zu.exports;bp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),Zu.exports=F0(),Zu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function V0(){if(jp)return Nr;jp=1;var n=Y0(),s=md(),c=Q0();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),U=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case p:return"Portal";case v:return"Profiler";case m:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A:return(e.displayName||"Context")+".Provider";case E:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}var J=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=Object.assign,P,W;function te(e){if(P===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||"",W=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+e+W}var G=!1;function ce(e,t){if(!e||G)return"";G=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Z){var Y=Z}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(Z){Y=Z}e.call(ne.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],S=d[1];if(g&&S){var w=g.split(`
`),z=S.split(`
`);for(o=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;if(l===w.length||o===z.length)for(l=w.length-1,o=z.length-1;1<=l&&0<=o&&w[l]!==z[o];)o--;for(;1<=l&&0<=o;l--,o--)if(w[l]!==z[o]){if(l!==1||o!==1)do if(l--,o--,0>o||w[l]!==z[o]){var K=`
`+w[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=o);break}}}finally{G=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?te(a):""}function k(e){switch(e.tag){case 26:case 27:case 5:return te(e.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function se(e){try{var t="";do t+=k(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ae(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function he(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j(e){if(ae(e)!==e)throw Error(i(188))}function M(e){var t=e.alternate;if(!t){if(t=ae(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,l=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(l=o.return,l!==null){a=l;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return j(o),e;if(d===l)return j(o),t;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=o,l=d;else{for(var g=!1,S=o.child;S;){if(S===a){g=!0,a=o,l=d;break}if(S===l){g=!0,l=o,a=d;break}S=S.sibling}if(!g){for(S=d.child;S;){if(S===a){g=!0,a=d,l=o;break}if(S===l){g=!0,l=d,a=o;break}S=S.sibling}if(!g)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function Q(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Q(e),t!==null)return t;e=e.sibling}return null}var H=Array.isArray,V=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},de=[],ge=-1;function pe(e){return{current:e}}function xe(e){0>ge||(e.current=de[ge],de[ge]=null,ge--)}function fe(e,t){ge++,de[ge]=e.current,e.current=t}var oe=pe(null),Ue=pe(null),ze=pe(null),ue=pe(null);function Ee(e,t){switch(fe(ze,t),fe(Ue,e),fe(oe,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Hm(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Hm(e),t=Im(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}xe(oe),fe(oe,t)}function Ve(){xe(oe),xe(Ue),xe(ze)}function it(e){e.memoizedState!==null&&fe(ue,e);var t=oe.current,a=Im(t,e.type);t!==a&&(fe(Ue,e),fe(oe,a))}function Ie(e){Ue.current===e&&(xe(oe),xe(Ue)),ue.current===e&&(xe(ue),yr._currentValue=re)}var ke=Object.prototype.hasOwnProperty,dt=n.unstable_scheduleCallback,Ge=n.unstable_cancelCallback,ha=n.unstable_shouldYield,Se=n.unstable_requestPaint,_e=n.unstable_now,Gt=n.unstable_getCurrentPriorityLevel,Zt=n.unstable_ImmediatePriority,Tl=n.unstable_UserBlockingPriority,Fn=n.unstable_NormalPriority,$r=n.unstable_LowPriority,sn=n.unstable_IdlePriority,xy=n.log,by=n.unstable_setDisableYieldValue,wl=null,Ht=null;function jy(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}function ln(e){if(typeof xy=="function"&&by(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(wl,e)}catch{}}var It=Math.clz32?Math.clz32:Ey,Sy=Math.log,Ny=Math.LN2;function Ey(e){return e>>>=0,e===0?32:31-(Sy(e)/Ny|0)|0}var Xr=128,Gr=4194304;function Qn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zr(e,t){var a=e.pendingLanes;if(a===0)return 0;var l=0,o=e.suspendedLanes,d=e.pingedLanes,g=e.warmLanes;e=e.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~o,a!==0?l=Qn(a):(d&=S,d!==0?l=Qn(d):e||(g=S&~g,g!==0&&(l=Qn(g))))):(S=a&~o,S!==0?l=Qn(S):d!==0?l=Qn(d):e||(g=a&~g,g!==0&&(l=Qn(g)))),l===0?0:t!==0&&t!==l&&(t&o)===0&&(o=l&-l,g=t&-t,o>=g||o===32&&(g&4194176)!==0)?t:l}function Al(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ty(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dd(){var e=Xr;return Xr<<=1,(Xr&4194176)===0&&(Xr=128),e}function _d(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function kc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ol(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wy(e,t,a,l,o,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var K=31-It(a),ne=1<<K;S[K]=0,w[K]=-1;var Y=z[K];if(Y!==null)for(z[K]=null,K=0;K<Y.length;K++){var Z=Y[K];Z!==null&&(Z.lane&=-536870913)}a&=~ne}l!==0&&Md(e,l,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Md(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-It(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function zd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-It(a),o=1<<l;o&t|e[l]&t&&(e[l]|=t),a&=~o}}function Ld(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ud(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:lp(e.type))}function Ay(e,t){var a=V.p;try{return V.p=e,t()}finally{V.p=a}}var rn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+rn,zt="__reactProps$"+rn,Ts="__reactContainer$"+rn,Bc="__reactEvents$"+rn,Oy="__reactListeners$"+rn,Cy="__reactHandles$"+rn,kd="__reactResources$"+rn,Cl="__reactMarker$"+rn;function qc(e){delete e[Nt],delete e[zt],delete e[Bc],delete e[Oy],delete e[Cy]}function Vn(e){var t=e[Nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ts]||a[Nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Qm(e);e!==null;){if(a=e[Nt])return a;e=Qm(e)}return t}e=a,a=e.parentNode}return null}function ws(e){if(e=e[Nt]||e[Ts]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Rl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function As(e){var t=e[kd];return t||(t=e[kd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pt(e){e[Cl]=!0}var Bd=new Set,qd={};function $n(e,t){Os(e,t),Os(e+"Capture",t)}function Os(e,t){for(qd[e]=t,e=0;e<t.length;e++)Bd.add(t[e])}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hd={},Id={};function Dy(e){return ke.call(Id,e)?!0:ke.call(Hd,e)?!1:Ry.test(e)?Id[e]=!0:(Hd[e]=!0,!1)}function Kr(e,t,a){if(Dy(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Jr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function La(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _y(e){var t=Yd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pr(e){e._valueTracker||(e._valueTracker=_y(e))}function Fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Yd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var My=/[\n"\\]/g;function Jt(e){return e.replace(My,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Hc(e,t,a,l,o,d,g,S){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Kt(t)):e.value!==""+Kt(t)&&(e.value=""+Kt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Ic(e,g,Kt(t)):a!=null?Ic(e,g,Kt(a)):l!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Kt(S):e.removeAttribute("name")}function Qd(e,t,a,l,o,d,g,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Kt(a):"",t=t!=null?""+Kt(t):a,S||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Ic(e,t,a){t==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Cs(e,t,a,l){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Kt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Vd(e,t,a){if(t!=null&&(t=""+Kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Kt(a):""}function $d(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(i(92));if(H(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Kt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Rs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var zy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xd(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||zy.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Gd(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&a[o]!==l&&Xd(e,o,l)}else for(var d in t)t.hasOwnProperty(d)&&Xd(e,d,t[d])}function Yc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(e){return Uy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fc=null;function Qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,_s=null;function Zd(e){var t=ws(e);if(t&&(e=t.stateNode)){var a=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Hc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var o=l[zt]||null;if(!o)throw Error(i(90));Hc(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Fd(l)}break e;case"textarea":Vd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Cs(e,!!a.multiple,t,!1)}}}var Vc=!1;function Kd(e,t,a){if(Vc)return e(t,a);Vc=!0;try{var l=e(t);return l}finally{if(Vc=!1,(Ds!==null||_s!==null)&&(ki(),Ds&&(t=Ds,e=_s,_s=Ds=null,Zd(t),e)))for(t=0;t<e.length;t++)Zd(e[t])}}function Dl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var $c=!1;if(za)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){$c=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{$c=!1}var cn=null,Xc=null,ti=null;function Jd(){if(ti)return ti;var e,t=Xc,a=t.length,l,o="value"in cn?cn.value:cn.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var g=a-e;for(l=1;l<=g&&t[a-l]===o[d-l];l++);return ti=o.slice(e,1<l?1-l:void 0)}function ai(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Pd(){return!1}function Lt(e){function t(a,l,o,d,g){this._reactName=a,this._targetInst=o,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Pd,this.isPropagationStopped=Pd,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=Lt(Xn),Ml=q({},Xn,{view:0,detail:0}),ky=Lt(Ml),Gc,Zc,zl,li=q({},Ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zl&&(zl&&e.type==="mousemove"?(Gc=e.screenX-zl.screenX,Zc=e.screenY-zl.screenY):Zc=Gc=0,zl=e),Gc)},movementY:function(e){return"movementY"in e?e.movementY:Zc}}),Wd=Lt(li),By=q({},li,{dataTransfer:0}),qy=Lt(By),Hy=q({},Ml,{relatedTarget:0}),Kc=Lt(Hy),Iy=q({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yy=Lt(Iy),Fy=q({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qy=Lt(Fy),Vy=q({},Xn,{data:0}),ef=Lt(Vy),$y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gy[e])?!!t[e]:!1}function Jc(){return Zy}var Ky=q({},Ml,{key:function(e){if(e.key){var t=$y[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ai(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(e){return e.type==="keypress"?ai(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ai(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jy=Lt(Ky),Py=q({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=Lt(Py),Wy=q({},Ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),ev=Lt(Wy),tv=q({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),av=Lt(tv),nv=q({},li,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=Lt(nv),lv=q({},Xn,{newState:0,oldState:0}),rv=Lt(lv),iv=[9,13,27,32],Pc=za&&"CompositionEvent"in window,Ll=null;za&&"documentMode"in document&&(Ll=document.documentMode);var cv=za&&"TextEvent"in window&&!Ll,af=za&&(!Pc||Ll&&8<Ll&&11>=Ll),nf=" ",sf=!1;function lf(e,t){switch(e){case"keyup":return iv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function ov(e,t){switch(e){case"compositionend":return rf(t);case"keypress":return t.which!==32?null:(sf=!0,nf);case"textInput":return e=t.data,e===nf&&sf?null:e;default:return null}}function uv(e,t){if(Ms)return e==="compositionend"||!Pc&&lf(e,t)?(e=Jd(),ti=Xc=cn=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return af&&t.locale!=="ko"?null:t.data;default:return null}}var dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dv[e.type]:t==="textarea"}function of(e,t,a,l){Ds?_s?_s.push(l):_s=[l]:Ds=l,t=Yi(t,"onChange"),0<t.length&&(a=new si("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Ul=null,kl=null;function fv(e){Lm(e,0)}function ri(e){var t=Rl(e);if(Fd(t))return e}function uf(e,t){if(e==="change")return t}var df=!1;if(za){var Wc;if(za){var eo="oninput"in document;if(!eo){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),eo=typeof ff.oninput=="function"}Wc=eo}else Wc=!1;df=Wc&&(!document.documentMode||9<document.documentMode)}function hf(){Ul&&(Ul.detachEvent("onpropertychange",mf),kl=Ul=null)}function mf(e){if(e.propertyName==="value"&&ri(kl)){var t=[];of(t,kl,e,Qc(e)),Kd(fv,t)}}function hv(e,t,a){e==="focusin"?(hf(),Ul=t,kl=a,Ul.attachEvent("onpropertychange",mf)):e==="focusout"&&hf()}function mv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ri(kl)}function pv(e,t){if(e==="click")return ri(t)}function gv(e,t){if(e==="input"||e==="change")return ri(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:yv;function Bl(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var o=a[l];if(!ke.call(t,o)||!Yt(e[o],t[o]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gf(e,t){var a=pf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pf(a)}}function yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Wr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Wr(e.document)}return t}function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vv(e,t){var a=vf(t);t=e.focusedElem;var l=e.selectionRange;if(a!==t&&t&&t.ownerDocument&&yf(t.ownerDocument.documentElement,t)){if(l!==null&&to(t)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(a,t.value.length);else if(a=(e=t.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var o=t.textContent.length,d=Math.min(l.start,o);l=l.end===void 0?d:Math.min(l.end,o),!a.extend&&d>l&&(o=l,l=d,d=o),o=gf(t,d);var g=gf(t,l);o&&g&&(a.rangeCount!==1||a.anchorNode!==o.node||a.anchorOffset!==o.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(g.node,g.offset)):(e.setEnd(g.node,g.offset),a.addRange(e)))}}for(e=[],a=t;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)a=e[t],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var xv=za&&"documentMode"in document&&11>=document.documentMode,zs=null,ao=null,ql=null,no=!1;function xf(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;no||zs==null||zs!==Wr(l)||(l=zs,"selectionStart"in l&&to(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ql&&Bl(ql,l)||(ql=l,l=Yi(ao,"onSelect"),0<l.length&&(t=new si("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=zs)))}function Gn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ls={animationend:Gn("Animation","AnimationEnd"),animationiteration:Gn("Animation","AnimationIteration"),animationstart:Gn("Animation","AnimationStart"),transitionrun:Gn("Transition","TransitionRun"),transitionstart:Gn("Transition","TransitionStart"),transitioncancel:Gn("Transition","TransitionCancel"),transitionend:Gn("Transition","TransitionEnd")},so={},bf={};za&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function Zn(e){if(so[e])return so[e];if(!Ls[e])return e;var t=Ls[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in bf)return so[e]=t[a];return e}var jf=Zn("animationend"),Sf=Zn("animationiteration"),Nf=Zn("animationstart"),bv=Zn("transitionrun"),jv=Zn("transitionstart"),Sv=Zn("transitioncancel"),Ef=Zn("transitionend"),Tf=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ma(e,t){Tf.set(e,t),$n(t,[e])}var Pt=[],Us=0,lo=0;function ii(){for(var e=Us,t=lo=Us=0;t<e;){var a=Pt[t];Pt[t++]=null;var l=Pt[t];Pt[t++]=null;var o=Pt[t];Pt[t++]=null;var d=Pt[t];if(Pt[t++]=null,l!==null&&o!==null){var g=l.pending;g===null?o.next=o:(o.next=g.next,g.next=o),l.pending=o}d!==0&&Af(a,o,d)}}function ci(e,t,a,l){Pt[Us++]=e,Pt[Us++]=t,Pt[Us++]=a,Pt[Us++]=l,lo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ro(e,t,a,l){return ci(e,t,a,l),oi(e)}function on(e,t){return ci(e,null,null,t),oi(e)}function Af(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;o&&t!==null&&e.tag===3&&(d=e.stateNode,o=31-It(a),d=d.hiddenUpdates,e=d[o],e===null?d[o]=[t]:e.push(t),t.lane=a|536870912)}function oi(e){if(50<ur)throw ur=0,hu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ks={},Of=new WeakMap;function Wt(e,t){if(typeof e=="object"&&e!==null){var a=Of.get(e);return a!==void 0?a:(t={value:e,source:t,stack:se(t)},Of.set(e,t),t)}return{value:e,source:t,stack:se(t)}}var Bs=[],qs=0,ui=null,di=0,ea=[],ta=0,Kn=null,Ua=1,ka="";function Jn(e,t){Bs[qs++]=di,Bs[qs++]=ui,ui=e,di=t}function Cf(e,t,a){ea[ta++]=Ua,ea[ta++]=ka,ea[ta++]=Kn,Kn=e;var l=Ua;e=ka;var o=32-It(l)-1;l&=~(1<<o),a+=1;var d=32-It(t)+o;if(30<d){var g=o-o%5;d=(l&(1<<g)-1).toString(32),l>>=g,o-=g,Ua=1<<32-It(t)+o|a<<o|l,ka=d+e}else Ua=1<<d|a<<o|l,ka=e}function io(e){e.return!==null&&(Jn(e,1),Cf(e,1,0))}function co(e){for(;e===ui;)ui=Bs[--qs],Bs[qs]=null,di=Bs[--qs],Bs[qs]=null;for(;e===Kn;)Kn=ea[--ta],ea[ta]=null,ka=ea[--ta],ea[ta]=null,Ua=ea[--ta],ea[ta]=null}var Ct=null,xt=null,Be=!1,pa=null,Ta=!1,oo=Error(i(519));function Pn(e){var t=Error(i(418,""));throw Yl(Wt(t,e)),oo}function Rf(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Nt]=e,t[zt]=l,a){case"dialog":Me("cancel",t),Me("close",t);break;case"iframe":case"object":case"embed":Me("load",t);break;case"video":case"audio":for(a=0;a<fr.length;a++)Me(fr[a],t);break;case"source":Me("error",t);break;case"img":case"image":case"link":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"input":Me("invalid",t),Qd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Pr(t);break;case"select":Me("invalid",t);break;case"textarea":Me("invalid",t),$d(t,l.value,l.defaultValue,l.children),Pr(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||qm(t.textContent,a)?(l.popover!=null&&(Me("beforetoggle",t),Me("toggle",t)),l.onScroll!=null&&Me("scroll",t),l.onScrollEnd!=null&&Me("scrollend",t),l.onClick!=null&&(t.onclick=Fi),t=!0):t=!1,t||Pn(e)}function Df(e){for(Ct=e.return;Ct;)switch(Ct.tag){case 3:case 27:Ta=!0;return;case 5:case 13:Ta=!1;return;default:Ct=Ct.return}}function Hl(e){if(e!==Ct)return!1;if(!Be)return Df(e),Be=!0,!1;var t=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ru(e.type,e.memoizedProps)),a=!a),a&&(t=!0),t&&xt&&Pn(e),Df(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){xt=ya(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}xt=null}}else xt=Ct?ya(e.stateNode.nextSibling):null;return!0}function Il(){xt=Ct=null,Be=!1}function Yl(e){pa===null?pa=[e]:pa.push(e)}var Fl=Error(i(460)),_f=Error(i(474)),uo={then:function(){}};function Mf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fi(){}function zf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(fi,fi),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Fl?Error(i(483)):e;default:if(typeof t.status=="string")t.then(fi,fi);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Fl?Error(i(483)):e}throw Ql=t,Fl}}var Ql=null;function Lf(){if(Ql===null)throw Error(i(459));var e=Ql;return Ql=null,e}var Hs=null,Vl=0;function hi(e){var t=Vl;return Vl+=1,Hs===null&&(Hs=[]),zf(Hs,e,t)}function $l(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mi(e,t){throw t.$$typeof===f?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uf(e){var t=e._init;return t(e._payload)}function kf(e){function t(L,_){if(e){var B=L.deletions;B===null?(L.deletions=[_],L.flags|=16):B.push(_)}}function a(L,_){if(!e)return null;for(;_!==null;)t(L,_),_=_.sibling;return null}function l(L){for(var _=new Map;L!==null;)L.key!==null?_.set(L.key,L):_.set(L.index,L),L=L.sibling;return _}function o(L,_){return L=jn(L,_),L.index=0,L.sibling=null,L}function d(L,_,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<_?(L.flags|=33554434,_):B):(L.flags|=33554434,_)):(L.flags|=1048576,_)}function g(L){return e&&L.alternate===null&&(L.flags|=33554434),L}function S(L,_,B,ee){return _===null||_.tag!==6?(_=lu(B,L.mode,ee),_.return=L,_):(_=o(_,B),_.return=L,_)}function w(L,_,B,ee){var me=B.type;return me===y?K(L,_,B.props.children,ee,B.key):_!==null&&(_.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Uf(me)===_.type)?(_=o(_,B.props),$l(_,B),_.return=L,_):(_=_i(B.type,B.key,B.props,null,L.mode,ee),$l(_,B),_.return=L,_)}function z(L,_,B,ee){return _===null||_.tag!==4||_.stateNode.containerInfo!==B.containerInfo||_.stateNode.implementation!==B.implementation?(_=ru(B,L.mode,ee),_.return=L,_):(_=o(_,B.children||[]),_.return=L,_)}function K(L,_,B,ee,me){return _===null||_.tag!==7?(_=cs(B,L.mode,ee,me),_.return=L,_):(_=o(_,B),_.return=L,_)}function ne(L,_,B){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=lu(""+_,L.mode,B),_.return=L,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case h:return B=_i(_.type,_.key,_.props,null,L.mode,B),$l(B,_),B.return=L,B;case p:return _=ru(_,L.mode,B),_.return=L,_;case R:var ee=_._init;return _=ee(_._payload),ne(L,_,B)}if(H(_)||F(_))return _=cs(_,L.mode,B,null),_.return=L,_;if(typeof _.then=="function")return ne(L,hi(_),B);if(_.$$typeof===A)return ne(L,Ci(L,_),B);mi(L,_)}return null}function Y(L,_,B,ee){var me=_!==null?_.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:S(L,_,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===me?w(L,_,B,ee):null;case p:return B.key===me?z(L,_,B,ee):null;case R:return me=B._init,B=me(B._payload),Y(L,_,B,ee)}if(H(B)||F(B))return me!==null?null:K(L,_,B,ee,null);if(typeof B.then=="function")return Y(L,_,hi(B),ee);if(B.$$typeof===A)return Y(L,_,Ci(L,B),ee);mi(L,B)}return null}function Z(L,_,B,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return L=L.get(B)||null,S(_,L,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case h:return L=L.get(ee.key===null?B:ee.key)||null,w(_,L,ee,me);case p:return L=L.get(ee.key===null?B:ee.key)||null,z(_,L,ee,me);case R:var Oe=ee._init;return ee=Oe(ee._payload),Z(L,_,B,ee,me)}if(H(ee)||F(ee))return L=L.get(B)||null,K(_,L,ee,me,null);if(typeof ee.then=="function")return Z(L,_,B,hi(ee),me);if(ee.$$typeof===A)return Z(L,_,B,Ci(_,ee),me);mi(_,ee)}return null}function ye(L,_,B,ee){for(var me=null,Oe=null,ve=_,be=_=0,vt=null;ve!==null&&be<B.length;be++){ve.index>be?(vt=ve,ve=null):vt=ve.sibling;var qe=Y(L,ve,B[be],ee);if(qe===null){ve===null&&(ve=vt);break}e&&ve&&qe.alternate===null&&t(L,ve),_=d(qe,_,be),Oe===null?me=qe:Oe.sibling=qe,Oe=qe,ve=vt}if(be===B.length)return a(L,ve),Be&&Jn(L,be),me;if(ve===null){for(;be<B.length;be++)ve=ne(L,B[be],ee),ve!==null&&(_=d(ve,_,be),Oe===null?me=ve:Oe.sibling=ve,Oe=ve);return Be&&Jn(L,be),me}for(ve=l(ve);be<B.length;be++)vt=Z(ve,L,be,B[be],ee),vt!==null&&(e&&vt.alternate!==null&&ve.delete(vt.key===null?be:vt.key),_=d(vt,_,be),Oe===null?me=vt:Oe.sibling=vt,Oe=vt);return e&&ve.forEach(function(On){return t(L,On)}),Be&&Jn(L,be),me}function Ne(L,_,B,ee){if(B==null)throw Error(i(151));for(var me=null,Oe=null,ve=_,be=_=0,vt=null,qe=B.next();ve!==null&&!qe.done;be++,qe=B.next()){ve.index>be?(vt=ve,ve=null):vt=ve.sibling;var On=Y(L,ve,qe.value,ee);if(On===null){ve===null&&(ve=vt);break}e&&ve&&On.alternate===null&&t(L,ve),_=d(On,_,be),Oe===null?me=On:Oe.sibling=On,Oe=On,ve=vt}if(qe.done)return a(L,ve),Be&&Jn(L,be),me;if(ve===null){for(;!qe.done;be++,qe=B.next())qe=ne(L,qe.value,ee),qe!==null&&(_=d(qe,_,be),Oe===null?me=qe:Oe.sibling=qe,Oe=qe);return Be&&Jn(L,be),me}for(ve=l(ve);!qe.done;be++,qe=B.next())qe=Z(ve,L,be,qe.value,ee),qe!==null&&(e&&qe.alternate!==null&&ve.delete(qe.key===null?be:qe.key),_=d(qe,_,be),Oe===null?me=qe:Oe.sibling=qe,Oe=qe);return e&&ve.forEach(function(U0){return t(L,U0)}),Be&&Jn(L,be),me}function tt(L,_,B,ee){if(typeof B=="object"&&B!==null&&B.type===y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case h:e:{for(var me=B.key;_!==null;){if(_.key===me){if(me=B.type,me===y){if(_.tag===7){a(L,_.sibling),ee=o(_,B.props.children),ee.return=L,L=ee;break e}}else if(_.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Uf(me)===_.type){a(L,_.sibling),ee=o(_,B.props),$l(ee,B),ee.return=L,L=ee;break e}a(L,_);break}else t(L,_);_=_.sibling}B.type===y?(ee=cs(B.props.children,L.mode,ee,B.key),ee.return=L,L=ee):(ee=_i(B.type,B.key,B.props,null,L.mode,ee),$l(ee,B),ee.return=L,L=ee)}return g(L);case p:e:{for(me=B.key;_!==null;){if(_.key===me)if(_.tag===4&&_.stateNode.containerInfo===B.containerInfo&&_.stateNode.implementation===B.implementation){a(L,_.sibling),ee=o(_,B.children||[]),ee.return=L,L=ee;break e}else{a(L,_);break}else t(L,_);_=_.sibling}ee=ru(B,L.mode,ee),ee.return=L,L=ee}return g(L);case R:return me=B._init,B=me(B._payload),tt(L,_,B,ee)}if(H(B))return ye(L,_,B,ee);if(F(B)){if(me=F(B),typeof me!="function")throw Error(i(150));return B=me.call(B),Ne(L,_,B,ee)}if(typeof B.then=="function")return tt(L,_,hi(B),ee);if(B.$$typeof===A)return tt(L,_,Ci(L,B),ee);mi(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,_!==null&&_.tag===6?(a(L,_.sibling),ee=o(_,B),ee.return=L,L=ee):(a(L,_),ee=lu(B,L.mode,ee),ee.return=L,L=ee),g(L)):a(L,_)}return function(L,_,B,ee){try{Vl=0;var me=tt(L,_,B,ee);return Hs=null,me}catch(ve){if(ve===Fl)throw ve;var Oe=la(29,ve,null,L.mode);return Oe.lanes=ee,Oe.return=L,Oe}finally{}}}var Wn=kf(!0),Bf=kf(!1),Is=pe(null),pi=pe(0);function qf(e,t){e=Ga,fe(pi,e),fe(Is,t),Ga=e|t.baseLanes}function fo(){fe(pi,Ga),fe(Is,Is.current)}function ho(){Ga=pi.current,xe(Is),xe(pi)}var aa=pe(null),wa=null;function un(e){var t=e.alternate;fe(ft,ft.current&1),fe(aa,e),wa===null&&(t===null||Is.current!==null||t.memoizedState!==null)&&(wa=e)}function Hf(e){if(e.tag===22){if(fe(ft,ft.current),fe(aa,e),wa===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(wa=e)}}else dn()}function dn(){fe(ft,ft.current),fe(aa,aa.current)}function Ba(e){xe(aa),wa===e&&(wa=null),xe(ft)}var ft=pe(0);function gi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ev=n.unstable_scheduleCallback,Tv=n.unstable_NormalPriority,ht={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mo(){return{controller:new Nv,data:new Map,refCount:0}}function Xl(e){e.refCount--,e.refCount===0&&Ev(Tv,function(){e.controller.abort()})}var Gl=null,po=0,Ys=0,Fs=null;function wv(e,t){if(Gl===null){var a=Gl=[];po=0,Ys=ju(),Fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return po++,t.then(If,If),t}function If(){if(--po===0&&Gl!==null){Fs!==null&&(Fs.status="fulfilled");var e=Gl;Gl=null,Ys=0,Fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Av(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),l}var Yf=J.S;J.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&wv(e,t),Yf!==null&&Yf(e,t)};var es=pe(null);function go(){var e=es.current;return e!==null?e:$e.pooledCache}function yi(e,t){t===null?fe(es,es.current):fe(es,t.pool)}function Ff(){var e=go();return e===null?null:{parent:ht._currentValue,pool:e}}var fn=0,Ae=null,Ye=null,ct=null,vi=!1,Qs=!1,ts=!1,xi=0,Zl=0,Vs=null,Ov=0;function st(){throw Error(i(321))}function yo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Yt(e[a],t[a]))return!1;return!0}function vo(e,t,a,l,o,d){return fn=d,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,J.H=e===null||e.memoizedState===null?as:hn,ts=!1,d=a(l,o),ts=!1,Qs&&(d=Vf(t,a,l,o)),Qf(e),d}function Qf(e){J.H=Aa;var t=Ye!==null&&Ye.next!==null;if(fn=0,ct=Ye=Ae=null,vi=!1,Zl=0,Vs=null,t)throw Error(i(300));e===null||gt||(e=e.dependencies,e!==null&&Oi(e)&&(gt=!0))}function Vf(e,t,a,l){Ae=e;var o=0;do{if(Qs&&(Vs=null),Zl=0,Qs=!1,25<=o)throw Error(i(301));if(o+=1,ct=Ye=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=ns,d=t(a,l)}while(Qs);return d}function Cv(){var e=J.H,t=e.useState()[0];return t=typeof t.then=="function"?Kl(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Ae.flags|=1024),t}function xo(){var e=xi!==0;return xi=0,e}function bo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function jo(e){if(vi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vi=!1}fn=0,ct=Ye=Ae=null,Qs=!1,Zl=xi=0,Vs=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ae.memoizedState=ct=e:ct=ct.next=e,ct}function ot(){if(Ye===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=ct===null?Ae.memoizedState:ct.next;if(t!==null)ct=t,Ye=e;else{if(e===null)throw Ae.alternate===null?Error(i(467)):Error(i(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},ct===null?Ae.memoizedState=ct=e:ct=ct.next=e}return ct}var bi;bi=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Kl(e){var t=Zl;return Zl+=1,Vs===null&&(Vs=[]),e=zf(Vs,e,t),t=Ae,(ct===null?t.memoizedState:ct.next)===null&&(t=t.alternate,J.H=t===null||t.memoizedState===null?as:hn),e}function ji(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===A)return Et(e)}throw Error(i(438,String(e)))}function So(e){var t=null,a=Ae.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=bi(),Ae.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=U;return t.index++,a}function qa(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=ot();return No(t,Ye,e)}function No(e,t,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var o=e.baseQueue,d=l.pending;if(d!==null){if(o!==null){var g=o.next;o.next=d.next,d.next=g}t.baseQueue=o=d,l.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var S=g=null,w=null,z=t,K=!1;do{var ne=z.lane&-536870913;if(ne!==z.lane?(Le&ne)===ne:(fn&ne)===ne){var Y=z.revertLane;if(Y===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ne===Ys&&(K=!0);else if((fn&Y)===Y){z=z.next,Y===Ys&&(K=!0);continue}else ne={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(S=w=ne,g=d):w=w.next=ne,Ae.lanes|=Y,Sn|=Y;ne=z.action,ts&&a(d,ne),d=z.hasEagerState?z.eagerState:a(d,ne)}else Y={lane:ne,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(S=w=Y,g=d):w=w.next=Y,Ae.lanes|=ne,Sn|=ne;z=z.next}while(z!==null&&z!==t);if(w===null?g=d:w.next=S,!Yt(d,e.memoizedState)&&(gt=!0,K&&(a=Fs,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=w,l.lastRenderedState=d}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Eo(e){var t=ot(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var g=o=o.next;do d=e(d,g.action),g=g.next;while(g!==o);Yt(d,t.memoizedState)||(gt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,l]}function $f(e,t,a){var l=Ae,o=ot(),d=Be;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=t();var g=!Yt((Ye||o).memoizedState,a);if(g&&(o.memoizedState=a,gt=!0),o=o.queue,Ao(Zf.bind(null,l,o,e),[e]),o.getSnapshot!==t||g||ct!==null&&ct.memoizedState.tag&1){if(l.flags|=2048,$s(9,Gf.bind(null,l,o,a,t),{destroy:void 0},null),$e===null)throw Error(i(349));d||(fn&60)!==0||Xf(l,t,a)}return a}function Xf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ae.updateQueue,t===null?(t=bi(),Ae.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Gf(e,t,a,l){t.value=a,t.getSnapshot=l,Kf(t)&&Jf(e)}function Zf(e,t,a){return a(function(){Kf(t)&&Jf(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Yt(e,a)}catch{return!0}}function Jf(e){var t=on(e,2);t!==null&&Rt(t,e,2)}function To(e){var t=Ut();if(typeof e=="function"){var a=e;if(e=a(),ts){ln(!0);try{a()}finally{ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function Pf(e,t,a,l){return e.baseState=a,No(e,Ye,typeof l=="function"?l:qa)}function Rv(e,t,a,l,o){if(Ti(e))throw Error(i(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};J.T!==null?a(!0):d.isTransition=!1,l(d),a=t.pending,a===null?(d.next=t.pending=d,Wf(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Wf(e,t){var a=t.action,l=t.payload,o=e.state;if(t.isTransition){var d=J.T,g={};J.T=g;try{var S=a(o,l),w=J.S;w!==null&&w(g,S),eh(e,t,S)}catch(z){wo(e,t,z)}finally{J.T=d}}else try{d=a(o,l),eh(e,t,d)}catch(z){wo(e,t,z)}}function eh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){th(e,t,l)},function(l){return wo(e,t,l)}):th(e,t,a)}function th(e,t,a){t.status="fulfilled",t.value=a,ah(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Wf(e,a)))}function wo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,ah(t),t=t.next;while(t!==l)}e.action=null}function ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function nh(e,t){return t}function sh(e,t){if(Be){var a=$e.formState;if(a!==null){e:{var l=Ae;if(Be){if(xt){t:{for(var o=xt,d=Ta;o.nodeType!==8;){if(!d){o=null;break t}if(o=ya(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){xt=ya(o.nextSibling),l=o.data==="F!";break e}}Pn(l)}l=!1}l&&(t=a[0])}}return a=Ut(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nh,lastRenderedState:t},a.queue=l,a=Sh.bind(null,Ae,l),l.dispatch=a,l=To(!1),d=_o.bind(null,Ae,!1,l.queue),l=Ut(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,a=Rv.bind(null,Ae,o,d,a),o.dispatch=a,l.memoizedState=e,[t,a,!1]}function lh(e){var t=ot();return rh(t,Ye,e)}function rh(e,t,a){t=No(e,t,nh)[0],e=Si(qa)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Kl(t):t;var l=ot(),o=l.queue,d=o.dispatch;return a!==l.memoizedState&&(Ae.flags|=2048,$s(9,Dv.bind(null,o,a),{destroy:void 0},null)),[t,d,e]}function Dv(e,t){e.action=t}function ih(e){var t=ot(),a=Ye;if(a!==null)return rh(t,a,e);ot(),t=t.memoizedState,a=ot();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function $s(e,t,a,l){return e={tag:e,create:t,inst:a,deps:l,next:null},t=Ae.updateQueue,t===null&&(t=bi(),Ae.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function ch(){return ot().memoizedState}function Ni(e,t,a,l){var o=Ut();Ae.flags|=e,o.memoizedState=$s(1|t,a,{destroy:void 0},l===void 0?null:l)}function Ei(e,t,a,l){var o=ot();l=l===void 0?null:l;var d=o.memoizedState.inst;Ye!==null&&l!==null&&yo(l,Ye.memoizedState.deps)?o.memoizedState=$s(t,a,d,l):(Ae.flags|=e,o.memoizedState=$s(1|t,a,d,l))}function oh(e,t){Ni(8390656,8,e,t)}function Ao(e,t){Ei(2048,8,e,t)}function uh(e,t){return Ei(4,2,e,t)}function dh(e,t){return Ei(4,4,e,t)}function fh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hh(e,t,a){a=a!=null?a.concat([e]):null,Ei(4,4,fh.bind(null,t,e),a)}function Oo(){}function mh(e,t){var a=ot();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&yo(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function ph(e,t){var a=ot();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&yo(t,l[1]))return l[0];if(l=e(),ts){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,t],l}function Co(e,t,a){return a===void 0||(fn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=ym(),Ae.lanes|=e,Sn|=e,a)}function gh(e,t,a,l){return Yt(a,t)?a:Is.current!==null?(e=Co(e,a,l),Yt(e,t)||(gt=!0),e):(fn&42)===0?(gt=!0,e.memoizedState=a):(e=ym(),Ae.lanes|=e,Sn|=e,t)}function yh(e,t,a,l,o){var d=V.p;V.p=d!==0&&8>d?d:8;var g=J.T,S={};J.T=S,_o(e,!1,t,a);try{var w=o(),z=J.S;if(z!==null&&z(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=Av(w,l);Jl(e,t,K,$t(e))}else Jl(e,t,l,$t(e))}catch(ne){Jl(e,t,{then:function(){},status:"rejected",reason:ne},$t())}finally{V.p=d,J.T=g}}function _v(){}function Ro(e,t,a,l){if(e.tag!==5)throw Error(i(476));var o=vh(e).queue;yh(e,o,t,re,a===null?_v:function(){return xh(e),a(l)})}function vh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:re},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xh(e){var t=vh(e).next.queue;Jl(e,t,{},$t())}function Do(){return Et(yr)}function bh(){return ot().memoizedState}function jh(){return ot().memoizedState}function Mv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=$t();e=gn(a);var l=yn(t,e,a);l!==null&&(Rt(l,t,a),er(l,t,a)),t={cache:mo()},e.payload=t;return}t=t.return}}function zv(e,t,a){var l=$t();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ti(e)?Nh(t,a):(a=ro(e,t,a,l),a!==null&&(Rt(a,e,l),Eh(a,t,l)))}function Sh(e,t,a){var l=$t();Jl(e,t,a,l)}function Jl(e,t,a,l){var o={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ti(e))Nh(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,S=d(g,a);if(o.hasEagerState=!0,o.eagerState=S,Yt(S,g))return ci(e,t,o,0),$e===null&&ii(),!1}catch{}finally{}if(a=ro(e,t,o,l),a!==null)return Rt(a,e,l),Eh(a,t,l),!0}return!1}function _o(e,t,a,l){if(l={lane:2,revertLane:ju(),action:l,hasEagerState:!1,eagerState:null,next:null},Ti(e)){if(t)throw Error(i(479))}else t=ro(e,a,l,2),t!==null&&Rt(t,e,2)}function Ti(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Nh(e,t){Qs=vi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Eh(e,t,a){if((a&4194176)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,zd(e,a)}}var Aa={readContext:Et,use:ji,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st};Aa.useCacheRefresh=st,Aa.useMemoCache=st,Aa.useHostTransitionStatus=st,Aa.useFormState=st,Aa.useActionState=st,Aa.useOptimistic=st;var as={readContext:Et,use:ji,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:oh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ni(4194308,4,fh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){Ni(4,2,e,t)},useMemo:function(e,t){var a=Ut();t=t===void 0?null:t;var l=e();if(ts){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Ut();if(a!==void 0){var o=a(t);if(ts){ln(!0);try{a(t)}finally{ln(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=zv.bind(null,Ae,e),[l.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=To(e);var t=e.queue,a=Sh.bind(null,Ae,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Ut();return Co(a,e,t)},useTransition:function(){var e=To(!1);return e=yh.bind(null,Ae,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ae,o=Ut();if(Be){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),$e===null)throw Error(i(349));(Le&60)!==0||Xf(l,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,oh(Zf.bind(null,l,d,e),[e]),l.flags|=2048,$s(9,Gf.bind(null,l,d,a,t),{destroy:void 0},null),a},useId:function(){var e=Ut(),t=$e.identifierPrefix;if(Be){var a=ka,l=Ua;a=(l&~(1<<32-It(l)-1)).toString(32)+a,t=":"+t+"R"+a,a=xi++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Ov++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Ut().memoizedState=Mv.bind(null,Ae)}};as.useMemoCache=So,as.useHostTransitionStatus=Do,as.useFormState=sh,as.useActionState=sh,as.useOptimistic=function(e){var t=Ut();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=_o.bind(null,Ae,!0,a),a.dispatch=t,[e,t]};var hn={readContext:Et,use:ji,useCallback:mh,useContext:Et,useEffect:Ao,useImperativeHandle:hh,useInsertionEffect:uh,useLayoutEffect:dh,useMemo:ph,useReducer:Si,useRef:ch,useState:function(){return Si(qa)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=ot();return gh(a,Ye.memoizedState,e,t)},useTransition:function(){var e=Si(qa)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:$f,useId:bh};hn.useCacheRefresh=jh,hn.useMemoCache=So,hn.useHostTransitionStatus=Do,hn.useFormState=lh,hn.useActionState=lh,hn.useOptimistic=function(e,t){var a=ot();return Pf(a,Ye,e,t)};var ns={readContext:Et,use:ji,useCallback:mh,useContext:Et,useEffect:Ao,useImperativeHandle:hh,useInsertionEffect:uh,useLayoutEffect:dh,useMemo:ph,useReducer:Eo,useRef:ch,useState:function(){return Eo(qa)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=ot();return Ye===null?Co(a,e,t):gh(a,Ye.memoizedState,e,t)},useTransition:function(){var e=Eo(qa)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:$f,useId:bh};ns.useCacheRefresh=jh,ns.useMemoCache=So,ns.useHostTransitionStatus=Do,ns.useFormState=ih,ns.useActionState=ih,ns.useOptimistic=function(e,t){var a=ot();return Ye!==null?Pf(a,Ye,e,t):(a.baseState=e,[e,a.queue.dispatch])};function Mo(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:q({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zo={isMounted:function(e){return(e=e._reactInternals)?ae(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var l=$t(),o=gn(l);o.payload=t,a!=null&&(o.callback=a),t=yn(e,o,l),t!==null&&(Rt(t,e,l),er(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=$t(),o=gn(l);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=yn(e,o,l),t!==null&&(Rt(t,e,l),er(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=$t(),l=gn(a);l.tag=2,t!=null&&(l.callback=t),t=yn(e,l,a),t!==null&&(Rt(t,e,a),er(t,e,a))}};function Th(e,t,a,l,o,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,g):t.prototype&&t.prototype.isPureReactComponent?!Bl(a,l)||!Bl(o,d):!0}function wh(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function ss(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=q({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var wi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ah(e){wi(e)}function Oh(e){console.error(e)}function Ch(e){wi(e)}function Ai(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rh(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Lo(e,t,a){return a=gn(a),a.tag=3,a.payload={element:null},a.callback=function(){Ai(e,t)},a}function Dh(e){return e=gn(e),e.tag=3,e}function _h(e,t,a,l){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=l.value;e.payload=function(){return o(d)},e.callback=function(){Rh(t,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Rh(t,a,l),typeof o!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Lv(e,t,a,l,o){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Wl(t,a,o,!0),a=aa.current,a!==null){switch(a.tag){case 13:return wa===null?gu():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=o,l===uo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),vu(e,l,o)),!1;case 22:return a.flags|=65536,l===uo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),vu(e,l,o)),!1}throw Error(i(435,a.tag))}return vu(e,l,o),gu(),!1}if(Be)return t=aa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==oo&&(e=Error(i(422),{cause:l}),Yl(Wt(e,a)))):(l!==oo&&(t=Error(i(423),{cause:l}),Yl(Wt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=Wt(l,a),o=Lo(e.stateNode,l,o),Ko(e,o),et!==4&&(et=2)),!1;var d=Error(i(520),{cause:l});if(d=Wt(d,a),cr===null?cr=[d]:cr.push(d),et!==4&&(et=2),t===null)return!0;l=Wt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Lo(a.stateNode,l,e),Ko(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nn===null||!Nn.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Dh(o),_h(o,e,a,l),Ko(a,o),!1}a=a.return}while(a!==null);return!1}var Mh=Error(i(461)),gt=!1;function bt(e,t,a,l){t.child=e===null?Bf(t,null,a,l):Wn(t,e.child,a,l)}function zh(e,t,a,l,o){a=a.render;var d=t.ref;if("ref"in l){var g={};for(var S in l)S!=="ref"&&(g[S]=l[S])}else g=l;return rs(t),l=vo(e,t,a,g,d,o),S=xo(),e!==null&&!gt?(bo(e,t,o),Ha(e,t,o)):(Be&&S&&io(t),t.flags|=1,bt(e,t,l,o),t.child)}function Lh(e,t,a,l,o){if(e===null){var d=a.type;return typeof d=="function"&&!su(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Uh(e,t,d,l,o)):(e=_i(a.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Qo(e,o)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Bl,a(g,l)&&e.ref===t.ref)return Ha(e,t,o)}return t.flags|=1,e=jn(d,l),e.ref=t.ref,e.return=t,t.child=e}function Uh(e,t,a,l,o){if(e!==null){var d=e.memoizedProps;if(Bl(d,l)&&e.ref===t.ref)if(gt=!1,t.pendingProps=l=d,Qo(e,o))(e.flags&131072)!==0&&(gt=!0);else return t.lanes=e.lanes,Ha(e,t,o)}return Uo(e,t,a,l,o)}function kh(e,t,a){var l=t.pendingProps,o=l.children,d=(t.stateNode._pendingVisibility&2)!==0,g=e!==null?e.memoizedState:null;if(Pl(e,t),l.mode==="hidden"||d){if((t.flags&128)!==0){if(l=g!==null?g.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~l}else t.childLanes=0,t.child=null;return Bh(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yi(t,g!==null?g.cachePool:null),g!==null?qf(t,g):fo(),Hf(t);else return t.lanes=t.childLanes=536870912,Bh(e,t,g!==null?g.baseLanes|a:a,a)}else g!==null?(yi(t,g.cachePool),qf(t,g),dn(),t.memoizedState=null):(e!==null&&yi(t,null),fo(),dn());return bt(e,t,o,a),t.child}function Bh(e,t,a,l){var o=go();return o=o===null?null:{parent:ht._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&yi(t,null),fo(),Hf(t),e!==null&&Wl(e,t,l,!0),null}function Pl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=2097664)}}function Uo(e,t,a,l,o){return rs(t),a=vo(e,t,a,l,void 0,o),l=xo(),e!==null&&!gt?(bo(e,t,o),Ha(e,t,o)):(Be&&l&&io(t),t.flags|=1,bt(e,t,a,o),t.child)}function qh(e,t,a,l,o,d){return rs(t),t.updateQueue=null,a=Vf(t,l,a,o),Qf(e),l=xo(),e!==null&&!gt?(bo(e,t,d),Ha(e,t,d)):(Be&&l&&io(t),t.flags|=1,bt(e,t,a,d),t.child)}function Hh(e,t,a,l,o){if(rs(t),t.stateNode===null){var d=ks,g=a.contextType;typeof g=="object"&&g!==null&&(d=Et(g)),d=new a(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Go(t),g=a.contextType,d.context=typeof g=="object"&&g!==null?Et(g):ks,d.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Mo(t,a,g,l),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&zo.enqueueReplaceState(d,d.state,null),ar(t,l,d,o),tr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var S=t.memoizedProps,w=ss(a,S);d.props=w;var z=d.context,K=a.contextType;g=ks,typeof K=="object"&&K!==null&&(g=Et(K));var ne=a.getDerivedStateFromProps;K=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==g)&&wh(t,d,l,g),pn=!1;var Y=t.memoizedState;d.state=Y,ar(t,l,d,o),tr(),z=t.memoizedState,S||Y!==z||pn?(typeof ne=="function"&&(Mo(t,a,ne,l),z=t.memoizedState),(w=pn||Th(t,a,w,l,Y,z,g))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=z),d.props=l,d.state=z,d.context=g,l=w):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Zo(e,t),g=t.memoizedProps,K=ss(a,g),d.props=K,ne=t.pendingProps,Y=d.context,z=a.contextType,w=ks,typeof z=="object"&&z!==null&&(w=Et(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==ne||Y!==w)&&wh(t,d,l,w),pn=!1,Y=t.memoizedState,d.state=Y,ar(t,l,d,o),tr();var Z=t.memoizedState;g!==ne||Y!==Z||pn||e!==null&&e.dependencies!==null&&Oi(e.dependencies)?(typeof S=="function"&&(Mo(t,a,S,l),Z=t.memoizedState),(K=pn||Th(t,a,K,l,Y,Z,w)||e!==null&&e.dependencies!==null&&Oi(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Z,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Z,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Z),d.props=l,d.state=Z,d.context=w,l=K):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Pl(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Wn(t,e.child,null,o),t.child=Wn(t,null,a,o)):bt(e,t,a,o),t.memoizedState=d.state,e=t.child):e=Ha(e,t,o),e}function Ih(e,t,a,l){return Il(),t.flags|=256,bt(e,t,a,l),t.child}var ko={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:Ff()}}function qo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ra),e}function Yh(e,t,a){var l=t.pendingProps,o=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(ft.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Be){if(o?un(t):dn(),Be){var S=xt,w;if(w=S){e:{for(w=S,S=Ta;w.nodeType!==8;){if(!S){S=null;break e}if(w=ya(w.nextSibling),w===null){S=null;break e}}S=w}S!==null?(t.memoizedState={dehydrated:S,treeContext:Kn!==null?{id:Ua,overflow:ka}:null,retryLane:536870912},w=la(18,null,null,0),w.stateNode=S,w.return=t,t.child=w,Ct=t,xt=null,w=!0):w=!1}w||Pn(t)}if(S=t.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?t.lanes=16:t.lanes=536870912,null;Ba(t)}return S=l.children,l=l.fallback,o?(dn(),o=t.mode,S=Io({mode:"hidden",children:S},o),l=cs(l,o,a,null),S.return=t,l.return=t,S.sibling=l,t.child=S,o=t.child,o.memoizedState=Bo(a),o.childLanes=qo(e,g,a),t.memoizedState=ko,l):(un(t),Ho(t,S))}if(w=e.memoizedState,w!==null&&(S=w.dehydrated,S!==null)){if(d)t.flags&256?(un(t),t.flags&=-257,t=Yo(e,t,a)):t.memoizedState!==null?(dn(),t.child=e.child,t.flags|=128,t=null):(dn(),o=l.fallback,S=t.mode,l=Io({mode:"visible",children:l.children},S),o=cs(o,S,a,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,Wn(t,e.child,null,a),l=t.child,l.memoizedState=Bo(a),l.childLanes=qo(e,g,a),t.memoizedState=ko,t=o);else if(un(t),S.data==="$!"){if(g=S.nextSibling&&S.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(i(419)),l.stack="",l.digest=g,Yl({value:l,source:null,stack:null}),t=Yo(e,t,a)}else if(gt||Wl(e,t,a,!1),g=(a&e.childLanes)!==0,gt||g){if(g=$e,g!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(g.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,on(e,l),Rt(g,e,l),Mh}S.data==="$?"||gu(),t=Yo(e,t,a)}else S.data==="$?"?(t.flags|=128,t.child=e.child,t=Kv.bind(null,e),S._reactRetry=t,t=null):(e=w.treeContext,xt=ya(S.nextSibling),Ct=t,Be=!0,pa=null,Ta=!1,e!==null&&(ea[ta++]=Ua,ea[ta++]=ka,ea[ta++]=Kn,Ua=e.id,ka=e.overflow,Kn=t),t=Ho(t,l.children),t.flags|=4096);return t}return o?(dn(),o=l.fallback,S=t.mode,w=e.child,z=w.sibling,l=jn(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,z!==null?o=jn(z,o):(o=cs(o,S,a,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,S=e.child.memoizedState,S===null?S=Bo(a):(w=S.cachePool,w!==null?(z=ht._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Ff(),S={baseLanes:S.baseLanes|a,cachePool:w}),o.memoizedState=S,o.childLanes=qo(e,g,a),t.memoizedState=ko,l):(un(t),a=e.child,e=a.sibling,a=jn(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function Ho(e,t){return t=Io({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Io(e,t){return mm(e,t,0,null)}function Yo(e,t,a){return Wn(t,e.child,null,a),e=Ho(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fh(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),$o(e.return,t,a)}function Fo(e,t,a,l,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=o)}function Qh(e,t,a){var l=t.pendingProps,o=l.revealOrder,d=l.tail;if(bt(e,t,l.children,a),l=ft.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fh(e,a,t);else if(e.tag===19)Fh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(fe(ft,l),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&gi(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Fo(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&gi(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Fo(t,!0,a,null,d);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Wl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=jn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=jn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Oi(e)))}function Uv(e,t,a){switch(t.tag){case 3:Ee(t,t.stateNode.containerInfo),mn(t,ht,e.memoizedState.cache),Il();break;case 27:case 5:it(t);break;case 4:Ee(t,t.stateNode.containerInfo);break;case 10:mn(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(un(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Yh(e,t,a):(un(t),e=Ha(e,t,a),e!==null?e.sibling:null);un(t);break;case 19:var o=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Wl(e,t,a,!1),l=(a&t.childLanes)!==0),o){if(l)return Qh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(ft,ft.current),l)break;return null;case 22:case 23:return t.lanes=0,kh(e,t,a);case 24:mn(t,ht,e.memoizedState.cache)}return Ha(e,t,a)}function Vh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)gt=!0;else{if(!Qo(e,a)&&(t.flags&128)===0)return gt=!1,Uv(e,t,a);gt=(e.flags&131072)!==0}else gt=!1,Be&&(t.flags&1048576)!==0&&Cf(t,di,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")su(l)?(e=ss(l,e),t.tag=1,t=Hh(null,t,l,e,a)):(t.tag=0,t=Uo(null,t,l,e,a));else{if(l!=null){if(o=l.$$typeof,o===N){t.tag=11,t=zh(null,t,l,e,a);break e}else if(o===D){t.tag=14,t=Lh(null,t,l,e,a);break e}}throw t=ie(l)||l,Error(i(306,t,""))}}return t;case 0:return Uo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,o=ss(l,t.pendingProps),Hh(e,t,l,o,a);case 3:e:{if(Ee(t,t.stateNode.containerInfo),e===null)throw Error(i(387));var d=t.pendingProps;o=t.memoizedState,l=o.element,Zo(e,t),ar(t,d,null,a);var g=t.memoizedState;if(d=g.cache,mn(t,ht,d),d!==o.cache&&Xo(t,[ht],a,!0),tr(),d=g.element,o.isDehydrated)if(o={element:d,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Ih(e,t,d,a);break e}else if(d!==l){l=Wt(Error(i(424)),t),Yl(l),t=Ih(e,t,d,a);break e}else for(xt=ya(t.stateNode.containerInfo.firstChild),Ct=t,Be=!0,pa=null,Ta=!0,a=Bf(t,null,d,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Il(),d===l){t=Ha(e,t,a);break e}bt(e,t,d,a)}t=t.child}return t;case 26:return Pl(e,t),e===null?(a=Gm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Be||(a=t.type,e=t.pendingProps,l=Qi(ze.current).createElement(a),l[Nt]=t,l[zt]=e,jt(l,a,e),pt(l),t.stateNode=l):t.memoizedState=Gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return it(t),e===null&&Be&&(l=t.stateNode=Vm(t.type,t.pendingProps,ze.current),Ct=t,Ta=!0,xt=ya(l.firstChild)),l=t.pendingProps.children,e!==null||Be?bt(e,t,l,a):t.child=Wn(t,null,l,a),Pl(e,t),t.child;case 5:return e===null&&Be&&((o=l=xt)&&(l=f0(l,t.type,t.pendingProps,Ta),l!==null?(t.stateNode=l,Ct=t,xt=ya(l.firstChild),Ta=!1,o=!0):o=!1),o||Pn(t)),it(t),o=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,l=d.children,Ru(o,d)?l=null:g!==null&&Ru(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=vo(e,t,Cv,null,null,a),yr._currentValue=o),Pl(e,t),bt(e,t,l,a),t.child;case 6:return e===null&&Be&&((e=a=xt)&&(a=h0(a,t.pendingProps,Ta),a!==null?(t.stateNode=a,Ct=t,xt=null,e=!0):e=!1),e||Pn(t)),null;case 13:return Yh(e,t,a);case 4:return Ee(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Wn(t,null,l,a):bt(e,t,l,a),t.child;case 11:return zh(e,t,t.type,t.pendingProps,a);case 7:return bt(e,t,t.pendingProps,a),t.child;case 8:return bt(e,t,t.pendingProps.children,a),t.child;case 12:return bt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,mn(t,t.type,l.value),bt(e,t,l.children,a),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,rs(t),o=Et(o),l=l(o),t.flags|=1,bt(e,t,l,a),t.child;case 14:return Lh(e,t,t.type,t.pendingProps,a);case 15:return Uh(e,t,t.type,t.pendingProps,a);case 19:return Qh(e,t,a);case 22:return kh(e,t,a);case 24:return rs(t),l=Et(ht),e===null?(o=go(),o===null&&(o=$e,d=mo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:l,cache:o},Go(t),mn(t,ht,o)):((e.lanes&a)!==0&&(Zo(e,t),ar(t,null,null,a),tr()),o=e.memoizedState,d=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),mn(t,ht,l)):(l=d.cache,mn(t,ht,l),l!==o.cache&&Xo(t,[ht],a,!0))),bt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var Vo=pe(null),ls=null,Ia=null;function mn(e,t,a){fe(Vo,t._currentValue),t._currentValue=a}function Ya(e){e._currentValue=Vo.current,xe(Vo)}function $o(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Xo(e,t,a,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var g=o.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=o;for(var w=0;w<t.length;w++)if(S.context===t[w]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),$o(d.return,a,e),l||(g=null);break e}d=S.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(i(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),$o(g,a,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Wl(e,t,a,l){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var S=o.type;Yt(o.pendingProps.value,g.value)||(e!==null?e.push(S):e=[S])}}else if(o===ue.current){if(g=o.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(yr):e=[yr])}o=o.return}e!==null&&Xo(t,e,a,l),t.flags|=262144}function Oi(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function rs(e){ls=e,Ia=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return $h(ls,e)}function Ci(e,t){return ls===null&&rs(e),$h(e,t)}function $h(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ia===null){if(e===null)throw Error(i(308));Ia=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ia=Ia.next=t;return a}var pn=!1;function Go(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yn(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Pe&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=oi(e),Af(e,null,a),t}return ci(e,l,t,a),oi(e)}function er(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194176)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,zd(e,a)}}function Ko(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Jo=!1;function tr(){if(Jo){var e=Fs;if(e!==null)throw e}}function ar(e,t,a,l){Jo=!1;var o=e.updateQueue;pn=!1;var d=o.firstBaseUpdate,g=o.lastBaseUpdate,S=o.shared.pending;if(S!==null){o.shared.pending=null;var w=S,z=w.next;w.next=null,g===null?d=z:g.next=z,g=w;var K=e.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==g&&(S===null?K.firstBaseUpdate=z:S.next=z,K.lastBaseUpdate=w))}if(d!==null){var ne=o.baseState;g=0,K=z=w=null,S=d;do{var Y=S.lane&-536870913,Z=Y!==S.lane;if(Z?(Le&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ys&&(Jo=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ye=e,Ne=S;Y=t;var tt=a;switch(Ne.tag){case 1:if(ye=Ne.payload,typeof ye=="function"){ne=ye.call(tt,ne,Y);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ne.payload,Y=typeof ye=="function"?ye.call(tt,ne,Y):ye,Y==null)break e;ne=q({},ne,Y);break e;case 2:pn=!0}}Y=S.callback,Y!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=o.callbacks,Z===null?o.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(z=K=Z,w=ne):K=K.next=Z,g|=Y;if(S=S.next,S===null){if(S=o.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,o.lastBaseUpdate=Z,o.shared.pending=null}}while(!0);K===null&&(w=ne),o.baseState=w,o.firstBaseUpdate=z,o.lastBaseUpdate=K,d===null&&(o.shared.lanes=0),Sn|=g,e.lanes=g,e.memoizedState=ne}}function Xh(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Gh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xh(a[e],t)}function nr(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var o=l.next;a=o;do{if((a.tag&e)===e){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==o)}}catch(S){Qe(t,t.return,S)}}function vn(e,t,a){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var d=o.next;l=d;do{if((l.tag&e)===e){var g=l.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,o=t;var w=a;try{S()}catch(z){Qe(o,w,z)}}}l=l.next}while(l!==d)}}catch(z){Qe(t,t.return,z)}}function Zh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Gh(t,a)}catch(l){Qe(e,e.return,l)}}}function Kh(e,t,a){a.props=ss(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(e,t,l)}}function is(e,t){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=l;break;default:o=l}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(d){Qe(e,t,d)}}function Ft(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(o){Qe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Qe(e,t,o)}else a.current=null}function Jh(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(o){Qe(e,e.return,o)}}function Ph(e,t,a){try{var l=e.stateNode;i0(l,e.type,a,t),l[zt]=t}catch(o){Qe(e,e.return,o)}}function Wh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Po(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wo(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Fi));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Wo(e,t,a),e=e.sibling;e!==null;)Wo(e,t,a),e=e.sibling}function Ri(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Ri(e,t,a),e=e.sibling;e!==null;)Ri(e,t,a),e=e.sibling}var Fa=!1,We=!1,eu=!1,em=typeof WeakSet=="function"?WeakSet:Set,yt=null,tm=!1;function kv(e,t){if(e=e.containerInfo,Ou=Ki,e=vf(e),to(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var o=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,S=-1,w=-1,z=0,K=0,ne=e,Y=null;t:for(;;){for(var Z;ne!==a||o!==0&&ne.nodeType!==3||(S=g+o),ne!==d||l!==0&&ne.nodeType!==3||(w=g+l),ne.nodeType===3&&(g+=ne.nodeValue.length),(Z=ne.firstChild)!==null;)Y=ne,ne=Z;for(;;){if(ne===e)break t;if(Y===a&&++z===o&&(S=g),Y===d&&++K===l&&(w=g),(Z=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=Z}a=S===-1||w===-1?null:{start:S,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cu={focusedElem:e,selectionRange:a},Ki=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=ss(a.type,o,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){Qe(a,a.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Mu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}return ye=tm,tm=!1,ye}function am(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Va(e,a),l&4&&nr(5,a);break;case 1:if(Va(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(S){Qe(a,a.return,S)}else{var o=ss(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Qe(a,a.return,S)}}l&64&&Zh(a),l&512&&is(a,a.return);break;case 3:if(Va(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Gh(l,e)}catch(S){Qe(a,a.return,S)}}break;case 26:Va(e,a),l&512&&is(a,a.return);break;case 27:case 5:Va(e,a),t===null&&l&4&&Jh(a),l&512&&is(a,a.return);break;case 12:Va(e,a);break;case 13:Va(e,a),l&4&&lm(e,a);break;case 22:if(o=a.memoizedState!==null||Fa,!o){t=t!==null&&t.memoizedState!==null||We;var d=Fa,g=We;Fa=o,(We=t)&&!g?xn(e,a,(a.subtreeFlags&8772)!==0):Va(e,a),Fa=d,We=g}l&512&&(a.memoizedProps.mode==="manual"?is(a,a.return):Ft(a,a.return));break;default:Va(e,a)}}function nm(e){var t=e.alternate;t!==null&&(e.alternate=null,nm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ut=null,Qt=!1;function Qa(e,t,a){for(a=a.child;a!==null;)sm(e,t,a),a=a.sibling}function sm(e,t,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(wl,a)}catch{}switch(a.tag){case 26:We||Ft(a,t),Qa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||Ft(a,t);var l=ut,o=Qt;for(ut=a.stateNode,Qa(e,t,a),a=a.stateNode,t=a.attributes;t.length;)a.removeAttributeNode(t[0]);qc(a),ut=l,Qt=o;break;case 5:We||Ft(a,t);case 6:o=ut;var d=Qt;if(ut=null,Qa(e,t,a),ut=o,Qt=d,ut!==null)if(Qt)try{e=ut,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(g){Qe(a,t,g)}else try{ut.removeChild(a.stateNode)}catch(g){Qe(a,t,g)}break;case 18:ut!==null&&(Qt?(t=ut,a=a.stateNode,t.nodeType===8?_u(t.parentNode,a):t.nodeType===1&&_u(t,a),jr(t)):_u(ut,a.stateNode));break;case 4:l=ut,o=Qt,ut=a.stateNode.containerInfo,Qt=!0,Qa(e,t,a),ut=l,Qt=o;break;case 0:case 11:case 14:case 15:We||vn(2,a,t),We||vn(4,a,t),Qa(e,t,a);break;case 1:We||(Ft(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kh(a,t,l)),Qa(e,t,a);break;case 21:Qa(e,t,a);break;case 22:We||Ft(a,t),We=(l=We)||a.memoizedState!==null,Qa(e,t,a),We=l;break;default:Qa(e,t,a)}}function lm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{jr(e)}catch(a){Qe(t,t.return,a)}}function Bv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new em),t;default:throw Error(i(435,e.tag))}}function tu(e,t){var a=Bv(e);t.forEach(function(l){var o=Jv.bind(null,e,l);a.has(l)||(a.add(l),l.then(o,o))})}function na(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var o=a[l],d=e,g=t,S=g;e:for(;S!==null;){switch(S.tag){case 27:case 5:ut=S.stateNode,Qt=!1;break e;case 3:ut=S.stateNode.containerInfo,Qt=!0;break e;case 4:ut=S.stateNode.containerInfo,Qt=!0;break e}S=S.return}if(ut===null)throw Error(i(160));sm(d,g,o),ut=null,Qt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)rm(t,e),t=t.sibling}var ga=null;function rm(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:na(t,e),sa(e),l&4&&(vn(3,e,e.return),nr(3,e),vn(5,e,e.return));break;case 1:na(t,e),sa(e),l&512&&(We||a===null||Ft(a,a.return)),l&64&&Fa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var o=ga;if(na(t,e),sa(e),l&512&&(We||a===null||Ft(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Cl]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(l),o.head.insertBefore(d,o.querySelector("head > title"))),jt(d,l,a),d[Nt]=e,pt(d),l=d;break e;case"link":var g=Jm("link","href",o).get(l+(a.href||""));if(g){for(var S=0;S<g.length;S++)if(d=g[S],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(S,1);break t}}d=o.createElement(l),jt(d,l,a),o.head.appendChild(d);break;case"meta":if(g=Jm("meta","content",o).get(l+(a.content||""))){for(S=0;S<g.length;S++)if(d=g[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(S,1);break t}}d=o.createElement(l),jt(d,l,a),o.head.appendChild(d);break;default:throw Error(i(468,l))}d[Nt]=e,pt(d),l=d}e.stateNode=l}else Pm(o,e.type,e.stateNode);else e.stateNode=Km(o,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Pm(o,e.type,e.stateNode):Km(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ph(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){o=e.stateNode,d=e.memoizedProps;try{for(var w=o.firstChild;w;){var z=w.nextSibling,K=w.nodeName;w[Cl]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=z}for(var ne=e.type,Y=o.attributes;Y.length;)o.removeAttributeNode(Y[0]);jt(o,ne,d),o[Nt]=e,o[zt]=d}catch(ye){Qe(e,e.return,ye)}}case 5:if(na(t,e),sa(e),l&512&&(We||a===null||Ft(a,a.return)),e.flags&32){o=e.stateNode;try{Rs(o,"")}catch(ye){Qe(e,e.return,ye)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Ph(e,o,a!==null?a.memoizedProps:o)),l&1024&&(eu=!0);break;case 6:if(na(t,e),sa(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ye){Qe(e,e.return,ye)}}break;case 3:if(Xi=null,o=ga,ga=Vi(t.containerInfo),na(t,e),ga=o,sa(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jr(t.containerInfo)}catch(ye){Qe(e,e.return,ye)}eu&&(eu=!1,im(e));break;case 4:l=ga,ga=Vi(e.stateNode.containerInfo),na(t,e),sa(e),ga=l;break;case 12:na(t,e),sa(e);break;case 13:na(t,e),sa(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uu=_e()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tu(e,l)));break;case 22:if(l&512&&(We||a===null||Ft(a,a.return)),w=e.memoizedState!==null,z=a!==null&&a.memoizedState!==null,K=Fa,ne=We,Fa=K||w,We=ne||z,na(t,e),We=ne,Fa=K,sa(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,l&8192&&(t._visibility=w?t._visibility&-2:t._visibility|1,w&&(t=Fa||We,a===null||z||t||Xs(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(a=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(a===null){z=a=t;try{if(o=z.stateNode,w)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=z.stateNode,S=z.memoizedProps.style;var Z=S!=null&&S.hasOwnProperty("display")?S.display:null;g.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ye){Qe(z,z.return,ye)}}}else if(t.tag===6){if(a===null){z=t;try{z.stateNode.nodeValue=w?"":z.memoizedProps}catch(ye){Qe(z,z.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tu(e,a))));break;case 19:na(t,e),sa(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tu(e,l)));break;case 21:break;default:na(t,e),sa(e)}}function sa(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var a=e.return;a!==null;){if(Wh(a)){var l=a;break e}a=a.return}throw Error(i(160))}switch(l.tag){case 27:var o=l.stateNode,d=Po(e);Ri(e,d,o);break;case 5:var g=l.stateNode;l.flags&32&&(Rs(g,""),l.flags&=-33);var S=Po(e);Ri(e,S,g);break;case 3:case 4:var w=l.stateNode.containerInfo,z=Po(e);Wo(e,z,w);break;default:throw Error(i(161))}}}catch(K){Qe(e,e.return,K)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;im(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Va(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)am(e,t.alternate,t),t=t.sibling}function Xs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vn(4,t,t.return),Xs(t);break;case 1:Ft(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Kh(t,t.return,a),Xs(t);break;case 26:case 27:case 5:Ft(t,t.return),Xs(t);break;case 22:Ft(t,t.return),t.memoizedState===null&&Xs(t);break;default:Xs(t)}e=e.sibling}}function xn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:xn(o,d,a),nr(4,d);break;case 1:if(xn(o,d,a),l=d,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(z){Qe(l,l.return,z)}if(l=d,o=l.updateQueue,o!==null){var S=l.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Xh(w[o],S)}catch(z){Qe(l,l.return,z)}}a&&g&64&&Zh(d),is(d,d.return);break;case 26:case 27:case 5:xn(o,d,a),a&&l===null&&g&4&&Jh(d),is(d,d.return);break;case 12:xn(o,d,a);break;case 13:xn(o,d,a),a&&g&4&&lm(o,d);break;case 22:d.memoizedState===null&&xn(o,d,a),is(d,d.return);break;default:xn(o,d,a)}t=t.sibling}}function au(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xl(a))}function nu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xl(e))}function bn(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cm(e,t,a,l),t=t.sibling}function cm(e,t,a,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:bn(e,t,a,l),o&2048&&nr(9,t);break;case 3:bn(e,t,a,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xl(e)));break;case 12:if(o&2048){bn(e,t,a,l),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,S=d.onPostCommit;typeof S=="function"&&S(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qe(t,t.return,w)}}else bn(e,t,a,l);break;case 23:break;case 22:d=t.stateNode,t.memoizedState!==null?d._visibility&4?bn(e,t,a,l):sr(e,t):d._visibility&4?bn(e,t,a,l):(d._visibility|=4,Gs(e,t,a,l,(t.subtreeFlags&10256)!==0)),o&2048&&au(t.alternate,t);break;case 24:bn(e,t,a,l),o&2048&&nu(t.alternate,t);break;default:bn(e,t,a,l)}}function Gs(e,t,a,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,g=t,S=a,w=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Gs(d,g,S,w,o),nr(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&4?Gs(d,g,S,w,o):sr(d,g):(K._visibility|=4,Gs(d,g,S,w,o)),o&&z&2048&&au(g.alternate,g);break;case 24:Gs(d,g,S,w,o),o&&z&2048&&nu(g.alternate,g);break;default:Gs(d,g,S,w,o)}t=t.sibling}}function sr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,o=l.flags;switch(l.tag){case 22:sr(a,l),o&2048&&au(l.alternate,l);break;case 24:sr(a,l),o&2048&&nu(l.alternate,l);break;default:sr(a,l)}t=t.sibling}}var lr=8192;function Zs(e){if(e.subtreeFlags&lr)for(e=e.child;e!==null;)om(e),e=e.sibling}function om(e){switch(e.tag){case 26:Zs(e),e.flags&lr&&e.memoizedState!==null&&w0(ga,e.memoizedState,e.memoizedProps);break;case 5:Zs(e);break;case 3:case 4:var t=ga;ga=Vi(e.stateNode.containerInfo),Zs(e),ga=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=lr,lr=16777216,Zs(e),lr=t):Zs(e));break;default:Zs(e)}}function um(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function rr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];yt=l,fm(l,e)}um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dm(e),e=e.sibling}function dm(e){switch(e.tag){case 0:case 11:case 15:rr(e),e.flags&2048&&vn(9,e,e.return);break;case 3:rr(e);break;case 12:rr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Di(e)):rr(e);break;default:rr(e)}}function Di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];yt=l,fm(l,e)}um(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:vn(8,t,t.return),Di(t);break;case 22:a=t.stateNode,a._visibility&4&&(a._visibility&=-5,Di(t));break;default:Di(t)}e=e.sibling}}function fm(e,t){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:vn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,yt=l;else e:for(a=e;yt!==null;){l=yt;var o=l.sibling,d=l.return;if(nm(l),l===a){yt=null;break e}if(o!==null){o.return=d,yt=o;break e}yt=d}}}function qv(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(e,t,a,l){return new qv(e,t,a,l)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jn(e,t){var a=e.alternate;return a===null?(a=la(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hm(e,t){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function _i(e,t,a,l,o,d){var g=0;if(l=e,typeof e=="function")su(e)&&(g=1);else if(typeof e=="string")g=E0(e,a,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case y:return cs(a.children,o,d,t);case m:g=8,o|=24;break;case v:return e=la(12,a,t,o|2),e.elementType=v,e.lanes=d,e;case O:return e=la(13,a,t,o),e.elementType=O,e.lanes=d,e;case T:return e=la(19,a,t,o),e.elementType=T,e.lanes=d,e;case C:return mm(a,o,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:case A:g=10;break e;case E:g=9;break e;case N:g=11;break e;case D:g=14;break e;case R:g=16,l=null;break e}g=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=la(g,a,t,o),t.elementType=e,t.type=l,t.lanes=d,t}function cs(e,t,a,l){return e=la(7,e,l,t),e.lanes=a,e}function mm(e,t,a,l){e=la(22,e,l,t),e.elementType=C,e.lanes=a;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=o._current;if(d===null)throw Error(i(456));if((o._pendingVisibility&2)===0){var g=on(d,2);g!==null&&(o._pendingVisibility|=2,Rt(g,d,2))}},attach:function(){var d=o._current;if(d===null)throw Error(i(456));if((o._pendingVisibility&2)!==0){var g=on(d,2);g!==null&&(o._pendingVisibility&=-3,Rt(g,d,2))}}};return e.stateNode=o,e}function lu(e,t,a){return e=la(6,e,null,t),e.lanes=a,e}function ru(e,t,a){return t=la(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $a(e){e.flags|=4}function pm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wm(t)){if(t=aa.current,t!==null&&((Le&4194176)===Le?wa!==null:(Le&62914560)!==Le&&(Le&536870912)===0||t!==wa))throw Ql=uo,_f;e.flags|=8192}}function Mi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_d():536870912,e.lanes|=t,Js|=t)}function ir(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags&31457280,l|=o.flags&31457280,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Hv(e,t,a){var l=t.pendingProps;switch(co(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ya(ht),Ve(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Hl(t)?$a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,pa!==null&&(mu(pa),pa=null))),Je(t),null;case 26:return a=t.memoizedState,e===null?($a(t),a!==null?(Je(t),pm(t,a)):(Je(t),t.flags&=-16777217)):a?a!==e.memoizedState?($a(t),Je(t),pm(t,a)):(Je(t),t.flags&=-16777217):(e.memoizedProps!==l&&$a(t),Je(t),t.flags&=-16777217),null;case 27:Ie(t),a=ze.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&$a(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Je(t),null}e=oe.current,Hl(t)?Rf(t):(e=Vm(o,l,a),t.stateNode=e,$a(t))}return Je(t),null;case 5:if(Ie(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&$a(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Je(t),null}if(e=oe.current,Hl(t))Rf(t);else{switch(o=Qi(ze.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(a,{is:l.is}):o.createElement(a)}}e[Nt]=t,e[zt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(jt(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&$a(t)}}return Je(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&$a(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ze.current,Hl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,o=Ct,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qm(e.nodeValue,a)),e||Pn(t)}else e=Qi(e).createTextNode(l),e[Nt]=t,t.stateNode=e}return Je(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Hl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[Nt]=t}else Il(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),o=!1}else pa!==null&&(mu(pa),pa=null),o=!0;if(!o)return t.flags&256?(Ba(t),t):(Ba(t),null)}if(Ba(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==o&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Mi(t,t.updateQueue),Je(t),null;case 4:return Ve(),e===null&&Tu(t.stateNode.containerInfo),Je(t),null;case 10:return Ya(t.type),Je(t),null;case 19:if(xe(ft),o=t.memoizedState,o===null)return Je(t),null;if(l=(t.flags&128)!==0,d=o.rendering,d===null)if(l)ir(o,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=gi(e),d!==null){for(t.flags|=128,ir(o,!1),e=d.updateQueue,t.updateQueue=e,Mi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)hm(a,e),a=a.sibling;return fe(ft,ft.current&1|2),t.child}e=e.sibling}o.tail!==null&&_e()>zi&&(t.flags|=128,l=!0,ir(o,!1),t.lanes=4194304)}else{if(!l)if(e=gi(d),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Mi(t,e),ir(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Be)return Je(t),null}else 2*_e()-o.renderingStartTime>zi&&a!==536870912&&(t.flags|=128,l=!0,ir(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=_e(),t.sibling=null,e=ft.current,fe(ft,l?e&1|2:e&1),t):(Je(t),null);case 22:case 23:return Ba(t),ho(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),a=t.updateQueue,a!==null&&Mi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&xe(es),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ya(ht),Je(t),null;case 25:return null}throw Error(i(156,t.tag))}function Iv(e,t){switch(co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ya(ht),Ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ie(t),null;case 13:if(Ba(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ft),null;case 4:return Ve(),null;case 10:return Ya(t.type),null;case 22:case 23:return Ba(t),ho(),e!==null&&xe(es),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ya(ht),null;case 25:return null;default:return null}}function gm(e,t){switch(co(t),t.tag){case 3:Ya(ht),Ve();break;case 26:case 27:case 5:Ie(t);break;case 4:Ve();break;case 13:Ba(t);break;case 19:xe(ft);break;case 10:Ya(t.type);break;case 22:case 23:Ba(t),ho(),e!==null&&xe(es);break;case 24:Ya(ht)}}var Yv={getCacheForType:function(e){var t=Et(ht),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Fv=typeof WeakMap=="function"?WeakMap:Map,Pe=0,$e=null,Re=null,Le=0,Xe=0,Vt=null,Xa=!1,Ks=!1,iu=!1,Ga=0,et=0,Sn=0,os=0,cu=0,ra=0,Js=0,cr=null,Oa=null,ou=!1,uu=0,zi=1/0,Li=null,Nn=null,Ui=!1,us=null,or=0,du=0,fu=null,ur=0,hu=null;function $t(){if((Pe&2)!==0&&Le!==0)return Le&-Le;if(J.T!==null){var e=Ys;return e!==0?e:ju()}return Ud()}function ym(){ra===0&&(ra=(Le&536870912)===0||Be?Dd():536870912);var e=aa.current;return e!==null&&(e.flags|=32),ra}function Rt(e,t,a){(e===$e&&Xe===2||e.cancelPendingCommit!==null)&&(Ps(e,0),Za(e,Le,ra,!1)),Ol(e,a),((Pe&2)===0||e!==$e)&&(e===$e&&((Pe&2)===0&&(os|=a),et===4&&Za(e,Le,ra,!1)),Ca(e))}function vm(e,t,a){if((Pe&6)!==0)throw Error(i(327));var l=!a&&(t&60)===0&&(t&e.expiredLanes)===0||Al(e,t),o=l?$v(e,t):yu(e,t,!0),d=l;do{if(o===0){Ks&&!l&&Za(e,t,0,!1);break}else if(o===6)Za(e,t,0,!Xa);else{if(a=e.current.alternate,d&&!Qv(a)){o=yu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var S=e;o=cr;var w=S.current.memoizedState.isDehydrated;if(w&&(Ps(S,g).flags|=256),g=yu(S,g,!1),g!==2){if(iu&&!w){S.errorRecoveryDisabledLanes|=d,os|=d,o=4;break e}d=Oa,Oa=o,d!==null&&mu(d)}o=g}if(d=!1,o!==2)continue}}if(o===1){Ps(e,0),Za(e,t,0,!0);break}e:{switch(l=e,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194176)===t){Za(l,t,ra,!Xa);break e}break;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(i(329))}if(l.finishedWork=a,l.finishedLanes=t,(t&62914560)===t&&(d=uu+300-_e(),10<d)){if(Za(l,t,ra,!Xa),Zr(l,0)!==0)break e;l.timeoutHandle=Ym(xm.bind(null,l,a,Oa,Li,ou,t,ra,os,Js,Xa,2,-0,0),d);break e}xm(l,a,Oa,Li,ou,t,ra,os,Js,Xa,0,-0,0)}}break}while(!0);Ca(e)}function mu(e){Oa===null?Oa=e:Oa.push.apply(Oa,e)}function xm(e,t,a,l,o,d,g,S,w,z,K,ne,Y){var Z=t.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(gr={stylesheets:null,count:0,unsuspend:T0},om(t),t=A0(),t!==null)){e.cancelPendingCommit=t(wm.bind(null,e,a,l,o,g,S,w,1,ne,Y)),Za(e,d,g,!z);return}wm(e,a,l,o,g,S,w,K,ne,Y)}function Qv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var o=a[l],d=o.getSnapshot;o=o.value;try{if(!Yt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Za(e,t,a,l){t&=~cu,t&=~os,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var d=31-It(o),g=1<<d;l[d]=-1,o&=~g}a!==0&&Md(e,a,t)}function ki(){return(Pe&6)===0?(dr(0),!1):!0}function pu(){if(Re!==null){if(Xe===0)var e=Re.return;else e=Re,Ia=ls=null,jo(e),Hs=null,Vl=0,e=Re;for(;e!==null;)gm(e.alternate,e),e=e.return;Re=null}}function Ps(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,o0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),pu(),$e=e,Re=a=jn(e.current,null),Le=t,Xe=0,Vt=null,Xa=!1,Ks=Al(e,t),iu=!1,Js=ra=cu=os=Sn=et=0,Oa=cr=null,ou=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-It(l),d=1<<o;t|=e[o],l&=~d}return Ga=t,ii(),a}function bm(e,t){Ae=null,J.H=Aa,t===Fl?(t=Lf(),Xe=3):t===_f?(t=Lf(),Xe=4):Xe=t===Mh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,Re===null&&(et=1,Ai(e,Wt(t,e.current)))}function jm(){var e=J.H;return J.H=Aa,e===null?Aa:e}function Sm(){var e=J.A;return J.A=Yv,e}function gu(){et=4,Xa||(Le&4194176)!==Le&&aa.current!==null||(Ks=!0),(Sn&134217727)===0&&(os&134217727)===0||$e===null||Za($e,Le,ra,!1)}function yu(e,t,a){var l=Pe;Pe|=2;var o=jm(),d=Sm();($e!==e||Le!==t)&&(Li=null,Ps(e,t)),t=!1;var g=et;e:do try{if(Xe!==0&&Re!==null){var S=Re,w=Vt;switch(Xe){case 8:pu(),g=6;break e;case 3:case 2:case 6:aa.current===null&&(t=!0);var z=Xe;if(Xe=0,Vt=null,Ws(e,S,w,z),a&&Ks){g=0;break e}break;default:z=Xe,Xe=0,Vt=null,Ws(e,S,w,z)}}Vv(),g=et;break}catch(K){bm(e,K)}while(!0);return t&&e.shellSuspendCounter++,Ia=ls=null,Pe=l,J.H=o,J.A=d,Re===null&&($e=null,Le=0,ii()),g}function Vv(){for(;Re!==null;)Nm(Re)}function $v(e,t){var a=Pe;Pe|=2;var l=jm(),o=Sm();$e!==e||Le!==t?(Li=null,zi=_e()+500,Ps(e,t)):Ks=Al(e,t);e:do try{if(Xe!==0&&Re!==null){t=Re;var d=Vt;t:switch(Xe){case 1:Xe=0,Vt=null,Ws(e,t,d,1);break;case 2:if(Mf(d)){Xe=0,Vt=null,Em(t);break}t=function(){Xe===2&&$e===e&&(Xe=7),Ca(e)},d.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Mf(d)?(Xe=0,Vt=null,Em(t)):(Xe=0,Vt=null,Ws(e,t,d,7));break;case 5:var g=null;switch(Re.tag){case 26:g=Re.memoizedState;case 5:case 27:var S=Re;if(!g||Wm(g)){Xe=0,Vt=null;var w=S.sibling;if(w!==null)Re=w;else{var z=S.return;z!==null?(Re=z,Bi(z)):Re=null}break t}}Xe=0,Vt=null,Ws(e,t,d,5);break;case 6:Xe=0,Vt=null,Ws(e,t,d,6);break;case 8:pu(),et=6;break e;default:throw Error(i(462))}}Xv();break}catch(K){bm(e,K)}while(!0);return Ia=ls=null,J.H=l,J.A=o,Pe=a,Re!==null?0:($e=null,Le=0,ii(),et)}function Xv(){for(;Re!==null&&!ha();)Nm(Re)}function Nm(e){var t=Vh(e.alternate,e,Ga);e.memoizedProps=e.pendingProps,t===null?Bi(e):Re=t}function Em(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=qh(a,t,t.pendingProps,t.type,void 0,Le);break;case 11:t=qh(a,t,t.pendingProps,t.type.render,t.ref,Le);break;case 5:jo(t);default:gm(a,t),t=Re=hm(t,Ga),t=Vh(a,t,Ga)}e.memoizedProps=e.pendingProps,t===null?Bi(e):Re=t}function Ws(e,t,a,l){Ia=ls=null,jo(t),Hs=null,Vl=0;var o=t.return;try{if(Lv(e,o,t,a,Le)){et=1,Ai(e,Wt(a,e.current)),Re=null;return}}catch(d){if(o!==null)throw Re=o,d;et=1,Ai(e,Wt(a,e.current)),Re=null;return}t.flags&32768?(Be||l===1?e=!0:Ks||(Le&536870912)!==0?e=!1:(Xa=e=!0,(l===2||l===3||l===6)&&(l=aa.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tm(t,e)):Bi(t)}function Bi(e){var t=e;do{if((t.flags&32768)!==0){Tm(t,Xa);return}e=t.return;var a=Hv(t.alternate,t,Ga);if(a!==null){Re=a;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);et===0&&(et=5)}function Tm(e,t){do{var a=Iv(e.alternate,e);if(a!==null){a.flags&=32767,Re=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=a}while(e!==null);et=6,Re=null}function wm(e,t,a,l,o,d,g,S,w,z){var K=J.T,ne=V.p;try{V.p=2,J.T=null,Gv(e,t,a,l,ne,o,d,g,S,w,z)}finally{J.T=K,V.p=ne}}function Gv(e,t,a,l,o,d,g,S){do el();while(us!==null);if((Pe&6)!==0)throw Error(i(327));var w=e.finishedWork;if(l=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var z=w.lanes|w.childLanes;if(z|=lo,wy(e,l,z,d,g,S),e===$e&&(Re=$e=null,Le=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Ui||(Ui=!0,du=z,fu=a,Pv(Fn,function(){return el(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=J.T,J.T=null,d=V.p,V.p=2,g=Pe,Pe|=4,kv(e,w),rm(w,e),vv(Cu,e.containerInfo),Ki=!!Ou,Cu=Ou=null,e.current=w,am(e,w.alternate,w),Se(),Pe=g,V.p=d,J.T=a):e.current=w,Ui?(Ui=!1,us=e,or=l):Am(e,z),z=e.pendingLanes,z===0&&(Nn=null),jy(w.stateNode),Ca(e),t!==null)for(o=e.onRecoverableError,w=0;w<t.length;w++)z=t[w],o(z.value,{componentStack:z.stack});return(or&3)!==0&&el(),z=e.pendingLanes,(l&4194218)!==0&&(z&42)!==0?e===hu?ur++:(ur=0,hu=e):ur=0,dr(0),null}function Am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xl(t)))}function el(){if(us!==null){var e=us,t=du;du=0;var a=Ld(or),l=J.T,o=V.p;try{if(V.p=32>a?32:a,J.T=null,us===null)var d=!1;else{a=fu,fu=null;var g=us,S=or;if(us=null,or=0,(Pe&6)!==0)throw Error(i(331));var w=Pe;if(Pe|=4,dm(g.current),cm(g,g.current,S,a),Pe=w,dr(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(wl,g)}catch{}d=!0}return d}finally{V.p=o,J.T=l,Am(e,t)}}return!1}function Om(e,t,a){t=Wt(a,t),t=Lo(e.stateNode,t,2),e=yn(e,t,2),e!==null&&(Ol(e,2),Ca(e))}function Qe(e,t,a){if(e.tag===3)Om(e,e,a);else for(;t!==null;){if(t.tag===3){Om(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nn===null||!Nn.has(l))){e=Wt(a,e),a=Dh(2),l=yn(t,a,2),l!==null&&(_h(a,l,t,e),Ol(l,2),Ca(l));break}}t=t.return}}function vu(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Fv;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(a)||(iu=!0,o.add(a),e=Zv.bind(null,e,t,a),t.then(e,e))}function Zv(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$e===e&&(Le&a)===a&&(et===4||et===3&&(Le&62914560)===Le&&300>_e()-uu?(Pe&2)===0&&Ps(e,0):cu|=a,Js===Le&&(Js=0)),Ca(e)}function Cm(e,t){t===0&&(t=_d()),e=on(e,t),e!==null&&(Ol(e,t),Ca(e))}function Kv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Cm(e,a)}function Jv(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Cm(e,a)}function Pv(e,t){return dt(e,t)}var qi=null,tl=null,xu=!1,Hi=!1,bu=!1,ds=0;function Ca(e){e!==tl&&e.next===null&&(tl===null?qi=tl=e:tl=tl.next=e),Hi=!0,xu||(xu=!0,e0(Wv))}function dr(e,t){if(!bu&&Hi){bu=!0;do for(var a=!1,l=qi;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var d=0;else{var g=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-It(42|e)+1)-1,d&=o&~(g&~S),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,_m(l,d))}else d=Le,d=Zr(l,l===$e?d:0),(d&3)===0||Al(l,d)||(a=!0,_m(l,d));l=l.next}while(a);bu=!1}}function Wv(){Hi=xu=!1;var e=0;ds!==0&&(c0()&&(e=ds),ds=0);for(var t=_e(),a=null,l=qi;l!==null;){var o=l.next,d=Rm(l,t);d===0?(l.next=null,a===null?qi=o:a.next=o,o===null&&(tl=a)):(a=l,(e!==0||(d&3)!==0)&&(Hi=!0)),l=o}dr(e)}function Rm(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-It(d),S=1<<g,w=o[g];w===-1?((S&a)===0||(S&l)!==0)&&(o[g]=Ty(S,t)):w<=t&&(e.expiredLanes|=S),d&=~S}if(t=$e,a=Le,a=Zr(e,e===t?a:0),l=e.callbackNode,a===0||e===t&&Xe===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ge(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Al(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Ge(l),Ld(a)){case 2:case 8:a=Tl;break;case 32:a=Fn;break;case 268435456:a=sn;break;default:a=Fn}return l=Dm.bind(null,e),a=dt(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Ge(l),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,t){var a=e.callbackNode;if(el()&&e.callbackNode!==a)return null;var l=Le;return l=Zr(e,e===$e?l:0),l===0?null:(vm(e,l,t),Rm(e,_e()),e.callbackNode!=null&&e.callbackNode===a?Dm.bind(null,e):null)}function _m(e,t){if(el())return null;vm(e,t,!0)}function e0(e){u0(function(){(Pe&6)!==0?dt(Zt,e):e()})}function ju(){return ds===0&&(ds=Dd()),ds}function Mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ei(""+e)}function zm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function t0(e,t,a,l,o){if(t==="submit"&&a&&a.stateNode===o){var d=Mm((o[zt]||null).action),g=l.submitter;g&&(t=(t=g[zt]||null)?Mm(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var S=new si("action","action",null,l,o);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ds!==0){var w=g?zm(o,g):new FormData(o);Ro(a,{pending:!0,data:w,method:o.method,action:d},null,w)}}else typeof d=="function"&&(S.preventDefault(),w=g?zm(o,g):new FormData(o),Ro(a,{pending:!0,data:w,method:o.method,action:d},d,w))},currentTarget:o}]})}}for(var Su=0;Su<wf.length;Su++){var Nu=wf[Su],a0=Nu.toLowerCase(),n0=Nu[0].toUpperCase()+Nu.slice(1);ma(a0,"on"+n0)}ma(jf,"onAnimationEnd"),ma(Sf,"onAnimationIteration"),ma(Nf,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(bv,"onTransitionRun"),ma(jv,"onTransitionStart"),ma(Sv,"onTransitionCancel"),ma(Ef,"onTransitionEnd"),Os("onMouseEnter",["mouseout","mouseover"]),Os("onMouseLeave",["mouseout","mouseover"]),Os("onPointerEnter",["pointerout","pointerover"]),Os("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fr));function Lm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],o=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var g=l.length-1;0<=g;g--){var S=l[g],w=S.instance,z=S.currentTarget;if(S=S.listener,w!==d&&o.isPropagationStopped())break e;d=S,o.currentTarget=z;try{d(o)}catch(K){wi(K)}o.currentTarget=null,d=w}else for(g=0;g<l.length;g++){if(S=l[g],w=S.instance,z=S.currentTarget,S=S.listener,w!==d&&o.isPropagationStopped())break e;d=S,o.currentTarget=z;try{d(o)}catch(K){wi(K)}o.currentTarget=null,d=w}}}}function Me(e,t){var a=t[Bc];a===void 0&&(a=t[Bc]=new Set);var l=e+"__bubble";a.has(l)||(Um(t,e,2,!1),a.add(l))}function Eu(e,t,a){var l=0;t&&(l|=4),Um(a,e,l,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function Tu(e){if(!e[Ii]){e[Ii]=!0,Bd.forEach(function(a){a!=="selectionchange"&&(s0.has(a)||Eu(a,!1,e),Eu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,Eu("selectionchange",!1,t))}}function Um(e,t,a,l){switch(lp(t)){case 2:var o=R0;break;case 8:o=D0;break;default:o=Bu}a=o.bind(null,t,a,e),o=void 0,!$c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function wu(e,t,a,l,o){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var S=l.stateNode.containerInfo;if(S===o||S.nodeType===8&&S.parentNode===o)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===o||w.nodeType===8&&w.parentNode===o))return;g=g.return}for(;S!==null;){if(g=Vn(S),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=d=g;continue e}S=S.parentNode}}l=l.return}Kd(function(){var z=d,K=Qc(a),ne=[];e:{var Y=Tf.get(e);if(Y!==void 0){var Z=si,ye=e;switch(e){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":Z=Jy;break;case"focusin":ye="focus",Z=Kc;break;case"focusout":ye="blur",Z=Kc;break;case"beforeblur":case"afterblur":Z=Kc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=ev;break;case jf:case Sf:case Nf:Z=Yy;break;case Ef:Z=av;break;case"scroll":case"scrollend":Z=ky;break;case"wheel":Z=sv;break;case"copy":case"cut":case"paste":Z=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=tf;break;case"toggle":case"beforetoggle":Z=rv}var Ne=(t&4)!==0,tt=!Ne&&(e==="scroll"||e==="scrollend"),L=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var _=z,B;_!==null;){var ee=_;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||L===null||(ee=Dl(_,L),ee!=null&&Ne.push(hr(_,ee,B))),tt)break;_=_.return}0<Ne.length&&(Y=new Z(Y,ye,null,a,K),ne.push({event:Y,listeners:Ne}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",Y&&a!==Fc&&(ye=a.relatedTarget||a.fromElement)&&(Vn(ye)||ye[Ts]))break e;if((Z||Y)&&(Y=K.window===K?K:(Y=K.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(ye=a.relatedTarget||a.toElement,Z=z,ye=ye?Vn(ye):null,ye!==null&&(tt=ae(ye),Ne=ye.tag,ye!==tt||Ne!==5&&Ne!==27&&Ne!==6)&&(ye=null)):(Z=null,ye=z),Z!==ye)){if(Ne=Wd,ee="onMouseLeave",L="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=tf,ee="onPointerLeave",L="onPointerEnter",_="pointer"),tt=Z==null?Y:Rl(Z),B=ye==null?Y:Rl(ye),Y=new Ne(ee,_+"leave",Z,a,K),Y.target=tt,Y.relatedTarget=B,ee=null,Vn(K)===z&&(Ne=new Ne(L,_+"enter",ye,a,K),Ne.target=B,Ne.relatedTarget=tt,ee=Ne),tt=ee,Z&&ye)t:{for(Ne=Z,L=ye,_=0,B=Ne;B;B=al(B))_++;for(B=0,ee=L;ee;ee=al(ee))B++;for(;0<_-B;)Ne=al(Ne),_--;for(;0<B-_;)L=al(L),B--;for(;_--;){if(Ne===L||L!==null&&Ne===L.alternate)break t;Ne=al(Ne),L=al(L)}Ne=null}else Ne=null;Z!==null&&km(ne,Y,Z,Ne,!1),ye!==null&&tt!==null&&km(ne,tt,ye,Ne,!0)}}e:{if(Y=z?Rl(z):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var me=uf;else if(cf(Y))if(df)me=gv;else{me=mv;var Oe=hv}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?z&&Yc(z.elementType)&&(me=uf):me=pv;if(me&&(me=me(e,z))){of(ne,me,a,K);break e}Oe&&Oe(e,Y,z),e==="focusout"&&z&&Y.type==="number"&&z.memoizedProps.value!=null&&Ic(Y,"number",Y.value)}switch(Oe=z?Rl(z):window,e){case"focusin":(cf(Oe)||Oe.contentEditable==="true")&&(zs=Oe,ao=z,ql=null);break;case"focusout":ql=ao=zs=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,xf(ne,a,K);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":xf(ne,a,K)}var ve;if(Pc)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Ms?lf(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(af&&a.locale!=="ko"&&(Ms||be!=="onCompositionStart"?be==="onCompositionEnd"&&Ms&&(ve=Jd()):(cn=K,Xc="value"in cn?cn.value:cn.textContent,Ms=!0)),Oe=Yi(z,be),0<Oe.length&&(be=new ef(be,e,null,a,K),ne.push({event:be,listeners:Oe}),ve?be.data=ve:(ve=rf(a),ve!==null&&(be.data=ve)))),(ve=cv?ov(e,a):uv(e,a))&&(be=Yi(z,"onBeforeInput"),0<be.length&&(Oe=new ef("onBeforeInput","beforeinput",null,a,K),ne.push({event:Oe,listeners:be}),Oe.data=ve)),t0(ne,e,z,a,K)}Lm(ne,t)})}function hr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Yi(e,t){for(var a=t+"Capture",l=[];e!==null;){var o=e,d=o.stateNode;o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Dl(e,a),o!=null&&l.unshift(hr(e,o,d)),o=Dl(e,t),o!=null&&l.push(hr(e,o,d))),e=e.return}return l}function al(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function km(e,t,a,l,o){for(var d=t._reactName,g=[];a!==null&&a!==l;){var S=a,w=S.alternate,z=S.stateNode;if(S=S.tag,w!==null&&w===l)break;S!==5&&S!==26&&S!==27||z===null||(w=z,o?(z=Dl(a,d),z!=null&&g.unshift(hr(a,z,w))):o||(z=Dl(a,d),z!=null&&g.push(hr(a,z,w)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var l0=/\r\n?/g,r0=/\u0000|\uFFFD/g;function Bm(e){return(typeof e=="string"?e:""+e).replace(l0,`
`).replace(r0,"")}function qm(e,t){return t=Bm(t),Bm(e)===t}function Fi(){}function Fe(e,t,a,l,o,d){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Rs(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Rs(e,""+l);break;case"className":Jr(e,"class",l);break;case"tabIndex":Jr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(e,a,l);break;case"style":Gd(e,l,d);break;case"data":if(t!=="object"){Jr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ei(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Fe(e,t,"name",o.name,o,null),Fe(e,t,"formEncType",o.formEncType,o,null),Fe(e,t,"formMethod",o.formMethod,o,null),Fe(e,t,"formTarget",o.formTarget,o,null)):(Fe(e,t,"encType",o.encType,o,null),Fe(e,t,"method",o.method,o,null),Fe(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ei(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Fi);break;case"onScroll":l!=null&&Me("scroll",e);break;case"onScrollEnd":l!=null&&Me("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ei(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Me("beforetoggle",e),Me("toggle",e),Kr(e,"popover",l);break;case"xlinkActuate":La(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":La(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":La(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":La(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":La(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":La(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":La(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":La(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":La(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Kr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ly.get(a)||a,Kr(e,a,l))}}function Au(e,t,a,l,o,d){switch(a){case"style":Gd(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Rs(e,l):(typeof l=="number"||typeof l=="bigint")&&Rs(e,""+l);break;case"onScroll":l!=null&&Me("scroll",e);break;case"onScrollEnd":l!=null&&Me("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[zt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,o);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Kr(e,a,l)}}}function jt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",e),Me("load",e);var l=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,d,g,a,null)}}o&&Fe(e,t,"srcSet",a.srcSet,a,null),l&&Fe(e,t,"src",a.src,a,null);return;case"input":Me("invalid",e);var S=d=g=o=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":o=K;break;case"type":g=K;break;case"checked":w=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,t));break;default:Fe(e,t,l,K,a,null)}}Qd(e,d,S,w,z,g,o,!1),Pr(e);return;case"select":Me("invalid",e),l=g=d=null;for(o in a)if(a.hasOwnProperty(o)&&(S=a[o],S!=null))switch(o){case"value":d=S;break;case"defaultValue":g=S;break;case"multiple":l=S;default:Fe(e,t,o,S,a,null)}t=d,a=g,e.multiple=!!l,t!=null?Cs(e,!!l,t,!1):a!=null&&Cs(e,!!l,a,!0);return;case"textarea":Me("invalid",e),d=o=l=null;for(g in a)if(a.hasOwnProperty(g)&&(S=a[g],S!=null))switch(g){case"value":l=S;break;case"defaultValue":o=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:Fe(e,t,g,S,a,null)}$d(e,l,o,d),Pr(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Fe(e,t,w,l,a,null)}return;case"dialog":Me("cancel",e),Me("close",e);break;case"iframe":case"object":Me("load",e);break;case"video":case"audio":for(l=0;l<fr.length;l++)Me(fr[l],e);break;case"image":Me("error",e),Me("load",e);break;case"details":Me("toggle",e);break;case"embed":case"source":case"link":Me("error",e),Me("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,z,l,a,null)}return;default:if(Yc(t)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Au(e,t,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Fe(e,t,S,l,a,null))}function i0(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,g=null,S=null,w=null,z=null,K=null;for(Z in a){var ne=a[Z];if(a.hasOwnProperty(Z)&&ne!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":w=ne;default:l.hasOwnProperty(Z)||Fe(e,t,Z,null,l,ne)}}for(var Y in l){var Z=l[Y];if(ne=a[Y],l.hasOwnProperty(Y)&&(Z!=null||ne!=null))switch(Y){case"type":d=Z;break;case"name":o=Z;break;case"checked":z=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,t));break;default:Z!==ne&&Fe(e,t,Y,Z,l,ne)}}Hc(e,g,S,w,z,K,d,o);return;case"select":Z=g=S=Y=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":Z=w;default:l.hasOwnProperty(d)||Fe(e,t,d,null,l,w)}for(o in l)if(d=l[o],w=a[o],l.hasOwnProperty(o)&&(d!=null||w!=null))switch(o){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":g=d;default:d!==w&&Fe(e,t,o,d,l,w)}t=S,a=g,l=Z,Y!=null?Cs(e,!!a,Y,!1):!!l!=!!a&&(t!=null?Cs(e,!!a,t,!0):Cs(e,!!a,a?[]:"",!1));return;case"textarea":Z=Y=null;for(S in a)if(o=a[S],a.hasOwnProperty(S)&&o!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Fe(e,t,S,null,l,o)}for(g in l)if(o=l[g],d=a[g],l.hasOwnProperty(g)&&(o!=null||d!=null))switch(g){case"value":Y=o;break;case"defaultValue":Z=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==d&&Fe(e,t,g,o,l,d)}Vd(e,Y,Z);return;case"option":for(var ye in a)if(Y=a[ye],a.hasOwnProperty(ye)&&Y!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Fe(e,t,ye,null,l,Y)}for(w in l)if(Y=l[w],Z=a[w],l.hasOwnProperty(w)&&Y!==Z&&(Y!=null||Z!=null))switch(w){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Fe(e,t,w,Y,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)Y=a[Ne],a.hasOwnProperty(Ne)&&Y!=null&&!l.hasOwnProperty(Ne)&&Fe(e,t,Ne,null,l,Y);for(z in l)if(Y=l[z],Z=a[z],l.hasOwnProperty(z)&&Y!==Z&&(Y!=null||Z!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,t));break;default:Fe(e,t,z,Y,l,Z)}return;default:if(Yc(t)){for(var tt in a)Y=a[tt],a.hasOwnProperty(tt)&&Y!==void 0&&!l.hasOwnProperty(tt)&&Au(e,t,tt,void 0,l,Y);for(K in l)Y=l[K],Z=a[K],!l.hasOwnProperty(K)||Y===Z||Y===void 0&&Z===void 0||Au(e,t,K,Y,l,Z);return}}for(var L in a)Y=a[L],a.hasOwnProperty(L)&&Y!=null&&!l.hasOwnProperty(L)&&Fe(e,t,L,null,l,Y);for(ne in l)Y=l[ne],Z=a[ne],!l.hasOwnProperty(ne)||Y===Z||Y==null&&Z==null||Fe(e,t,ne,Y,l,Z)}var Ou=null,Cu=null;function Qi(e){return e.nodeType===9?e:e.ownerDocument}function Hm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Im(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=null;function c0(){var e=window.event;return e&&e.type==="popstate"?e===Du?!1:(Du=e,!0):(Du=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,o0=typeof clearTimeout=="function"?clearTimeout:void 0,Fm=typeof Promise=="function"?Promise:void 0,u0=typeof queueMicrotask=="function"?queueMicrotask:typeof Fm<"u"?function(e){return Fm.resolve(null).then(e).catch(d0)}:Ym;function d0(e){setTimeout(function(){throw e})}function _u(e,t){var a=t,l=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(l===0){e.removeChild(o),jr(t);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=o}while(a);jr(t)}function Mu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mu(a),qc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function f0(e,t,a,l){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Cl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ya(e.nextSibling),e===null)break}return null}function h0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ya(e.nextSibling),e===null))return null;return e}function ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Vm(e,t,a){switch(t=Qi(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}var ia=new Map,$m=new Set;function Vi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Ka=V.d;V.d={f:m0,r:p0,D:g0,C:y0,L:v0,m:x0,X:j0,S:b0,M:S0};function m0(){var e=Ka.f(),t=ki();return e||t}function p0(e){var t=ws(e);t!==null&&t.tag===5&&t.type==="form"?xh(t):Ka.r(e)}var nl=typeof document>"u"?null:document;function Xm(e,t,a){var l=nl;if(l&&typeof t=="string"&&t){var o=Jt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),$m.has(o)||($m.add(o),e={rel:e,crossOrigin:a,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),jt(t,"link",e),pt(t),l.head.appendChild(t)))}}function g0(e){Ka.D(e),Xm("dns-prefetch",e,null)}function y0(e,t){Ka.C(e,t),Xm("preconnect",e,t)}function v0(e,t,a){Ka.L(e,t,a);var l=nl;if(l&&e&&t){var o='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Jt(a.imageSizes)+'"]')):o+='[href="'+Jt(e)+'"]';var d=o;switch(t){case"style":d=sl(e);break;case"script":d=ll(e)}ia.has(d)||(e=q({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ia.set(d,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(mr(d))||t==="script"&&l.querySelector(pr(d))||(t=l.createElement("link"),jt(t,"link",e),pt(t),l.head.appendChild(t)))}}function x0(e,t){Ka.m(e,t);var a=nl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(e)+'"]',d=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ll(e)}if(!ia.has(d)&&(e=q({rel:"modulepreload",href:e},t),ia.set(d,e),a.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pr(d)))return}l=a.createElement("link"),jt(l,"link",e),pt(l),a.head.appendChild(l)}}}function b0(e,t,a){Ka.S(e,t,a);var l=nl;if(l&&e){var o=As(l).hoistableStyles,d=sl(e);t=t||"default";var g=o.get(d);if(!g){var S={loading:0,preload:null};if(g=l.querySelector(mr(d)))S.loading=5;else{e=q({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ia.get(d))&&zu(e,a);var w=g=l.createElement("link");pt(w),jt(w,"link",e),w._p=new Promise(function(z,K){w.onload=z,w.onerror=K}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,$i(g,t,l)}g={type:"stylesheet",instance:g,count:1,state:S},o.set(d,g)}}}function j0(e,t){Ka.X(e,t);var a=nl;if(a&&e){var l=As(a).hoistableScripts,o=ll(e),d=l.get(o);d||(d=a.querySelector(pr(o)),d||(e=q({src:e,async:!0},t),(t=ia.get(o))&&Lu(e,t),d=a.createElement("script"),pt(d),jt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function S0(e,t){Ka.M(e,t);var a=nl;if(a&&e){var l=As(a).hoistableScripts,o=ll(e),d=l.get(o);d||(d=a.querySelector(pr(o)),d||(e=q({src:e,async:!0,type:"module"},t),(t=ia.get(o))&&Lu(e,t),d=a.createElement("script"),pt(d),jt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function Gm(e,t,a,l){var o=(o=ze.current)?Vi(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=sl(a.href),a=As(o).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=sl(a.href);var d=As(o).hoistableStyles,g=d.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=o.querySelector(mr(e)))&&!d._p&&(g.instance=d,g.state.loading=5),ia.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ia.set(e,a),d||N0(o,e,a,g.state))),t&&l===null)throw Error(i(528,""));return g}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ll(a),a=As(o).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function sl(e){return'href="'+Jt(e)+'"'}function mr(e){return'link[rel="stylesheet"]['+e+"]"}function Zm(e){return q({},e,{"data-precedence":e.precedence,precedence:null})}function N0(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),jt(t,"link",a),pt(t),e.head.appendChild(t))}function ll(e){return'[src="'+Jt(e)+'"]'}function pr(e){return"script[async]"+e}function Km(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(l)return t.instance=l,pt(l),l;var o=q({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pt(l),jt(l,"style",o),$i(l,a.precedence,e),t.instance=l;case"stylesheet":o=sl(a.href);var d=e.querySelector(mr(o));if(d)return t.state.loading|=4,t.instance=d,pt(d),d;l=Zm(a),(o=ia.get(o))&&zu(l,o),d=(e.ownerDocument||e).createElement("link"),pt(d);var g=d;return g._p=new Promise(function(S,w){g.onload=S,g.onerror=w}),jt(d,"link",l),t.state.loading|=4,$i(d,a.precedence,e),t.instance=d;case"script":return d=ll(a.src),(o=e.querySelector(pr(d)))?(t.instance=o,pt(o),o):(l=a,(o=ia.get(d))&&(l=q({},a),Lu(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),pt(o),jt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,$i(l,a.precedence,e));return t.instance}function $i(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,d=o,g=0;g<l.length;g++){var S=l[g];if(S.dataset.precedence===t)d=S;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xi=null;function Jm(e,t,a){if(Xi===null){var l=new Map,o=Xi=new Map;o.set(a,l)}else o=Xi,l=o.get(a),l||(l=new Map,o.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Cl]||d[Nt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var S=l.get(g);S?S.push(d):l.set(g,[d])}}return l}function Pm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function E0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var gr=null;function T0(){}function w0(e,t,a){if(gr===null)throw Error(i(475));var l=gr;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=sl(a.href),d=e.querySelector(mr(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Gi.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=d,pt(d);return}d=e.ownerDocument||e,a=Zm(a),(o=ia.get(o))&&zu(a,o),d=d.createElement("link"),pt(d);var g=d;g._p=new Promise(function(S,w){g.onload=S,g.onerror=w}),jt(d,"link",a),t.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Gi.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function A0(){if(gr===null)throw Error(i(475));var e=gr;return e.stylesheets&&e.count===0&&Uu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Uu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Gi(){if(this.count--,this.count===0){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zi=null;function Uu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zi=new Map,t.forEach(O0,e),Zi=null,Gi.call(e))}function O0(e,t){if(!(t.state.loading&4)){var a=Zi.get(e);if(a)var l=a.get(null);else{a=new Map,Zi.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var g=o[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}o=t.instance,g=o.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,o),a.set(g,o),this.count++,l=Gi.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var yr={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function C0(e,t,a,l,o,d,g,S){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.hiddenUpdates=kc(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function ep(e,t,a,l,o,d,g,S,w,z,K,ne){return e=new C0(e,t,a,g,S,w,z,ne),t=1,d===!0&&(t|=24),d=la(3,null,null,t),e.current=d,d.stateNode=e,t=mo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:t},Go(d),e}function tp(e){return e?(e=ks,e):ks}function ap(e,t,a,l,o,d){o=tp(o),l.context===null?l.context=o:l.pendingContext=o,l=gn(t),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yn(e,l,t),a!==null&&(Rt(a,e,t),er(a,e,t))}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ku(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function sp(e){if(e.tag===13){var t=on(e,67108864);t!==null&&Rt(t,e,67108864),ku(e,67108864)}}var Ki=!0;function R0(e,t,a,l){var o=J.T;J.T=null;var d=V.p;try{V.p=2,Bu(e,t,a,l)}finally{V.p=d,J.T=o}}function D0(e,t,a,l){var o=J.T;J.T=null;var d=V.p;try{V.p=8,Bu(e,t,a,l)}finally{V.p=d,J.T=o}}function Bu(e,t,a,l){if(Ki){var o=qu(l);if(o===null)wu(e,t,l,Ji,a),rp(e,l);else if(M0(o,e,t,a,l))l.stopPropagation();else if(rp(e,l),t&4&&-1<_0.indexOf(e)){for(;o!==null;){var d=ws(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Qn(d.pendingLanes);if(g!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var w=1<<31-It(g);S.entanglements[1]|=w,g&=~w}Ca(d),(Pe&6)===0&&(zi=_e()+500,dr(0))}}break;case 13:S=on(d,2),S!==null&&Rt(S,d,2),ki(),ku(d,2)}if(d=qu(l),d===null&&wu(e,t,l,Ji,a),d===o)break;o=d}o!==null&&l.stopPropagation()}else wu(e,t,l,null,a)}}function qu(e){return e=Qc(e),Hu(e)}var Ji=null;function Hu(e){if(Ji=null,e=Vn(e),e!==null){var t=ae(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=he(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ji=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case Zt:return 2;case Tl:return 8;case Fn:case $r:return 32;case sn:return 268435456;default:return 32}default:return 32}}var Iu=!1,En=null,Tn=null,wn=null,vr=new Map,xr=new Map,An=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rp(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(t.pointerId)}}function br(e,t,a,l,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[o]},t!==null&&(t=ws(t),t!==null&&sp(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function M0(e,t,a,l,o){switch(t){case"focusin":return En=br(En,e,t,a,l,o),!0;case"dragenter":return Tn=br(Tn,e,t,a,l,o),!0;case"mouseover":return wn=br(wn,e,t,a,l,o),!0;case"pointerover":var d=o.pointerId;return vr.set(d,br(vr.get(d)||null,e,t,a,l,o)),!0;case"gotpointercapture":return d=o.pointerId,xr.set(d,br(xr.get(d)||null,e,t,a,l,o)),!0}return!1}function ip(e){var t=Vn(e.target);if(t!==null){var a=ae(t);if(a!==null){if(t=a.tag,t===13){if(t=he(a),t!==null){e.blockedOn=t,Ay(e.priority,function(){if(a.tag===13){var l=$t(),o=on(a,l);o!==null&&Rt(o,a,l),ku(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=qu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Fc=l,a.target.dispatchEvent(l),Fc=null}else return t=ws(a),t!==null&&sp(t),e.blockedOn=a,!1;t.shift()}return!0}function cp(e,t,a){Pi(e)&&a.delete(t)}function z0(){Iu=!1,En!==null&&Pi(En)&&(En=null),Tn!==null&&Pi(Tn)&&(Tn=null),wn!==null&&Pi(wn)&&(wn=null),vr.forEach(cp),xr.forEach(cp)}function Wi(e,t){e.blockedOn===t&&(e.blockedOn=null,Iu||(Iu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,z0)))}var ec=null;function op(e){ec!==e&&(ec=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ec===e&&(ec=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Hu(l||a)===null)continue;break}var d=ws(a);d!==null&&(e.splice(t,3),t-=3,Ro(d,{pending:!0,data:o,method:a.method,action:l},l,o))}}))}function jr(e){function t(w){return Wi(w,e)}En!==null&&Wi(En,e),Tn!==null&&Wi(Tn,e),wn!==null&&Wi(wn,e),vr.forEach(t),xr.forEach(t);for(var a=0;a<An.length;a++){var l=An[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<An.length&&(a=An[0],a.blockedOn===null);)ip(a),a.blockedOn===null&&An.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var o=a[l],d=a[l+1],g=o[zt]||null;if(typeof d=="function")g||op(a);else if(g){var S=null;if(d&&d.hasAttribute("formAction")){if(o=d,g=d[zt]||null)S=g.formAction;else if(Hu(o)!==null)continue}else S=g.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),op(a)}}}function Yu(e){this._internalRoot=e}tc.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,l=$t();ap(a,l,e,t,null,null)},tc.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&el(),ap(e.current,2,null,e,null,null),ki(),t[Ts]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ud();e={blockedOn:null,target:e,priority:t};for(var a=0;a<An.length&&t!==0&&t<An[a].priority;a++);An.splice(a,0,e),a===0&&ip(e)}};var up=s.version;if(up!=="19.0.0")throw Error(i(527,up,"19.0.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=M(t),e=e!==null?Q(e):null,e=e===null?null:e.stateNode,e};var L0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:J,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{wl=ac.inject(L0),Ht=ac}catch{}}return Nr.createRoot=function(e,t){if(!u(e))throw Error(i(299));var a=!1,l="",o=Ah,d=Oh,g=Ch,S=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(S=t.unstable_transitionCallbacks)),t=ep(e,1,!1,null,null,a,l,o,d,g,S,null),e[Ts]=t.current,Tu(e.nodeType===8?e.parentNode:e),new Yu(t)},Nr.hydrateRoot=function(e,t,a){if(!u(e))throw Error(i(299));var l=!1,o="",d=Ah,g=Oh,S=Ch,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),t=ep(e,1,!0,t,a??null,l,o,d,g,S,w,z),t.context=tp(null),a=t.current,l=$t(),o=gn(l),o.callback=null,yn(a,o,l),t.current.lanes=l,Ol(t,l),Ca(t),e[Ts]=t.current,Tu(e),new tc(t)},Nr.version="19.0.0",Nr}var Sp;function $0(){if(Sp)return $u.exports;Sp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),$u.exports=V0(),$u.exports}var X0=$0(),Er={},Np;function G0(){if(Np)return Er;Np=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.parse=h,Er.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,f=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function h(E,A){const N=new f,O=E.length;if(O<2)return N;const T=(A==null?void 0:A.decode)||v;let D=0;do{const R=E.indexOf("=",D);if(R===-1)break;const C=E.indexOf(";",D),U=C===-1?O:C;if(R>U){D=E.lastIndexOf(";",R-1)+1;continue}const I=p(E,D,R),F=y(E,R,I),le=E.slice(I,F);if(N[le]===void 0){let ie=p(E,R+1,U),J=y(E,U,ie);const q=T(E.slice(ie,J));N[le]=q}D=U+1}while(D<O);return N}function p(E,A,N){do{const O=E.charCodeAt(A);if(O!==32&&O!==9)return A}while(++A<N);return N}function y(E,A,N){for(;A>N;){const O=E.charCodeAt(--A);if(O!==32&&O!==9)return A+1}return N}function m(E,A,N){const O=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const T=O(A);if(!s.test(T))throw new TypeError(`argument val is invalid: ${A}`);let D=E+"="+T;if(!N)return D;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);D+="; Max-Age="+N.maxAge}if(N.domain){if(!c.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);D+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);D+="; Path="+N.path}if(N.expires){if(!x(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);D+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(D+="; HttpOnly"),N.secure&&(D+="; Secure"),N.partitioned&&(D+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return D}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function x(E){return u.call(E)==="[object Date]"}return Er}G0();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ep="popstate";function Z0(n={}){function s(i,u){let{pathname:f,search:h,hash:p}=i.location;return ad("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function c(i,u){return typeof u=="string"?u:Or(u)}return J0(s,c,null,n)}function Ke(n,s){if(n===!1||n===null||typeof n>"u")throw new Error(s)}function ua(n,s){if(!n){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function K0(){return Math.random().toString(36).substring(2,10)}function Tp(n,s){return{usr:n.state,key:n.key,idx:s}}function ad(n,s,c=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof s=="string"?vl(s):s,state:c,key:s&&s.key||i||K0()}}function Or({pathname:n="/",search:s="",hash:c=""}){return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),c&&c!=="#"&&(n+=c.charAt(0)==="#"?c:"#"+c),n}function vl(n){let s={};if(n){let c=n.indexOf("#");c>=0&&(s.hash=n.substring(c),n=n.substring(0,c));let i=n.indexOf("?");i>=0&&(s.search=n.substring(i),n=n.substring(0,i)),n&&(s.pathname=n)}return s}function J0(n,s,c,i={}){let{window:u=document.defaultView,v5Compat:f=!1}=i,h=u.history,p="POP",y=null,m=v();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function v(){return(h.state||{idx:null}).idx}function x(){p="POP";let T=v(),D=T==null?null:T-m;m=T,y&&y({action:p,location:O.location,delta:D})}function E(T,D){p="PUSH";let R=ad(O.location,T,D);m=v()+1;let C=Tp(R,m),U=O.createHref(R);try{h.pushState(C,"",U)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;u.location.assign(U)}f&&y&&y({action:p,location:O.location,delta:1})}function A(T,D){p="REPLACE";let R=ad(O.location,T,D);m=v();let C=Tp(R,m),U=O.createHref(R);h.replaceState(C,"",U),f&&y&&y({action:p,location:O.location,delta:0})}function N(T){let D=u.location.origin!=="null"?u.location.origin:u.location.href,R=typeof T=="string"?T:Or(T);return R=R.replace(/ $/,"%20"),Ke(D,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,D)}let O={get action(){return p},get location(){return n(u,h)},listen(T){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(Ep,x),y=T,()=>{u.removeEventListener(Ep,x),y=null}},createHref(T){return s(u,T)},createURL:N,encodeLocation(T){let D=N(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:E,replace:A,go(T){return h.go(T)}};return O}function mg(n,s,c="/"){return P0(n,s,c,!1)}function P0(n,s,c,i){let u=typeof s=="string"?vl(s):s,f=nn(u.pathname||"/",c);if(f==null)return null;let h=pg(n);W0(h);let p=null;for(let y=0;p==null&&y<h.length;++y){let m=ux(f);p=cx(h[y],m,i)}return p}function pg(n,s=[],c=[],i=""){let u=(f,h,p)=>{let y={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};y.relativePath.startsWith("/")&&(Ke(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length));let m=tn([i,y.relativePath]),v=c.concat(y);f.children&&f.children.length>0&&(Ke(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),pg(f.children,s,v,m)),!(f.path==null&&!f.index)&&s.push({path:m,score:rx(m,f.index),routesMeta:v})};return n.forEach((f,h)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,h);else for(let y of gg(f.path))u(f,h,y)}),s}function gg(n){let s=n.split("/");if(s.length===0)return[];let[c,...i]=s,u=c.endsWith("?"),f=c.replace(/\?$/,"");if(i.length===0)return u?[f,""]:[f];let h=gg(i.join("/")),p=[];return p.push(...h.map(y=>y===""?f:[f,y].join("/"))),u&&p.push(...h),p.map(y=>n.startsWith("/")&&y===""?"/":y)}function W0(n){n.sort((s,c)=>s.score!==c.score?c.score-s.score:ix(s.routesMeta.map(i=>i.childrenIndex),c.routesMeta.map(i=>i.childrenIndex)))}var ex=/^:[\w-]+$/,tx=3,ax=2,nx=1,sx=10,lx=-2,wp=n=>n==="*";function rx(n,s){let c=n.split("/"),i=c.length;return c.some(wp)&&(i+=lx),s&&(i+=ax),c.filter(u=>!wp(u)).reduce((u,f)=>u+(ex.test(f)?tx:f===""?nx:sx),i)}function ix(n,s){return n.length===s.length&&n.slice(0,-1).every((i,u)=>i===s[u])?n[n.length-1]-s[s.length-1]:0}function cx(n,s,c=!1){let{routesMeta:i}=n,u={},f="/",h=[];for(let p=0;p<i.length;++p){let y=i[p],m=p===i.length-1,v=f==="/"?s:s.slice(f.length)||"/",x=pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),E=y.route;if(!x&&m&&c&&!i[i.length-1].route.index&&(x=pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:tn([f,x.pathname]),pathnameBase:mx(tn([f,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(f=tn([f,x.pathnameBase]))}return h}function pc(n,s){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[c,i]=ox(n.path,n.caseSensitive,n.end),u=s.match(c);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:x},E)=>{if(v==="*"){let N=p[E]||"";h=f.slice(0,f.length-N.length).replace(/(.)\/+$/,"$1")}const A=p[E];return x&&!A?m[v]=void 0:m[v]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:h,pattern:n}}function ox(n,s=!1,c=!0){ua(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,y)=>(i.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,s?void 0:"i"),i]}function ux(n){try{return n.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return ua(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),n}}function nn(n,s){if(s==="/")return n;if(!n.toLowerCase().startsWith(s.toLowerCase()))return null;let c=s.endsWith("/")?s.length-1:s.length,i=n.charAt(c);return i&&i!=="/"?null:n.slice(c)||"/"}function dx(n,s="/"){let{pathname:c,search:i="",hash:u=""}=typeof n=="string"?vl(n):n;return{pathname:c?c.startsWith("/")?c:fx(c,s):s,search:px(i),hash:gx(u)}}function fx(n,s){let c=s.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?c.length>1&&c.pop():u!=="."&&c.push(u)}),c.length>1?c.join("/"):"/"}function Ku(n,s,c,i){return`Cannot include a '${n}' character in a manually specified \`to.${s}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hx(n){return n.filter((s,c)=>c===0||s.route.path&&s.route.path.length>0)}function pd(n){let s=hx(n);return s.map((c,i)=>i===s.length-1?c.pathname:c.pathnameBase)}function gd(n,s,c,i=!1){let u;typeof n=="string"?u=vl(n):(u={...n},Ke(!u.pathname||!u.pathname.includes("?"),Ku("?","pathname","search",u)),Ke(!u.pathname||!u.pathname.includes("#"),Ku("#","pathname","hash",u)),Ke(!u.search||!u.search.includes("#"),Ku("#","search","hash",u)));let f=n===""||u.pathname==="",h=f?"/":u.pathname,p;if(h==null)p=c;else{let x=s.length-1;if(!i&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),x-=1;u.pathname=E.join("/")}p=x>=0?s[x]:"/"}let y=dx(u,p),m=h&&h!=="/"&&h.endsWith("/"),v=(f||h===".")&&c.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var tn=n=>n.join("/").replace(/\/\/+/g,"/"),mx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),px=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var yg=["POST","PUT","PATCH","DELETE"];new Set(yg);var vx=["GET",...yg];new Set(vx);var xl=b.createContext(null);xl.displayName="DataRouter";var Nc=b.createContext(null);Nc.displayName="DataRouterState";var vg=b.createContext({isTransitioning:!1});vg.displayName="ViewTransition";var xx=b.createContext(new Map);xx.displayName="Fetchers";var bx=b.createContext(null);bx.displayName="Await";var Na=b.createContext(null);Na.displayName="Navigation";var Lr=b.createContext(null);Lr.displayName="Location";var da=b.createContext({outlet:null,matches:[],isDataRoute:!1});da.displayName="Route";var yd=b.createContext(null);yd.displayName="RouteError";function jx(n,{relative:s}={}){Ke(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:i}=b.useContext(Na),{hash:u,pathname:f,search:h}=Ur(n,{relative:s}),p=f;return c!=="/"&&(p=f==="/"?c:tn([c,f])),i.createHref({pathname:p,search:h,hash:u})}function bl(){return b.useContext(Lr)!=null}function qt(){return Ke(bl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Lr).location}var xg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bg(n){b.useContext(Na).static||b.useLayoutEffect(n)}function fa(){let{isDataRoute:n}=b.useContext(da);return n?Ux():Sx()}function Sx(){Ke(bl(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(xl),{basename:s,navigator:c}=b.useContext(Na),{matches:i}=b.useContext(da),{pathname:u}=qt(),f=JSON.stringify(pd(i)),h=b.useRef(!1);return bg(()=>{h.current=!0}),b.useCallback((y,m={})=>{if(ua(h.current,xg),!h.current)return;if(typeof y=="number"){c.go(y);return}let v=gd(y,JSON.parse(f),u,m.relative==="path");n==null&&s!=="/"&&(v.pathname=v.pathname==="/"?s:tn([s,v.pathname])),(m.replace?c.replace:c.push)(v,m.state,m)},[s,c,f,u,n])}var Nx=b.createContext(null);function Ex(n){let s=b.useContext(da).outlet;return s&&b.createElement(Nx.Provider,{value:n},s)}function Ec(){let{matches:n}=b.useContext(da),s=n[n.length-1];return s?s.params:{}}function Ur(n,{relative:s}={}){let{matches:c}=b.useContext(da),{pathname:i}=qt(),u=JSON.stringify(pd(c));return b.useMemo(()=>gd(n,JSON.parse(u),i,s==="path"),[n,u,i,s])}function Tx(n,s){return jg(n,s)}function jg(n,s,c,i){var R;Ke(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:f}=b.useContext(Na),{matches:h}=b.useContext(da),p=h[h.length-1],y=p?p.params:{},m=p?p.pathname:"/",v=p?p.pathnameBase:"/",x=p&&p.route;{let C=x&&x.path||"";Sg(m,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let E=qt(),A;if(s){let C=typeof s=="string"?vl(s):s;Ke(v==="/"||((R=C.pathname)==null?void 0:R.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${C.pathname}" was given in the \`location\` prop.`),A=C}else A=E;let N=A.pathname||"/",O=N;if(v!=="/"){let C=v.replace(/^\//,"").split("/");O="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let T=!f&&c&&c.matches&&c.matches.length>0?c.matches:mg(n,{pathname:O});ua(x||T!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ua(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=Rx(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},y,C.params),pathname:tn([v,u.encodeLocation?u.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?v:tn([v,u.encodeLocation?u.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),h,c,i);return s&&D?b.createElement(Lr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},D):D}function wx(){let n=Lx(),s=yx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),c=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},f={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:f},"ErrorBoundary")," or"," ",b.createElement("code",{style:f},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},s),c?b.createElement("pre",{style:u},c):null,h)}var Ax=b.createElement(wx,null),Ox=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?b.createElement(da.Provider,{value:this.props.routeContext},b.createElement(yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cx({routeContext:n,match:s,children:c}){let i=b.useContext(xl);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),b.createElement(da.Provider,{value:n},c)}function Rx(n,s=[],c=null,i=null){if(n==null){if(!c)return null;if(c.errors)n=c.matches;else if(s.length===0&&!c.initialized&&c.matches.length>0)n=c.matches;else return null}let u=n,f=c==null?void 0:c.errors;if(f!=null){let y=u.findIndex(m=>m.route.id&&(f==null?void 0:f[m.route.id])!==void 0);Ke(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,p=-1;if(c)for(let y=0;y<u.length;y++){let m=u[y];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=y),m.route.id){let{loaderData:v,errors:x}=c,E=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||E){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,m,v)=>{let x,E=!1,A=null,N=null;c&&(x=f&&m.route.id?f[m.route.id]:void 0,A=m.route.errorElement||Ax,h&&(p<0&&v===0?(Sg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):p===v&&(E=!0,N=m.route.hydrateFallbackElement||null)));let O=s.concat(u.slice(0,v+1)),T=()=>{let D;return x?D=A:E?D=N:m.route.Component?D=b.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=y,b.createElement(Cx,{match:m,routeContext:{outlet:y,matches:O,isDataRoute:c!=null},children:D})};return c&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?b.createElement(Ox,{location:c.location,revalidation:c.revalidation,component:A,error:x,children:T(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):T()},null)}function vd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dx(n){let s=b.useContext(xl);return Ke(s,vd(n)),s}function _x(n){let s=b.useContext(Nc);return Ke(s,vd(n)),s}function Mx(n){let s=b.useContext(da);return Ke(s,vd(n)),s}function xd(n){let s=Mx(n),c=s.matches[s.matches.length-1];return Ke(c.route.id,`${n} can only be used on routes that contain a unique "id"`),c.route.id}function zx(){return xd("useRouteId")}function Lx(){var i;let n=b.useContext(yd),s=_x("useRouteError"),c=xd("useRouteError");return n!==void 0?n:(i=s.errors)==null?void 0:i[c]}function Ux(){let{router:n}=Dx("useNavigate"),s=xd("useNavigate"),c=b.useRef(!1);return bg(()=>{c.current=!0}),b.useCallback(async(u,f={})=>{ua(c.current,xg),c.current&&(typeof u=="number"?n.navigate(u):await n.navigate(u,{fromRouteId:s,...f}))},[n,s])}var Ap={};function Sg(n,s,c){!s&&!Ap[n]&&(Ap[n]=!0,ua(!1,c))}b.memo(kx);function kx({routes:n,future:s,state:c}){return jg(n,void 0,c,s)}function gc({to:n,replace:s,state:c,relative:i}){Ke(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=b.useContext(Na);ua(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=b.useContext(da),{pathname:h}=qt(),p=fa(),y=gd(n,pd(f),h,i==="path"),m=JSON.stringify(y);return b.useEffect(()=>{p(JSON.parse(m),{replace:s,state:c,relative:i})},[p,m,i,s,c]),null}function kr(n){return Ex(n.context)}function mt(n){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bx({basename:n="/",children:s=null,location:c,navigationType:i="POP",navigator:u,static:f=!1}){Ke(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=b.useMemo(()=>({basename:h,navigator:u,static:f,future:{}}),[h,u,f]);typeof c=="string"&&(c=vl(c));let{pathname:y="/",search:m="",hash:v="",state:x=null,key:E="default"}=c,A=b.useMemo(()=>{let N=nn(y,h);return N==null?null:{location:{pathname:N,search:m,hash:v,state:x,key:E},navigationType:i}},[h,y,m,v,x,E,i]);return ua(A!=null,`<Router basename="${h}"> is not able to match the URL "${y}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:b.createElement(Na.Provider,{value:p},b.createElement(Lr.Provider,{children:s,value:A}))}function qx({children:n,location:s}){return Tx(nd(n),s)}function nd(n,s=[]){let c=[];return b.Children.forEach(n,(i,u)=>{if(!b.isValidElement(i))return;let f=[...s,u];if(i.type===b.Fragment){c.push.apply(c,nd(i.props.children,f));return}Ke(i.type===mt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||f.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=nd(i.props.children,f)),c.push(h)}),c}var ic="get",cc="application/x-www-form-urlencoded";function Tc(n){return n!=null&&typeof n.tagName=="string"}function Hx(n){return Tc(n)&&n.tagName.toLowerCase()==="button"}function Ix(n){return Tc(n)&&n.tagName.toLowerCase()==="form"}function Yx(n){return Tc(n)&&n.tagName.toLowerCase()==="input"}function Fx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Qx(n,s){return n.button===0&&(!s||s==="_self")&&!Fx(n)}function sd(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((s,c)=>{let i=n[c];return s.concat(Array.isArray(i)?i.map(u=>[c,u]):[[c,i]])},[]))}function Vx(n,s){let c=sd(n);return s&&s.forEach((i,u)=>{c.has(u)||s.getAll(u).forEach(f=>{c.append(u,f)})}),c}var sc=null;function $x(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var Xx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ju(n){return n!=null&&!Xx.has(n)?(ua(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):n}function Gx(n,s){let c,i,u,f,h;if(Ix(n)){let p=n.getAttribute("action");i=p?nn(p,s):null,c=n.getAttribute("method")||ic,u=Ju(n.getAttribute("enctype"))||cc,f=new FormData(n)}else if(Hx(n)||Yx(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||p.getAttribute("action");if(i=y?nn(y,s):null,c=n.getAttribute("formmethod")||p.getAttribute("method")||ic,u=Ju(n.getAttribute("formenctype"))||Ju(p.getAttribute("enctype"))||cc,f=new FormData(p,n),!$x()){let{name:m,type:v,value:x}=n;if(v==="image"){let E=m?`${m}.`:"";f.append(`${E}x`,"0"),f.append(`${E}y`,"0")}else m&&f.append(m,x)}}else{if(Tc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=ic,i=null,u=cc,h=n}return f&&u==="text/plain"&&(h=f,f=void 0),{action:i,method:c.toLowerCase(),encType:u,formData:f,body:h}}function bd(n,s){if(n===!1||n===null||typeof n>"u")throw new Error(s)}async function Zx(n,s){if(n.id in s)return s[n.id];try{let c=await import(n.module);return s[n.id]=c,c}catch(c){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Jx(n,s,c){let i=await Promise.all(n.map(async u=>{let f=s.routes[u.route.id];if(f){let h=await Zx(f,c);return h.links?h.links():[]}return[]}));return tb(i.flat(1).filter(Kx).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Op(n,s,c,i,u,f){let h=(y,m)=>c[m]?y.route.id!==c[m].route.id:!0,p=(y,m)=>{var v;return c[m].pathname!==y.pathname||((v=c[m].route.path)==null?void 0:v.endsWith("*"))&&c[m].params["*"]!==y.params["*"]};return f==="assets"?s.filter((y,m)=>h(y,m)||p(y,m)):f==="data"?s.filter((y,m)=>{var x;let v=i.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(h(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((x=c[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Px(n,s,{includeHydrateFallback:c}={}){return Wx(n.map(i=>{let u=s.routes[i.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),c&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function Wx(n){return[...new Set(n)]}function eb(n){let s={},c=Object.keys(n).sort();for(let i of c)s[i]=n[i];return s}function tb(n,s){let c=new Set;return new Set(s),n.reduce((i,u)=>{let f=JSON.stringify(eb(u));return c.has(f)||(c.add(f),i.push({key:f,link:u})),i},[])}function ab(n,s){let c=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return c.pathname==="/"?c.pathname="_root.data":s&&nn(c.pathname,s)==="/"?c.pathname=`${s.replace(/\/$/,"")}/_root.data`:c.pathname=`${c.pathname.replace(/\/$/,"")}.data`,c}function Ng(){let n=b.useContext(xl);return bd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nb(){let n=b.useContext(Nc);return bd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jd=b.createContext(void 0);jd.displayName="FrameworkContext";function Eg(){let n=b.useContext(jd);return bd(n,"You must render this element inside a <HydratedRouter> element"),n}function sb(n,s){let c=b.useContext(jd),[i,u]=b.useState(!1),[f,h]=b.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:x}=s,E=b.useRef(null);b.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let O=D=>{D.forEach(R=>{h(R.isIntersecting)})},T=new IntersectionObserver(O,{threshold:.5});return E.current&&T.observe(E.current),()=>{T.disconnect()}}},[n]),b.useEffect(()=>{if(i){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[i]);let A=()=>{u(!0)},N=()=>{u(!1),h(!1)};return c?n!=="intent"?[f,E,{}]:[f,E,{onFocus:Tr(p,A),onBlur:Tr(y,N),onMouseEnter:Tr(m,A),onMouseLeave:Tr(v,N),onTouchStart:Tr(x,A)}]:[!1,E,{}]}function Tr(n,s){return c=>{n&&n(c),c.defaultPrevented||s(c)}}function lb({page:n,...s}){let{router:c}=Ng(),i=b.useMemo(()=>mg(c.routes,n,c.basename),[c.routes,n,c.basename]);return i?b.createElement(ib,{page:n,matches:i,...s}):null}function rb(n){let{manifest:s,routeModules:c}=Eg(),[i,u]=b.useState([]);return b.useEffect(()=>{let f=!1;return Jx(n,s,c).then(h=>{f||u(h)}),()=>{f=!0}},[n,s,c]),i}function ib({page:n,matches:s,...c}){let i=qt(),{manifest:u,routeModules:f}=Eg(),{basename:h}=Ng(),{loaderData:p,matches:y}=nb(),m=b.useMemo(()=>Op(n,s,y,u,i,"data"),[n,s,y,u,i]),v=b.useMemo(()=>Op(n,s,y,u,i,"assets"),[n,s,y,u,i]),x=b.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,O=!1;if(s.forEach(D=>{var C;let R=u.routes[D.route.id];!R||!R.hasLoader||(!m.some(U=>U.route.id===D.route.id)&&D.route.id in p&&((C=f[D.route.id])!=null&&C.shouldRevalidate)||R.hasClientLoader?O=!0:N.add(D.route.id))}),N.size===0)return[];let T=ab(n,h);return O&&N.size>0&&T.searchParams.set("_routes",s.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[T.pathname+T.search]},[h,p,i,u,m,s,n,f]),E=b.useMemo(()=>Px(v,u),[v,u]),A=rb(v);return b.createElement(b.Fragment,null,x.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...c})),E.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...c})),A.map(({key:N,link:O})=>b.createElement("link",{key:N,...O})))}function cb(...n){return s=>{n.forEach(c=>{typeof c=="function"?c(s):c!=null&&(c.current=s)})}}var Tg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tg&&(window.__reactRouterVersion="7.4.0")}catch{}function ob({basename:n,children:s,window:c}){let i=b.useRef();i.current==null&&(i.current=Z0({window:c,v5Compat:!0}));let u=i.current,[f,h]=b.useState({action:u.action,location:u.location}),p=b.useCallback(y=>{b.startTransition(()=>h(y))},[h]);return b.useLayoutEffect(()=>u.listen(p),[u,p]),b.createElement(Bx,{basename:n,children:s,location:f.location,navigationType:f.action,navigator:u})}var wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cr=b.forwardRef(function({onClick:s,discover:c="render",prefetch:i="none",relative:u,reloadDocument:f,replace:h,state:p,target:y,to:m,preventScrollReset:v,viewTransition:x,...E},A){let{basename:N}=b.useContext(Na),O=typeof m=="string"&&wg.test(m),T,D=!1;if(typeof m=="string"&&O&&(T=m,Tg))try{let J=new URL(window.location.href),q=m.startsWith("//")?new URL(J.protocol+m):new URL(m),P=nn(q.pathname,N);q.origin===J.origin&&P!=null?m=P+q.search+q.hash:D=!0}catch{ua(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=jx(m,{relative:u}),[C,U,I]=sb(i,E),F=hb(m,{replace:h,state:p,target:y,preventScrollReset:v,relative:u,viewTransition:x});function le(J){s&&s(J),J.defaultPrevented||F(J)}let ie=b.createElement("a",{...E,...I,href:T||R,onClick:D||f?s:le,ref:cb(A,U),target:y,"data-discover":!O&&c==="render"?"true":void 0});return C&&!O?b.createElement(b.Fragment,null,ie,b.createElement(lb,{page:R})):ie});Cr.displayName="Link";var ub=b.forwardRef(function({"aria-current":s="page",caseSensitive:c=!1,className:i="",end:u=!1,style:f,to:h,viewTransition:p,children:y,...m},v){let x=Ur(h,{relative:m.relative}),E=qt(),A=b.useContext(Nc),{navigator:N,basename:O}=b.useContext(Na),T=A!=null&&xb(x)&&p===!0,D=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,R=E.pathname,C=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;c||(R=R.toLowerCase(),C=C?C.toLowerCase():null,D=D.toLowerCase()),C&&O&&(C=nn(C,O)||C);const U=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let I=R===D||!u&&R.startsWith(D)&&R.charAt(U)==="/",F=C!=null&&(C===D||!u&&C.startsWith(D)&&C.charAt(D.length)==="/"),le={isActive:I,isPending:F,isTransitioning:T},ie=I?s:void 0,J;typeof i=="function"?J=i(le):J=[i,I?"active":null,F?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let q=typeof f=="function"?f(le):f;return b.createElement(Cr,{...m,"aria-current":ie,className:J,ref:v,style:q,to:h,viewTransition:p},typeof y=="function"?y(le):y)});ub.displayName="NavLink";var db=b.forwardRef(({discover:n="render",fetcherKey:s,navigate:c,reloadDocument:i,replace:u,state:f,method:h=ic,action:p,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:x,...E},A)=>{let N=yb(),O=vb(p,{relative:m}),T=h.toLowerCase()==="get"?"get":"post",D=typeof p=="string"&&wg.test(p),R=C=>{if(y&&y(C),C.defaultPrevented)return;C.preventDefault();let U=C.nativeEvent.submitter,I=(U==null?void 0:U.getAttribute("formmethod"))||h;N(U||C.currentTarget,{fetcherKey:s,method:I,navigate:c,replace:u,state:f,relative:m,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:A,method:T,action:O,onSubmit:i?y:R,...E,"data-discover":!D&&n==="render"?"true":void 0})});db.displayName="Form";function fb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ag(n){let s=b.useContext(xl);return Ke(s,fb(n)),s}function hb(n,{target:s,replace:c,state:i,preventScrollReset:u,relative:f,viewTransition:h}={}){let p=fa(),y=qt(),m=Ur(n,{relative:f});return b.useCallback(v=>{if(Qx(v,s)){v.preventDefault();let x=c!==void 0?c:Or(y)===Or(m);p(n,{replace:x,state:i,preventScrollReset:u,relative:f,viewTransition:h})}},[y,p,m,c,i,s,n,u,f,h])}function mb(n){ua(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=b.useRef(sd(n)),c=b.useRef(!1),i=qt(),u=b.useMemo(()=>Vx(i.search,c.current?null:s.current),[i.search]),f=fa(),h=b.useCallback((p,y)=>{const m=sd(typeof p=="function"?p(u):p);c.current=!0,f("?"+m,y)},[f,u]);return[u,h]}var pb=0,gb=()=>`__${String(++pb)}__`;function yb(){let{router:n}=Ag("useSubmit"),{basename:s}=b.useContext(Na),c=zx();return b.useCallback(async(i,u={})=>{let{action:f,method:h,encType:p,formData:y,body:m}=Gx(i,s);if(u.navigate===!1){let v=u.fetcherKey||gb();await n.fetch(v,c,u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:m,formMethod:u.method||h,formEncType:u.encType||p,flushSync:u.flushSync})}else await n.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:m,formMethod:u.method||h,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:c,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,s,c])}function vb(n,{relative:s}={}){let{basename:c}=b.useContext(Na),i=b.useContext(da);Ke(i,"useFormAction must be used inside a RouteContext");let[u]=i.matches.slice(-1),f={...Ur(n||".",{relative:s})},h=qt();if(n==null){f.search=h.search;let p=new URLSearchParams(f.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(x=>x).forEach(x=>p.append("index",x));let v=p.toString();f.search=v?`?${v}`:""}}return(!n||n===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(f.pathname=f.pathname==="/"?c:tn([c,f.pathname])),Or(f)}function xb(n,s={}){let c=b.useContext(vg);Ke(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Ag("useViewTransitionState"),u=Ur(n,{relative:s.relative});if(!c.isTransitioning)return!1;let f=nn(c.currentLocation.pathname,i)||c.currentLocation.pathname,h=nn(c.nextLocation.pathname,i)||c.nextLocation.pathname;return pc(u.pathname,h)!=null||pc(u.pathname,f)!=null}new TextEncoder;/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Og=(...n)=>n.filter((s,c,i)=>!!s&&s.trim()!==""&&i.indexOf(s)===c).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:u="",children:f,iconNode:h,...p},y)=>b.createElement("svg",{ref:y,...jb,width:s,height:s,stroke:n,strokeWidth:i?Number(c)*24/Number(s):c,className:Og("lucide",u),...p},[...h.map(([m,v])=>b.createElement(m,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(n,s)=>{const c=b.forwardRef(({className:i,...u},f)=>b.createElement(Sb,{ref:f,iconNode:s,className:Og(`lucide-${bb(n)}`,i),...u}));return c.displayName=`${n}`,c};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ja=He("ArrowLeft",Nb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Cg=He("Award",Eb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Rg=He("BookOpen",Tb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nt=He("Calendar",wb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ob=He("Check",Ab);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oa=He("ChevronDown",Cb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Dn=He("ChevronUp",Rb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_b=He("CircleAlert",Db);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Rr=He("Clock",Mb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Lb=He("EyeOff",zb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Br=He("Eye",Ub);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Sd=He("Funnel",kb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Dg=He("GraduationCap",Bb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Hb=He("House",qb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yb=He("Lock",Ib);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Qb=He("LogOut",Fb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],qr=He("Mail",Vb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Hr=He("MapPin",$b);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],_g=He("Moon",Xb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],_t=He("Music",Gb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],wc=He("Phone",Zb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Es=He("Plus",Kb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qn=He("RefreshCw",Jb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Wb=He("Repeat",Pb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yc=He("Search",e1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xs=He("SquarePen",t1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Mg=He("Sun",a1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ac=He("Trash2",n1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Cp=He("UserPlus",s1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sa=He("User",l1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ir=He("Users",r1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mt=He("X",i1);var Yr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oc=typeof window>"u"||"Deno"in globalThis;function va(){}function c1(n,s){return typeof n=="function"?n(s):n}function o1(n){return typeof n=="number"&&n>=0&&n!==1/0}function u1(n,s){return Math.max(n+(s||0)-Date.now(),0)}function Rp(n,s){return typeof n=="function"?n(s):n}function d1(n,s){return typeof n=="function"?n(s):n}function Dp(n,s){const{type:c="all",exact:i,fetchStatus:u,predicate:f,queryKey:h,stale:p}=n;if(h){if(i){if(s.queryHash!==Nd(h,s.options))return!1}else if(!Dr(s.queryKey,h))return!1}if(c!=="all"){const y=s.isActive();if(c==="active"&&!y||c==="inactive"&&y)return!1}return!(typeof p=="boolean"&&s.isStale()!==p||u&&u!==s.state.fetchStatus||f&&!f(s))}function _p(n,s){const{exact:c,status:i,predicate:u,mutationKey:f}=n;if(f){if(!s.options.mutationKey)return!1;if(c){if(bs(s.options.mutationKey)!==bs(f))return!1}else if(!Dr(s.options.mutationKey,f))return!1}return!(i&&s.state.status!==i||u&&!u(s))}function Nd(n,s){return((s==null?void 0:s.queryKeyHashFn)||bs)(n)}function bs(n){return JSON.stringify(n,(s,c)=>ld(c)?Object.keys(c).sort().reduce((i,u)=>(i[u]=c[u],i),{}):c)}function Dr(n,s){return n===s?!0:typeof n!=typeof s?!1:n&&s&&typeof n=="object"&&typeof s=="object"?!Object.keys(s).some(c=>!Dr(n[c],s[c])):!1}function zg(n,s){if(n===s)return n;const c=Mp(n)&&Mp(s);if(c||ld(n)&&ld(s)){const i=c?n:Object.keys(n),u=i.length,f=c?s:Object.keys(s),h=f.length,p=c?[]:{};let y=0;for(let m=0;m<h;m++){const v=c?m:f[m];(!c&&i.includes(v)||c)&&n[v]===void 0&&s[v]===void 0?(p[v]=void 0,y++):(p[v]=zg(n[v],s[v]),p[v]===n[v]&&n[v]!==void 0&&y++)}return u===h&&y===u?n:p}return s}function f1(n,s){if(!s||Object.keys(n).length!==Object.keys(s).length)return!1;for(const c in n)if(n[c]!==s[c])return!1;return!0}function Mp(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ld(n){if(!zp(n))return!1;const s=n.constructor;if(s===void 0)return!0;const c=s.prototype;return!(!zp(c)||!c.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function zp(n){return Object.prototype.toString.call(n)==="[object Object]"}function h1(n){return new Promise(s=>{setTimeout(s,n)})}function m1(n,s,c){return typeof c.structuralSharing=="function"?c.structuralSharing(n,s):c.structuralSharing!==!1?zg(n,s):s}function p1(n,s,c=0){const i=[...n,s];return c&&i.length>c?i.slice(1):i}function g1(n,s,c=0){const i=[s,...n];return c&&i.length>c?i.slice(0,-1):i}var Ed=Symbol();function Lg(n,s){return!n.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!n.queryFn||n.queryFn===Ed?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var hs,_n,ol,lg,y1=(lg=class extends Yr{constructor(){super();De(this,hs);De(this,_n);De(this,ol);je(this,ol,s=>{if(!Oc&&window.addEventListener){const c=()=>s();return window.addEventListener("visibilitychange",c,!1),()=>{window.removeEventListener("visibilitychange",c)}}})}onSubscribe(){$(this,_n)||this.setEventListener($(this,ol))}onUnsubscribe(){var s;this.hasListeners()||((s=$(this,_n))==null||s.call(this),je(this,_n,void 0))}setEventListener(s){var c;je(this,ol,s),(c=$(this,_n))==null||c.call(this),je(this,_n,s(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(s){$(this,hs)!==s&&(je(this,hs,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(c=>{c(s)})}isFocused(){var s;return typeof $(this,hs)=="boolean"?$(this,hs):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},hs=new WeakMap,_n=new WeakMap,ol=new WeakMap,lg),Ug=new y1,ul,Mn,dl,rg,v1=(rg=class extends Yr{constructor(){super();De(this,ul,!0);De(this,Mn);De(this,dl);je(this,dl,s=>{if(!Oc&&window.addEventListener){const c=()=>s(!0),i=()=>s(!1);return window.addEventListener("online",c,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",i)}}})}onSubscribe(){$(this,Mn)||this.setEventListener($(this,dl))}onUnsubscribe(){var s;this.hasListeners()||((s=$(this,Mn))==null||s.call(this),je(this,Mn,void 0))}setEventListener(s){var c;je(this,dl,s),(c=$(this,Mn))==null||c.call(this),je(this,Mn,s(this.setOnline.bind(this)))}setOnline(s){$(this,ul)!==s&&(je(this,ul,s),this.listeners.forEach(i=>{i(s)}))}isOnline(){return $(this,ul)}},ul=new WeakMap,Mn=new WeakMap,dl=new WeakMap,rg),vc=new v1;function x1(){let n,s;const c=new Promise((u,f)=>{n=u,s=f});c.status="pending",c.catch(()=>{});function i(u){Object.assign(c,u),delete c.resolve,delete c.reject}return c.resolve=u=>{i({status:"fulfilled",value:u}),n(u)},c.reject=u=>{i({status:"rejected",reason:u}),s(u)},c}function b1(n){return Math.min(1e3*2**n,3e4)}function kg(n){return(n??"online")==="online"?vc.isOnline():!0}var Bg=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Pu(n){return n instanceof Bg}function qg(n){let s=!1,c=0,i=!1,u;const f=x1(),h=O=>{var T;i||(E(new Bg(O)),(T=n.abort)==null||T.call(n))},p=()=>{s=!0},y=()=>{s=!1},m=()=>Ug.isFocused()&&(n.networkMode==="always"||vc.isOnline())&&n.canRun(),v=()=>kg(n.networkMode)&&n.canRun(),x=O=>{var T;i||(i=!0,(T=n.onSuccess)==null||T.call(n,O),u==null||u(),f.resolve(O))},E=O=>{var T;i||(i=!0,(T=n.onError)==null||T.call(n,O),u==null||u(),f.reject(O))},A=()=>new Promise(O=>{var T;u=D=>{(i||m())&&O(D)},(T=n.onPause)==null||T.call(n)}).then(()=>{var O;u=void 0,i||(O=n.onContinue)==null||O.call(n)}),N=()=>{if(i)return;let O;const T=c===0?n.initialPromise:void 0;try{O=T??n.fn()}catch(D){O=Promise.reject(D)}Promise.resolve(O).then(x).catch(D=>{var F;if(i)return;const R=n.retry??(Oc?0:3),C=n.retryDelay??b1,U=typeof C=="function"?C(c,D):C,I=R===!0||typeof R=="number"&&c<R||typeof R=="function"&&R(c,D);if(s||!I){E(D);return}c++,(F=n.onFail)==null||F.call(n,c,D),h1(U).then(()=>m()?void 0:A()).then(()=>{s?E(D):N()})})};return{promise:f,cancel:h,continue:()=>(u==null||u(),f),cancelRetry:p,continueRetry:y,canStart:v,start:()=>(v()?N():A().then(N),f)}}function j1(){let n=[],s=0,c=p=>{p()},i=p=>{p()},u=p=>setTimeout(p,0);const f=p=>{s?n.push(p):u(()=>{c(p)})},h=()=>{const p=n;n=[],p.length&&u(()=>{i(()=>{p.forEach(y=>{c(y)})})})};return{batch:p=>{let y;s++;try{y=p()}finally{s--,s||h()}return y},batchCalls:p=>(...y)=>{f(()=>{p(...y)})},schedule:f,setNotifyFunction:p=>{c=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{u=p}}}var St=j1(),ms,ig,Hg=(ig=class{constructor(){De(this,ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),o1(this.gcTime)&&je(this,ms,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Oc?1/0:5*60*1e3))}clearGcTimeout(){$(this,ms)&&(clearTimeout($(this,ms)),je(this,ms,void 0))}},ms=new WeakMap,ig),fl,hl,ca,ps,wt,Mr,gs,xa,Ja,cg,S1=(cg=class extends Hg{constructor(s){super();De(this,xa);De(this,fl);De(this,hl);De(this,ca);De(this,ps);De(this,wt);De(this,Mr);De(this,gs);je(this,gs,!1),je(this,Mr,s.defaultOptions),this.setOptions(s.options),this.observers=[],je(this,ps,s.client),je(this,ca,$(this,ps).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,je(this,fl,E1(this.options)),this.state=s.state??$(this,fl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=$(this,wt))==null?void 0:s.promise}setOptions(s){this.options={...$(this,Mr),...s},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,ca).remove(this)}setData(s,c){const i=m1(this.state.data,s,this.options);return lt(this,xa,Ja).call(this,{data:i,type:"success",dataUpdatedAt:c==null?void 0:c.updatedAt,manual:c==null?void 0:c.manual}),i}setState(s,c){lt(this,xa,Ja).call(this,{type:"setState",state:s,setStateOptions:c})}cancel(s){var i,u;const c=(i=$(this,wt))==null?void 0:i.promise;return(u=$(this,wt))==null||u.cancel(s),c?c.then(va).catch(va):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,fl))}isActive(){return this.observers.some(s=>d1(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ed||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(s=0){return this.state.isInvalidated||this.state.data===void 0||!u1(this.state.dataUpdatedAt,s)}onFocus(){var c;const s=this.observers.find(i=>i.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(c=$(this,wt))==null||c.continue()}onOnline(){var c;const s=this.observers.find(i=>i.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(c=$(this,wt))==null||c.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),$(this,ca).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(c=>c!==s),this.observers.length||($(this,wt)&&($(this,gs)?$(this,wt).cancel({revert:!0}):$(this,wt).cancelRetry()),this.scheduleGc()),$(this,ca).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||lt(this,xa,Ja).call(this,{type:"invalidate"})}fetch(s,c){var y,m,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(c!=null&&c.cancelRefetch))this.cancel({silent:!0});else if($(this,wt))return $(this,wt).continueRetry(),$(this,wt).promise}if(s&&this.setOptions(s),!this.options.queryFn){const x=this.observers.find(E=>E.options.queryFn);x&&this.setOptions(x.options)}const i=new AbortController,u=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(je(this,gs,!0),i.signal)})},f=()=>{const x=Lg(this.options,c),E={client:$(this,ps),queryKey:this.queryKey,meta:this.meta};return u(E),je(this,gs,!1),this.options.persister?this.options.persister(x,E,this):x(E)},h={fetchOptions:c,options:this.options,queryKey:this.queryKey,client:$(this,ps),state:this.state,fetchFn:f};u(h),(y=this.options.behavior)==null||y.onFetch(h,this),je(this,hl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=h.fetchOptions)==null?void 0:m.meta))&&lt(this,xa,Ja).call(this,{type:"fetch",meta:(v=h.fetchOptions)==null?void 0:v.meta});const p=x=>{var E,A,N,O;Pu(x)&&x.silent||lt(this,xa,Ja).call(this,{type:"error",error:x}),Pu(x)||((A=(E=$(this,ca).config).onError)==null||A.call(E,x,this),(O=(N=$(this,ca).config).onSettled)==null||O.call(N,this.state.data,x,this)),this.scheduleGc()};return je(this,wt,qg({initialPromise:c==null?void 0:c.initialPromise,fn:h.fetchFn,abort:i.abort.bind(i),onSuccess:x=>{var E,A,N,O;if(x===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(T){p(T);return}(A=(E=$(this,ca).config).onSuccess)==null||A.call(E,x,this),(O=(N=$(this,ca).config).onSettled)==null||O.call(N,x,this.state.error,this),this.scheduleGc()},onError:p,onFail:(x,E)=>{lt(this,xa,Ja).call(this,{type:"failed",failureCount:x,error:E})},onPause:()=>{lt(this,xa,Ja).call(this,{type:"pause"})},onContinue:()=>{lt(this,xa,Ja).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),$(this,wt).start()}},fl=new WeakMap,hl=new WeakMap,ca=new WeakMap,ps=new WeakMap,wt=new WeakMap,Mr=new WeakMap,gs=new WeakMap,xa=new WeakSet,Ja=function(s){const c=i=>{switch(s.type){case"failed":return{...i,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...N1(i.data,this.options),fetchMeta:s.meta??null};case"success":return{...i,data:s.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=s.error;return Pu(u)&&u.revert&&$(this,hl)?{...$(this,hl),fetchStatus:"idle"}:{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...s.state}}};this.state=c(this.state),St.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),$(this,ca).notify({query:this,type:"updated",action:s})})},cg);function N1(n,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kg(s.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function E1(n){const s=typeof n.initialData=="function"?n.initialData():n.initialData,c=s!==void 0,i=c?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:c?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"pending",fetchStatus:"idle"}}var Da,og,T1=(og=class extends Yr{constructor(s={}){super();De(this,Da);this.config=s,je(this,Da,new Map)}build(s,c,i){const u=c.queryKey,f=c.queryHash??Nd(u,c);let h=this.get(f);return h||(h=new S1({client:s,queryKey:u,queryHash:f,options:s.defaultQueryOptions(c),state:i,defaultOptions:s.getQueryDefaults(u)}),this.add(h)),h}add(s){$(this,Da).has(s.queryHash)||($(this,Da).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const c=$(this,Da).get(s.queryHash);c&&(s.destroy(),c===s&&$(this,Da).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){St.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return $(this,Da).get(s)}getAll(){return[...$(this,Da).values()]}find(s){const c={exact:!0,...s};return this.getAll().find(i=>Dp(c,i))}findAll(s={}){const c=this.getAll();return Object.keys(s).length>0?c.filter(i=>Dp(s,i)):c}notify(s){St.batch(()=>{this.listeners.forEach(c=>{c(s)})})}onFocus(){St.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Da=new WeakMap,og),_a,Dt,ys,Ma,Rn,ug,w1=(ug=class extends Hg{constructor(s){super();De(this,Ma);De(this,_a);De(this,Dt);De(this,ys);this.mutationId=s.mutationId,je(this,Dt,s.mutationCache),je(this,_a,[]),this.state=s.state||Ig(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){$(this,_a).includes(s)||($(this,_a).push(s),this.clearGcTimeout(),$(this,Dt).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){je(this,_a,$(this,_a).filter(c=>c!==s)),this.scheduleGc(),$(this,Dt).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){$(this,_a).length||(this.state.status==="pending"?this.scheduleGc():$(this,Dt).remove(this))}continue(){var s;return((s=$(this,ys))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var u,f,h,p,y,m,v,x,E,A,N,O,T,D,R,C,U,I,F,le;je(this,ys,qg({fn:()=>this.options.mutationFn?this.options.mutationFn(s):Promise.reject(new Error("No mutationFn found")),onFail:(ie,J)=>{lt(this,Ma,Rn).call(this,{type:"failed",failureCount:ie,error:J})},onPause:()=>{lt(this,Ma,Rn).call(this,{type:"pause"})},onContinue:()=>{lt(this,Ma,Rn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Dt).canRun(this)}));const c=this.state.status==="pending",i=!$(this,ys).canStart();try{if(!c){lt(this,Ma,Rn).call(this,{type:"pending",variables:s,isPaused:i}),await((f=(u=$(this,Dt).config).onMutate)==null?void 0:f.call(u,s,this));const J=await((p=(h=this.options).onMutate)==null?void 0:p.call(h,s));J!==this.state.context&&lt(this,Ma,Rn).call(this,{type:"pending",context:J,variables:s,isPaused:i})}const ie=await $(this,ys).start();return await((m=(y=$(this,Dt).config).onSuccess)==null?void 0:m.call(y,ie,s,this.state.context,this)),await((x=(v=this.options).onSuccess)==null?void 0:x.call(v,ie,s,this.state.context)),await((A=(E=$(this,Dt).config).onSettled)==null?void 0:A.call(E,ie,null,this.state.variables,this.state.context,this)),await((O=(N=this.options).onSettled)==null?void 0:O.call(N,ie,null,s,this.state.context)),lt(this,Ma,Rn).call(this,{type:"success",data:ie}),ie}catch(ie){try{throw await((D=(T=$(this,Dt).config).onError)==null?void 0:D.call(T,ie,s,this.state.context,this)),await((C=(R=this.options).onError)==null?void 0:C.call(R,ie,s,this.state.context)),await((I=(U=$(this,Dt).config).onSettled)==null?void 0:I.call(U,void 0,ie,this.state.variables,this.state.context,this)),await((le=(F=this.options).onSettled)==null?void 0:le.call(F,void 0,ie,s,this.state.context)),ie}finally{lt(this,Ma,Rn).call(this,{type:"error",error:ie})}}finally{$(this,Dt).runNext(this)}}},_a=new WeakMap,Dt=new WeakMap,ys=new WeakMap,Ma=new WeakSet,Rn=function(s){const c=i=>{switch(s.type){case"failed":return{...i,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...i,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:s.error,failureCount:i.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=c(this.state),St.batch(()=>{$(this,_a).forEach(i=>{i.onMutationUpdate(s)}),$(this,Dt).notify({mutation:this,type:"updated",action:s})})},ug);function Ig(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Pa,ba,zr,dg,A1=(dg=class extends Yr{constructor(s={}){super();De(this,Pa);De(this,ba);De(this,zr);this.config=s,je(this,Pa,new Set),je(this,ba,new Map),je(this,zr,0)}build(s,c,i){const u=new w1({mutationCache:this,mutationId:++nc(this,zr)._,options:s.defaultMutationOptions(c),state:i});return this.add(u),u}add(s){$(this,Pa).add(s);const c=lc(s);if(typeof c=="string"){const i=$(this,ba).get(c);i?i.push(s):$(this,ba).set(c,[s])}this.notify({type:"added",mutation:s})}remove(s){if($(this,Pa).delete(s)){const c=lc(s);if(typeof c=="string"){const i=$(this,ba).get(c);if(i)if(i.length>1){const u=i.indexOf(s);u!==-1&&i.splice(u,1)}else i[0]===s&&$(this,ba).delete(c)}}this.notify({type:"removed",mutation:s})}canRun(s){const c=lc(s);if(typeof c=="string"){const i=$(this,ba).get(c),u=i==null?void 0:i.find(f=>f.state.status==="pending");return!u||u===s}else return!0}runNext(s){var i;const c=lc(s);if(typeof c=="string"){const u=(i=$(this,ba).get(c))==null?void 0:i.find(f=>f!==s&&f.state.isPaused);return(u==null?void 0:u.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{$(this,Pa).forEach(s=>{this.notify({type:"removed",mutation:s})}),$(this,Pa).clear(),$(this,ba).clear()})}getAll(){return Array.from($(this,Pa))}find(s){const c={exact:!0,...s};return this.getAll().find(i=>_p(c,i))}findAll(s={}){return this.getAll().filter(c=>_p(s,c))}notify(s){St.batch(()=>{this.listeners.forEach(c=>{c(s)})})}resumePausedMutations(){const s=this.getAll().filter(c=>c.state.isPaused);return St.batch(()=>Promise.all(s.map(c=>c.continue().catch(va))))}},Pa=new WeakMap,ba=new WeakMap,zr=new WeakMap,dg);function lc(n){var s;return(s=n.options.scope)==null?void 0:s.id}function Lp(n){return{onFetch:(s,c)=>{var v,x,E,A,N;const i=s.options,u=(E=(x=(v=s.fetchOptions)==null?void 0:v.meta)==null?void 0:x.fetchMore)==null?void 0:E.direction,f=((A=s.state.data)==null?void 0:A.pages)||[],h=((N=s.state.data)==null?void 0:N.pageParams)||[];let p={pages:[],pageParams:[]},y=0;const m=async()=>{let O=!1;const T=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(s.signal.aborted?O=!0:s.signal.addEventListener("abort",()=>{O=!0}),s.signal)})},D=Lg(s.options,s.fetchOptions),R=async(C,U,I)=>{if(O)return Promise.reject();if(U==null&&C.pages.length)return Promise.resolve(C);const F={client:s.client,queryKey:s.queryKey,pageParam:U,direction:I?"backward":"forward",meta:s.options.meta};T(F);const le=await D(F),{maxPages:ie}=s.options,J=I?g1:p1;return{pages:J(C.pages,le,ie),pageParams:J(C.pageParams,U,ie)}};if(u&&f.length){const C=u==="backward",U=C?O1:Up,I={pages:f,pageParams:h},F=U(i,I);p=await R(I,F,C)}else{const C=n??f.length;do{const U=y===0?h[0]??i.initialPageParam:Up(i,p);if(y>0&&U==null)break;p=await R(p,U),y++}while(y<C)}return p};s.options.persister?s.fetchFn=()=>{var O,T;return(T=(O=s.options).persister)==null?void 0:T.call(O,m,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},c)}:s.fetchFn=m}}}function Up(n,{pages:s,pageParams:c}){const i=s.length-1;return s.length>0?n.getNextPageParam(s[i],s,c[i],c):void 0}function O1(n,{pages:s,pageParams:c}){var i;return s.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,s[0],s,c[0],c):void 0}var at,zn,Ln,ml,pl,Un,gl,yl,fg,C1=(fg=class{constructor(n={}){De(this,at);De(this,zn);De(this,Ln);De(this,ml);De(this,pl);De(this,Un);De(this,gl);De(this,yl);je(this,at,n.queryCache||new T1),je(this,zn,n.mutationCache||new A1),je(this,Ln,n.defaultOptions||{}),je(this,ml,new Map),je(this,pl,new Map),je(this,Un,0)}mount(){nc(this,Un)._++,$(this,Un)===1&&(je(this,gl,Ug.subscribe(async n=>{n&&(await this.resumePausedMutations(),$(this,at).onFocus())})),je(this,yl,vc.subscribe(async n=>{n&&(await this.resumePausedMutations(),$(this,at).onOnline())})))}unmount(){var n,s;nc(this,Un)._--,$(this,Un)===0&&((n=$(this,gl))==null||n.call(this),je(this,gl,void 0),(s=$(this,yl))==null||s.call(this),je(this,yl,void 0))}isFetching(n){return $(this,at).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return $(this,zn).findAll({...n,status:"pending"}).length}getQueryData(n){var c;const s=this.defaultQueryOptions({queryKey:n});return(c=$(this,at).get(s.queryHash))==null?void 0:c.state.data}ensureQueryData(n){const s=this.defaultQueryOptions(n),c=$(this,at).build(this,s),i=c.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&c.isStaleByTime(Rp(s.staleTime,c))&&this.prefetchQuery(s),Promise.resolve(i))}getQueriesData(n){return $(this,at).findAll(n).map(({queryKey:s,state:c})=>{const i=c.data;return[s,i]})}setQueryData(n,s,c){const i=this.defaultQueryOptions({queryKey:n}),u=$(this,at).get(i.queryHash),f=u==null?void 0:u.state.data,h=c1(s,f);if(h!==void 0)return $(this,at).build(this,i).setData(h,{...c,manual:!0})}setQueriesData(n,s,c){return St.batch(()=>$(this,at).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,s,c)]))}getQueryState(n){var c;const s=this.defaultQueryOptions({queryKey:n});return(c=$(this,at).get(s.queryHash))==null?void 0:c.state}removeQueries(n){const s=$(this,at);St.batch(()=>{s.findAll(n).forEach(c=>{s.remove(c)})})}resetQueries(n,s){const c=$(this,at);return St.batch(()=>(c.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},s)))}cancelQueries(n,s={}){const c={revert:!0,...s},i=St.batch(()=>$(this,at).findAll(n).map(u=>u.cancel(c)));return Promise.all(i).then(va).catch(va)}invalidateQueries(n,s={}){return St.batch(()=>($(this,at).findAll(n).forEach(c=>{c.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},s)))}refetchQueries(n,s={}){const c={...s,cancelRefetch:s.cancelRefetch??!0},i=St.batch(()=>$(this,at).findAll(n).filter(u=>!u.isDisabled()).map(u=>{let f=u.fetch(void 0,c);return c.throwOnError||(f=f.catch(va)),u.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(i).then(va)}fetchQuery(n){const s=this.defaultQueryOptions(n);s.retry===void 0&&(s.retry=!1);const c=$(this,at).build(this,s);return c.isStaleByTime(Rp(s.staleTime,c))?c.fetch(s):Promise.resolve(c.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(va).catch(va)}fetchInfiniteQuery(n){return n.behavior=Lp(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(va).catch(va)}ensureInfiniteQueryData(n){return n.behavior=Lp(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return vc.isOnline()?$(this,zn).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,at)}getMutationCache(){return $(this,zn)}getDefaultOptions(){return $(this,Ln)}setDefaultOptions(n){je(this,Ln,n)}setQueryDefaults(n,s){$(this,ml).set(bs(n),{queryKey:n,defaultOptions:s})}getQueryDefaults(n){const s=[...$(this,ml).values()],c={};return s.forEach(i=>{Dr(n,i.queryKey)&&Object.assign(c,i.defaultOptions)}),c}setMutationDefaults(n,s){$(this,pl).set(bs(n),{mutationKey:n,defaultOptions:s})}getMutationDefaults(n){const s=[...$(this,pl).values()],c={};return s.forEach(i=>{Dr(n,i.mutationKey)&&Object.assign(c,i.defaultOptions)}),c}defaultQueryOptions(n){if(n._defaulted)return n;const s={...$(this,Ln).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return s.queryHash||(s.queryHash=Nd(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Ed&&(s.enabled=!1),s}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...$(this,Ln).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){$(this,at).clear(),$(this,zn).clear()}},at=new WeakMap,zn=new WeakMap,Ln=new WeakMap,ml=new WeakMap,pl=new WeakMap,Un=new WeakMap,gl=new WeakMap,yl=new WeakMap,fg),kn,Bn,kt,Wa,an,oc,rd,hg,R1=(hg=class extends Yr{constructor(c,i){super();De(this,an);De(this,kn);De(this,Bn);De(this,kt);De(this,Wa);je(this,kn,c),this.setOptions(i),this.bindMethods(),lt(this,an,oc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(c){var u;const i=this.options;this.options=$(this,kn).defaultMutationOptions(c),f1(this.options,i)||$(this,kn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,kt),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&bs(i.mutationKey)!==bs(this.options.mutationKey)?this.reset():((u=$(this,kt))==null?void 0:u.state.status)==="pending"&&$(this,kt).setOptions(this.options)}onUnsubscribe(){var c;this.hasListeners()||(c=$(this,kt))==null||c.removeObserver(this)}onMutationUpdate(c){lt(this,an,oc).call(this),lt(this,an,rd).call(this,c)}getCurrentResult(){return $(this,Bn)}reset(){var c;(c=$(this,kt))==null||c.removeObserver(this),je(this,kt,void 0),lt(this,an,oc).call(this),lt(this,an,rd).call(this)}mutate(c,i){var u;return je(this,Wa,i),(u=$(this,kt))==null||u.removeObserver(this),je(this,kt,$(this,kn).getMutationCache().build($(this,kn),this.options)),$(this,kt).addObserver(this),$(this,kt).execute(c)}},kn=new WeakMap,Bn=new WeakMap,kt=new WeakMap,Wa=new WeakMap,an=new WeakSet,oc=function(){var i;const c=((i=$(this,kt))==null?void 0:i.state)??Ig();je(this,Bn,{...c,isPending:c.status==="pending",isSuccess:c.status==="success",isError:c.status==="error",isIdle:c.status==="idle",mutate:this.mutate,reset:this.reset})},rd=function(c){St.batch(()=>{var i,u,f,h,p,y,m,v;if($(this,Wa)&&this.hasListeners()){const x=$(this,Bn).variables,E=$(this,Bn).context;(c==null?void 0:c.type)==="success"?((u=(i=$(this,Wa)).onSuccess)==null||u.call(i,c.data,x,E),(h=(f=$(this,Wa)).onSettled)==null||h.call(f,c.data,null,x,E)):(c==null?void 0:c.type)==="error"&&((y=(p=$(this,Wa)).onError)==null||y.call(p,c.error,x,E),(v=(m=$(this,Wa)).onSettled)==null||v.call(m,void 0,c.error,x,E))}this.listeners.forEach(x=>{x($(this,Bn))})})},hg),Yg=b.createContext(void 0),Fg=n=>{const s=b.useContext(Yg);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},D1=({client:n,children:s})=>(b.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),r.jsx(Yg.Provider,{value:n,children:s}));function _1(n,s){return typeof n=="function"?n(...s):!!n}function M1(){}function kp(n,s){const c=Fg(),[i]=b.useState(()=>new R1(c,n));b.useEffect(()=>{i.setOptions(n)},[i,n]);const u=b.useSyncExternalStore(b.useCallback(h=>i.subscribe(St.batchCalls(h)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),f=b.useCallback((h,p)=>{i.mutate(h,p).catch(M1)},[i]);if(u.error&&_1(i.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:f,mutateAsync:u.mutate}}const Bp=n=>{let s;const c=new Set,i=(m,v)=>{const x=typeof m=="function"?m(s):m;if(!Object.is(x,s)){const E=s;s=v??(typeof x!="object"||x===null)?x:Object.assign({},s,x),c.forEach(A=>A(s,E))}},u=()=>s,p={setState:i,getState:u,getInitialState:()=>y,subscribe:m=>(c.add(m),()=>c.delete(m))},y=s=n(i,u,p);return p},z1=n=>n?Bp(n):Bp,L1=n=>n;function U1(n,s=L1){const c=gp.useSyncExternalStore(n.subscribe,()=>s(n.getState()),()=>s(n.getInitialState()));return gp.useDebugValue(c),c}const qp=n=>{const s=z1(n),c=i=>U1(s,i);return Object.assign(c,s),c},jl=n=>n?qp(n):qp;function Qg(n,s){return function(){return n.apply(s,arguments)}}const{toString:k1}=Object.prototype,{getPrototypeOf:Td}=Object,Cc=(n=>s=>{const c=k1.call(s);return n[c]||(n[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Ea=n=>(n=n.toLowerCase(),s=>Cc(s)===n),Rc=n=>s=>typeof s===n,{isArray:Sl}=Array,_r=Rc("undefined");function B1(n){return n!==null&&!_r(n)&&n.constructor!==null&&!_r(n.constructor)&&Xt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Vg=Ea("ArrayBuffer");function q1(n){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(n):s=n&&n.buffer&&Vg(n.buffer),s}const H1=Rc("string"),Xt=Rc("function"),$g=Rc("number"),Dc=n=>n!==null&&typeof n=="object",I1=n=>n===!0||n===!1,uc=n=>{if(Cc(n)!=="object")return!1;const s=Td(n);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Y1=Ea("Date"),F1=Ea("File"),Q1=Ea("Blob"),V1=Ea("FileList"),$1=n=>Dc(n)&&Xt(n.pipe),X1=n=>{let s;return n&&(typeof FormData=="function"&&n instanceof FormData||Xt(n.append)&&((s=Cc(n))==="formdata"||s==="object"&&Xt(n.toString)&&n.toString()==="[object FormData]"))},G1=Ea("URLSearchParams"),[Z1,K1,J1,P1]=["ReadableStream","Request","Response","Headers"].map(Ea),W1=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fr(n,s,{allOwnKeys:c=!1}={}){if(n===null||typeof n>"u")return;let i,u;if(typeof n!="object"&&(n=[n]),Sl(n))for(i=0,u=n.length;i<u;i++)s.call(null,n[i],i,n);else{const f=c?Object.getOwnPropertyNames(n):Object.keys(n),h=f.length;let p;for(i=0;i<h;i++)p=f[i],s.call(null,n[p],p,n)}}function Xg(n,s){s=s.toLowerCase();const c=Object.keys(n);let i=c.length,u;for(;i-- >0;)if(u=c[i],s===u.toLowerCase())return u;return null}const fs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gg=n=>!_r(n)&&n!==fs;function id(){const{caseless:n}=Gg(this)&&this||{},s={},c=(i,u)=>{const f=n&&Xg(s,u)||u;uc(s[f])&&uc(i)?s[f]=id(s[f],i):uc(i)?s[f]=id({},i):Sl(i)?s[f]=i.slice():s[f]=i};for(let i=0,u=arguments.length;i<u;i++)arguments[i]&&Fr(arguments[i],c);return s}const ej=(n,s,c,{allOwnKeys:i}={})=>(Fr(s,(u,f)=>{c&&Xt(u)?n[f]=Qg(u,c):n[f]=u},{allOwnKeys:i}),n),tj=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),aj=(n,s,c,i)=>{n.prototype=Object.create(s.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:s.prototype}),c&&Object.assign(n.prototype,c)},nj=(n,s,c,i)=>{let u,f,h;const p={};if(s=s||{},n==null)return s;do{for(u=Object.getOwnPropertyNames(n),f=u.length;f-- >0;)h=u[f],(!i||i(h,n,s))&&!p[h]&&(s[h]=n[h],p[h]=!0);n=c!==!1&&Td(n)}while(n&&(!c||c(n,s))&&n!==Object.prototype);return s},sj=(n,s,c)=>{n=String(n),(c===void 0||c>n.length)&&(c=n.length),c-=s.length;const i=n.indexOf(s,c);return i!==-1&&i===c},lj=n=>{if(!n)return null;if(Sl(n))return n;let s=n.length;if(!$g(s))return null;const c=new Array(s);for(;s-- >0;)c[s]=n[s];return c},rj=(n=>s=>n&&s instanceof n)(typeof Uint8Array<"u"&&Td(Uint8Array)),ij=(n,s)=>{const i=(n&&n[Symbol.iterator]).call(n);let u;for(;(u=i.next())&&!u.done;){const f=u.value;s.call(n,f[0],f[1])}},cj=(n,s)=>{let c;const i=[];for(;(c=n.exec(s))!==null;)i.push(c);return i},oj=Ea("HTMLFormElement"),uj=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,i,u){return i.toUpperCase()+u}),Hp=(({hasOwnProperty:n})=>(s,c)=>n.call(s,c))(Object.prototype),dj=Ea("RegExp"),Zg=(n,s)=>{const c=Object.getOwnPropertyDescriptors(n),i={};Fr(c,(u,f)=>{let h;(h=s(u,f,n))!==!1&&(i[f]=h||u)}),Object.defineProperties(n,i)},fj=n=>{Zg(n,(s,c)=>{if(Xt(n)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const i=n[c];if(Xt(i)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},hj=(n,s)=>{const c={},i=u=>{u.forEach(f=>{c[f]=!0})};return Sl(n)?i(n):i(String(n).split(s)),c},mj=()=>{},pj=(n,s)=>n!=null&&Number.isFinite(n=+n)?n:s;function gj(n){return!!(n&&Xt(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const yj=n=>{const s=new Array(10),c=(i,u)=>{if(Dc(i)){if(s.indexOf(i)>=0)return;if(!("toJSON"in i)){s[u]=i;const f=Sl(i)?[]:{};return Fr(i,(h,p)=>{const y=c(h,u+1);!_r(y)&&(f[p]=y)}),s[u]=void 0,f}}return i};return c(n,0)},vj=Ea("AsyncFunction"),xj=n=>n&&(Dc(n)||Xt(n))&&Xt(n.then)&&Xt(n.catch),Kg=((n,s)=>n?setImmediate:s?((c,i)=>(fs.addEventListener("message",({source:u,data:f})=>{u===fs&&f===c&&i.length&&i.shift()()},!1),u=>{i.push(u),fs.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",Xt(fs.postMessage)),bj=typeof queueMicrotask<"u"?queueMicrotask.bind(fs):typeof process<"u"&&process.nextTick||Kg,X={isArray:Sl,isArrayBuffer:Vg,isBuffer:B1,isFormData:X1,isArrayBufferView:q1,isString:H1,isNumber:$g,isBoolean:I1,isObject:Dc,isPlainObject:uc,isReadableStream:Z1,isRequest:K1,isResponse:J1,isHeaders:P1,isUndefined:_r,isDate:Y1,isFile:F1,isBlob:Q1,isRegExp:dj,isFunction:Xt,isStream:$1,isURLSearchParams:G1,isTypedArray:rj,isFileList:V1,forEach:Fr,merge:id,extend:ej,trim:W1,stripBOM:tj,inherits:aj,toFlatObject:nj,kindOf:Cc,kindOfTest:Ea,endsWith:sj,toArray:lj,forEachEntry:ij,matchAll:cj,isHTMLForm:oj,hasOwnProperty:Hp,hasOwnProp:Hp,reduceDescriptors:Zg,freezeMethods:fj,toObjectSet:hj,toCamelCase:uj,noop:mj,toFiniteNumber:pj,findKey:Xg,global:fs,isContextDefined:Gg,isSpecCompliantForm:gj,toJSONObject:yj,isAsyncFn:vj,isThenable:xj,setImmediate:Kg,asap:bj};function Te(n,s,c,i,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",s&&(this.code=s),c&&(this.config=c),i&&(this.request=i),u&&(this.response=u,this.status=u.status?u.status:null)}X.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Jg=Te.prototype,Pg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Pg[n]={value:n}});Object.defineProperties(Te,Pg);Object.defineProperty(Jg,"isAxiosError",{value:!0});Te.from=(n,s,c,i,u,f)=>{const h=Object.create(Jg);return X.toFlatObject(n,h,function(y){return y!==Error.prototype},p=>p!=="isAxiosError"),Te.call(h,n.message,s,c,i,u),h.cause=n,h.name=n.name,f&&Object.assign(h,f),h};const jj=null;function cd(n){return X.isPlainObject(n)||X.isArray(n)}function Wg(n){return X.endsWith(n,"[]")?n.slice(0,-2):n}function Ip(n,s,c){return n?n.concat(s).map(function(u,f){return u=Wg(u),!c&&f?"["+u+"]":u}).join(c?".":""):s}function Sj(n){return X.isArray(n)&&!n.some(cd)}const Nj=X.toFlatObject(X,{},null,function(s){return/^is[A-Z]/.test(s)});function _c(n,s,c){if(!X.isObject(n))throw new TypeError("target must be an object");s=s||new FormData,c=X.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,T){return!X.isUndefined(T[O])});const i=c.metaTokens,u=c.visitor||v,f=c.dots,h=c.indexes,y=(c.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(s);if(!X.isFunction(u))throw new TypeError("visitor must be a function");function m(N){if(N===null)return"";if(X.isDate(N))return N.toISOString();if(!y&&X.isBlob(N))throw new Te("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(N)||X.isTypedArray(N)?y&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,O,T){let D=N;if(N&&!T&&typeof N=="object"){if(X.endsWith(O,"{}"))O=i?O:O.slice(0,-2),N=JSON.stringify(N);else if(X.isArray(N)&&Sj(N)||(X.isFileList(N)||X.endsWith(O,"[]"))&&(D=X.toArray(N)))return O=Wg(O),D.forEach(function(C,U){!(X.isUndefined(C)||C===null)&&s.append(h===!0?Ip([O],U,f):h===null?O:O+"[]",m(C))}),!1}return cd(N)?!0:(s.append(Ip(T,O,f),m(N)),!1)}const x=[],E=Object.assign(Nj,{defaultVisitor:v,convertValue:m,isVisitable:cd});function A(N,O){if(!X.isUndefined(N)){if(x.indexOf(N)!==-1)throw Error("Circular reference detected in "+O.join("."));x.push(N),X.forEach(N,function(D,R){(!(X.isUndefined(D)||D===null)&&u.call(s,D,X.isString(R)?R.trim():R,O,E))===!0&&A(D,O?O.concat(R):[R])}),x.pop()}}if(!X.isObject(n))throw new TypeError("data must be an object");return A(n),s}function Yp(n){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return s[i]})}function wd(n,s){this._pairs=[],n&&_c(n,this,s)}const ey=wd.prototype;ey.append=function(s,c){this._pairs.push([s,c])};ey.toString=function(s){const c=s?function(i){return s.call(this,i,Yp)}:Yp;return this._pairs.map(function(u){return c(u[0])+"="+c(u[1])},"").join("&")};function Ej(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ty(n,s,c){if(!s)return n;const i=c&&c.encode||Ej;X.isFunction(c)&&(c={serialize:c});const u=c&&c.serialize;let f;if(u?f=u(s,c):f=X.isURLSearchParams(s)?s.toString():new wd(s,c).toString(i),f){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+f}return n}class Fp{constructor(){this.handlers=[]}use(s,c,i){return this.handlers.push({fulfilled:s,rejected:c,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){X.forEach(this.handlers,function(i){i!==null&&s(i)})}}const ay={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tj=typeof URLSearchParams<"u"?URLSearchParams:wd,wj=typeof FormData<"u"?FormData:null,Aj=typeof Blob<"u"?Blob:null,Oj={isBrowser:!0,classes:{URLSearchParams:Tj,FormData:wj,Blob:Aj},protocols:["http","https","file","blob","url","data"]},Ad=typeof window<"u"&&typeof document<"u",od=typeof navigator=="object"&&navigator||void 0,Cj=Ad&&(!od||["ReactNative","NativeScript","NS"].indexOf(od.product)<0),Rj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Dj=Ad&&window.location.href||"http://localhost",_j=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ad,hasStandardBrowserEnv:Cj,hasStandardBrowserWebWorkerEnv:Rj,navigator:od,origin:Dj},Symbol.toStringTag,{value:"Module"})),Ot={..._j,...Oj};function Mj(n,s){return _c(n,new Ot.classes.URLSearchParams,Object.assign({visitor:function(c,i,u,f){return Ot.isNode&&X.isBuffer(c)?(this.append(i,c.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},s))}function zj(n){return X.matchAll(/\w+|\[(\w*)]/g,n).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Lj(n){const s={},c=Object.keys(n);let i;const u=c.length;let f;for(i=0;i<u;i++)f=c[i],s[f]=n[f];return s}function ny(n){function s(c,i,u,f){let h=c[f++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),y=f>=c.length;return h=!h&&X.isArray(u)?u.length:h,y?(X.hasOwnProp(u,h)?u[h]=[u[h],i]:u[h]=i,!p):((!u[h]||!X.isObject(u[h]))&&(u[h]=[]),s(c,i,u[h],f)&&X.isArray(u[h])&&(u[h]=Lj(u[h])),!p)}if(X.isFormData(n)&&X.isFunction(n.entries)){const c={};return X.forEachEntry(n,(i,u)=>{s(zj(i),u,c,0)}),c}return null}function Uj(n,s,c){if(X.isString(n))try{return(s||JSON.parse)(n),X.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(c||JSON.stringify)(n)}const Qr={transitional:ay,adapter:["xhr","http","fetch"],transformRequest:[function(s,c){const i=c.getContentType()||"",u=i.indexOf("application/json")>-1,f=X.isObject(s);if(f&&X.isHTMLForm(s)&&(s=new FormData(s)),X.isFormData(s))return u?JSON.stringify(ny(s)):s;if(X.isArrayBuffer(s)||X.isBuffer(s)||X.isStream(s)||X.isFile(s)||X.isBlob(s)||X.isReadableStream(s))return s;if(X.isArrayBufferView(s))return s.buffer;if(X.isURLSearchParams(s))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let p;if(f){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Mj(s,this.formSerializer).toString();if((p=X.isFileList(s))||i.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return _c(p?{"files[]":s}:s,y&&new y,this.formSerializer)}}return f||u?(c.setContentType("application/json",!1),Uj(s)):s}],transformResponse:[function(s){const c=this.transitional||Qr.transitional,i=c&&c.forcedJSONParsing,u=this.responseType==="json";if(X.isResponse(s)||X.isReadableStream(s))return s;if(s&&X.isString(s)&&(i&&!this.responseType||u)){const h=!(c&&c.silentJSONParsing)&&u;try{return JSON.parse(s)}catch(p){if(h)throw p.name==="SyntaxError"?Te.from(p,Te.ERR_BAD_RESPONSE,this,null,this.response):p}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],n=>{Qr.headers[n]={}});const kj=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bj=n=>{const s={};let c,i,u;return n&&n.split(`
`).forEach(function(h){u=h.indexOf(":"),c=h.substring(0,u).trim().toLowerCase(),i=h.substring(u+1).trim(),!(!c||s[c]&&kj[c])&&(c==="set-cookie"?s[c]?s[c].push(i):s[c]=[i]:s[c]=s[c]?s[c]+", "+i:i)}),s},Qp=Symbol("internals");function wr(n){return n&&String(n).trim().toLowerCase()}function dc(n){return n===!1||n==null?n:X.isArray(n)?n.map(dc):String(n)}function qj(n){const s=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=c.exec(n);)s[i[1]]=i[2];return s}const Hj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Wu(n,s,c,i,u){if(X.isFunction(i))return i.call(this,s,c);if(u&&(s=c),!!X.isString(s)){if(X.isString(i))return s.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(s)}}function Ij(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,c,i)=>c.toUpperCase()+i)}function Yj(n,s){const c=X.toCamelCase(" "+s);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+c,{value:function(u,f,h){return this[i].call(this,s,u,f,h)},configurable:!0})})}let Bt=class{constructor(s){s&&this.set(s)}set(s,c,i){const u=this;function f(p,y,m){const v=wr(y);if(!v)throw new Error("header name must be a non-empty string");const x=X.findKey(u,v);(!x||u[x]===void 0||m===!0||m===void 0&&u[x]!==!1)&&(u[x||y]=dc(p))}const h=(p,y)=>X.forEach(p,(m,v)=>f(m,v,y));if(X.isPlainObject(s)||s instanceof this.constructor)h(s,c);else if(X.isString(s)&&(s=s.trim())&&!Hj(s))h(Bj(s),c);else if(X.isHeaders(s))for(const[p,y]of s.entries())f(y,p,i);else s!=null&&f(c,s,i);return this}get(s,c){if(s=wr(s),s){const i=X.findKey(this,s);if(i){const u=this[i];if(!c)return u;if(c===!0)return qj(u);if(X.isFunction(c))return c.call(this,u,i);if(X.isRegExp(c))return c.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,c){if(s=wr(s),s){const i=X.findKey(this,s);return!!(i&&this[i]!==void 0&&(!c||Wu(this,this[i],i,c)))}return!1}delete(s,c){const i=this;let u=!1;function f(h){if(h=wr(h),h){const p=X.findKey(i,h);p&&(!c||Wu(i,i[p],p,c))&&(delete i[p],u=!0)}}return X.isArray(s)?s.forEach(f):f(s),u}clear(s){const c=Object.keys(this);let i=c.length,u=!1;for(;i--;){const f=c[i];(!s||Wu(this,this[f],f,s,!0))&&(delete this[f],u=!0)}return u}normalize(s){const c=this,i={};return X.forEach(this,(u,f)=>{const h=X.findKey(i,f);if(h){c[h]=dc(u),delete c[f];return}const p=s?Ij(f):String(f).trim();p!==f&&delete c[f],c[p]=dc(u),i[p]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const c=Object.create(null);return X.forEach(this,(i,u)=>{i!=null&&i!==!1&&(c[u]=s&&X.isArray(i)?i.join(", "):i)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,c])=>s+": "+c).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...c){const i=new this(s);return c.forEach(u=>i.set(u)),i}static accessor(s){const i=(this[Qp]=this[Qp]={accessors:{}}).accessors,u=this.prototype;function f(h){const p=wr(h);i[p]||(Yj(u,h),i[p]=!0)}return X.isArray(s)?s.forEach(f):f(s),this}};Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Bt.prototype,({value:n},s)=>{let c=s[0].toUpperCase()+s.slice(1);return{get:()=>n,set(i){this[c]=i}}});X.freezeMethods(Bt);function ed(n,s){const c=this||Qr,i=s||c,u=Bt.from(i.headers);let f=i.data;return X.forEach(n,function(p){f=p.call(c,f,u.normalize(),s?s.status:void 0)}),u.normalize(),f}function sy(n){return!!(n&&n.__CANCEL__)}function Nl(n,s,c){Te.call(this,n??"canceled",Te.ERR_CANCELED,s,c),this.name="CanceledError"}X.inherits(Nl,Te,{__CANCEL__:!0});function ly(n,s,c){const i=c.config.validateStatus;!c.status||!i||i(c.status)?n(c):s(new Te("Request failed with status code "+c.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Fj(n){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return s&&s[1]||""}function Qj(n,s){n=n||10;const c=new Array(n),i=new Array(n);let u=0,f=0,h;return s=s!==void 0?s:1e3,function(y){const m=Date.now(),v=i[f];h||(h=m),c[u]=y,i[u]=m;let x=f,E=0;for(;x!==u;)E+=c[x++],x=x%n;if(u=(u+1)%n,u===f&&(f=(f+1)%n),m-h<s)return;const A=v&&m-v;return A?Math.round(E*1e3/A):void 0}}function Vj(n,s){let c=0,i=1e3/s,u,f;const h=(m,v=Date.now())=>{c=v,u=null,f&&(clearTimeout(f),f=null),n.apply(null,m)};return[(...m)=>{const v=Date.now(),x=v-c;x>=i?h(m,v):(u=m,f||(f=setTimeout(()=>{f=null,h(u)},i-x)))},()=>u&&h(u)]}const xc=(n,s,c=3)=>{let i=0;const u=Qj(50,250);return Vj(f=>{const h=f.loaded,p=f.lengthComputable?f.total:void 0,y=h-i,m=u(y),v=h<=p;i=h;const x={loaded:h,total:p,progress:p?h/p:void 0,bytes:y,rate:m||void 0,estimated:m&&p&&v?(p-h)/m:void 0,event:f,lengthComputable:p!=null,[s?"download":"upload"]:!0};n(x)},c)},Vp=(n,s)=>{const c=n!=null;return[i=>s[0]({lengthComputable:c,total:n,loaded:i}),s[1]]},$p=n=>(...s)=>X.asap(()=>n(...s)),$j=Ot.hasStandardBrowserEnv?((n,s)=>c=>(c=new URL(c,Ot.origin),n.protocol===c.protocol&&n.host===c.host&&(s||n.port===c.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,Xj=Ot.hasStandardBrowserEnv?{write(n,s,c,i,u,f){const h=[n+"="+encodeURIComponent(s)];X.isNumber(c)&&h.push("expires="+new Date(c).toGMTString()),X.isString(i)&&h.push("path="+i),X.isString(u)&&h.push("domain="+u),f===!0&&h.push("secure"),document.cookie=h.join("; ")},read(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Gj(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Zj(n,s){return s?n.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):n}function ry(n,s,c){let i=!Gj(s);return n&&(i||c==!1)?Zj(n,s):s}const Xp=n=>n instanceof Bt?{...n}:n;function js(n,s){s=s||{};const c={};function i(m,v,x,E){return X.isPlainObject(m)&&X.isPlainObject(v)?X.merge.call({caseless:E},m,v):X.isPlainObject(v)?X.merge({},v):X.isArray(v)?v.slice():v}function u(m,v,x,E){if(X.isUndefined(v)){if(!X.isUndefined(m))return i(void 0,m,x,E)}else return i(m,v,x,E)}function f(m,v){if(!X.isUndefined(v))return i(void 0,v)}function h(m,v){if(X.isUndefined(v)){if(!X.isUndefined(m))return i(void 0,m)}else return i(void 0,v)}function p(m,v,x){if(x in s)return i(m,v);if(x in n)return i(void 0,m)}const y={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(m,v,x)=>u(Xp(m),Xp(v),x,!0)};return X.forEach(Object.keys(Object.assign({},n,s)),function(v){const x=y[v]||u,E=x(n[v],s[v],v);X.isUndefined(E)&&x!==p||(c[v]=E)}),c}const iy=n=>{const s=js({},n);let{data:c,withXSRFToken:i,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:p}=s;s.headers=h=Bt.from(h),s.url=ty(ry(s.baseURL,s.url,s.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let y;if(X.isFormData(c)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((y=h.getContentType())!==!1){const[m,...v]=y?y.split(";").map(x=>x.trim()).filter(Boolean):[];h.setContentType([m||"multipart/form-data",...v].join("; "))}}if(Ot.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(s)),i||i!==!1&&$j(s.url))){const m=u&&f&&Xj.read(f);m&&h.set(u,m)}return s},Kj=typeof XMLHttpRequest<"u",Jj=Kj&&function(n){return new Promise(function(c,i){const u=iy(n);let f=u.data;const h=Bt.from(u.headers).normalize();let{responseType:p,onUploadProgress:y,onDownloadProgress:m}=u,v,x,E,A,N;function O(){A&&A(),N&&N(),u.cancelToken&&u.cancelToken.unsubscribe(v),u.signal&&u.signal.removeEventListener("abort",v)}let T=new XMLHttpRequest;T.open(u.method.toUpperCase(),u.url,!0),T.timeout=u.timeout;function D(){if(!T)return;const C=Bt.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),I={data:!p||p==="text"||p==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:C,config:n,request:T};ly(function(le){c(le),O()},function(le){i(le),O()},I),T=null}"onloadend"in T?T.onloadend=D:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(D)},T.onabort=function(){T&&(i(new Te("Request aborted",Te.ECONNABORTED,n,T)),T=null)},T.onerror=function(){i(new Te("Network Error",Te.ERR_NETWORK,n,T)),T=null},T.ontimeout=function(){let U=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const I=u.transitional||ay;u.timeoutErrorMessage&&(U=u.timeoutErrorMessage),i(new Te(U,I.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,n,T)),T=null},f===void 0&&h.setContentType(null),"setRequestHeader"in T&&X.forEach(h.toJSON(),function(U,I){T.setRequestHeader(I,U)}),X.isUndefined(u.withCredentials)||(T.withCredentials=!!u.withCredentials),p&&p!=="json"&&(T.responseType=u.responseType),m&&([E,N]=xc(m,!0),T.addEventListener("progress",E)),y&&T.upload&&([x,A]=xc(y),T.upload.addEventListener("progress",x),T.upload.addEventListener("loadend",A)),(u.cancelToken||u.signal)&&(v=C=>{T&&(i(!C||C.type?new Nl(null,n,T):C),T.abort(),T=null)},u.cancelToken&&u.cancelToken.subscribe(v),u.signal&&(u.signal.aborted?v():u.signal.addEventListener("abort",v)));const R=Fj(u.url);if(R&&Ot.protocols.indexOf(R)===-1){i(new Te("Unsupported protocol "+R+":",Te.ERR_BAD_REQUEST,n));return}T.send(f||null)})},Pj=(n,s)=>{const{length:c}=n=n?n.filter(Boolean):[];if(s||c){let i=new AbortController,u;const f=function(m){if(!u){u=!0,p();const v=m instanceof Error?m:this.reason;i.abort(v instanceof Te?v:new Nl(v instanceof Error?v.message:v))}};let h=s&&setTimeout(()=>{h=null,f(new Te(`timeout ${s} of ms exceeded`,Te.ETIMEDOUT))},s);const p=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(f):m.removeEventListener("abort",f)}),n=null)};n.forEach(m=>m.addEventListener("abort",f));const{signal:y}=i;return y.unsubscribe=()=>X.asap(p),y}},Wj=function*(n,s){let c=n.byteLength;if(c<s){yield n;return}let i=0,u;for(;i<c;)u=i+s,yield n.slice(i,u),i=u},eS=async function*(n,s){for await(const c of tS(n))yield*Wj(c,s)},tS=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const s=n.getReader();try{for(;;){const{done:c,value:i}=await s.read();if(c)break;yield i}}finally{await s.cancel()}},Gp=(n,s,c,i)=>{const u=eS(n,s);let f=0,h,p=y=>{h||(h=!0,i&&i(y))};return new ReadableStream({async pull(y){try{const{done:m,value:v}=await u.next();if(m){p(),y.close();return}let x=v.byteLength;if(c){let E=f+=x;c(E)}y.enqueue(new Uint8Array(v))}catch(m){throw p(m),m}},cancel(y){return p(y),u.return()}},{highWaterMark:2})},Mc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cy=Mc&&typeof ReadableStream=="function",aS=Mc&&(typeof TextEncoder=="function"?(n=>s=>n.encode(s))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),oy=(n,...s)=>{try{return!!n(...s)}catch{return!1}},nS=cy&&oy(()=>{let n=!1;const s=new Request(Ot.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!s}),Zp=64*1024,ud=cy&&oy(()=>X.isReadableStream(new Response("").body)),bc={stream:ud&&(n=>n.body)};Mc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!bc[s]&&(bc[s]=X.isFunction(n[s])?c=>c[s]():(c,i)=>{throw new Te(`Response type '${s}' is not supported`,Te.ERR_NOT_SUPPORT,i)})})})(new Response);const sS=async n=>{if(n==null)return 0;if(X.isBlob(n))return n.size;if(X.isSpecCompliantForm(n))return(await new Request(Ot.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(X.isArrayBufferView(n)||X.isArrayBuffer(n))return n.byteLength;if(X.isURLSearchParams(n)&&(n=n+""),X.isString(n))return(await aS(n)).byteLength},lS=async(n,s)=>{const c=X.toFiniteNumber(n.getContentLength());return c??sS(s)},rS=Mc&&(async n=>{let{url:s,method:c,data:i,signal:u,cancelToken:f,timeout:h,onDownloadProgress:p,onUploadProgress:y,responseType:m,headers:v,withCredentials:x="same-origin",fetchOptions:E}=iy(n);m=m?(m+"").toLowerCase():"text";let A=Pj([u,f&&f.toAbortSignal()],h),N;const O=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let T;try{if(y&&nS&&c!=="get"&&c!=="head"&&(T=await lS(v,i))!==0){let I=new Request(s,{method:"POST",body:i,duplex:"half"}),F;if(X.isFormData(i)&&(F=I.headers.get("content-type"))&&v.setContentType(F),I.body){const[le,ie]=Vp(T,xc($p(y)));i=Gp(I.body,Zp,le,ie)}}X.isString(x)||(x=x?"include":"omit");const D="credentials"in Request.prototype;N=new Request(s,{...E,signal:A,method:c.toUpperCase(),headers:v.normalize().toJSON(),body:i,duplex:"half",credentials:D?x:void 0});let R=await fetch(N);const C=ud&&(m==="stream"||m==="response");if(ud&&(p||C&&O)){const I={};["status","statusText","headers"].forEach(J=>{I[J]=R[J]});const F=X.toFiniteNumber(R.headers.get("content-length")),[le,ie]=p&&Vp(F,xc($p(p),!0))||[];R=new Response(Gp(R.body,Zp,le,()=>{ie&&ie(),O&&O()}),I)}m=m||"text";let U=await bc[X.findKey(bc,m)||"text"](R,n);return!C&&O&&O(),await new Promise((I,F)=>{ly(I,F,{data:U,headers:Bt.from(R.headers),status:R.status,statusText:R.statusText,config:n,request:N})})}catch(D){throw O&&O(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,n,N),{cause:D.cause||D}):Te.from(D,D&&D.code,n,N)}}),dd={http:jj,xhr:Jj,fetch:rS};X.forEach(dd,(n,s)=>{if(n){try{Object.defineProperty(n,"name",{value:s})}catch{}Object.defineProperty(n,"adapterName",{value:s})}});const Kp=n=>`- ${n}`,iS=n=>X.isFunction(n)||n===null||n===!1,uy={getAdapter:n=>{n=X.isArray(n)?n:[n];const{length:s}=n;let c,i;const u={};for(let f=0;f<s;f++){c=n[f];let h;if(i=c,!iS(c)&&(i=dd[(h=String(c)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${h}'`);if(i)break;u[h||"#"+f]=i}if(!i){const f=Object.entries(u).map(([p,y])=>`adapter ${p} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=s?f.length>1?`since :
`+f.map(Kp).join(`
`):" "+Kp(f[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:dd};function td(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Nl(null,n)}function Jp(n){return td(n),n.headers=Bt.from(n.headers),n.data=ed.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),uy.getAdapter(n.adapter||Qr.adapter)(n).then(function(i){return td(n),i.data=ed.call(n,n.transformResponse,i),i.headers=Bt.from(i.headers),i},function(i){return sy(i)||(td(n),i&&i.response&&(i.response.data=ed.call(n,n.transformResponse,i.response),i.response.headers=Bt.from(i.response.headers))),Promise.reject(i)})}const dy="1.8.4",zc={};["object","boolean","number","function","string","symbol"].forEach((n,s)=>{zc[n]=function(i){return typeof i===n||"a"+(s<1?"n ":" ")+n}});const Pp={};zc.transitional=function(s,c,i){function u(f,h){return"[Axios v"+dy+"] Transitional option '"+f+"'"+h+(i?". "+i:"")}return(f,h,p)=>{if(s===!1)throw new Te(u(h," has been removed"+(c?" in "+c:"")),Te.ERR_DEPRECATED);return c&&!Pp[h]&&(Pp[h]=!0,console.warn(u(h," has been deprecated since v"+c+" and will be removed in the near future"))),s?s(f,h,p):!0}};zc.spelling=function(s){return(c,i)=>(console.warn(`${i} is likely a misspelling of ${s}`),!0)};function cS(n,s,c){if(typeof n!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let u=i.length;for(;u-- >0;){const f=i[u],h=s[f];if(h){const p=n[f],y=p===void 0||h(p,f,n);if(y!==!0)throw new Te("option "+f+" must be "+y,Te.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new Te("Unknown option "+f,Te.ERR_BAD_OPTION)}}const fc={assertOptions:cS,validators:zc},Ra=fc.validators;let vs=class{constructor(s){this.defaults=s,this.interceptors={request:new Fp,response:new Fp}}async request(s,c){try{return await this._request(s,c)}catch(i){if(i instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{i.stack?f&&!String(i.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+f):i.stack=f}catch{}}throw i}}_request(s,c){typeof s=="string"?(c=c||{},c.url=s):c=s||{},c=js(this.defaults,c);const{transitional:i,paramsSerializer:u,headers:f}=c;i!==void 0&&fc.assertOptions(i,{silentJSONParsing:Ra.transitional(Ra.boolean),forcedJSONParsing:Ra.transitional(Ra.boolean),clarifyTimeoutError:Ra.transitional(Ra.boolean)},!1),u!=null&&(X.isFunction(u)?c.paramsSerializer={serialize:u}:fc.assertOptions(u,{encode:Ra.function,serialize:Ra.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),fc.assertOptions(c,{baseUrl:Ra.spelling("baseURL"),withXsrfToken:Ra.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let h=f&&X.merge(f.common,f[c.method]);f&&X.forEach(["delete","get","head","post","put","patch","common"],N=>{delete f[N]}),c.headers=Bt.concat(h,f);const p=[];let y=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(c)===!1||(y=y&&O.synchronous,p.unshift(O.fulfilled,O.rejected))});const m=[];this.interceptors.response.forEach(function(O){m.push(O.fulfilled,O.rejected)});let v,x=0,E;if(!y){const N=[Jp.bind(this),void 0];for(N.unshift.apply(N,p),N.push.apply(N,m),E=N.length,v=Promise.resolve(c);x<E;)v=v.then(N[x++],N[x++]);return v}E=p.length;let A=c;for(x=0;x<E;){const N=p[x++],O=p[x++];try{A=N(A)}catch(T){O.call(this,T);break}}try{v=Jp.call(this,A)}catch(N){return Promise.reject(N)}for(x=0,E=m.length;x<E;)v=v.then(m[x++],m[x++]);return v}getUri(s){s=js(this.defaults,s);const c=ry(s.baseURL,s.url,s.allowAbsoluteUrls);return ty(c,s.params,s.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(s){vs.prototype[s]=function(c,i){return this.request(js(i||{},{method:s,url:c,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(s){function c(i){return function(f,h,p){return this.request(js(p||{},{method:s,headers:i?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}vs.prototype[s]=c(),vs.prototype[s+"Form"]=c(!0)});let oS=class fy{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(f){c=f});const i=this;this.promise.then(u=>{if(!i._listeners)return;let f=i._listeners.length;for(;f-- >0;)i._listeners[f](u);i._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(p=>{i.subscribe(p),f=p}).then(u);return h.cancel=function(){i.unsubscribe(f)},h},s(function(f,h,p){i.reason||(i.reason=new Nl(f,h,p),c(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const c=this._listeners.indexOf(s);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const s=new AbortController,c=i=>{s.abort(i)};return this.subscribe(c),s.signal.unsubscribe=()=>this.unsubscribe(c),s.signal}static source(){let s;return{token:new fy(function(u){s=u}),cancel:s}}};function uS(n){return function(c){return n.apply(null,c)}}function dS(n){return X.isObject(n)&&n.isAxiosError===!0}const fd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fd).forEach(([n,s])=>{fd[s]=n});function hy(n){const s=new vs(n),c=Qg(vs.prototype.request,s);return X.extend(c,vs.prototype,s,{allOwnKeys:!0}),X.extend(c,s,null,{allOwnKeys:!0}),c.create=function(u){return hy(js(n,u))},c}const rt=hy(Qr);rt.Axios=vs;rt.CanceledError=Nl;rt.CancelToken=oS;rt.isCancel=sy;rt.VERSION=dy;rt.toFormData=_c;rt.AxiosError=Te;rt.Cancel=rt.CanceledError;rt.all=function(s){return Promise.all(s)};rt.spread=uS;rt.isAxiosError=dS;rt.mergeConfig=js;rt.AxiosHeaders=Bt;rt.formToJSON=n=>ny(X.isHTMLForm(n)?new FormData(n):n);rt.getAdapter=uy.getAdapter;rt.HttpStatusCode=fd;rt.default=rt;const{Axios:bN,AxiosError:jN,CanceledError:SN,isCancel:NN,CancelToken:EN,VERSION:TN,all:wN,Cancel:AN,isAxiosError:ON,spread:CN,toFormData:RN,AxiosHeaders:DN,HttpStatusCode:_N,formToJSON:MN,getAdapter:zN,mergeConfig:LN}=rt,fS="/api/",Ar=rt.create({baseURL:fS,withCredentials:!0,timeout:15e3});Ar.interceptors.request.use(n=>{const s=localStorage.getItem("accessToken");return s&&(n.headers.Authorization=`Bearer ${s}`),n},n=>Promise.reject(n));Ar.interceptors.response.use(n=>n,async n=>{var c;const s=n.config;if(!s||s._retry)return Promise.reject(n);if(((c=n.response)==null?void 0:c.status)===401)try{s._retry=!0;const i=await Ar.post("/auth/refresh"),{accessToken:u}=i.data;return localStorage.setItem("accessToken",u),s.headers.Authorization=`Bearer ${u}`,Ar(s)}catch(i){return localStorage.removeItem("accessToken"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(i)}return Promise.reject(n)});const Ce={async get(n,s=null,c={}){return rc("GET",n,null,s,c)},async post(n,s=null,c={}){return rc("POST",n,s,null,c)},async put(n,s=null,c={}){return rc("PUT",n,s,null,c)},async delete(n,s=null,c={}){return rc("DELETE",n,s,null,c)}};async function rc(n,s,c=null,i=null,u={}){var f;try{return(await Ar({method:n,url:s,data:c,params:i,...u})).data}catch(h){if(console.error(`Error ${n} ${s}:`,h),h.response){const p=((f=h.response.data)==null?void 0:f.error)||"Server error";throw new Error(p)}else throw h.request?new Error("Network error - no response received"):new Error("Error setting up the request")}}const jc=jl(n=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,initialize:()=>{const s=localStorage.getItem("user"),c=localStorage.getItem("accessToken");if(s&&c)try{const i=JSON.parse(s);n({user:i,isAuthenticated:!0})}catch{localStorage.removeItem("user"),localStorage.removeItem("accessToken")}},login:async(s,c)=>{n({isLoading:!0,error:null});try{const i=await Ce.post("auth/login",{email:s,password:c});return localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("user",JSON.stringify(i.teacher)),n({user:i.teacher,isAuthenticated:!0,isLoading:!1}),i.teacher}catch(i){const u=i instanceof Error?i.message:"Login failed";throw n({error:u,isLoading:!1}),i}},logout:async()=>{n({isLoading:!0});try{await Ce.post("auth/logout")}catch(s){console.error("Logout failed:",s)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("user"),n({user:null,isAuthenticated:!1,isLoading:!1})}},clearError:()=>{n({error:null})}}));function In(){var O;const n=Fg(),s=fa(),{user:c,isAuthenticated:i,isLoading:u,error:f,login:h,logout:p,clearError:y}=jc(),m=kp({mutationFn:T=>h(T.email,T.password),onSuccess:()=>{n.invalidateQueries({queryKey:["user"]}),s("/dashboard")}}),v=kp({mutationFn:()=>p(),onSuccess:()=>{n.clear(),s("/login")}});function x(T,D){return y(),m.mutate({email:T,password:D})}function E(){return v.mutate()}const A=u||m.isPending||v.isPending,N=f||((O=m.error)==null?void 0:O.message)||void 0;return{user:c,isAuthenticated:i,isLoading:A,error:N,login:x,logout:E,clearError:y}}const my=b.createContext(void 0);function hS({children:n}){const[s,c]=b.useState(()=>{const u=localStorage.getItem("theme");return u||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});b.useEffect(()=>{document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s)},[s]),b.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),f=h=>{localStorage.getItem("theme")||c(h.matches?"dark":"light")};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[]);const i=()=>{c(u=>u==="light"?"dark":"light")};return r.jsx(my.Provider,{value:{theme:s,toggleTheme:i},children:n})}function py(){const n=b.useContext(my);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}function mS(){const[n,s]=b.useState(""),[c,i]=b.useState(""),{login:u,isAuthenticated:f,isLoading:h,error:p,clearError:y}=In(),{theme:m,toggleTheme:v}=py();if(f)return r.jsx(gc,{to:"/dashboard",replace:!0});function x(N){N.preventDefault(),!(!n||!c)&&u(n,c)}function E(N){y(),s(N.target.value)}function A(N){y(),i(N.target.value)}return r.jsx("div",{className:"login-page",children:r.jsxs("div",{className:"login-form",children:[r.jsx("button",{className:"theme-toggle",onClick:v,"aria-label":"Toggle theme",children:m==="dark"?r.jsx(Mg,{className:"icon"}):r.jsx(_g,{className:"icon"})}),r.jsx("h1",{children:""}),p&&r.jsx("div",{className:"error-message",children:p}),r.jsxs("form",{className:"form-section",onSubmit:x,children:[r.jsxs("div",{className:"input-container",children:[r.jsx("input",{type:"email",id:"email",className:n?"has-value":"",placeholder:"",autoComplete:"off",required:!0,value:n,onChange:E}),r.jsx("label",{htmlFor:"email",children:""}),r.jsx(qr,{className:"input-icon"})]}),r.jsxs("div",{className:"input-container",children:[r.jsx("input",{type:"password",id:"password",className:c?"has-value":"",placeholder:"",required:!0,value:c,onChange:A}),r.jsx("label",{htmlFor:"password",children:""}),r.jsx(Yb,{className:"input-icon"})]}),r.jsx("button",{className:"btn",type:"submit",disabled:h,children:h?"...":""}),r.jsxs("div",{className:"forgot-password",children:[r.jsx("p",{children:" ?"}),r.jsx("a",{href:"#",children:" "})]})]})]})})}const pS=["Workshop","Seminar","Conference","Networking Event","Other"],gS=["Morning (9AM - 12PM)","Afternoon (1PM - 4PM)","Evening (5PM - 8PM)"];function yS(){const[n,s]=b.useState({firstName:"",lastName:"",email:"",phone:"",topic:"",preferredSlot:""}),[c,i]=b.useState(!1),u=h=>{const{name:p,value:y}=h.target;s(m=>({...m,[p]:y}))},f=async h=>{h.preventDefault(),i(!0);try{await new Promise(p=>setTimeout(p,1e3)),s({firstName:"",lastName:"",email:"",phone:"",topic:"",preferredSlot:""}),alert("Registration successful!")}catch{alert("Registration failed. Please try again.")}finally{i(!1)}};return r.jsx("div",{className:"event-registration-page",children:r.jsxs("div",{className:"glass-form",children:[r.jsx("h2",{children:"Event Registration"}),r.jsx("p",{children:"Register with us to get more details."}),r.jsxs("form",{onSubmit:f,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Name"}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",name:"firstName",value:n.firstName,onChange:u,placeholder:"First",required:!0})}),r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:u,placeholder:"Last",required:!0})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Email"}),r.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,placeholder:"email@example.com",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:u,placeholder:"+1 (555) 000-0000"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Topic"}),r.jsxs("select",{name:"topic",value:n.topic,onChange:u,required:!0,children:[r.jsx("option",{value:"",children:"Select a topic"}),pS.map(h=>r.jsx("option",{value:h,children:h},h))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Preferred Slot"}),r.jsxs("select",{name:"preferredSlot",value:n.preferredSlot,onChange:u,required:!0,children:[r.jsx("option",{value:"",children:"Select a time"}),gS.map(h=>r.jsx("option",{value:h,children:h},h))]})]})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"submit",className:"btn-submit",disabled:c,children:c?"Submitting...":"Sign me up"})})]})]})})}const vS=b.createContext({isVisible:!0,setIsVisible:()=>{},hideNavbar:()=>{},showNavbar:()=>{},hideForModal:()=>{},showAfterModal:()=>{}}),xS=()=>b.useContext(vS);function Vr(){const s=qt().pathname,{isVisible:c}=xS(),i=[{path:"/teachers",label:"",icon:Dg},{path:"/students",label:"",icon:Ir},{path:"/dashboard",label:"",icon:Hb,isHome:!0},{path:"/orchestras",label:"",icon:_t},{path:"/rehearsals",label:" ",icon:nt}];return r.jsx("nav",{className:`bottom-nav mounted ${c?"scroll-up":"scroll-down"}`,children:r.jsx("div",{className:"nav-items",children:i.map(u=>{const f=s===u.path||u.path==="/dashboard"&&s==="/"||u.path!=="/dashboard"&&s.startsWith(u.path);return r.jsxs(Cr,{to:u.path,className:`nav-item ${f?"active":""} ${u.isHome?"home":""}`,"aria-label":u.label,children:[r.jsx(u.icon,{className:"nav-icon",strokeWidth:u.isHome?2.5:2}),!u.isHome&&r.jsx("span",{className:"nav-label",children:u.label})]},u.path)})})})}function bS(){return r.jsxs("div",{className:"dashboard-container",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx(Vr,{})]})}const Ze={async getStudents(n={}){return Ce.get("student",n)},async getStudentById(n){return Ce.get(`student/${n}`)},async getStudentsByIds(n){return!n||n.length===0?[]:(await this.getStudents()).filter(c=>n.includes(c._id))},async getStudentsByOrchestraId(n){return this.getStudents({orchestraId:n})},async getStudentsByTeacherId(n){return this.getStudents({teacherId:n})},async addStudent(n){return Ce.post("student",n)},async updateStudent(n,s){const{_id:c,createdAt:i,updatedAt:u,...f}=s;return Ce.put(`student/${n}`,f)},async removeStudent(n){return Ce.delete(`student/${n}`)},async updateTeacherSchedule(n,s){if(!s.studentId||!s.day||!s.time||!s.duration)throw new Error("Invalid schedule data: All fields are required");return console.log(`Updating teacher ${n} schedule with:`,s),Ce.post(`teacher/${n}/schedule`,s)},async getStudentAttendanceStats(n,s){try{return Ce.get(`orchestra/${n}/student/${s}/attendance`)}catch(c){return console.error("Failed to get student attendance stats:",c),{attendanceRate:0,attended:0,totalRehearsals:0,recentHistory:[],message:"Failed to load attendance data"}}}},Yn=jl((n,s)=>({students:[],selectedStudent:null,filterBy:{},isLoading:!1,error:null,loadStudents:async(c={})=>{n({isLoading:!0,error:null});try{const i={...s().filterBy,...c},u=await Ze.getStudents(i);n({students:u,filterBy:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load students";n({error:u,isLoading:!1}),console.error("Error loading students:",i)}},loadStudentById:async c=>{n({isLoading:!0,error:null});try{const i=await Ze.getStudentById(c);n({selectedStudent:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load student";n({error:u,isLoading:!1}),console.error("Error loading student:",i)}},saveStudent:async c=>{n({isLoading:!0,error:null});try{let i;if(c._id){const u=c._id;i=await Ze.updateStudent(u,c);const f=s().students.map(h=>h._id===i._id?i:h);n({students:f,selectedStudent:i,isLoading:!1})}else i=await Ze.addStudent(c),n({students:[...s().students,i],selectedStudent:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save student";throw n({error:u,isLoading:!1}),console.error("Error saving student:",i),i}},removeStudent:async c=>{var i;n({isLoading:!0,error:null});try{await Ze.removeStudent(c),n({students:s().students.filter(u=>u._id!==c),selectedStudent:((i=s().selectedStudent)==null?void 0:i._id)===c?null:s().selectedStudent,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove student";throw n({error:f,isLoading:!1}),console.error("Error removing student:",u),u}},getStudentsByIds:async c=>{if(!c||c.length===0)return[];n({isLoading:!0,error:null});try{const u=s().students,f=u.map(m=>m._id),h=c.filter(m=>!f.includes(m));let p=[...u];if(h.length>0){const m=await Ze.getStudentsByIds(h);p=[...u],m.forEach(v=>{p.some(x=>x._id===v._id)||p.push(v)}),n({students:p})}const y=p.filter(m=>c.includes(m._id));return n({isLoading:!1}),y}catch(i){const u=i instanceof Error?i.message:"Failed to load students by IDs";return n({error:u,isLoading:!1}),console.error("Error loading students by IDs:",i),[]}},setFilter:c=>{n({filterBy:{...s().filterBy,...c}})},clearSelectedStudent:()=>{n({selectedStudent:null})},clearError:()=>{n({error:null})}}));function jS({student:n,onView:s,onEdit:c,onRemove:i}){var E,A,N,O,T;const u=D=>{const R=["var(--stage-1)","var(--stage-2)","var(--stage-3)","var(--stage-4)","var(--stage-5)","var(--stage-6)","var(--stage-7)","var(--stage-8)"];return R[D-1]||R[0]},f=D=>{switch(D){case"/":return"var(--success)";case" /":return"var(--danger)";default:return"var(--text-muted)"}},h=D=>D.split(" ").map(R=>R[0]).join("").toUpperCase().substring(0,2),p=D=>D===0?" ":D===1?" ":`${D} `,m=((E=n.enrollments)==null?void 0:E.orchestraIds)&&n.enrollments.orchestraIds.length>0?n.enrollments.orchestraIds.length:0,v=((N=(A=n.academicInfo.tests)==null?void 0:A.technicalTest)==null?void 0:N.status)||" ",x=((T=(O=n.academicInfo.tests)==null?void 0:O.stageTest)==null?void 0:T.status)||" ";return r.jsxs("div",{className:"student-preview",onClick:()=>s(n._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"preview-header",children:[r.jsxs("div",{className:"header-right-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:u(n.academicInfo.currentStage)},children:h(n.personalInfo.fullName)})}),r.jsxs("div",{className:"student-info",children:[r.jsx("h3",{className:"student-name",children:n.personalInfo.fullName}),r.jsxs("div",{className:"student-subject",children:[r.jsx(_t,{size:14}),r.jsx("span",{children:n.academicInfo.instrument})]})]})]}),r.jsxs("div",{className:"badges-container",children:[r.jsx("div",{className:"stage-badge",style:{backgroundColor:u(n.academicInfo.currentStage)},children:r.jsxs("span",{children:[" ",n.academicInfo.currentStage]})}),r.jsx("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:r.jsxs("span",{children:[" ",n.academicInfo.class]})})]})]}),r.jsxs("div",{className:"preview-content",children:[r.jsx("div",{className:"info-row",children:r.jsxs("div",{className:"info-item",children:[r.jsx(Cg,{size:16}),r.jsx("span",{children:p(m)})]})}),r.jsxs("div",{className:"tests-section",children:[r.jsxs("div",{className:"test-item",children:[r.jsx("div",{className:"test-label",children:" :"}),r.jsx("div",{className:"test-status",style:{color:f(v)},children:v})]}),r.jsxs("div",{className:"test-item",children:[r.jsx("div",{className:"test-label",children:" :"}),r.jsx("div",{className:"test-status",style:{color:f(x)},children:x})]})]})]}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:D=>{D.stopPropagation(),s(n._id)},"aria-label":"  ",children:r.jsx(Br,{size:16})}),r.jsx("button",{className:"action-btn edit",onClick:D=>{D.stopPropagation(),c(n._id)},"aria-label":" ",children:r.jsx(xs,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:D=>{D.stopPropagation(),i(n._id)},"aria-label":" ",children:r.jsx(Ac,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(nt,{size:14}),r.jsx("span",{children:new Date(n.createdAt).toLocaleDateString("he-IL")})]})]})]})}function SS({students:n,isLoading:s,onEdit:c,onView:i,onRemove:u}){return s&&n.length===0?r.jsx("div",{className:"loading-state",children:" ..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx("p",{children:"        "})]}):r.jsx("div",{className:"student-grid",children:n.map(f=>r.jsx(jS,{student:f,onEdit:c,onView:i||c,onRemove:u},f._id))})}const NS="/assets/logo-reKfKP0d.png";function Lc(){const[n,s]=b.useState(!1),{user:c,logout:i}=In(),{theme:u,toggleTheme:f}=py(),h=b.useRef(null);b.useEffect(()=>{function v(x){h.current&&!h.current.contains(x.target)&&s(!1)}return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);function p(){i()}function y(){s(v=>!v)}const m=c!=null&&c.fullName?c.fullName.split(" ").map(v=>v[0]).join("").substring(0,2).toUpperCase():"U";return r.jsx("header",{className:"header",children:r.jsxs("div",{className:"header-container",children:[r.jsxs("div",{className:"right-section",style:{display:"flex",alignItems:"center"},children:[c&&r.jsxs("div",{className:"user-container",ref:h,children:[r.jsx("div",{className:"avatar-wrapper",onClick:y,children:r.jsx("div",{className:"avatar-circle",children:c.avatarUrl?r.jsx("img",{src:c.avatarUrl,alt:"Avatar",className:"user-avatar"}):r.jsx("div",{className:"avatar-placeholder",children:m})})}),n&&r.jsxs("div",{className:"dropdown-menu",children:[r.jsxs("div",{className:"user-info",children:[r.jsx("div",{className:"user-name",children:c.fullName}),r.jsx("div",{className:"user-email",children:c.email})]}),r.jsxs(Cr,{to:"/profile",className:"dropdown-item",children:[r.jsx(Sa,{className:"dropdown-icon",strokeWidth:2}),r.jsx("span",{children:" "})]}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs("button",{className:"dropdown-item logout-btn",onClick:p,children:[r.jsx(Qb,{className:"dropdown-icon",strokeWidth:2}),r.jsx("span",{children:""})]})]})]}),r.jsx("button",{className:"theme-toggle",onClick:f,"aria-label":"Toggle theme",children:u==="dark"?r.jsx(Mg,{className:"icon"}):r.jsx(_g,{className:"icon"})})]}),r.jsx("div",{className:"logo-container",children:r.jsx(Cr,{to:"/dashboard",className:"logo-link",children:r.jsx("img",{src:NS,alt:"Logo",className:"logo-image"})})})]})})}function Od({onSearch:n,placeholder:s="...",className:c=""}){const[i,u]=b.useState(""),f=p=>{const y=p.target.value;u(y),n(y)},h=()=>{u(""),n("")};return r.jsx("div",{className:`search-bar-container ${c}`,children:r.jsxs("div",{className:"search-bar",children:[r.jsx(yc,{className:"search-icon",size:18}),r.jsx("input",{type:"text",value:i,onChange:f,placeholder:s,className:"search-input"}),i&&r.jsx("button",{className:"clear-button",onClick:h,children:r.jsx(Mt,{size:16})})]})})}function Cd(n,s){const[c,i]=b.useState(""),u=Array.isArray(n)?n:[],[f,h]=b.useState(u);b.useEffect(()=>{console.log("useSearchbar entities update:",{isArray:Array.isArray(n),length:Array.isArray(n)?n.length:"n/a",type:typeof n}),c?p(c):h(u)},[n,c]);const p=m=>{if(!m){h(u);return}const v=m.toLowerCase(),x=u.filter(E=>{try{const A=typeof s=="function"?s(E):s.map(N=>{const O=E[N];return O?String(O):""});return Array.isArray(A)?A.some(N=>typeof N!="string"?(console.error("Expected field value to be a string but got:",typeof N),!1):N.toLowerCase().includes(v)):(console.error("Expected fieldsToSearch to be an array but got:",typeof A),!1)}catch(A){return console.error("Error filtering entity:",A),!1}});h(x)},y=m=>{i(m),p(m)};return{filteredEntities:Array.isArray(f)?f:[],handleSearch:y,searchQuery:c}}const El=jl(n=>({schoolYears:[],currentSchoolYear:null,isLoading:!1,error:null,loadSchoolYears:async()=>{n({isLoading:!0,error:null});try{const s=await Ce.get("school-year");n({schoolYears:s,isLoading:!1})}catch(s){const c=s instanceof Error?s.message:"Failed to load school years";n({error:c,isLoading:!1}),console.error("Error loading school years:",s)}},loadCurrentSchoolYear:async()=>{n({isLoading:!0,error:null});try{const s=await Ce.get("school-year/current");n({currentSchoolYear:s,isLoading:!1})}catch(s){const c=s instanceof Error?s.message:"Failed to load current school year";n({error:c,isLoading:!1}),console.error("Error loading current school year:",s)}}}));function gy(n){const s={};if(n.personalInfo&&(s.personalInfo={...n.personalInfo}),n.roles&&(console.log("Including roles for update:",n.roles),s.roles=Array.isArray(n.roles)?[...n.roles]:[]),n.professionalInfo&&(s.professionalInfo={...n.professionalInfo}),n.isActive!==void 0&&(s.isActive=n.isActive),n.conducting&&(s.conducting={orchestraIds:Array.isArray(n.conducting.orchestraIds)?[...n.conducting.orchestraIds]:[]}),n.ensemblesIds&&(s.ensemblesIds=Array.isArray(n.ensemblesIds)?[...n.ensemblesIds]:[]),n.schoolYears&&(s.schoolYears=[...n.schoolYears]),n.teaching&&(s.teaching={},Array.isArray(n.teaching.studentIds)&&(s.teaching.studentIds=[...n.teaching.studentIds]),n.teaching.schedule&&n.teaching.schedule.length>0)){const c=n.teaching.schedule.filter(i=>i.studentId&&i.day&&i.time&&typeof i.duration=="number"&&[30,45,60].includes(i.duration));c.length>0&&(s.teaching.schedule=c.map(i=>({studentId:i.studentId,day:i.day,time:i.time,duration:i.duration})))}return console.log("Prepared teacher data for update:",JSON.stringify(s,null,2)),s}function ES(n){var c;const s=gy(n);return n.credentials&&(s.credentials={email:((c=n.personalInfo)==null?void 0:c.email)||n.credentials.email||"",password:n.credentials.password||""}),s}const At={async getTeachers(n={}){return Ce.get("teacher",n)},async getTeacherById(n){return Ce.get(`teacher/${n}`)},async getTeachersByIds(n){return!n||n.length===0?[]:(await this.getTeachers()).filter(c=>n.includes(c._id))},async getTeachersByRole(n){return Ce.get(`teacher/role/${n}`)},async getTeachersByOrchestraId(n){return this.getTeachers({orchestraId:n})},async getTeachersByStudentId(n){return this.getTeachers({studentId:n})},async addTeacher(n){const s=ES(n);return console.log("Creating new teacher with data:",s),Ce.post("teacher",s)},async updateTeacher(n,s){const c=gy(s);return console.log("Updating teacher with prepared data:",c),Ce.put(`teacher/${n}`,c)},async removeTeacher(n){return Ce.delete(`teacher/${n}`)},async updateTeacherSchedule(n,s){return Ce.post(`teacher/${n}/schedule`,s)},async addOrchestra(n,s){return Ce.post(`teacher/${n}/orchestra`,{orchestraId:s})},async removeOrchestra(n,s){return Ce.delete(`teacher/${n}/orchestra/${s}`)}},Sc=["","","","","","","","","","","","",""],TS=[1,2,3,4,5,6,7,8],hd=[""," ",""," ","","","",""],wS=[" ","/"," /"],AS=[" ","/"," /","/ ","/ "],hc=["","","","","",""],OS=[30,45,60];function CS({student:n,onClose:s,onStudentCreated:c,newTeacherInfo:i}){const{saveStudent:u,isLoading:f,error:h,clearError:p,loadStudents:y}=Yn(),{currentSchoolYear:m}=El(),[v,x]=b.useState(T()),[E,A]=b.useState({}),[N,O]=b.useState(!1);function T(){return{personalInfo:{fullName:"",phone:"",age:void 0,address:"",parentName:"",parentPhone:"",parentEmail:"",studentEmail:""},academicInfo:{instrument:hd[0],currentStage:1,class:Sc[0],tests:{stageTest:{status:" ",lastTestDate:void 0,nextTestDate:void 0,notes:""},technicalTest:{status:" ",lastTestDate:void 0,nextTestDate:void 0,notes:""}}},enrollments:{orchestraIds:[],ensembleIds:[],schoolYears:[]},teacherIds:[],teacherAssignments:[],orchestraAssignments:[],isActive:!0}}b.useEffect(()=>{var q,P,W,te,G,ce,k,se,ae,he,j,M,Q,H,V,re,de,ge,pe,xe,fe,oe,Ue,ze,ue,Ee,Ve,it,Ie,ke,dt,Ge,ha,Se,_e,Gt,Zt,Tl,Fn,$r;if(n!=null&&n._id)x({_id:n._id,personalInfo:{fullName:((q=n.personalInfo)==null?void 0:q.fullName)||"",phone:(P=n.personalInfo)==null?void 0:P.phone,age:(W=n.personalInfo)==null?void 0:W.age,address:(te=n.personalInfo)==null?void 0:te.address,parentName:(G=n.personalInfo)==null?void 0:G.parentName,parentPhone:(ce=n.personalInfo)==null?void 0:ce.parentPhone,parentEmail:(k=n.personalInfo)==null?void 0:k.parentEmail,studentEmail:(se=n.personalInfo)==null?void 0:se.studentEmail},academicInfo:{instrument:((ae=n.academicInfo)==null?void 0:ae.instrument)||hd[0],currentStage:((he=n.academicInfo)==null?void 0:he.currentStage)||1,class:((j=n.academicInfo)==null?void 0:j.class)||Sc[0],tests:{stageTest:{status:((H=(Q=(M=n.academicInfo)==null?void 0:M.tests)==null?void 0:Q.stageTest)==null?void 0:H.status)||" ",lastTestDate:(de=(re=(V=n.academicInfo)==null?void 0:V.tests)==null?void 0:re.stageTest)==null?void 0:de.lastTestDate,nextTestDate:(xe=(pe=(ge=n.academicInfo)==null?void 0:ge.tests)==null?void 0:pe.stageTest)==null?void 0:xe.nextTestDate,notes:((Ue=(oe=(fe=n.academicInfo)==null?void 0:fe.tests)==null?void 0:oe.stageTest)==null?void 0:Ue.notes)||""},technicalTest:{status:((Ee=(ue=(ze=n.academicInfo)==null?void 0:ze.tests)==null?void 0:ue.technicalTest)==null?void 0:Ee.status)||" ",lastTestDate:(Ie=(it=(Ve=n.academicInfo)==null?void 0:Ve.tests)==null?void 0:it.technicalTest)==null?void 0:Ie.lastTestDate,nextTestDate:(Ge=(dt=(ke=n.academicInfo)==null?void 0:ke.tests)==null?void 0:dt.technicalTest)==null?void 0:Ge.nextTestDate,notes:((_e=(Se=(ha=n.academicInfo)==null?void 0:ha.tests)==null?void 0:Se.technicalTest)==null?void 0:_e.notes)||""}}},enrollments:{orchestraIds:((Gt=n.enrollments)==null?void 0:Gt.orchestraIds)||[],ensembleIds:((Zt=n.enrollments)==null?void 0:Zt.ensembleIds)||[],schoolYears:((Tl=n.enrollments)==null?void 0:Tl.schoolYears)||[]},teacherIds:n.teacherIds||[],teacherAssignments:[],orchestraAssignments:(($r=(Fn=n.enrollments)==null?void 0:Fn.orchestraIds)==null?void 0:$r.map(sn=>({orchestraId:sn})))||[],isActive:n.isActive!==!1});else{const sn=T();m&&(sn.enrollments.schoolYears=[{schoolYearId:m._id,isActive:!0}]),i&&(sn.teacherAssignments=[{teacherId:i._id||"new-teacher",day:hc[0],time:"08:00",duration:45}]),x(sn)}A({}),p==null||p()},[n,p,m,i]);const D=b.useCallback((q,P)=>{x(W=>({...W,personalInfo:{...W.personalInfo,[q]:P}})),E[`personalInfo.${q}`]&&A(W=>{const te={...W};return delete te[`personalInfo.${q}`],te})},[E]),R=b.useCallback((q,P)=>{x(W=>({...W,academicInfo:{...W.academicInfo,[q]:P}})),E[`academicInfo.${q}`]&&A(W=>{const te={...W};return delete te[`academicInfo.${q}`],te})},[E]),C=b.useCallback((q,P,W)=>{x(te=>{var ce,k,se;const G={...te,academicInfo:{...te.academicInfo,tests:{...te.academicInfo.tests,[q]:{...(ce=te.academicInfo.tests)==null?void 0:ce[q],[P]:W}}}};return q==="stageTest"&&P==="status"&&(W==="/"||W==="/ "||W==="/ ")&&((se=(k=te.academicInfo.tests)==null?void 0:k.stageTest)==null?void 0:se.status)===" "&&te.academicInfo.currentStage<8&&(G.academicInfo.currentStage=te.academicInfo.currentStage+1),G})},[]),U=b.useCallback(q=>{if(!q.teacherId||!q.day||!q.time||q.duration===void 0||q.duration===null){console.error("Invalid teacher assignment data:",q);return}x(P=>{const W=[...P.teacherAssignments,q],te=Array.from(new Set(W.map(G=>G.teacherId)));return{...P,teacherAssignments:W,teacherIds:te}})},[]),I=b.useCallback((q,P,W)=>{x(te=>{const G=te.teacherAssignments.filter(k=>!(k.teacherId===q&&k.day===P&&k.time===W)),ce=Array.from(new Set(G.map(k=>k.teacherId)));return{...te,teacherAssignments:G,teacherIds:ce}})},[]),F=b.useCallback(q=>{x(P=>P.orchestraAssignments.some(te=>te.orchestraId===q)?P:{...P,orchestraAssignments:[...P.orchestraAssignments,{orchestraId:q}],enrollments:{...P.enrollments,orchestraIds:Array.from(new Set([...P.enrollments.orchestraIds,q]))}})},[]),le=b.useCallback(q=>{x(P=>{const W=P.orchestraAssignments.filter(G=>G.orchestraId!==q),te=P.enrollments.orchestraIds.filter(G=>G!==q);return{...P,orchestraAssignments:W,enrollments:{...P.enrollments,orchestraIds:te}}})},[]),ie=b.useCallback(()=>{var P,W,te,G,ce,k,se,ae;const q={};return(P=v.personalInfo)!=null&&P.fullName||(q["personalInfo.fullName"]="    "),(W=v.personalInfo)!=null&&W.phone&&!/^05\d{8}$/.test(v.personalInfo.phone)&&(q["personalInfo.phone"]="    (  -05  10 )"),(te=v.personalInfo)!=null&&te.parentPhone&&!/^05\d{8}$/.test(v.personalInfo.parentPhone)&&(q["personalInfo.parentPhone"]="     (  -05  10 )"),(G=v.personalInfo)!=null&&G.parentEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.personalInfo.parentEmail)&&(q["personalInfo.parentEmail"]="    "),(ce=v.personalInfo)!=null&&ce.studentEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.personalInfo.studentEmail)&&(q["personalInfo.studentEmail"]="    "),(k=v.academicInfo)!=null&&k.instrument||(q["academicInfo.instrument"]="    "),(se=v.academicInfo)!=null&&se.currentStage||(q["academicInfo.currentStage"]="    "),(ae=v.academicInfo)!=null&&ae.class||(q["academicInfo.class"]="   "),v.teacherAssignments.forEach((he,j)=>{he.day||(q[`teacherAssignment.${j}.day`]="   "),he.time||(q[`teacherAssignment.${j}.time`]="   "),he.duration||(q[`teacherAssignment.${j}.duration`]="   ")}),A(q),Object.keys(q).length===0},[v]),J=b.useCallback(async q=>{var P,W;if(q.preventDefault(),!!ie()){O(!0);try{const te={personalInfo:{...v.personalInfo,parentName:v.personalInfo.parentName||" ",parentPhone:v.personalInfo.parentPhone||"0500000000",parentEmail:v.personalInfo.parentEmail||"parent@example.com",studentEmail:v.personalInfo.studentEmail||"student@example.com"},academicInfo:v.academicInfo,enrollments:{...v.enrollments,orchestraIds:v.orchestraAssignments.map(k=>k.orchestraId)},teacherIds:v.teacherIds.filter(k=>k!=="new-teacher"),isActive:v.isActive};let G;v._id?G=await Ze.updateStudent(v._id,te):G=await u(te),console.log("Student saved successfully:",G);const ce=v.teacherAssignments.filter(k=>k.teacherId!=="new-teacher").map(async k=>{var se,ae,he,j;try{const{teacherId:M,day:Q,time:H,duration:V}=k;if(!M||!Q||!H||!V){console.warn(`Skipping invalid schedule for teacher ${M} and student ${G._id}: Missing required fields`);return}console.log(`Updating teacher ${M} schedule with student ${G._id}`),await Ze.updateTeacherSchedule(M,{studentId:G._id,day:Q,time:H,duration:V});try{const re=await At.getTeacherById(M);if(!((ae=(se=re.teaching)==null?void 0:se.studentIds)!=null&&ae.includes(G._id))){const de=await At.updateTeacher(M,{teaching:{studentIds:[...((he=re.teaching)==null?void 0:he.studentIds)||[],G._id],schedule:((j=re.teaching)==null?void 0:j.schedule)||[]}});console.log("Updated teacher with student reference:",de)}}catch(re){console.error("Failed to update teacher studentIds:",re)}}catch(M){console.error("Failed to update teacher schedule:",M)}});if(await Promise.all(ce),await y(),i!=null&&i._id&&v.teacherAssignments.some(k=>k.teacherId==="new-teacher"||k.teacherId===i._id)){const k=v.teacherAssignments.find(ae=>ae.teacherId==="new-teacher"||ae.teacherId===i._id);if(k)try{await Ze.updateTeacherSchedule(i._id,{studentId:G._id,day:k.day,time:k.time,duration:k.duration});const ae=await At.getTeacherById(i._id);await At.updateTeacher(i._id,{teaching:{studentIds:[...((P=ae.teaching)==null?void 0:P.studentIds)||[],G._id],schedule:((W=ae.teaching)==null?void 0:W.schedule)||[]}}),console.log("Updated new teacher with student reference")}catch(ae){console.error("Failed to update new teacher with student:",ae)}const se={...G,_newTeacherAssociation:!0,_lessonDetails:k?{lessonDay:k.day,lessonTime:k.time,lessonDuration:k.duration}:void 0};if(c){c(se);return}}s()}catch(te){console.error("Error saving student:",te),A(G=>({...G,form:te instanceof Error?te.message:"  "}))}finally{O(!1)}}},[v,ie,u,y,c,s,i]);return{formData:v,errors:E,isLoading:f,isSubmitting:N,error:h,updatePersonalInfo:D,updateAcademicInfo:R,updateTestInfo:C,addTeacherAssignment:U,removeTeacherAssignment:I,addOrchestraAssignment:F,removeOrchestraAssignment:le,setFormData:x,validateForm:ie,handleSubmit:J}}function RS({formData:n,updatePersonalInfo:s,errors:c}){const i=b.useCallback(u=>{const{name:f,value:h,type:p}=u.target,y=p==="number"?h?parseInt(h):void 0:h;s(f,y)},[s]);return{personalInfo:n.personalInfo,errors:c,handlePersonalInfoChange:i}}function DS({formData:n,updatePersonalInfo:s,updateAcademicInfo:c,errors:i}){var p;const{personalInfo:u,handlePersonalInfoChange:f}=RS({formData:n,updatePersonalInfo:s,errors:i}),h=y=>{const{name:m,value:v}=y.target;c(m,v)};return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fullName",children:"  *"}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:(u==null?void 0:u.fullName)||"",onChange:f,className:i["personalInfo.fullName"]?"is-invalid":"",required:!0}),i["personalInfo.fullName"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.fullName"]})]})}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:""}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:(u==null?void 0:u.phone)||"",onChange:f,className:i["personalInfo.phone"]?"is-invalid":"",placeholder:"05XXXXXXXX"}),i["personalInfo.phone"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.phone"]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"studentEmail",children:" "}),r.jsx("input",{type:"email",id:"studentEmail",name:"studentEmail",value:(u==null?void 0:u.studentEmail)||"",onChange:f,className:i["personalInfo.studentEmail"]?"is-invalid":""}),i["personalInfo.studentEmail"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.studentEmail"]})]})]}),r.jsxs("div",{className:"form-row three-columns",children:[r.jsxs("div",{className:"form-group",style:{flex:"2"},children:[r.jsx("label",{htmlFor:"address",children:""}),r.jsx("input",{type:"text",id:"address",name:"address",value:(u==null?void 0:u.address)||"",onChange:f})]}),r.jsxs("div",{className:"form-group",style:{flex:"0.6"},children:[r.jsx("label",{htmlFor:"age",children:""}),r.jsx("input",{type:"number",id:"age",name:"age",value:(u==null?void 0:u.age)||"",onChange:f,min:"6",max:"99",style:{width:"100%"}})]}),r.jsxs("div",{className:"form-group",style:{flex:"0.8"},children:[r.jsx("label",{htmlFor:"class",children:" *"}),r.jsx("select",{id:"class",name:"class",value:((p=n.academicInfo)==null?void 0:p.class)||"",onChange:h,className:i["academicInfo.class"]?"is-invalid":"",required:!0,style:{width:"100%"},children:Sc.map(y=>r.jsx("option",{value:y,children:y},y))}),i["academicInfo.class"]&&r.jsx("div",{className:"form-error",children:i["academicInfo.class"]})]})]}),r.jsx("h4",{children:" "}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentName",children:" "}),r.jsx("input",{type:"text",id:"parentName",name:"parentName",value:(u==null?void 0:u.parentName)||"",onChange:f})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentPhone",children:" "}),r.jsx("input",{type:"tel",id:"parentPhone",name:"parentPhone",value:(u==null?void 0:u.parentPhone)||"",onChange:f,className:i["personalInfo.parentPhone"]?"is-invalid":"",placeholder:"05XXXXXXXX"}),i["personalInfo.parentPhone"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.parentPhone"]})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentEmail",children:" "}),r.jsx("input",{type:"email",id:"parentEmail",name:"parentEmail",value:(u==null?void 0:u.parentEmail)||"",onChange:f,className:i["personalInfo.parentEmail"]?"is-invalid":""}),i["personalInfo.parentEmail"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.parentEmail"]})]})})]})}function _S({formData:n,updateAcademicInfo:s,updateTestInfo:c,errors:i}){const u=b.useCallback(h=>{const{name:p,value:y,type:m}=h.target,v=m==="number"?y?parseInt(y):void 0:y;s(p,v)},[s]),f=b.useCallback((h,p,y)=>{c(h,p,y.target.value)},[c]);return{academicInfo:n.academicInfo,errors:i,validClasses:Sc,validStages:TS,validInstruments:hd,testStatuses:wS,extendedTestStatuses:AS,handleAcademicInfoChange:u,handleTestChange:f}}function MS({formData:n,updateAcademicInfo:s,updateTestInfo:c,errors:i}){var A,N,O,T,D,R,C,U,I,F,le,ie,J,q,P,W;const{academicInfo:u,validStages:f,validInstruments:h,testStatuses:p,handleAcademicInfoChange:y,handleTestChange:m}=_S({formData:n,updateAcademicInfo:s,updateTestInfo:c,errors:i}),[v,x]=b.useState(!1);b.useEffect(()=>{var G,ce;const te=(ce=(G=u==null?void 0:u.tests)==null?void 0:G.stageTest)==null?void 0:ce.status;x(te==="/"||te==="/ "||te==="/ ")},[(N=(A=u==null?void 0:u.tests)==null?void 0:A.stageTest)==null?void 0:N.status]);const E=te=>{var ce,k,se,ae,he,j;const{value:G}=te.target;m("stageTest","status",te),G==="/"&&((k=(ce=u==null?void 0:u.tests)==null?void 0:ce.stageTest)==null?void 0:k.status)!=="/"&&((ae=(se=u==null?void 0:u.tests)==null?void 0:se.stageTest)==null?void 0:ae.status)!=="/ "&&((j=(he=u==null?void 0:u.tests)==null?void 0:he.stageTest)==null?void 0:j.status)!=="/ "&&u.currentStage<8&&s("currentStage",u.currentStage+1)};return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"instrument",children:"  *"}),r.jsx("select",{id:"instrument",name:"instrument",value:(u==null?void 0:u.instrument)||"",onChange:y,className:i["academicInfo.instrument"]?"is-invalid":"",required:!0,children:h.map(te=>r.jsx("option",{value:te,children:te},te))}),i["academicInfo.instrument"]&&r.jsx("div",{className:"form-error",children:i["academicInfo.instrument"]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"currentStage",children:"  *"}),r.jsx("select",{id:"currentStage",name:"currentStage",value:(u==null?void 0:u.currentStage)||1,onChange:y,className:i["academicInfo.currentStage"]?"is-invalid":"",required:!0,children:f.map(te=>r.jsx("option",{value:te,children:te},te))}),i["academicInfo.currentStage"]&&r.jsx("div",{className:"form-error",children:i["academicInfo.currentStage"]})]})]}),r.jsx("h4",{children:""}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"technicalTestStatus",children:" "}),r.jsx("select",{id:"technicalTestStatus",name:"status",value:((T=(O=u==null?void 0:u.tests)==null?void 0:O.technicalTest)==null?void 0:T.status)||" ",onChange:te=>m("technicalTest","status",te),children:p.map(te=>r.jsx("option",{value:te,children:te},te))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stageTestStatus",children:" "}),r.jsxs("select",{id:"stageTestStatus",name:"status",value:((R=(D=u==null?void 0:u.tests)==null?void 0:D.stageTest)==null?void 0:R.status)||" ",onChange:E,children:[r.jsx("option",{value:" ",children:" "}),r.jsx("option",{value:" /",children:" /"}),r.jsx("option",{value:"/",children:"/"}),v&&r.jsxs(r.Fragment,{children:[r.jsx("option",{value:"/ ",children:"/ "}),r.jsx("option",{value:"/ ",children:"/ "})]})]}),((U=(C=u==null?void 0:u.tests)==null?void 0:C.stageTest)==null?void 0:U.status)==="/"&&r.jsxs("div",{className:"form-group mt-2",children:[r.jsx("label",{htmlFor:"stageTestPassType",children:" "}),r.jsxs("select",{id:"stageTestPassType",className:"pass-type-select",value:"",onChange:te=>{te.target.value&&c("stageTest","status",`/ ${te.target.value}`)},children:[r.jsx("option",{value:"",children:"  "}),r.jsx("option",{value:"",children:""}),r.jsx("option",{value:"",children:""})]})]})]})]}),((F=(I=u==null?void 0:u.tests)==null?void 0:I.technicalTest)==null?void 0:F.status)!==" "&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"technicalTestNotes",children:"  "}),r.jsx("input",{type:"text",id:"technicalTestNotes",name:"notes",value:((ie=(le=u==null?void 0:u.tests)==null?void 0:le.technicalTest)==null?void 0:ie.notes)||"",onChange:te=>m("technicalTest","notes",te)})]})}),((q=(J=u==null?void 0:u.tests)==null?void 0:J.stageTest)==null?void 0:q.status)!==" "&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stageTestNotes",children:"  "}),r.jsx("input",{type:"text",id:"stageTestNotes",name:"notes",value:((W=(P=u==null?void 0:u.tests)==null?void 0:P.stageTest)==null?void 0:W.notes)||"",onChange:te=>m("stageTest","notes",te)})]})})]})}const Ss=jl((n,s)=>({teachers:[],selectedTeacher:null,filterBy:{},isLoading:!1,error:null,loadTeachers:async(c={})=>{n({isLoading:!0,error:null});try{const i={...s().filterBy,...c};console.log("Fetching teachers with filter:",i);const u=await At.getTeachers(i);console.log("Teachers API response:",{type:typeof u,isArray:Array.isArray(u),length:u&&Array.isArray(u)?u.length:"n/a"});const f=Array.isArray(u)?u:[];n({teachers:f,filterBy:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load teachers";n({error:u,isLoading:!1,teachers:[]}),console.error("Error loading teachers:",i)}},loadTeacherById:async c=>{n({isLoading:!0,error:null});try{const i=await At.getTeacherById(c);n({selectedTeacher:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load teacher";n({error:u,isLoading:!1}),console.error("Error loading teacher:",i)}},saveTeacher:async(c,i)=>{n({isLoading:!0,error:null});try{let u;if(i){console.log(`Updating teacher ${i} with:`,c),u=await At.updateTeacher(i,c);const f=s().teachers,h=Array.isArray(f)?f.map(p=>p._id===u._id?u:p):[u];n({teachers:h,selectedTeacher:u,isLoading:!1})}else{console.log("Creating new teacher:",c),u=await At.addTeacher(c);const f=s().teachers,h=Array.isArray(f)?[...f,u]:[u];n({teachers:h,selectedTeacher:u,isLoading:!1})}return u}catch(u){const f=u instanceof Error?u.message:"Failed to save teacher";throw n({error:f,isLoading:!1}),console.error("Error saving teacher:",u),u}},removeTeacher:async c=>{var i;n({isLoading:!0,error:null});try{await At.removeTeacher(c);const u=s().teachers;if(!Array.isArray(u)){n({teachers:[],isLoading:!1});return}n({teachers:u.filter(f=>f._id!==c),selectedTeacher:((i=s().selectedTeacher)==null?void 0:i._id)===c?null:s().selectedTeacher,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove teacher";throw n({error:f,isLoading:!1}),console.error("Error removing teacher:",u),u}},setFilter:c=>{n({filterBy:{...s().filterBy,...c}})},clearSelectedTeacher:()=>{n({selectedTeacher:null})},clearError:()=>{n({error:null})},updateTeacherSchedule:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=await At.updateTeacherSchedule(c,i);((u=s().selectedTeacher)==null?void 0:u._id)===c&&n({selectedTeacher:f});const h=s().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const p=h.map(y=>y._id===c?f:y);n({teachers:p,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to update teacher schedule";throw n({error:h,isLoading:!1}),console.error("Error updating teacher schedule:",f),f}},assignStudentToTeacher:async(c,i)=>{var u,f,h,p;n({isLoading:!0,error:null});try{const y=s().selectedTeacher,m=((u=y==null?void 0:y.teaching)==null?void 0:u.studentIds)||[];Array.isArray(m)||console.error("Expected studentIds to be an array but got:",typeof m);const v=await At.updateTeacher(c,{teaching:{studentIds:[...Array.isArray(m)?m:[],i],schedule:((h=(f=s().selectedTeacher)==null?void 0:f.teaching)==null?void 0:h.schedule)||[]}});((p=s().selectedTeacher)==null?void 0:p._id)===c&&n({selectedTeacher:v});const x=s().teachers;if(!Array.isArray(x)){n({teachers:[v],isLoading:!1});return}const E=x.map(A=>A._id===c?v:A);n({teachers:E,isLoading:!1})}catch(y){const m=y instanceof Error?y.message:"Failed to assign student to teacher";throw n({error:m,isLoading:!1}),console.error("Error assigning student to teacher:",y),y}},removeStudentFromTeacher:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=s().selectedTeacher;if(!f||!f.teaching)throw new Error("Teacher not found or no teaching data");const h=f.teaching.studentIds;if(!Array.isArray(h))throw console.error("Expected studentIds to be an array but got:",typeof h),new Error("Invalid student data structure");const p=h.filter(x=>x!==i),y=await At.updateTeacher(c,{teaching:{...f.teaching,studentIds:p}});((u=s().selectedTeacher)==null?void 0:u._id)===c&&n({selectedTeacher:y});const m=s().teachers;if(!Array.isArray(m)){n({teachers:[y],isLoading:!1});return}const v=m.map(x=>x._id===c?y:x);n({teachers:v,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to remove student from teacher";throw n({error:h,isLoading:!1}),console.error("Error removing student from teacher:",f),f}},assignOrchestraToTeacher:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=await At.addOrchestra(c,i);((u=s().selectedTeacher)==null?void 0:u._id)===c&&n({selectedTeacher:f});const h=s().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const p=h.map(y=>y._id===c?f:y);n({teachers:p,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to assign orchestra to teacher";throw n({error:h,isLoading:!1}),console.error("Error assigning orchestra to teacher:",f),f}},removeOrchestraFromTeacher:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=await At.removeOrchestra(c,i);((u=s().selectedTeacher)==null?void 0:u._id)===c&&n({selectedTeacher:f});const h=s().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const p=h.map(y=>y._id===c?f:y);n({teachers:p,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to remove orchestra from teacher";throw n({error:h,isLoading:!1}),console.error("Error removing orchestra from teacher:",f),f}}}));function zS({formData:n,newTeacherInfo:s,addTeacherAssignment:c,removeTeacherAssignment:i}){const{teachers:u,isLoading:f}=Ss(),[h,p]=b.useState(n.teacherAssignments.length===0),[y,m]=b.useState(""),[v,x]=b.useState([]),E={};n.teacherAssignments.forEach(U=>{E[U.teacherId]||(E[U.teacherId]=[]),E[U.teacherId].push(U)});const A=U=>{const I=U.target.value;m(I),x(I?[{teacherId:I,day:hc[0],time:"08:00",duration:45}]:[])},N=(U,I,F)=>{x(le=>{const ie=[...le];return ie[U]={...ie[U],[I]:I==="duration"?Number(F):F},ie})},O=()=>{y&&x(U=>[...U,{teacherId:y,day:hc[0],time:"08:00",duration:45}])},T=U=>{x(I=>{const F=[...I];return F.splice(U,1),F})},D=()=>{v.forEach(U=>{const I={teacherId:U.teacherId,day:U.day,time:U.time,duration:U.duration};c(I)}),m(""),x([]),p(!0)},R=()=>{p(!0),m(""),x([])},C=U=>{var F;if(U==="new-teacher"&&s)return`${s.fullName} ${s.instrument?`(${s.instrument})`:""} ( )`;const I=u.find(le=>le._id===U);return I?`${I.personalInfo.fullName} ${(F=I.professionalInfo)!=null&&F.instrument?`(${I.professionalInfo.instrument})`:""}`:"  "};return r.jsxs("div",{className:"form-section teacher-assignment-section",children:[r.jsx("h3",{children:" "}),Object.keys(E).length>0&&r.jsx("div",{className:"assigned-teachers-list",children:Object.entries(E).map(([U,I])=>r.jsxs("div",{className:"teacher-assignment-item",children:[r.jsxs("div",{className:"teacher-name",children:[r.jsx(Sa,{size:16}),r.jsx("span",{children:C(U)})]}),r.jsx("div",{className:"lessons-list",children:I.map((F,le)=>r.jsxs("div",{className:"lesson-item",children:[r.jsx("div",{className:"lesson-info",children:r.jsxs("span",{children:[F.day,", ",F.time,","," ",F.duration," "]})}),r.jsx("button",{type:"button",className:"remove-lesson-btn",onClick:()=>i(F.teacherId,F.day,F.time),"aria-label":" ",children:r.jsx(Mt,{size:14})})]},`${F.teacherId}-${F.day}-${F.time}-${le}`))})]},U))}),h&&r.jsxs("div",{className:"form-group",children:[r.jsx("div",{className:"form-label",children:" "}),r.jsxs("div",{className:"select-wrapper",children:[r.jsxs("select",{className:"form-select",value:y,onChange:A,disabled:f,children:[r.jsx("option",{value:"",children:" "}),s&&r.jsxs("option",{value:"new-teacher",children:[s.fullName," ",s.instrument?`(${s.instrument})`:""," ","( )"]}),u.map(U=>{var I;return r.jsxs("option",{value:U._id,children:[U.personalInfo.fullName," ",(I=U.professionalInfo)!=null&&I.instrument?`(${U.professionalInfo.instrument})`:""]},U._id)})]}),r.jsx(oa,{size:16,className:"select-icon"})]})]}),y&&v.length>0&&r.jsxs("div",{className:"teacher-schedule",children:[r.jsx("div",{className:"schedule-heading",children:r.jsx("h4",{children:"     ()"})}),v.map((U,I)=>r.jsx("div",{className:"schedule-row",children:r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group day-group",children:[r.jsx("div",{className:"form-label",children:""}),r.jsxs("div",{className:"select-wrapper",children:[r.jsx("select",{className:"form-select",value:U.day,onChange:F=>N(I,"day",F.target.value),children:hc.map(F=>r.jsx("option",{value:F,children:F},F))}),r.jsx(oa,{size:16,className:"select-icon"})]})]}),r.jsxs("div",{className:"form-group time-group",children:[r.jsx("div",{className:"form-label",children:""}),r.jsx("input",{type:"time",className:"form-input",value:U.time,onChange:F=>N(I,"time",F.target.value)})]}),r.jsxs("div",{className:"form-group duration-group",children:[r.jsx("div",{className:"form-label",children:""}),r.jsxs("div",{className:"select-wrapper",children:[r.jsx("select",{className:"form-select",value:U.duration,onChange:F=>N(I,"duration",F.target.value),children:OS.map(F=>r.jsx("option",{value:F,children:F},F))}),r.jsx(oa,{size:16,className:"select-icon"})]})]}),I>0&&r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>T(I),children:r.jsx(Mt,{size:16})})]})},I)),r.jsxs("div",{className:"schedule-actions",children:[r.jsxs("button",{type:"button",className:"add-lesson-btn",onClick:O,children:[r.jsx(Es,{size:16}),"  "]}),r.jsx("button",{type:"button",className:"save-btn",onClick:D,children:"  "})]})]}),Object.keys(E).length>0&&!h&&!y&&r.jsxs("button",{type:"button",className:"add-teacher-btn",onClick:R,children:[r.jsx(Cp,{size:16}),"  "]}),Object.keys(E).length===0&&!h&&!y&&r.jsxs("button",{type:"button",className:"add-teacher-btn",onClick:R,children:[r.jsx(Cp,{size:16})," "]})]})}const en={async getOrchestras(n={}){return Ce.get("orchestra",n)},async getOrchestraById(n){return Ce.get(`orchestra/${n}`)},async getOrchestrasByIds(n){return!n||n.length===0?[]:(await this.getOrchestras()).filter(c=>n.includes(c._id))},async getOrchestrasByConductorId(n){return this.getOrchestras({conductorId:n})},async getOrchestrasByStudentId(n){return this.getOrchestras({memberIds:n})},async addOrchestra(n){return Ce.post("orchestra",n)},async updateOrchestra(n,s){const{_id:c,...i}=s;return Ce.put(`orchestra/${n}`,i)},async removeOrchestra(n){return Ce.delete(`orchestra/${n}`)},async addMember(n,s){try{const c=await Ce.post(`orchestra/${n}/members`,{studentId:s}),i=await Ze.getStudentById(s);return i.enrollments.orchestraIds.includes(n)||await Ze.updateStudent(s,{enrollments:{...i.enrollments,orchestraIds:[...i.enrollments.orchestraIds,n]}}),c}catch(c){throw console.error("Error adding member to orchestra:",c),c}},async removeMember(n,s){try{const c=await Ce.delete(`orchestra/${n}/members/${s}`),i=await Ze.getStudentById(s);return await Ze.updateStudent(s,{enrollments:{...i.enrollments,orchestraIds:i.enrollments.orchestraIds.filter(u=>u!==n)}}),c}catch(c){throw console.error("Error removing member from orchestra:",c),c}},async updateMembers(n,s,c=[]){try{const i=await this.updateOrchestra(n,{memberIds:s}),u=s.filter(h=>!c.includes(h)),f=c.filter(h=>!s.includes(h));for(const h of u){const p=await Ze.getStudentById(h);p.enrollments.orchestraIds.includes(n)||await Ze.updateStudent(h,{enrollments:{...p.enrollments,orchestraIds:[...p.enrollments.orchestraIds,n]}})}for(const h of f){const p=await Ze.getStudentById(h);await Ze.updateStudent(h,{enrollments:{...p.enrollments,orchestraIds:p.enrollments.orchestraIds.filter(y=>y!==n)}})}return i}catch(i){throw console.error("Error updating orchestra members:",i),i}},async getRehearsalAttendance(n,s){return Ce.get(`orchestra/${n}/rehearsals/${s}/attendance`)},async updateRehearsalAttendance(n,s,c){return Ce.put(`orchestra/${n}/rehearsals/${s}/attendance`,c)},async getStudentAttendanceStats(n,s){return Ce.get(`orchestra/${n}/student/${s}/attendance`)},async syncOrchestraMembers(n){try{const s=await this.getOrchestraById(n),u=(await Ze.getStudents()).filter(p=>p.enrollments.orchestraIds.includes(n)).map(p=>p._id),f=u.filter(p=>!s.memberIds.includes(p)),h=s.memberIds.filter(p=>!u.includes(p));if(f.length>0){const p=[...s.memberIds,...f];await this.updateOrchestra(n,{memberIds:p})}for(const p of h){const y=await Ze.getStudentById(p);await Ze.updateStudent(p,{enrollments:{...y.enrollments,orchestraIds:y.enrollments.orchestraIds.filter(m=>m!==n)}})}}catch(s){throw console.error("Error syncing orchestra members:",s),s}},getOrchestraTypeDisplay(n){return{:"",:""}[n]||n},getValidOrchestraTypes(){return["",""]},getValidOrchestraNames(){return["  ","  ","  ","  "," "]}};function LS({formData:n,addOrchestraAssignment:s,removeOrchestraAssignment:c,errors:i}){const[u,f]=b.useState([]),[h,p]=b.useState(!1),[y,m]=b.useState("");b.useEffect(()=>{(async()=>{p(!0);try{const N=await en.getOrchestras({isActive:!0});f(N)}catch(N){console.error("Failed to fetch orchestras:",N)}finally{p(!1)}})()},[]);const v=b.useCallback(A=>{const N=A.target.value;N?(n.orchestraAssignments.some(T=>T.orchestraId===N)||s(N),m("")):m(N)},[n.orchestraAssignments,s]),x=b.useCallback(A=>{c(A)},[c]),E=b.useCallback(()=>n.orchestraAssignments.map(A=>{const N=u.find(O=>O._id===A.orchestraId);return{id:A.orchestraId,name:(N==null?void 0:N.name)||"  ",type:(N==null?void 0:N.type)||""}}),[n.orchestraAssignments,u]);return{orchestras:u,isLoadingOrchestras:h,selectedOrchestraId:y,orchestraAssignments:n.orchestraAssignments,assignedOrchestras:E(),errors:i,handleOrchestraChange:v,handleRemoveOrchestraAssignment:x,getOrchestraName:b.useCallback(A=>{const N=u.find(O=>O._id===A);return N?`${N.name} (${N.type})`:"  "},[u])}}function US({formData:n,addOrchestraAssignment:s,removeOrchestraAssignment:c,errors:i}){const{orchestras:u,isLoadingOrchestras:f,selectedOrchestraId:h,assignedOrchestras:p,handleOrchestraChange:y,handleRemoveOrchestraAssignment:m}=LS({formData:n,addOrchestraAssignment:s,removeOrchestraAssignment:c,errors:i});return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),p.length>0&&r.jsxs("div",{className:"assigned-orchestras",children:[r.jsx("h4",{children:" "}),r.jsx("div",{className:"assignments-list",children:p.map(v=>r.jsx("div",{className:"assignment-card",children:r.jsxs("div",{className:"assignment-header",children:[r.jsxs("div",{className:"orchestra-name",children:[r.jsx(_t,{size:16}),r.jsx("span",{children:v.name}),v.type&&r.jsx("span",{className:"orchestra-type",children:v.type})]}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>m(v.id),"aria-label":" ",children:r.jsx(Mt,{size:16})})]})},v.id))})]}),r.jsxs("div",{className:"add-orchestra-section",children:[r.jsx("h4",{children:" "}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"orchestra",children:" "}),r.jsxs("select",{id:"orchestra",name:"orchestra",value:h,onChange:y,disabled:f,children:[r.jsx("option",{value:"",children:" "}),u.map(v=>r.jsxs("option",{value:v._id,children:[v.name," (",v.type,")"]},v._id))]}),f&&r.jsx("div",{className:"loading-indicator",children:" ..."})]})})]})]})}function yy({isOpen:n,onClose:s,student:c,onStudentCreated:i,newTeacherInfo:u}){const{formData:f,errors:h,isLoading:p,isSubmitting:y,error:m,updatePersonalInfo:v,updateAcademicInfo:x,updateTestInfo:E,addTeacherAssignment:A,removeTeacherAssignment:N,addOrchestraAssignment:O,removeOrchestraAssignment:T,handleSubmit:D}=CS({student:c,onClose:s,onStudentCreated:i,newTeacherInfo:u});return n?r.jsxs("div",{className:"student-form",children:[r.jsx("div",{className:"overlay",onClick:s}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:s,"aria-label":"",children:r.jsx(Mt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?" ":"  "}),m&&r.jsx("div",{className:"error-message",children:m}),h.form&&r.jsx("div",{className:"error-message",children:h.form}),r.jsxs("form",{onSubmit:D,children:[r.jsx(DS,{formData:f,updatePersonalInfo:v,updateAcademicInfo:x,errors:h}),r.jsx(MS,{formData:f,updateAcademicInfo:x,updateTestInfo:E,errors:h}),r.jsx(zS,{formData:f,newTeacherInfo:u,addTeacherAssignment:A,removeTeacherAssignment:N,errors:h}),r.jsx(US,{formData:f,addOrchestraAssignment:O,removeOrchestraAssignment:T,errors:h}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:p||y,children:y?"...":c!=null&&c._id?"":""}),r.jsx("button",{type:"button",className:"btn secondary",onClick:s,children:""})]})]})]})]}):null}function Ns({isOpen:n,onClose:s,onConfirm:c,title:i,message:u,confirmText:f="",cancelText:h="",type:p="danger"}){if(!n)return null;const y=()=>{c(),s()};return r.jsxs("div",{className:"confirm-dialog",children:[r.jsx("div",{className:"overlay",onClick:s}),r.jsxs("div",{className:"dialog-content",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:s,"aria-label":"",children:r.jsx(Mt,{size:20})}),r.jsx("h3",{className:`dialog-title ${p}`,children:i}),r.jsx("div",{className:"dialog-message",children:u}),r.jsxs("div",{className:"dialog-actions",children:[r.jsx("button",{type:"button",className:`btn ${p}`,onClick:y,children:f}),r.jsx("button",{type:"button",className:"btn secondary",onClick:s,children:h})]})]})]})}function kS(){const{students:n,isLoading:s,error:c,loadStudents:i,removeStudent:u}=Yn(),{loadCurrentSchoolYear:f}=El(),[h,p]=b.useState(!1),[y,m]=b.useState(null),[v,x]=b.useState(!1),[E,A]=b.useState(null),N=G=>[G.personalInfo.fullName,G.academicInfo.instrument,G.academicInfo.class,G.personalInfo.parentName||"",G.personalInfo.studentEmail||""],{filteredEntities:O,handleSearch:T}=Cd(n,N),D=fa(),R=qt(),{user:C}=In(),U=C==null?void 0:C.roles.includes(""),I=R.pathname.includes("/students/")&&!R.pathname.endsWith("/students/");b.useEffect(()=>{i(),f()},[i,f]);const F=()=>{m(null),p(!0)},le=()=>{p(!1),m(null)},ie=G=>{const ce=n.find(k=>k._id===G)||null;m(ce),p(!0)},J=G=>{D(`/students/${G}`)},q=G=>{n.find(k=>k._id===G)&&(A(G),x(!0))},P=async()=>{if(E)try{await u(E),A(null)}catch(G){console.error("Failed to remove student:",G)}},W=()=>{alert("Open filter dialog")},te=U||(C==null?void 0:C.roles.includes(""));return r.jsxs("div",{className:"app-container",children:[r.jsx(Lc,{}),r.jsxs("main",{className:"main-content",children:[!I&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(Od,{onSearch:T,placeholder:" ..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:W,"aria-label":" ",children:r.jsx(Sd,{className:"icon"})}),te&&r.jsx("button",{className:"btn-icon add-btn",onClick:F,"aria-label":"  ",children:r.jsx(Es,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!I&&r.jsx(SS,{students:O,isLoading:s,onEdit:ie,onView:J,onRemove:U?q:void 0}),r.jsx(kr,{context:{loadStudents:i}}),r.jsx(yy,{isOpen:h,onClose:le,student:y||void 0}),r.jsx(Ns,{isOpen:v,onClose:()=>x(!1),onConfirm:P,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"})]}),!I&&!h&&r.jsx(Vr,{})]})}function BS(){const{studentId:n}=Ec(),{selectedStudent:s,loadStudentById:c,isLoading:i,error:u}=Yn(),[f,h]=b.useState(!1),[p,y]=b.useState(null),[m,v]=b.useState([]),[x,E]=b.useState(!1),[A,N]=b.useState([]),[O,T]=b.useState(!1),[D,R]=b.useState(!1),C=fa(),[U,I]=b.useState({teachers:!1,orchestras:!1,tests:!1,attendance:!1,personalInfo:!1,parentInfo:!1}),F=G=>{I(ce=>({...ce,[G]:!ce[G]}))};return b.useEffect(()=>{n&&c(n)},[n,c]),b.useEffect(()=>{var G;(G=s==null?void 0:s.teacherIds)!=null&&G.length&&(E(!0),(async()=>{try{const k=await Promise.all(s.teacherIds.map(async se=>{var ae;try{const he=await At.getTeacherById(se);return{id:he._id,name:he.personalInfo.fullName,instrument:(ae=he.professionalInfo)==null?void 0:ae.instrument}}catch(he){return console.error(`Failed to fetch teacher ${se}:`,he),null}}));v(k.filter(se=>se!==null))}catch(k){console.error("Failed to fetch teachers data:",k)}finally{E(!1)}})())},[s]),b.useEffect(()=>{var G;(G=s==null?void 0:s.enrollments)!=null&&G.orchestraIds&&s.enrollments.orchestraIds.length>0&&(T(!0),(async()=>{try{const k=s.enrollments.orchestraIds,se=await en.getOrchestrasByIds(k);N(se)}catch(k){console.error("Failed to fetch orchestra data:",k)}finally{T(!1)}})())},[s]),b.useEffect(()=>{var G,ce;s&&((ce=(G=s.enrollments)==null?void 0:G.orchestraIds)==null?void 0:ce.length)>0&&U.attendance&&(R(!0),(async()=>{const se=s.enrollments.orchestraIds[0];try{const ae=await Ze.getStudentAttendanceStats(se,s._id);y(ae)}catch(ae){console.error("Failed to fetch attendance stats:",ae),y({attendanceRate:0,attended:0,totalRehearsals:0,recentHistory:[],message:"Failed to load attendance data"})}finally{R(!1)}})())},[s,U.attendance]),{student:s,isLoading:i,error:u,flipped:f,teachersData:m,teachersLoading:x,orchestras:A,orchestrasLoading:O,attendanceStats:p,loadingAttendance:D,openSections:U,toggleSection:F,toggleFlip:()=>{h(!f)},goBack:()=>{C("/students")},navigateToTeacher:G=>{C(`/teachers/${G}`)},navigateToOrchestra:G=>{C(`/orchestras/${G}`)},formatDate:G=>G?new Date(G).toLocaleDateString("he-IL"):" ",getInitials:G=>G.split(" ").map(ce=>ce[0]).join("").toUpperCase().substring(0,2),getStageColor:G=>{const ce=["var(--stage-1)","var(--stage-2)","var(--stage-3)","var(--stage-4)","var(--stage-5)","var(--stage-6)","var(--stage-7)","var(--stage-8)"];return ce[G-1]||ce[0]}}}function Wp({student:n,getInitials:s,getStageColor:c,onBack:i,showBackButton:u=!0}){return r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"student-identity",children:[r.jsx("div",{className:"avatar",style:{backgroundColor:c(n.academicInfo.currentStage)},children:s(n.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"student-name",children:n.personalInfo.fullName}),r.jsxs("div",{className:"instrument",children:[r.jsx(_t,{size:14}),r.jsx("span",{children:n.academicInfo.instrument})]})]})]}),r.jsxs("div",{className:"header-badges",children:[r.jsxs("div",{className:"stage-badge",style:{backgroundColor:c(n.academicInfo.currentStage)},children:[" ",n.academicInfo.currentStage]}),r.jsxs("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:[" ",n.academicInfo.class]}),u&&i&&r.jsx("button",{className:"back-button",onClick:i,"aria-label":"",children:r.jsx(ja,{size:20})})]})]})}function qS({teachersData:n,teachersLoading:s,isOpen:c,onToggle:i,onTeacherClick:u}){return r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${c?"active":""}`,onClick:i,children:[r.jsx(Sa,{size:16}),r.jsxs("span",{children:[" (",n.length||0,")"]})]}),c&&r.jsx("div",{className:"section-content",children:s?r.jsxs("div",{className:"loading-section",children:[r.jsx(qn,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."})]}):n.length>0?r.jsx("div",{className:"teachers-list",children:n.map(f=>r.jsxs("div",{className:"teacher-info clickable",onClick:()=>u(f.id),children:[r.jsx(Sa,{size:14}),r.jsx("span",{children:f.name}),f.instrument&&r.jsxs("span",{className:"teacher-instrument",children:["(",f.instrument,")"]})]},f.id))}):r.jsx("div",{className:"no-teacher-warning",children:"   "})})]})}function HS({student:n,orchestras:s,orchestrasLoading:c,isOpen:i,onToggle:u,onOrchestraClick:f}){var h,p;return r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${i?"active":""}`,onClick:u,children:[r.jsx(_t,{size:16}),r.jsx("span",{children:"/"})]}),i&&r.jsx("div",{className:"section-content",children:((p=(h=n.enrollments)==null?void 0:h.orchestraIds)==null?void 0:p.length)>0?c?r.jsxs("div",{className:"loading-section",children:[r.jsx(qn,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."})]}):r.jsx("div",{className:"orchestras-grid",children:s.map(y=>r.jsx("div",{className:"orchestra-card clickable",onClick:()=>f(y._id),children:r.jsx("span",{children:y.name})},y._id))}):r.jsx("div",{className:"no-orchestra-warning",children:"   "})})]})}function eg({isOpen:n,onToggle:s,options:c,onSelect:i,selectedValue:u,className:f=""}){const h=b.useRef(null),p=b.useRef(null);return b.useEffect(()=>{n&&h.current&&p.current&&(p.current.style.top="301px",p.current.style.left="14px")},[n]),r.jsxs("div",{ref:h,className:`status-dropdown ${f}`,children:[r.jsx("div",{className:"dropdown-header",onClick:s,children:r.jsx(oa,{size:14,className:`dropdown-icon ${n?"open":""}`})}),n&&r.jsx("div",{ref:p,className:"dropdown-menu",children:c.map(y=>r.jsxs("div",{className:`dropdown-item ${u===y.value?"selected":""}`,onClick:()=>i(y.value),children:[u===y.value&&r.jsx(Ob,{size:12}),y.label]},y.value))})]})}function IS(n){const{saveStudent:s}=Yn(),[c,i]=b.useState(!1),[u,f]=b.useState(null),[h,p]=b.useState(!1),[y,m]=b.useState(!1);return{isUpdating:c,updateError:u,showStageTestOptions:h,showStageSuccessOptions:y,handleTestStatusChange:async(A,N)=>{var O;if(n){i(!0),f(null);try{const T={_id:n._id,academicInfo:{instrument:n.academicInfo.instrument,currentStage:n.academicInfo.currentStage,class:n.academicInfo.class,tests:{...n.academicInfo.tests||{},[A]:{...((O=n.academicInfo.tests)==null?void 0:O[A])||{},status:N,lastTestDate:new Date().toISOString()}}}};await s(T),p(!1),m(!1)}catch(T){console.error("Failed to update test status:",T),f("Failed to update test status")}finally{i(!1)}}},toggleStageTestOptions:()=>{p(A=>!A),y&&m(!1)},toggleStageSuccessOptions:()=>{m(A=>!A)}}}function YS({student:n,isOpen:s,onToggle:c,formatDate:i}){var R,C,U,I,F,le,ie,J;const{isUpdating:u,updateError:f,showStageTestOptions:h,showStageSuccessOptions:p,handleTestStatusChange:y,toggleStageTestOptions:m,toggleStageSuccessOptions:v}=IS(n),x=[{value:"/",label:"/"},{value:" /",label:" /"}],E=[{value:"/ ",label:""},{value:"/ ",label:""}],A=((C=(R=n.academicInfo.tests)==null?void 0:R.stageTest)==null?void 0:C.status)||" ",N=((I=(U=n.academicInfo.tests)==null?void 0:U.technicalTest)==null?void 0:I.status)||" ",O=q=>q.startsWith("/"),T=q=>q===" "?"":O(q)?"passed":"failed",D=q=>q==="/ "?"/ ":q==="/ "?"/ ":q;return r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${s?"active":""}`,onClick:c,children:[r.jsx(Cg,{size:16}),r.jsx("span",{children:""})]}),s&&r.jsxs("div",{className:"section-content",children:[f&&r.jsx("div",{className:"error-message",children:f}),r.jsxs("div",{className:"tests-grid",children:[r.jsxs("div",{className:"test-card",children:[r.jsxs("div",{className:"test-header",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"status-container",children:r.jsx("span",{className:`test-status ${T(N)}`,children:D(N)})})]}),((le=(F=n.academicInfo.tests)==null?void 0:F.technicalTest)==null?void 0:le.lastTestDate)&&r.jsxs("div",{className:"test-date",children:[r.jsx(nt,{size:12}),r.jsx("span",{children:i(n.academicInfo.tests.technicalTest.lastTestDate)})]})]}),r.jsxs("div",{className:"test-card",children:[r.jsxs("div",{className:"test-header",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"status-container",children:[r.jsx("span",{className:`test-status ${T(A)} ${h?"selecting":""}`,onClick:m,children:D(A)}),r.jsx(eg,{isOpen:h,onToggle:m,options:x,onSelect:q=>{q==="/"?v():y("stageTest",q)},selectedValue:A==="/ "||A==="/ "?"/":A}),p&&r.jsx("div",{className:"success-options-container",children:r.jsx(eg,{isOpen:p,onToggle:v,options:E,onSelect:q=>y("stageTest",q),selectedValue:A,className:"success-dropdown"})})]})]}),((J=(ie=n.academicInfo.tests)==null?void 0:ie.stageTest)==null?void 0:J.lastTestDate)&&r.jsxs("div",{className:"test-date",children:[r.jsx(nt,{size:12}),r.jsx("span",{children:i(n.academicInfo.tests.stageTest.lastTestDate)})]})]})]}),u&&r.jsx("div",{className:"updating-status",children:"Updating..."})]})]})}function FS({student:n,attendanceStats:s,loadingAttendance:c,isOpen:i,onToggle:u,formatDate:f}){var h,p,y;return r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${i?"active":""}`,onClick:u,children:[r.jsx(nt,{size:16}),r.jsx("span",{children:""})]}),i&&r.jsx("div",{className:"section-content",children:((p=(h=n.enrollments)==null?void 0:h.orchestraIds)==null?void 0:p.length)>0?r.jsx("div",{className:"attendance-container",children:c?r.jsxs("div",{className:"loading-attendance",children:[r.jsx(qn,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."})]}):s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"attendance-summary",children:[r.jsxs("div",{className:"attendance-stat",children:[r.jsx("span",{className:"stat-label",children:" "}),r.jsxs("div",{className:"attendance-rate",children:[Math.round(s.attendanceRate),"%"]})]}),r.jsxs("div",{className:"attendance-stat",children:[r.jsx("span",{className:"stat-label",children:""}),r.jsxs("div",{className:"attendance-count",children:[s.attended," /"," ",s.totalRehearsals]})]})]}),((y=s.recentHistory)==null?void 0:y.length)>0?r.jsxs("div",{className:"attendance-history",children:[r.jsx("h3",{className:"history-title",children:"  "}),r.jsx("div",{className:"history-entries",children:s.recentHistory.map((m,v)=>r.jsxs("div",{className:"history-entry",children:[r.jsx("div",{className:`status-indicator ${m.status==="/"?"present":"absent"}`}),r.jsx("span",{className:"history-date",children:f(m.date)}),r.jsx("span",{className:`history-status ${m.status==="/"?"present":"absent"}`,children:m.status})]},v))})]}):r.jsx("div",{className:"no-attendance-history",children:"   "}),s.message&&r.jsx("div",{className:"attendance-message warning",children:s.message})]}):r.jsx("div",{className:"no-attendance-data",children:"   "})}):r.jsx("div",{className:"no-orchestra-warning",children:"       "})})]})}function QS({student:n,isOpen:s,onToggle:c,formatDate:i}){return r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${s?"active":""}`,onClick:c,children:[r.jsx(Sa,{size:16}),r.jsx("span",{children:" "})]}),s&&r.jsx("div",{className:"section-content",children:n.personalInfo.phone||n.personalInfo.address||n.personalInfo.studentEmail||n.createdAt||n.academicInfo.class?r.jsxs("div",{className:"info-grid",children:[n.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(wc,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:n.personalInfo.phone})]})]}),n.personalInfo.address&&r.jsxs("div",{className:"info-item",children:[r.jsx(Hr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:n.personalInfo.address})]})]}),n.personalInfo.studentEmail&&r.jsxs("div",{className:"info-item",children:[r.jsx(qr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:n.personalInfo.studentEmail})]})]}),n.createdAt&&r.jsxs("div",{className:"info-item",children:[r.jsx(nt,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:i(n.createdAt)})]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(Rg,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:n.academicInfo.class})]})]})]}):r.jsx("div",{className:"no-data-message",children:"  "})})]})}function VS({student:n,isOpen:s,onToggle:c}){const i=y=>y?![" ","0500000000","parent@example.com"].includes(y):!1,u=i(n.personalInfo.parentName),f=i(n.personalInfo.parentPhone),h=i(n.personalInfo.parentEmail),p=u||f||h;return r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${s?"active":""}`,onClick:c,children:[r.jsx(Sa,{size:16}),r.jsx("span",{children:" "})]}),s&&r.jsx("div",{className:"section-content",children:p?r.jsxs("div",{className:"info-grid",children:[u&&r.jsxs("div",{className:"info-item",children:[r.jsx(Sa,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:n.personalInfo.parentName})]})]}),f&&r.jsxs("div",{className:"info-item",children:[r.jsx(wc,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:n.personalInfo.parentPhone})]})]}),h&&r.jsxs("div",{className:"info-item",children:[r.jsx(qr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:n.personalInfo.parentEmail})]})]})]}):r.jsx("div",{className:"no-data-message",children:"  "})})]})}function $S(){const{student:n,isLoading:s,error:c,flipped:i,teachersData:u,teachersLoading:f,orchestras:h,orchestrasLoading:p,attendanceStats:y,loadingAttendance:m,openSections:v,toggleSection:x,toggleFlip:E,goBack:A,navigateToTeacher:N,navigateToOrchestra:O,formatDate:T,getInitials:D,getStageColor:R}=BS();return s?r.jsxs("div",{className:"loading-state",children:[r.jsx(qn,{className:"loading-icon",size:28}),r.jsx("p",{children:"  ..."})]}):c||!n?r.jsxs("div",{className:"error-state",children:[r.jsx("p",{children:c||"     "}),r.jsx("button",{onClick:A,className:"btn primary",children:"  "})]}):r.jsx("div",{className:"student-details-content",children:r.jsx("div",{className:"student-details-page",children:r.jsx("div",{className:"student-card-container",children:r.jsxs("div",{className:`card-content ${i?"flipped":""}`,children:[r.jsxs("div",{className:"card-side card-front",children:[r.jsx(Wp,{student:n,getInitials:D,getStageColor:R,onBack:A}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsx(qS,{teachersData:u,teachersLoading:f,isOpen:v.teachers,onToggle:()=>x("teachers"),onTeacherClick:N}),r.jsx(HS,{student:n,orchestras:h,orchestrasLoading:p,isOpen:v.orchestras,onToggle:()=>x("orchestras"),onOrchestraClick:O}),r.jsx(YS,{student:n,isOpen:v.tests,onToggle:()=>x("tests"),formatDate:T}),r.jsx(FS,{student:n,attendanceStats:y,loadingAttendance:m,isOpen:v.attendance,onToggle:()=>x("attendance"),formatDate:T})]}),r.jsxs("button",{className:"flip-button",onClick:E,children:[r.jsx("span",{children:"  "}),r.jsx(ja,{size:14})]})]}),r.jsxs("div",{className:"card-side card-back",children:[r.jsx(Wp,{student:n,getInitials:D,getStageColor:R,showBackButton:!1}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsx(QS,{student:n,isOpen:v.personalInfo,onToggle:()=>x("personalInfo"),formatDate:T}),r.jsx(VS,{student:n,isOpen:v.parentInfo,onToggle:()=>x("parentInfo")})]}),r.jsxs("button",{className:"flip-button",onClick:E,children:[r.jsx("span",{children:"  "}),r.jsx(ja,{size:14})]})]})]})})})})}function tg(){return r.jsx($S,{})}const XS=n=>{let s=n.replace(/\D/g,"");return s.startsWith("0")&&(s=`972${s.substring(1)}`),s},GS=(n,s="")=>{const c=XS(n),i=encodeURIComponent(s),u=`https://wa.me/${c}?text=${i}`;window.open(u,"_blank")};function ZS({teacher:n,onView:s,onEdit:c,onRemove:i}){var x,E,A;const u=N=>N.split(" ").map(O=>O[0]).join("").toUpperCase().substring(0,2),f=N=>({:"#4D55CC",:"#28A745"," ":"#FFC107",:"#DC3545"})[N]||"#6c757d",h=N=>N===0?" ":N===1?" ":`${N} `,p=(N,O)=>{N.stopPropagation(),GS(O)},m=((x=n.teaching)==null?void 0:x.studentIds)&&n.teaching.studentIds.length>0&&n.teaching?n.teaching.studentIds.length:0,v=n.roles&&n.roles.length>0?n.roles[0]:"";return r.jsxs("div",{className:"teacher-preview",onClick:()=>s(n._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"preview-header",children:[r.jsxs("div",{className:"teacher-header-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:f(v)},children:u(n.personalInfo.fullName)})}),r.jsxs("div",{className:"teacher-info",children:[r.jsx("h3",{className:"teacher-name",children:n.personalInfo.fullName}),r.jsx("div",{className:"teacher-subject",children:(E=n.professionalInfo)!=null&&E.instrument?r.jsxs(r.Fragment,{children:[r.jsx(_t,{size:14}),r.jsx("span",{children:n.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Dg,{size:14}),r.jsx("span",{children:v})]})})]})]}),r.jsx("div",{className:"badges-container",children:n.roles&&n.roles.map(N=>r.jsx("div",{className:"role-badge",style:{backgroundColor:f(N)},children:r.jsx("span",{children:N})},N))})]}),r.jsx("div",{className:"preview-content",children:r.jsxs("div",{className:"info-row",children:[n.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(wc,{size:16}),r.jsx("span",{className:"clickable-phone",onClick:N=>n.personalInfo.phone&&p(N,n.personalInfo.phone),title:"   ",children:n.personalInfo.phone})]}),n.personalInfo.email&&r.jsxs("div",{className:"info-item",children:[r.jsx(qr,{size:16}),r.jsx("span",{children:n.personalInfo.email})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(Ir,{size:16}),r.jsx("span",{children:h(m)})]}),((A=n.conducting)==null?void 0:A.orchestraIds)&&n.conducting.orchestraIds.length>0&&r.jsxs("div",{className:"info-item",children:[r.jsx(_t,{size:16}),r.jsx("span",{children:n.conducting.orchestraIds.length===1?"   ":`  ${n.conducting.orchestraIds.length} `})]})]})}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:N=>{N.stopPropagation(),s(n._id)},"aria-label":"  ",children:r.jsx(Br,{size:16})}),r.jsx("button",{className:"action-btn edit",onClick:N=>{N.stopPropagation(),c(n._id)},"aria-label":" ",children:r.jsx(xs,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:N=>{N.stopPropagation(),i(n._id)},"aria-label":" ",children:r.jsx(Ac,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(nt,{size:14}),r.jsx("span",{children:new Date(n.createdAt||Date.now()).toLocaleDateString("he-IL")})]})]})]})}function KS({teachers:n,isLoading:s,onEdit:c,onView:i,onRemove:u}){return Array.isArray(n)?s&&n.length===0?r.jsx("div",{className:"loading-state",children:" ..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx("p",{children:"        "})]}):r.jsx("div",{className:"teacher-grid",children:n.map(f=>r.jsx(ZS,{teacher:f,onEdit:c,onView:i||c,onRemove:u},f._id))}):(console.error("Expected teachers to be an array but got:",typeof n,n),r.jsx("div",{className:"error-state",children:"  "}))}const JS=["",""," ",""," "],mc=[""," ",""," ","","","",""],cl=["","","","","",""],PS=[30,45,60],WS=({initialTeacher:n,onClose:s,onSave:c})=>{const{saveTeacher:i,isLoading:u,error:f,clearError:h}=Ss(),{currentSchoolYear:p}=El(),[y,m]=b.useState([]),[v,x]=b.useState(!1),[E,A]=b.useState(!1),[N,O]=b.useState({personalInfo:{fullName:"",phone:"",email:"",address:""},roles:[""],professionalInfo:{instrument:mc[0],isActive:!0},teaching:{studentIds:[],schedule:[]},conducting:{orchestraIds:[]},ensemblesIds:[],schoolYears:[],credentials:{email:"",password:""},isActive:!0}),[T,D]=b.useState([]),[R,C]=b.useState({}),[U,I]=b.useState(!1),[F,le]=b.useState(!1),ie=!(n!=null&&n._id);b.useEffect(()=>{const j=()=>{A(window.innerWidth<768)};return j(),window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j)}},[]),b.useEffect(()=>{(async()=>{x(!0);try{const M=await en.getOrchestras({isActive:!0});m(M)}catch(M){console.error("Failed to load orchestras:",M)}finally{x(!1)}})()},[]),b.useEffect(()=>{T.length>0&&(console.log("Updating formData schedule from scheduleItems:",T),O(j=>({...j,teaching:{...j.teaching,schedule:[...T]}})))},[T]),b.useEffect(()=>{var j,M,Q,H,V,re,de,ge,pe,xe,fe;if(n!=null&&n._id){if((j=n.teaching)!=null&&j.schedule&&Array.isArray(n.teaching.schedule)){const oe=n.teaching.schedule.filter(Ue=>Ue&&Ue.studentId).map(Ue=>({studentId:Ue.studentId,day:Ue.day||cl[0],time:Ue.time||"08:00",duration:Ue.duration||45,isActive:Ue.isActive!==!1}));console.log("Setting initial schedule items:",oe),D(oe)}O({_id:n._id,personalInfo:{fullName:((M=n.personalInfo)==null?void 0:M.fullName)||"",phone:((Q=n.personalInfo)==null?void 0:Q.phone)||"",email:((H=n.personalInfo)==null?void 0:H.email)||"",address:((V=n.personalInfo)==null?void 0:V.address)||""},roles:n.roles||[""],professionalInfo:{instrument:((re=n.professionalInfo)==null?void 0:re.instrument)||mc[0],isActive:((de=n.professionalInfo)==null?void 0:de.isActive)!==!1},teaching:{studentIds:((ge=n.teaching)==null?void 0:ge.studentIds)||[],schedule:((pe=n.teaching)==null?void 0:pe.schedule)||[]},conducting:{orchestraIds:((xe=n.conducting)==null?void 0:xe.orchestraIds)||[]},ensemblesIds:n.ensemblesIds||[],schoolYears:n.schoolYears||[],credentials:{email:((fe=n.personalInfo)==null?void 0:fe.email)||"",password:""},isActive:n.isActive!==!1})}else O({personalInfo:{fullName:"",phone:"",email:"",address:""},roles:[""],professionalInfo:{instrument:mc[0],isActive:!0},teaching:{studentIds:[],schedule:[]},conducting:{orchestraIds:[]},ensemblesIds:[],schoolYears:p?[{schoolYearId:p._id,isActive:!0}]:[],credentials:{email:"",password:""},isActive:!0}),D([]);C({}),h==null||h()},[n,h,p]);const J=b.useCallback(j=>{const{name:M,value:Q}=j.target;O(H=>{const V={...H.personalInfo,[M]:Q},re={...H.credentials,email:M==="email"?Q:H.credentials.email};return{...H,personalInfo:V,credentials:re}}),C(H=>{if(H[`personalInfo.${M}`]){const V={...H};return delete V[`personalInfo.${M}`],V}return H})},[]),q=b.useCallback(j=>{const{name:M,value:Q}=j.target;O(H=>({...H,professionalInfo:{...H.professionalInfo,[M]:Q}})),C(H=>{if(H[`professionalInfo.${M}`]){const V={...H};return delete V[`professionalInfo.${M}`],V}return H})},[]),P=b.useCallback(j=>{const{value:M,checked:Q}=j.target;O(H=>{let V=[...H.roles];return Q?V.includes(M)||V.push(M):(V=V.filter(re=>re!==M),V.length===0&&(V=[""])),{...H,roles:V}}),C(H=>{if(H.roles){const V={...H};return delete V.roles,V}return H})},[]),W=b.useCallback(j=>{const{name:M,value:Q}=j.target;O(H=>({...H,credentials:{...H.credentials,[M]:Q}})),C(H=>{if(H[`credentials.${M}`]){const V={...H};return delete V[`credentials.${M}`],V}return H})},[]),te=b.useCallback(j=>{const M=Array.from(j.target.selectedOptions).map(Q=>Q.value);O(Q=>({...Q,conducting:{...Q.conducting,orchestraIds:M}})),C(Q=>{if(Q["conducting.orchestraIds"]){const H={...Q};return delete H["conducting.orchestraIds"],H}return Q})},[]),G=b.useCallback((j,M,Q)=>{console.log(`Updating schedule for student ${j}, ${M} = ${Q}`),D(H=>{const V=H.findIndex(de=>de.studentId===j);if(V===-1){const de={studentId:j,day:M==="day"?Q:cl[0],time:M==="time"?Q:"08:00",duration:M==="duration"?Q:45,isActive:!0};return console.log(`Created new schedule item for student ${j}:`,de),[...H,de]}const re=[...H];return re[V]={...re[V],[M]:Q},console.log("Updated schedule item:",re[V]),re})},[]),ce=b.useCallback(j=>{const M=T.find(H=>H.studentId===j);if(M){console.log(`Schedule item already exists for student ${j}:`,M);return}const Q={studentId:j,day:cl[0],time:"08:00",duration:45,isActive:!0};console.log(`Creating new schedule item for student ${j}:`,Q),D(H=>[...H,Q])},[T]),k=b.useCallback(j=>{console.log(`Removing schedule item for student ${j}`),D(M=>M.filter(Q=>Q.studentId!==j))},[]),se=b.useCallback(j=>{console.log("Updating student IDs:",j),O(M=>({...M,teaching:{...M.teaching,studentIds:j}}))},[]),ae=b.useCallback(()=>{var Q,H,V,re,de;const j={};return(Q=N.personalInfo)!=null&&Q.fullName||(j["personalInfo.fullName"]="    "),(H=N.personalInfo)!=null&&H.phone?/^05\d{8}$/.test(N.personalInfo.phone)||(j["personalInfo.phone"]="    (  -05  10 )"):j["personalInfo.phone"]="   ",(V=N.personalInfo)!=null&&V.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.personalInfo.email)||(j["personalInfo.email"]=' "  '):j["personalInfo.email"]='"   ',(re=N.personalInfo)!=null&&re.address||(j["personalInfo.address"]="   "),N.roles.includes("")&&!((de=N.professionalInfo)!=null&&de.instrument)&&(j["professionalInfo.instrument"]="     "),N.roles.length===0&&(j.roles="    "),ie&&(N.credentials.password||(j["credentials.password"]="   "),N.personalInfo.email!==N.credentials.email&&(j["credentials.email"]='"    "  ')),C(j),Object.keys(j).length===0},[N,ie]),he=b.useCallback(async j=>{var M;if(j.preventDefault(),console.log("Submit triggered"),!ae())return console.log("Validation failed"),!1;le(!0);try{const Q=N._id,H=T.map(de=>({studentId:de.studentId,day:de.day||cl[0],time:de.time||"08:00",duration:de.duration||45,isActive:de.isActive!==!1})),V={...N,teaching:{...N.teaching,schedule:H}};console.log("Submitting with schedule:",H);let re;if(Q)re={personalInfo:V.personalInfo,roles:V.roles,professionalInfo:V.professionalInfo,isActive:V.isActive},V.teaching&&V.teaching.studentIds.length>0&&(re.teaching={studentIds:V.teaching.studentIds},H.length>0&&(re.teaching.schedule=H)),V.conducting&&V.conducting.orchestraIds.length>0&&(re.conducting={orchestraIds:V.conducting.orchestraIds}),V.ensemblesIds&&V.ensemblesIds.length>0&&(re.ensemblesIds=V.ensemblesIds),console.log("Final update data to be sent:",re);else{const{_id:de,...ge}=V;re=ge}return p&&!((M=re.schoolYears)!=null&&M.some(de=>de.schoolYearId===p._id))&&(re.schoolYears=[...re.schoolYears||[],{schoolYearId:p._id,isActive:!0}]),Q?await i(re,Q):await i(re),c&&c(),s(),!0}catch(Q){console.error("Error saving teacher:",Q);const H=Q instanceof Error?Q.message:"    ";return console.error("Error message:",H),C(V=>({...V,form:H})),!1}finally{le(!1)}},[N,T,ae,i,c,s,p]);return{formData:N,scheduleItems:T,errors:R,isLoading:u,isSubmitting:F,orchestras:y,loadingOrchestras:v,error:f,showPassword:U,isMobile:E,isNewTeacher:ie,setFormData:O,setScheduleItems:D,setShowPassword:I,handlePersonalInfoChange:J,handleProfessionalInfoChange:q,handleRolesChange:P,handleCredentialsChange:W,handleOrchestraChange:te,handleScheduleChange:G,addScheduleItem:ce,removeScheduleItem:k,updateStudentIds:se,validateForm:ae,handleSubmit:he}},eN=({initialStudentIds:n=[],onStudentIdsChange:s,onAddScheduleItem:c,onRemoveScheduleItem:i})=>{const[u,f]=b.useState([]),[h,p]=b.useState([]),[y,m]=b.useState(!1),[v,x]=b.useState(!1),[E,A]=b.useState("");b.useEffect(()=>{(async()=>{m(!0);try{const C=await Ze.getStudents({isActive:!0});console.log(`Loaded ${C.length} students for selection`),f(C)}catch(C){console.error("Failed to load students:",C)}finally{m(!1)}})()},[]),b.useEffect(()=>{(async()=>{if(n.length>0){console.log("Loading selected students for IDs:",n),m(!0);try{const C=await Ze.getStudentsByIds(n);console.log("Loaded selected students:",C),p(C)}catch(C){console.error("Failed to load selected students:",C)}finally{m(!1)}}else p([])})()},[n]);const N=b.useCallback(R=>{A(R)},[]),O=b.useCallback(()=>E.trim()?u.filter(R=>h.some(U=>U._id===R._id)?!1:[R.personalInfo.fullName,R.academicInfo.instrument,R.academicInfo.class].some(U=>U.toLowerCase().includes(E.toLowerCase()))).slice(0,10):[],[E,u,h]),T=b.useCallback(R=>{if(h.some(U=>U._id===R._id)){console.log(`Student ${R._id} already selected, skipping`);return}console.log(`Adding student ${R._id} to selection`),p(U=>[...U,R]);const C=[...h.map(U=>U._id),R._id];s(C),console.log(`Creating schedule for student ${R._id}`),c(R._id),A(""),x(!1)},[h,s,c]),D=b.useCallback(R=>{console.log(`Removing student ${R} from selection`),p(U=>U.filter(I=>I._id!==R));const C=h.filter(U=>U._id!==R).map(U=>U._id);s(C),console.log(`Removing schedule for student ${R}`),i(R)},[h,s,i]);return{students:u,selectedStudents:h,loadingStudents:y,showStudentSearch:v,searchQuery:E,setShowStudentSearch:x,handleStudentSearch:N,getFilteredStudents:O,handleAddStudent:T,handleRemoveStudent:D}};function tN({isOpen:n,onClose:s,teacher:c,onSave:i,onAddNewStudent:u,newlyCreatedStudent:f}){var de,ge,pe,xe,fe;const{formData:h,scheduleItems:p,errors:y,isLoading:m,isSubmitting:v,orchestras:x,loadingOrchestras:E,error:A,showPassword:N,isMobile:O,isNewTeacher:T,setShowPassword:D,handlePersonalInfoChange:R,handleProfessionalInfoChange:C,handleRolesChange:U,handleCredentialsChange:I,handleOrchestraChange:F,handleScheduleChange:le,addScheduleItem:ie,removeScheduleItem:J,updateStudentIds:q,handleSubmit:P}=WS({initialTeacher:c||null,onClose:s,onSave:i}),{selectedStudents:W,loadingStudents:te,showStudentSearch:G,searchQuery:ce,setShowStudentSearch:k,handleStudentSearch:se,getFilteredStudents:ae,handleAddStudent:he,handleRemoveStudent:j}=eN({initialStudentIds:h.teaching.studentIds,onStudentIdsChange:q,onAddScheduleItem:ie,onRemoveScheduleItem:J});b.useEffect(()=>{f&&(console.log("Adding newly created student:",f),he(f))},[f,he]);const M=h.roles.includes(""),Q=h.roles.includes(""),H=()=>{const oe={fullName:h.personalInfo.fullName,instrument:h.professionalInfo.instrument};console.log("Requesting to add new student with teacher info:",oe),u&&u(oe)},V=ae(),re=oe=>p.find(Ue=>Ue.studentId===oe)||{studentId:oe,day:cl[0],time:"08:00",duration:45,isActive:!0};return n?r.jsxs("div",{className:"teacher-form",children:[r.jsx("div",{className:"overlay",onClick:s}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:s,"aria-label":"",children:r.jsx(Mt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?" ":"  "}),A&&r.jsx("div",{className:"error-message",children:A}),y.form&&r.jsx("div",{className:"error-message",children:y.form}),r.jsxs("form",{onSubmit:P,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fullName",children:"  *"}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:((de=h.personalInfo)==null?void 0:de.fullName)||"",onChange:R,className:y["personalInfo.fullName"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.fullName"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.fullName"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:" *"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:((ge=h.personalInfo)==null?void 0:ge.phone)||"",onChange:R,className:y["personalInfo.phone"]?"is-invalid":"",placeholder:"05XXXXXXXX",required:!0,disabled:v}),y["personalInfo.phone"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.phone"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",children:'" *'}),r.jsx("input",{type:"email",id:"email",name:"email",value:((pe=h.personalInfo)==null?void 0:pe.email)||"",onChange:R,className:y["personalInfo.email"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.email"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.email"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"address",children:" *"}),r.jsx("input",{type:"text",id:"address",name:"address",value:((xe=h.personalInfo)==null?void 0:xe.address)||"",onChange:R,className:y["personalInfo.address"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.address"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.address"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" *"}),r.jsx("div",{className:"checkbox-group",children:JS.map(oe=>r.jsxs("div",{className:"checkbox-item",children:[r.jsx("input",{type:"checkbox",id:`role-${oe}`,name:"roles",value:oe,checked:h.roles.includes(oe),onChange:U,disabled:v}),r.jsx("label",{htmlFor:`role-${oe}`,children:oe})]},oe))}),y.roles&&r.jsx("div",{className:"form-error",children:y.roles})]})}),Q&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"instrument",children:"  () *"}),r.jsxs("select",{id:"instrument",name:"instrument",value:((fe=h.professionalInfo)==null?void 0:fe.instrument)||"",onChange:C,className:y["professionalInfo.instrument"]?"is-invalid":"",required:Q,disabled:v,children:[r.jsx("option",{value:"",disabled:!0,children:"  "}),mc.map(oe=>r.jsx("option",{value:oe,children:oe},oe))]}),y["professionalInfo.instrument"]&&r.jsx("div",{className:"form-error",children:y["professionalInfo.instrument"]})]})}),M&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"orchestras",children:" ()"}),r.jsx("select",{id:"orchestras",name:"orchestraIds",multiple:!0,value:h.conducting.orchestraIds||[],onChange:F,className:y["conducting.orchestraIds"]?"is-invalid":"",disabled:v||E,children:E?r.jsx("option",{disabled:!0,children:" ..."}):x.length>0?x.map(oe=>r.jsx("option",{value:oe._id,children:oe.name},oe._id)):r.jsx("option",{disabled:!0,children:"  "})}),r.jsx("small",{className:"select-hint",children:O?"      ":"    (  CTRL +   )"}),y["conducting.orchestraIds"]&&r.jsx("div",{className:"form-error",children:y["conducting.orchestraIds"]})]})})]}),Q&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:""}),W.length>0&&r.jsxs("div",{className:"selected-students",children:[r.jsx("h4",{children:"  "}),W.map(oe=>{const Ue=re(oe._id);return r.jsxs("div",{className:"student-schedule-item",children:[r.jsxs("div",{className:"student-info",children:[r.jsx("div",{className:"student-name",children:oe.personalInfo.fullName}),r.jsxs("div",{className:"student-details",children:[r.jsx("span",{children:oe.academicInfo.instrument}),r.jsxs("span",{children:[" ",oe.academicInfo.class]}),r.jsxs("span",{children:[" ",oe.academicInfo.currentStage]})]}),r.jsx("button",{type:"button",className:"remove-student-btn",onClick:()=>j(oe._id),"aria-label":" ",disabled:v,children:r.jsx(Mt,{size:16})})]}),r.jsxs("div",{className:"schedule-fields",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`day-${oe._id}`,children:""}),r.jsx("select",{id:`day-${oe._id}`,value:Ue.day,onChange:ze=>le(oe._id,"day",ze.target.value),disabled:v,children:cl.map(ze=>r.jsx("option",{value:ze,children:ze},ze))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`time-${oe._id}`,children:""}),r.jsx("input",{type:"time",id:`time-${oe._id}`,value:Ue.time,onChange:ze=>le(oe._id,"time",ze.target.value),disabled:v})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`duration-${oe._id}`,children:" ()"}),r.jsx("select",{id:`duration-${oe._id}`,value:Ue.duration,onChange:ze=>le(oe._id,"duration",Number(ze.target.value)),disabled:v,children:PS.map(ze=>r.jsx("option",{value:ze,children:ze},ze))})]})]})]},oe._id)})]}),r.jsx("div",{className:"student-actions",children:G?r.jsxs("div",{className:"student-search-container",children:[r.jsxs("div",{className:"search-header",children:[r.jsx("h4",{children:" "}),r.jsx("button",{type:"button",className:"btn",onClick:()=>k(!1),disabled:v,children:r.jsx(Mt,{size:16})})]}),r.jsxs("div",{className:"search-box",children:[r.jsx(yc,{size:16}),r.jsx("input",{type:"text",placeholder:"   ,   ...",value:ce,onChange:oe=>se(oe.target.value),disabled:v})]}),r.jsx("div",{className:"search-results",children:te?r.jsx("div",{className:"loading-message",children:" ..."}):V.length===0?r.jsx("div",{className:"no-results",children:"  "}):r.jsx("div",{className:"student-list",children:V.map(oe=>r.jsxs("div",{className:"student-search-item",onClick:()=>!v&&he(oe),style:{cursor:v?"not-allowed":"pointer"},children:[r.jsx("div",{className:"student-name",children:oe.personalInfo.fullName}),r.jsxs("div",{className:"student-details",children:[r.jsx("span",{children:oe.academicInfo.instrument}),r.jsxs("span",{children:[" ",oe.academicInfo.class]})]})]},oe._id))})})]}):r.jsxs("div",{className:"student-action-buttons",children:[r.jsxs("button",{type:"button",className:"btn primary",onClick:()=>k(!0),disabled:v,children:[r.jsx(yc,{size:16}),r.jsx("span",{children:"  "})]}),r.jsxs("button",{type:"button",className:"btn primary",onClick:H,disabled:v,children:[r.jsx(Es,{size:16}),r.jsx("span",{children:"  "})]})]})})]}),T&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"cred-email",children:'" () *'}),r.jsx("input",{type:"email",id:"cred-email",name:"email",value:h.credentials.email,onChange:I,className:y["credentials.email"]?"is-invalid":"",disabled:!0}),y["credentials.email"]&&r.jsx("div",{className:"form-error",children:y["credentials.email"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",children:" *"}),r.jsxs("div",{className:"password-input-container",children:[r.jsx("input",{type:N?"text":"password",id:"password",name:"password",value:h.credentials.password,onChange:I,className:y["credentials.password"]?"is-invalid":"",required:!0,disabled:v}),r.jsx("button",{type:"button",className:"toggle-password-btn",onClick:()=>D(!N),"aria-label":N?" ":" ",disabled:v,children:N?r.jsx(Lb,{size:16}):r.jsx(Br,{size:16})})]}),y["credentials.password"]&&r.jsx("div",{className:"form-error",children:y["credentials.password"]})]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:m||v,children:m||v?"...":c!=null&&c._id?"":""}),r.jsx("button",{type:"button",className:"btn secondary",onClick:s,disabled:v,children:""})]})]})]})]}):null}function aN(){const{teachers:n,isLoading:s,error:c,loadTeachers:i,removeTeacher:u,clearSelectedTeacher:f}=Ss(),[h,p]=b.useState(!1),[y,m]=b.useState(!1),[v,x]=b.useState(null),[E,A]=b.useState(!1),[N,O]=b.useState(null),[T,D]=b.useState(null),[R,C]=b.useState(null),U=H=>{var V;return[H.personalInfo.fullName,((V=H.professionalInfo)==null?void 0:V.instrument)||"",H.personalInfo.email||"",H.personalInfo.phone||""]},{filteredEntities:I,handleSearch:F}=Cd(n,U),le=fa(),ie=qt(),{user:J}=In(),q=J==null?void 0:J.roles.includes(""),P=ie.pathname.includes("/teachers/")&&!ie.pathname.endsWith("/teachers/");b.useEffect(()=>{i()},[i]);const W=()=>{x(null),f(),p(!0)},te=()=>{p(!1),x(null)},G=H=>{H&&C({fullName:H.fullName,instrument:H.instrument}),m(!0)},ce=()=>{m(!1)},k=H=>{D(H),m(!1),p(!0)},se=H=>{const V=n.find(re=>re._id===H)||null;x(V),p(!0)},ae=H=>{le(`/teachers/${H}`)},he=H=>{n.find(re=>re._id===H)&&(O(H),A(!0))},j=async()=>{if(N)try{await u(N),O(null),A(!1)}catch(H){console.error("Failed to remove teacher:",H)}},M=()=>{alert("Open filter dialog")},Q=q;return r.jsxs("div",{className:"app-container",children:[r.jsx(Lc,{}),r.jsxs("main",{className:"main-content",children:[!P&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(Od,{onSearch:F,placeholder:" ..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:M,"aria-label":" ",children:r.jsx(Sd,{className:"icon"})}),Q&&r.jsx("button",{className:"btn-icon add-btn",onClick:W,"aria-label":"  ",children:r.jsx(Es,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!P&&r.jsx(KS,{teachers:I,isLoading:s,onEdit:se,onView:ae,onRemove:q?he:void 0}),r.jsx(kr,{context:{loadTeachers:i}}),r.jsx(Ns,{isOpen:E,onClose:()=>A(!1),onConfirm:j,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"}),r.jsx(tN,{isOpen:h,onClose:te,teacher:v||void 0,onSave:()=>{console.log("onSave executing in parent component"),p(!1),i()},onAddNewStudent:G,newlyCreatedStudent:T}),r.jsx(yy,{isOpen:y,onClose:ce,onStudentCreated:k,newTeacherInfo:R})]}),!P&&!h&&r.jsx(Vr,{})]})}function ag(){var V,re,de,ge,pe,xe,fe,oe,Ue,ze;const{teacherId:n}=Ec(),[s,c]=b.useState(null),[i,u]=b.useState(!1),[f,h]=b.useState(null),[p,y]=b.useState(!1),[m,v]=b.useState([]),[x,E]=b.useState([]),[A,N]=b.useState(!1),[O,T]=b.useState([]),[D,R]=b.useState(0),[C,U]=b.useState({students:!0,orchestras:!0,schedule:!1,personalInfo:!0,professionalInfo:!0}),I=fa(),F=b.useCallback(()=>{R(ue=>ue+1)},[]);b.useEffect(()=>{n&&le(n)},[n,D]);const le=async ue=>{var Ee,Ve,it;u(!0),h(null);try{const Ie=await At.getTeacherById(ue);console.log("Teacher data loaded:",Ie),c(Ie);const ke=((Ee=Ie.teaching)==null?void 0:Ee.schedule)||[];if(console.log("Teacher schedule data:",ke),Array.isArray(ke)&&ke.length>0){const dt=ke.filter(Ge=>Ge.isActive!==!1).map(Ge=>({...Ge,studentName:` ${Ge.studentId.slice(-6)}`,instrument:""}));T(dt)}else T([]);(Ve=Ie.teaching)!=null&&Ve.studentIds&&Ie.teaching.studentIds.length>0?ie(Ie.teaching.studentIds,Ie.teaching.schedule):v([]),(it=Ie.conducting)!=null&&it.orchestraIds&&Ie.conducting.orchestraIds.length>0?(N(!0),await J(Ie.conducting.orchestraIds)):E([])}catch(Ie){console.error("Failed to load teacher:",Ie),h(Ie instanceof Error?Ie.message:"   ")}finally{u(!1)}},ie=async(ue,Ee=[])=>{try{if(!ue||!Array.isArray(ue)||ue.length===0){console.log("No student IDs provided"),v([]);return}console.log("Loading students for IDs:",ue);let Ve=0,it=[];for(;Ve<2&&it.length<ue.length;){Ve++;try{it=await Ze.getStudentsByIds(ue),console.log(`Attempt ${Ve}: Loaded ${it.length}/${ue.length} students`),it.length>0&&it.length<ue.length&&await new Promise(ke=>setTimeout(ke,500))}catch(ke){console.error(`Attempt ${Ve} failed:`,ke)}}console.log("Final loaded student data:",it),v(it.map(ke=>({_id:ke._id,fullName:ke.personalInfo.fullName||"  ",instrument:ke.academicInfo.instrument||""})));const Ie={};if(it.forEach(ke=>{var dt,Ge;if(ke&&ke._id){const ha=[ke._id,ke._id.toString(),ke._id.toString().replace(/"/g,"")],Se={name:((dt=ke.personalInfo)==null?void 0:dt.fullName)||"  ",instrument:((Ge=ke.academicInfo)==null?void 0:Ge.instrument)||""};ha.forEach(_e=>{Ie[_e.toString()]=Se})}}),console.log("Enhanced student map:",Ie),Array.isArray(Ee)&&Ee.length>0){console.log("Processing schedule items with student data");const ke=Ee.filter(dt=>dt.isActive!==!1).map(dt=>{const Ge=dt.studentId,ha=[Ge,Ge.toString(),Ge.toString().replace(/"/g,"")];let Se=null;for(const _e of ha)if(Ie[_e.toString()]){Se=Ie[_e.toString()],console.log(`Found student match for ID ${Ge} using format ${_e}`);break}if(!Se){const _e=Ge.toString().replace(/"/g,""),Gt=Object.keys(Ie).find(Zt=>Zt.includes(_e)||_e.includes(Zt));Gt&&(Se=Ie[Gt],console.log(`Found partial match for ID ${Ge} via key ${Gt}`))}return{...dt,studentName:Se?Se.name:` ${Ge.toString().slice(-6)}`,instrument:Se?Se.instrument:""}});console.log("New schedule items after mapping to student names:",ke),T(ke)}}catch(Ve){console.error("Failed to load students:",Ve)}},J=async ue=>{try{const Ee=await en.getOrchestrasByIds(ue);E(Ee)}catch(Ee){console.error("Failed to load orchestras:",Ee)}finally{N(!1)}},q=ue=>{U(Ee=>({...Ee,[ue]:!Ee[ue]})),!C[ue]&&(ue==="students"||ue==="schedule")&&F()},P=()=>{y(!p)},W=()=>{I("/teachers")},te=ue=>{I(`/students/${ue}`)},G=ue=>{I(`/orchestras/${ue}`)},ce=ue=>ue?new Date(ue).toLocaleDateString("he-IL"):" ",k=ue=>ue&&ue.includes(":")?ue:ue||"08:00",se=ue=>({:"#4D55CC",:"#28A745",:"#FFC107",:"#6f42c1",:"#fd7e14",:"#20c997",:"#e83e8c"})[ue]||"#6c757d";if(i)return r.jsxs("div",{className:"loading-state",children:[r.jsx(qn,{className:"loading-icon",size:28}),r.jsx("p",{children:"  ..."})]});if(f||!s)return r.jsxs("div",{className:"error-state",children:[r.jsx("p",{children:f||"     "}),r.jsx("button",{onClick:W,className:"btn primary",children:"  "})]});const ae=n&&((V=s.teaching)==null?void 0:V.schedule)&&Array.isArray(s.teaching.schedule)&&s.teaching.schedule.length>0,he=ue=>ue.split(" ").map(Ee=>Ee[0]).join("").toUpperCase().substring(0,2),j=ue=>({:"#4D55CC",:"#28A745"," ":"#FFC107",:"#DC3545"})[ue]||"#6c757d",M=s.roles&&s.roles.length>0?s.roles[0]:"",Q=O.reduce((ue,Ee)=>(ue[Ee.day]||(ue[Ee.day]=[]),ue[Ee.day].push(Ee),ue),{}),H=["","","","","","",""];return Object.keys(Q).forEach(ue=>{Q[ue].sort((Ee,Ve)=>!Ee.time||!Ve.time?0:Ee.time.localeCompare(Ve.time))}),console.log("Rendering with schedule data:",{hasSchedule:ae,numScheduleItems:O.length,scheduleByDay:Q,teacherSchedule:(re=s.teaching)==null?void 0:re.schedule}),r.jsx("div",{className:"teacher-details-content",children:r.jsx("div",{className:"teacher-details-page",children:r.jsx("div",{className:"teacher-card-container",children:r.jsxs("div",{className:`card-content ${p?"flipped":""}`,children:[r.jsxs("div",{className:"card-side card-front",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"teacher-identity",children:[r.jsx("div",{className:"avatar avatar-clickable",style:{backgroundColor:j(M)},children:he(s.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"teacher-name",children:s.personalInfo.fullName}),r.jsx("div",{className:"instrument",children:(de=s.professionalInfo)!=null&&de.instrument?r.jsxs(r.Fragment,{children:[r.jsx(_t,{size:14}),r.jsx("span",{children:s.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Sa,{size:14}),r.jsx("span",{children:M})]})})]})]}),r.jsxs("div",{className:"header-badges",children:[s.roles&&s.roles.map(ue=>r.jsx("div",{className:"role-badge",style:{backgroundColor:j(ue)},children:ue},ue)),r.jsx("button",{className:"back-button",onClick:W,"aria-label":"",children:r.jsx(ja,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${C.students?"active":""}`,onClick:()=>q("students"),children:[r.jsx(Ir,{size:16}),r.jsxs("span",{children:[" (",((pe=(ge=s.teaching)==null?void 0:ge.studentIds)==null?void 0:pe.length)||0,")"]}),C.students?r.jsx(Dn,{size:18,className:"toggle-icon"}):r.jsx(oa,{size:18,className:"toggle-icon"})]}),C.students&&r.jsx("div",{className:"section-content",children:m.length>0?r.jsx("div",{className:"students-grid",children:m.map(ue=>r.jsxs("div",{className:"student-card clickable",onClick:()=>te(ue._id),children:[r.jsx("div",{className:"student-avatar",children:he(ue.fullName)}),r.jsxs("div",{className:"student-info",children:[r.jsx("span",{className:"student-name",children:ue.fullName}),ue.instrument&&r.jsx("span",{className:"student-instrument",children:ue.instrument})]})]},ue._id))}):(fe=(xe=s.teaching)==null?void 0:xe.studentIds)!=null&&fe.length?r.jsxs("div",{className:"loading-section",children:[r.jsx(qn,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."}),r.jsx("button",{className:"refresh-btn",onClick:F,"aria-label":" ",children:" "})]}):r.jsx("div",{className:"no-students-message",children:"   "})})]}),((oe=s.conducting)==null?void 0:oe.orchestraIds)&&s.conducting.orchestraIds.length>0&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${C.orchestras?"active":""}`,onClick:()=>q("orchestras"),children:[r.jsx(_t,{size:16}),r.jsxs("span",{children:["   (",s.conducting.orchestraIds.length,")"]}),C.orchestras?r.jsx(Dn,{size:18,className:"toggle-icon"}):r.jsx(oa,{size:18,className:"toggle-icon"})]}),C.orchestras&&r.jsx("div",{className:"section-content",children:A?r.jsxs("div",{className:"loading-section",children:[r.jsx(qn,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."})]}):x.length>0?r.jsx("div",{className:"orchestras-grid",children:x.map(ue=>r.jsx("div",{className:"orchestra-card clickable",onClick:()=>G(ue._id),children:r.jsx("span",{children:ue.name})},ue._id))}):r.jsx("div",{className:"no-orchestra-message",children:"   "})})]}),s.roles.includes("")&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${C.schedule?"active":""}`,onClick:()=>q("schedule"),children:[r.jsx(nt,{size:16}),r.jsxs("span",{children:["  (",O.length,")"]}),C.schedule?r.jsx(Dn,{size:18,className:"toggle-icon"}):r.jsx(oa,{size:18,className:"toggle-icon"})]}),C.schedule&&r.jsx("div",{className:"section-content",children:O.length>0?r.jsxs("div",{className:"weekly-schedule",children:[H.filter(ue=>Q[ue]).map(ue=>r.jsxs("div",{className:"schedule-day-group",children:[r.jsxs("div",{className:"day-header",style:{backgroundColor:se(ue),color:"white",padding:"6px 10px",borderRadius:"4px",marginBottom:"8px",marginTop:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(nt,{size:14}),r.jsxs("span",{children:[" ",ue]})]}),r.jsx("div",{className:"day-schedule-items",children:Q[ue].map((Ee,Ve)=>r.jsxs("div",{className:"schedule-item-card",style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",marginBottom:"8px",backgroundColor:"var(--bg-secondary, #f8f9fa)",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[r.jsxs("div",{className:"schedule-item-header",style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("div",{className:"student-name",style:{fontWeight:"bold"},children:Ee.studentName}),r.jsxs("div",{className:"time-display",style:{display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx(Rr,{size:14}),r.jsx("span",{children:k(Ee.time)}),r.jsxs("span",{children:["(",Ee.duration," )"]})]})]}),Ee.instrument&&r.jsxs("div",{className:"instrument-display",style:{fontSize:"0.85rem",marginTop:"4px",color:"var(--text-secondary, #6c757d)"},children:[r.jsx(_t,{size:12,style:{marginLeft:"4px"}}),r.jsx("span",{children:Ee.instrument})]})]},`${Ee.studentId}-${Ve}`))})]},ue)),Object.keys(Q).length===0&&r.jsxs("div",{className:"no-schedule-message",style:{textAlign:"center",padding:"20px"},children:[r.jsx("p",{children:"   "}),r.jsxs("button",{className:"refresh-btn",onClick:F,style:{padding:"8px 16px",marginTop:"10px",backgroundColor:"var(--primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:[r.jsx(qn,{size:14})," "]})]})]}):r.jsx("div",{className:"no-schedule-message",style:{textAlign:"center",padding:"20px"},children:r.jsx("p",{children:"   "})})})]})]}),r.jsx("button",{className:"flip-button",onClick:P,children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(ja,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(ja,{size:14})]})})]}),r.jsxs("div",{className:"card-side card-back",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"teacher-identity",children:[r.jsx("div",{className:"avatar avatar-clickable",style:{backgroundColor:j(M)},children:he(s.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"teacher-name",children:s.personalInfo.fullName}),r.jsx("div",{className:"instrument",children:(Ue=s.professionalInfo)!=null&&Ue.instrument?r.jsxs(r.Fragment,{children:[r.jsx(_t,{size:14}),r.jsx("span",{children:s.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Sa,{size:14}),r.jsx("span",{children:M})]})})]})]}),r.jsxs("div",{className:"header-badges",children:[s.roles&&s.roles.map(ue=>r.jsx("div",{className:"role-badge",style:{backgroundColor:j(ue)},children:ue},ue)),r.jsx("button",{className:"back-button",onClick:W,"aria-label":"",children:r.jsx(ja,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${C.personalInfo?"active":""}`,onClick:()=>q("personalInfo"),children:[r.jsx(Sa,{size:16}),r.jsx("span",{children:" "}),C.personalInfo?r.jsx(Dn,{size:18,className:"toggle-icon"}):r.jsx(oa,{size:18,className:"toggle-icon"})]}),C.personalInfo&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[s.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(wc,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:s.personalInfo.phone})]})]}),s.personalInfo.address&&r.jsxs("div",{className:"info-item",children:[r.jsx(Hr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:s.personalInfo.address})]})]}),s.personalInfo.email&&r.jsxs("div",{className:"info-item",children:[r.jsx(qr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:s.personalInfo.email})]})]}),s.createdAt&&r.jsxs("div",{className:"info-item",children:[r.jsx(nt,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:ce(s.createdAt)})]})]})]})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${C.professionalInfo?"active":""}`,onClick:()=>q("professionalInfo"),children:[r.jsx(Rg,{size:16}),r.jsx("span",{children:" "}),C.professionalInfo?r.jsx(Dn,{size:18,className:"toggle-icon"}):r.jsx(oa,{size:18,className:"toggle-icon"})]}),C.professionalInfo&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[((ze=s.professionalInfo)==null?void 0:ze.instrument)&&r.jsxs("div",{className:"info-item",children:[r.jsx(_t,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:s.professionalInfo.instrument})]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(nt,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:ce(s.createdAt||"")})]})]})]})})]})]}),r.jsx("button",{className:"flip-button",onClick:P,children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(ja,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(ja,{size:14})]})})]})]})})})})}const Hn=jl((n,s)=>({orchestras:[],selectedOrchestra:null,filterBy:{},isLoading:!1,error:null,loadOrchestras:async(c={})=>{n({isLoading:!0,error:null});try{const i={...s().filterBy,...c},u=await en.getOrchestras(i);n({orchestras:u,filterBy:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestras";n({error:u,isLoading:!1}),console.error("Error loading orchestras:",i)}},loadOrchestraById:async c=>{n({isLoading:!0,error:null});try{const i=await en.getOrchestraById(c);n({selectedOrchestra:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestra";n({error:u,isLoading:!1}),console.error("Error loading orchestra:",i)}},saveOrchestra:async c=>{n({isLoading:!0,error:null});try{let i;if(c._id){i=await en.updateOrchestra(c._id,c);const u=s().orchestras.map(f=>f._id===i._id?i:f);n({orchestras:u,selectedOrchestra:i,isLoading:!1})}else i=await en.addOrchestra(c),n({orchestras:[...s().orchestras,i],selectedOrchestra:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save orchestra";throw n({error:u,isLoading:!1}),console.error("Error saving orchestra:",i),i}},removeOrchestra:async c=>{var i;n({isLoading:!0,error:null});try{await en.removeOrchestra(c),n({orchestras:s().orchestras.filter(u=>u._id!==c),selectedOrchestra:((i=s().selectedOrchestra)==null?void 0:i._id)===c?null:s().selectedOrchestra,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove orchestra";throw n({error:f,isLoading:!1}),console.error("Error removing orchestra:",u),u}},setFilter:c=>{n({filterBy:{...s().filterBy,...c}})},clearSelectedOrchestra:()=>{n({selectedOrchestra:null})},clearError:()=>{n({error:null})}}));function nN({orchestra:n,onView:s,onEdit:c,onRemove:i}){const u=x=>({:"#4D55CC",:"#28A745"})[x]||"#6c757d",f=x=>x===0?"0 ":x===1?" ":`${x} `,h=x=>x?x===1?" ":`${x} `:" ",p=n.memberIds&&n.memberIds.length>0,y=n.rehearsalIds&&n.rehearsalIds.length>0,m=p?n.memberIds.length:0,v=y?n.rehearsalIds.length:0;return r.jsxs("div",{className:"orchestra-preview",onClick:()=>s(n._id),style:{cursor:"pointer"},children:[r.jsx("div",{className:"preview-header",children:r.jsxs("div",{className:"orchestra-header-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:u(n.type)},children:r.jsx(_t,{size:20})})}),r.jsxs("div",{className:"orchestra-info",children:[r.jsx("h3",{className:"orchestra-name",children:n.name}),r.jsxs("div",{className:"orchestra-type",children:[r.jsx(Ir,{size:14}),r.jsx("span",{children:f(m)})]})]})]})}),r.jsx("div",{className:"preview-content",children:r.jsx("div",{className:"info-row",children:r.jsxs("div",{className:"info-item",children:[r.jsx(nt,{size:16}),r.jsx("span",{children:h(v)})]})})}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:x=>{x.stopPropagation(),s(n._id)},"aria-label":"  ",children:r.jsx(Br,{size:16})}),c&&r.jsx("button",{className:"action-btn edit",onClick:x=>{x.stopPropagation(),c(n._id)},"aria-label":" ",children:r.jsx(xs,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:x=>{x.stopPropagation(),i(n._id)},"aria-label":" ",children:r.jsx(Ac,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(nt,{size:14}),r.jsx("span",{children:new Date(n.createdAt||Date.now()).toLocaleDateString("he-IL")})]})]})]})}function sN({orchestras:n,isLoading:s,onEdit:c,onView:i,onRemove:u}){return s&&n.length===0?r.jsx("div",{className:"loading-state",children:" ..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx("p",{children:"        "})]}):r.jsx("div",{className:"orchestra-grid",children:n.map(f=>r.jsx(nN,{orchestra:f,onEdit:c,onView:i,onRemove:u},f._id))})}const lN=({initialOrchestra:n,onClose:s,onSave:c})=>{const{saveOrchestra:i,isLoading:u,error:f,clearError:h}=Hn(),{currentSchoolYear:p}=El(),{loadTeachers:y}=Ss(),{students:m,saveStudent:v}=Yn(),[x,E]=b.useState({_id:void 0,name:"",type:"",conductorId:"",memberIds:[],rehearsalIds:[],schoolYearId:"",location:" 1",isActive:!0}),[A,N]=b.useState([]),[O,T]=b.useState(!1),[D,R]=b.useState({}),[C,U]=b.useState(!1),I=x.type==="";b.useEffect(()=>{C||(n!=null&&n._id?E({_id:n._id,name:n.name||"",type:n.type||"",conductorId:n.conductorId||"",memberIds:n.memberIds||[],rehearsalIds:n.rehearsalIds||[],schoolYearId:n.schoolYearId||(p==null?void 0:p._id)||"",location:n.location||" 1",isActive:n.isActive!==!1}):E({_id:void 0,name:"",type:"",conductorId:"",memberIds:[],rehearsalIds:[],schoolYearId:(p==null?void 0:p._id)||"",location:" 1",isActive:!0}),R({}),h==null||h())},[n,p,h,C]),b.useEffect(()=>{if(C)return;(async()=>{T(!0);try{const P=x.type===""?"":" ",W=await y({role:P,isActive:!0});if(Array.isArray(W))N(W);else{const G=Ss.getState().teachers.filter(ce=>ce.roles.includes(P));N(G)}}catch(P){console.error("Failed to load conductors:",P)}finally{T(!1)}})()},[x.type,y,C]);const F=q=>{if(C)return;const{name:P,value:W,dataset:te}=q.target;if(P==="type"){const G={...x,type:W,conductorId:""};if(x.name){const ce=x.type===""?"":"",k=W===""?"":"";x.name.includes(ce)&&(G.name=x.name.replace(ce,k))}E(G)}else E(P==="memberIds"?G=>({...G,memberIds:Array.isArray(W)?W:G.memberIds}):G=>({...G,[P]:W}));te!=null&&te.error?R(G=>{if(te!=null&&te.error){const ce={...G};return ce[P]=te.error,ce}return G}):D[P]&&R(G=>{const ce={...G};return delete ce[P],ce})},le=()=>{const q={};return x.name||(q.name=I?"    ":"    "),x.type||(q.type="   "),x.conductorId||(q.conductorId=I?"  ":"   "),x.location||(q.location="  "),x.schoolYearId||(q.schoolYearId="    "),R(q),Object.keys(q).length===0},ie=async q=>{if(q.preventDefault(),C||!le())return!1;U(!0);try{console.log("Submitting orchestra form with data:",x);const P=await i(x);return console.log("Orchestra saved successfully:",P),await J(P),c&&c(),s(),!0}catch(P){return console.error("Error saving orchestra:",P),!1}finally{U(!1)}},J=async q=>{const P=q._id,W=(n==null?void 0:n.memberIds)||[],te=x.memberIds;try{const G=te.filter(k=>!W.includes(k)),ce=W.filter(k=>!te.includes(k));console.log("Updating student references:",{adding:G.length,removing:ce.length});for(const k of G){const se=m.find(ae=>ae._id===k);se&&!se.enrollments.orchestraIds.includes(P)&&await v({_id:se._id,enrollments:{...se.enrollments,orchestraIds:[...se.enrollments.orchestraIds,P]}})}for(const k of ce){const se=m.find(ae=>ae._id===k);se&&await v({_id:se._id,enrollments:{...se.enrollments,orchestraIds:se.enrollments.orchestraIds.filter(ae=>ae!==P)}})}}catch(G){console.error("Error updating student references:",G)}};return{formData:x,conductors:A,errors:D,isLoading:u,isSubmitting:C,isLoadingConductors:O,error:f,isOrchestra:I,handleInputChange:F,handleSubmit:ie,setFormData:E,validateForm:le}},rN=({initialMemberIds:n=[],onMemberIdsChange:s})=>{const{students:c,loadStudents:i}=Yn(),[u,f]=b.useState([]),[h,p]=b.useState(""),[y,m]=b.useState(!1),[v,x]=b.useState(!1),E=b.useRef(null),A=b.useRef(""),N=b.useRef(!1);b.useEffect(()=>{c.length===0&&i({isActive:!0})},[]),b.useEffect(()=>{const U=JSON.stringify(n.sort());if(c.length>0&&(A.current!==U||!N.current))if(A.current=U,N.current=!0,n.length>0){x(!0);const I=c.filter(F=>n.includes(F._id));f(I),x(!1)}else f([])},[n,c]);const O=b.useCallback(U=>{p(U.target.value),m(U.target.value.length>0)},[]),T=b.useCallback(()=>h?c.filter(U=>U.personalInfo.fullName.includes(h)&&!u.some(I=>I._id===U._id)).slice(0,10):[],[h,c,u]),D=b.useCallback(U=>{f(I=>{const F=[...I,U];return s&&s(F.map(le=>le._id)),F}),p(""),m(!1)},[s]),R=b.useCallback(U=>{f(I=>{const F=I.filter(le=>le._id!==U);return s&&s(F.map(le=>le._id)),F})},[s]),C=b.useCallback(()=>u.map(U=>U._id),[u]);return{selectedMembers:u,searchQuery:h,isSearchOpen:y,isLoading:v,searchRef:E,handleSearchChange:O,getFilteredStudents:T,handleAddMember:D,handleRemoveMember:R,getMemberIds:C}},iN=({name:n,existingNames:s,type:c,originalName:i,isSubmitting:u=!1})=>{const[f,h]=b.useState({isValid:!0,message:null}),p=b.useRef("");return b.useEffect(()=>{if(u){f.isValid||h({isValid:!0,message:null});return}const y=`${n}|${JSON.stringify(s)}|${c}|${i||""}`;if(p.current===y)return;if(p.current=y,!n||n.trim()===""){(!f.isValid||f.message!==null)&&h({isValid:!0,message:null});return}if(i&&i===n){(!f.isValid||f.message!==null)&&h({isValid:!0,message:null});return}const m=n.trim().toLowerCase(),v=i?s.filter(A=>A.toLowerCase()!==i.toLowerCase()):s;let x={isValid:!0,message:null};const E=v.find(A=>A.toLowerCase()===m);if(E)x={isValid:!1,message:`   : "${E}"`};else{const A=m.replace(/\s+/g,""),N=v.find(O=>O.toLowerCase().replace(/\s+/g,"")===A);N?x={isValid:!1,message:`    ( ): "${N}"`}:m.length<2&&(x={isValid:!1,message:"    2 "})}(x.isValid!==f.isValid||x.message!==f.message)&&h(x)},[n,s,c,i,u,f]),f},cN=["",""],il=[" ","  1","  2"," ","  1","  2"," "," 1"," 2"," "," 5"," 6"," 7"," 8"," 9"," 10"," 11"," 12"," 13"," 14"," 15"," 16"," 17"," 18"," 19"," 20"," 21"," 22"," 23"," 24"," 25"," 26"];function vy({isOpen:n,onClose:s,orchestra:c,onSave:i}){const{orchestras:u}=Hn(),f=u.map(W=>W.name),{formData:h,conductors:p,errors:y,isLoading:m,isSubmitting:v,isLoadingConductors:x,error:E,handleInputChange:A,handleSubmit:N,isOrchestra:O}=lN({initialOrchestra:c,onClose:s,onSave:i}),T=iN({name:h.name,existingNames:f,type:h.type,originalName:c==null?void 0:c.name,isSubmitting:v}),{selectedMembers:D,searchQuery:R,isSearchOpen:C,isLoading:U,searchRef:I,handleSearchChange:F,getFilteredStudents:le,handleAddMember:ie,handleRemoveMember:J}=rN({initialMemberIds:(c==null?void 0:c.memberIds)||[],onMemberIdsChange:W=>{A({target:{name:"memberIds",value:W}})}}),q=W=>{if(W.preventDefault(),!T.isValid&&T.message){A({target:{name:"name",value:h.name,dataset:{error:T.message}}});return}N(W)};if(!n)return null;const P=le();return r.jsxs("div",{className:"orchestra-form",children:[r.jsx("div",{className:"overlay",onClick:s}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:s,"aria-label":"",children:r.jsx(Mt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?O?" ":" ":O?"  ":"  "}),E&&r.jsx("div",{className:"error-message",children:E}),r.jsxs("form",{onSubmit:q,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:O?" ":" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"type",children:" *"}),r.jsxs("select",{id:"type",name:"type",value:h.type,onChange:A,className:y.type?"is-invalid":"",required:!0,disabled:v,children:[r.jsx("option",{value:"",children:" "}),cN.map(W=>r.jsx("option",{value:W,children:W},W))]}),y.type&&r.jsx("div",{className:"form-error",children:y.type})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:O?"  *":"  *"}),r.jsxs("div",{className:"name-input-container",children:[r.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:A,className:y.name||!T.isValid&&!v?"is-invalid":"",placeholder:O?"  ...":"  ...",required:!0,disabled:v}),!T.isValid&&T.message&&!y.name&&!v&&r.jsxs("div",{className:"name-validation-warning",children:[r.jsx(_b,{size:16}),r.jsx("span",{children:T.message})]})]}),y.name&&r.jsx("div",{className:"form-error",children:y.name})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"location",children:" *"}),r.jsxs("select",{id:"location",name:"location",value:h.location,onChange:A,className:y.location?"is-invalid":"",required:!0,disabled:v,children:[r.jsx("option",{value:"",children:" "}),il.map(W=>r.jsx("option",{value:W,children:W},W))]}),y.location&&r.jsx("div",{className:"form-error",children:y.location})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"conductorId",children:O?" *":"  *"}),r.jsxs("select",{id:"conductorId",name:"conductorId",value:h.conductorId,onChange:A,className:y.conductorId?"is-invalid":"",required:!0,disabled:x||v,children:[r.jsx("option",{value:"",children:O?" ":"  "}),p.map(W=>r.jsx("option",{value:W._id,children:W.personalInfo.fullName},W._id))]}),x&&r.jsx("div",{className:"loading-text",children:O?" ...":" ..."}),y.conductorId&&r.jsx("div",{className:"form-error",children:y.conductorId})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:O?" ( )":" ( )"}),r.jsxs("div",{ref:I,className:"search-container",children:[r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(yc,{className:"search-icon",size:16}),r.jsx("input",{type:"text",value:R,onChange:F,placeholder:"  ...",className:"search-input",onClick:()=>R.length>0,disabled:v})]}),C&&P.length>0&&!v&&r.jsx("div",{className:"search-results-dropdown",children:P.map(W=>r.jsxs("div",{className:"search-result-item",onClick:()=>ie(W),children:[r.jsx(Sa,{size:16,className:"student-icon"}),r.jsx("span",{children:W.personalInfo.fullName}),r.jsx("span",{className:"student-instrument",children:W.academicInfo.instrument})]},W._id))})]}),r.jsx("div",{className:"selected-members-list",children:U?r.jsx("div",{className:"loading-text",children:" ..."}):D.length>0?D.map(W=>r.jsxs("div",{className:"member-badge",children:[r.jsx("span",{children:W.personalInfo.fullName}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>J(W._id),"aria-label":`  ${W.personalInfo.fullName}`,disabled:v,children:r.jsx(Mt,{size:14})})]},W._id)):r.jsxs("div",{className:"no-members-message",children:["  .     "," ",O?"":"","."]})})]})}),r.jsx("input",{type:"hidden",name:"schoolYearId",value:h.schoolYearId})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:m||v||!T.isValid&&!!h.name,children:v?"...":m?"...":c!=null&&c._id?"":""}),r.jsx("button",{type:"button",className:"btn secondary",onClick:s,disabled:v,children:""})]})]})]})]})}function oN(){const{orchestras:n,isLoading:s,error:c,loadOrchestras:i,removeOrchestra:u}=Hn(),{loadCurrentSchoolYear:f}=El(),[h,p]=b.useState(!1),[y,m]=b.useState(null),[v,x]=b.useState(!1),[E,A]=b.useState(null),N=k=>[k.name,k.type],{filteredEntities:O,handleSearch:T}=Cd(n,N),D=fa(),R=qt(),{user:C}=In(),U=C==null?void 0:C.roles.includes(""),I=C==null?void 0:C.roles.includes(""),F=R.pathname.includes("/orchestras/")&&!R.pathname.endsWith("/orchestras/");b.useEffect(()=>{i(),f()},[i,f]);const le=()=>{m(null),p(!0)},ie=()=>{p(!1),m(null)},J=k=>{const se=n.find(ae=>ae._id===k)||null;m(se),p(!0)},q=k=>{D(`/orchestras/${k}`)},P=k=>{n.find(ae=>ae._id===k)&&(A(k),x(!0))},W=async()=>{if(E)try{await u(E),A(null)}catch(k){console.error("Failed to remove orchestra:",k)}},te=()=>{alert("Open filter dialog")},G=U,ce=U||I;return r.jsxs("div",{className:"app-container",children:[r.jsx(Lc,{}),r.jsxs("main",{className:"main-content",children:[!F&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(Od,{onSearch:T,placeholder:" ..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:te,"aria-label":" ",children:r.jsx(Sd,{className:"icon"})}),G&&r.jsx("button",{className:"btn-icon add-btn",onClick:le,"aria-label":"  ",children:r.jsx(Es,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!F&&r.jsx(sN,{orchestras:O,isLoading:s,onEdit:ce?J:void 0,onView:q,onRemove:U?P:void 0}),r.jsx(kr,{context:{loadOrchestras:i}}),r.jsx(Ns,{isOpen:v,onClose:()=>x(!1),onConfirm:W,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"}),h&&r.jsx(vy,{isOpen:h,onClose:ie,orchestra:y,onSave:i})]}),!F&&!h&&r.jsx(Vr,{})]})}const Cn={async getRehearsals(n={}){return Ce.get("rehearsal",n)},async getRehearsalById(n){return Ce.get(`rehearsal/${n}`)},async getRehearsalsByOrchestraId(n){return this.getRehearsals({groupId:n})},async addRehearsal(n){if(n.type||(n.type=""),n.date&&!n.dayOfWeek){const s=new Date(n.date);n.dayOfWeek=s.getDay()}return Ce.post("rehearsal",n)},async updateRehearsal(n,s){const{_id:c,...i}=s;if(s.date&&!s.dayOfWeek){const u=new Date(s.date);i.dayOfWeek=u.getDay()}return Ce.put(`rehearsal/${n}`,i)},async removeRehearsal(n){if(!n)throw new Error("Invalid rehearsal ID");return Ce.delete(`rehearsal/${n}`)},async bulkCreateRehearsals(n){try{console.log("Bulk create data being sent:",n);const s={orchestraId:n.orchestraId,startDate:n.startDate,endDate:n.endDate,dayOfWeek:Number(n.dayOfWeek),startTime:n.startTime,endTime:n.endTime,location:n.location,notes:n.notes||"",excludeDates:n.excludeDates||[]};return await Ce.post("rehearsal/bulk-create",s)}catch(s){throw console.error("Error in bulk create:",s),s}},async updateAttendance(n,s){return Ce.put(`rehearsal/${n}/attendance`,s)},async getAttendance(n){return Ce.get(`rehearsal/${n}/attendance`)},formatDate(n){return n.toISOString().split("T")[0]},formatTime(n){return n.toTimeString().slice(0,5)},formatDateForDisplay(n){return new Date(n).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"})},formatTimeForDisplay(n){return n},calculateDuration(n,s){const[c,i]=n.split(":").map(Number),[u,f]=s.split(":").map(Number),h=c*60+i;return u*60+f-h}},Uc=jl((n,s)=>({rehearsals:[],selectedRehearsal:null,filterBy:{},isLoading:!1,error:null,loadRehearsals:async(c={})=>{n({isLoading:!0,error:null});try{const i=await Cn.getRehearsals(c);n({rehearsals:i,filterBy:c,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load rehearsals";n({error:u,isLoading:!1}),console.error("Error loading rehearsals:",i)}},loadRehearsalById:async c=>{n({isLoading:!0,error:null});try{const i=await Cn.getRehearsalById(c);n({selectedRehearsal:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load rehearsal";n({error:u,isLoading:!1}),console.error("Error loading rehearsal:",i)}},loadRehearsalsByOrchestraId:async c=>{n({isLoading:!0,error:null});try{const i=await Cn.getRehearsalsByOrchestraId(c);n({rehearsals:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestra rehearsals";n({error:u,isLoading:!1}),console.error("Error loading orchestra rehearsals:",i)}},saveRehearsal:async c=>{n({isLoading:!0,error:null});try{let i;if(c._id){i=await Cn.updateRehearsal(c._id,c);const u=s().rehearsals.map(f=>f._id===i._id?i:f);n({rehearsals:u,selectedRehearsal:i,isLoading:!1})}else i=await Cn.addRehearsal(c),n({rehearsals:[...s().rehearsals,i],selectedRehearsal:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save rehearsal";throw n({error:u,isLoading:!1}),console.error("Error saving rehearsal:",i),i}},removeRehearsal:async c=>{var i;n({isLoading:!0,error:null});try{if(!c)throw new Error("Invalid rehearsal ID");await Cn.removeRehearsal(c),n({rehearsals:s().rehearsals.filter(u=>u._id!==c),selectedRehearsal:((i=s().selectedRehearsal)==null?void 0:i._id)===c?null:s().selectedRehearsal,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove rehearsal";throw n({error:f,isLoading:!1}),console.error("Error removing rehearsal:",u),u}},bulkCreateRehearsals:async c=>{n({isLoading:!0,error:null});try{const i={orchestraId:c.orchestraId,startDate:c.startDate,endDate:c.endDate,dayOfWeek:Number(c.dayOfWeek),startTime:c.startTime,endTime:c.endTime,location:c.location,notes:c.notes||"",excludeDates:c.excludeDates||[]};console.log("Sending bulk create data:",i);const u=await Cn.bulkCreateRehearsals(i);return i.orchestraId?await s().loadRehearsalsByOrchestraId(i.orchestraId):await s().loadRehearsals(),n({isLoading:!1}),u}catch(i){const u=i instanceof Error?i.message:"Failed to create bulk rehearsals";throw n({error:u,isLoading:!1}),console.error("Error creating bulk rehearsals:",i),i}},updateAttendance:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=await Cn.updateAttendance(c,i),h=s().rehearsals.map(p=>p._id===c?f:p);n({rehearsals:h,selectedRehearsal:((u=s().selectedRehearsal)==null?void 0:u._id)===c?f:s().selectedRehearsal,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to update attendance";throw n({error:h,isLoading:!1}),console.error("Error updating attendance:",f),f}},setFilter:c=>{n({filterBy:{...s().filterBy,...c}})},clearSelectedRehearsal:()=>{n({selectedRehearsal:null})},clearError:()=>{n({error:null})}})),rl=n=>n.toISOString().split("T")[0];function Rd({isOpen:n,onClose:s,rehearsal:c,orchestraId:i,onSave:u}){const{saveRehearsal:f,bulkCreateRehearsals:h,isLoading:p,error:y,clearError:m}=Uc(),{orchestras:v,loadOrchestras:x}=Hn(),{currentSchoolYear:E}=El(),A=(E==null?void 0:E._id)||"",[N,O]=b.useState("single"),[T,D]=b.useState({groupId:i||"",date:rl(new Date),startTime:"16:00",endTime:"18:00",location:il[0],notes:"",isActive:!0,schoolYearId:A,type:"",dayOfWeek:new Date().getDay()}),[R,C]=b.useState({orchestraId:i||"",startDate:rl(new Date),endDate:rl(new Date(new Date().getTime()+30*24*60*60*1e3)),dayOfWeek:new Date().getDay(),startTime:"16:00",endTime:"18:00",location:il[0],notes:"",excludeDates:[]}),[U,I]=b.useState(""),[F,le]=b.useState({}),[ie,J]=b.useState("");b.useEffect(()=>{v.length===0&&x()},[v.length,x]),b.useEffect(()=>{if(c!=null&&c._id&&O("single"),c!=null&&c._id)D({_id:c._id,groupId:c.groupId,date:c.date,startTime:c.startTime,endTime:c.endTime,location:c.location||"",notes:c.notes||"",isActive:c.isActive!==!1,schoolYearId:c.schoolYearId||A,type:c.type||"",dayOfWeek:c.dayOfWeek});else{const j=new Date,M=j.getDay();D({groupId:i||"",date:rl(j),startTime:"16:00",endTime:"18:00",location:il[0],notes:"",isActive:!0,schoolYearId:A,type:"",dayOfWeek:M}),C({orchestraId:i||"",startDate:rl(j),endDate:rl(new Date(j.getTime()+30*24*60*60*1e3)),dayOfWeek:M,startTime:"16:00",endTime:"18:00",location:il[0],notes:"",excludeDates:[]})}le({}),J(""),m&&m()},[c,n,m,i,A,x]);const q=j=>{const{name:M,value:Q}=j.target;D(H=>({...H,[M]:Q})),["startTime","endTime","location","notes","groupId"].includes(M)&&C(H=>({...H,[M==="groupId"?"orchestraId":M]:Q})),F[M]&&le(H=>({...H,[M]:""}))},P=j=>{const{name:M,value:Q}=j.target;C(H=>({...H,[M]:Q})),["startTime","endTime","location","notes"].includes(M)?D(H=>({...H,[M]:Q})):M==="orchestraId"&&D(H=>({...H,groupId:Q})),F[M]&&le(H=>({...H,[M]:""}))},W=j=>{const M=parseInt(j.target.value,10);C(Q=>({...Q,dayOfWeek:M})),D(Q=>({...Q,dayOfWeek:M}))},te=j=>{c!=null&&c._id||O(j)},G=()=>{U&&(R.excludeDates.includes(U)||(C(j=>({...j,excludeDates:[...j.excludeDates,U]})),I("")))},ce=j=>{C(M=>({...M,excludeDates:M.excludeDates.filter(Q=>Q!==j)}))},k=j=>["","","","","","",""][j],se=()=>{const j={};return T.groupId||(j.groupId="  "),T.date||(j.date="    "),T.startTime||(j.startTime="    "),T.endTime||(j.endTime="    "),T.location||(j.location="    "),T.startTime&&T.endTime&&T.endTime<=T.startTime&&(j.endTime="      "),le(j),Object.keys(j).length===0},ae=()=>{const j={};return R.orchestraId||(j.orchestraId="  "),R.startDate||(j.startDate="    "),R.endDate||(j.endDate="    "),R.startDate&&R.endDate&&new Date(R.endDate)<new Date(R.startDate)&&(j.endDate="      "),R.startTime||(j.startTime="    "),R.endTime||(j.endTime="    "),R.startTime&&R.endTime&&R.endTime<=R.startTime&&(j.endTime="      "),R.location||(j.location="    "),le(j),Object.keys(j).length===0},he=async j=>{if(j.preventDefault(),J(""),!!(N==="bulk"?ae():se()))try{if(N==="bulk"){const Q={orchestraId:R.orchestraId,startDate:R.startDate,endDate:R.endDate,dayOfWeek:Number(R.dayOfWeek),startTime:R.startTime,endTime:R.endTime,location:R.location,notes:R.notes||"",excludeDates:R.excludeDates||[]};console.log("Sending bulk create data:",Q),await h(Q)}else{const Q={...T,schoolYearId:T.schoolYearId||A,dayOfWeek:T.dayOfWeek||new Date(T.date).getDay()};await f(Q)}u&&u(),s()}catch(Q){console.error("Error saving rehearsal:",Q),J(Q instanceof Error?Q.message:"  .  .")}};return n?r.jsxs("div",{className:"rehearsal-form",children:[r.jsx("div",{className:"overlay",onClick:s}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:s,"aria-label":"",children:r.jsx(Mt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?" ":"  "}),y&&r.jsx("div",{className:"error-message",children:y}),ie&&r.jsx("div",{className:"error-message",children:ie}),!(c!=null&&c._id)&&r.jsxs("div",{className:"mode-toggle",children:[r.jsx("button",{type:"button",className:`btn primary ${N==="single"?"active":""}`,onClick:()=>te("single"),children:" "}),r.jsx("button",{type:"button",className:`btn primary ${N==="bulk"?"active":""}`,onClick:()=>te("bulk"),children:" "})]}),r.jsxs("form",{onSubmit:he,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:N==="single"?"groupId":"orchestraId",children:[r.jsx(_t,{size:16,className:"icon"}),"/ *"]}),r.jsxs("select",{id:N==="single"?"groupId":"orchestraId",name:N==="single"?"groupId":"orchestraId",value:N==="single"?T.groupId:R.orchestraId,onChange:N==="single"?q:P,className:F[N==="single"?"groupId":"orchestraId"]?"is-invalid":"",required:!0,children:[r.jsx("option",{value:"",children:" /"}),v.map(j=>r.jsx("option",{value:j._id,children:j.name},j._id))]}),F[N==="single"?"groupId":"orchestraId"]&&r.jsx("div",{className:"form-error",children:F[N==="single"?"groupId":"orchestraId"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),N==="single"?r.jsx(r.Fragment,{children:r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"date",children:[r.jsx(nt,{size:16,className:"icon"})," *"]}),r.jsx("input",{type:"date",id:"date",name:"date",value:T.date,onChange:q,className:F.date?"is-invalid":"",required:!0}),F.date&&r.jsx("div",{className:"form-error",children:F.date})]})})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"startDate",children:[r.jsx(nt,{size:16,className:"icon"}),"  *"]}),r.jsx("input",{type:"date",id:"startDate",name:"startDate",value:R.startDate,onChange:P,className:F.startDate?"is-invalid":"",required:!0}),F.startDate&&r.jsx("div",{className:"form-error",children:F.startDate})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"endDate",children:[r.jsx(nt,{size:16,className:"icon"}),"  *"]}),r.jsx("input",{type:"date",id:"endDate",name:"endDate",value:R.endDate,onChange:P,className:F.endDate?"is-invalid":"",required:!0}),F.endDate&&r.jsx("div",{className:"form-error",children:F.endDate})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dayOfWeek",children:[r.jsx(Wb,{size:16,className:"icon"}),"  *"]}),r.jsxs("select",{id:"dayOfWeek",name:"dayOfWeek",value:R.dayOfWeek,onChange:W,required:!0,children:[r.jsx("option",{value:0,children:" "}),r.jsx("option",{value:1,children:" "}),r.jsx("option",{value:2,children:" "}),r.jsx("option",{value:3,children:" "}),r.jsx("option",{value:4,children:" "}),r.jsx("option",{value:5,children:" "}),r.jsx("option",{value:6,children:" "})]}),r.jsxs("div",{className:"help-text",children:["    ",k(R.dayOfWeek)," ","  "]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group excluded-dates",children:[r.jsxs("label",{children:[r.jsx(nt,{size:16,className:"icon"})," "]}),r.jsxs("div",{className:"date-input-group",children:[r.jsx("input",{type:"date",value:U,onChange:j=>I(j.target.value),min:R.startDate,max:R.endDate}),r.jsx("button",{type:"button",onClick:G,className:"add-date-btn",disabled:!U,children:""})]}),R.excludeDates.length>0&&r.jsxs("div",{className:"excluded-dates-list",children:[r.jsx("div",{className:"list-title",children:" :"}),r.jsx("ul",{children:R.excludeDates.map(j=>r.jsxs("li",{children:[new Date(j).toLocaleDateString("he-IL"),r.jsx("button",{type:"button",onClick:()=>ce(j),className:"remove-date-btn",children:r.jsx(Mt,{size:14})})]},j))})]})]})})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"startTime",children:[r.jsx(Rr,{size:16,className:"icon"}),"  *"]}),r.jsx("input",{type:"time",id:"startTime",name:"startTime",value:N==="bulk"?R.startTime:T.startTime,onChange:N==="bulk"?P:q,className:F.startTime?"is-invalid":"",required:!0}),F.startTime&&r.jsx("div",{className:"form-error",children:F.startTime})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"endTime",children:[r.jsx(Rr,{size:16,className:"icon"}),"  *"]}),r.jsx("input",{type:"time",id:"endTime",name:"endTime",value:N==="bulk"?R.endTime:T.endTime,onChange:N==="bulk"?P:q,className:F.endTime?"is-invalid":"",required:!0}),F.endTime&&r.jsx("div",{className:"form-error",children:F.endTime})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"location",children:[r.jsx(Hr,{size:16,className:"icon"})," *"]}),r.jsxs("select",{id:"location",name:"location",value:N==="bulk"?R.location:T.location,onChange:N==="bulk"?P:q,className:F.location?"is-invalid":"",required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:" "}),il.map(j=>r.jsx("option",{value:j,children:j},j))]}),F.location&&r.jsx("div",{className:"form-error",children:F.location})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"notes",children:""}),r.jsx("textarea",{id:"notes",name:"notes",value:N==="bulk"?R.notes:T.notes,onChange:N==="bulk"?P:q,rows:3})]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:p,children:p?"...":N==="bulk"?"  ":c!=null&&c._id?"":""}),r.jsx("button",{type:"button",className:"btn secondary",onClick:s,children:""})]})]})]})]}):null}function ng(){var dt,Ge,ha;const{orchestraId:n}=Ec(),s=fa(),{user:c}=In(),{selectedOrchestra:i,loadOrchestraById:u,removeOrchestra:f,isLoading:h,error:p}=Hn(),{loadTeacherById:y}=Ss(),{getStudentsByIds:m}=Yn(),{rehearsals:v,loadRehearsalsByOrchestraId:x,removeRehearsal:E,isLoading:A}=Uc(),[N,O]=b.useState([]),[T,D]=b.useState(!1),[R,C]=b.useState(!1),[U,I]=b.useState(!1),[F,le]=b.useState(null),[ie,J]=b.useState(!1),[q,P]=b.useState(!1),[W,te]=b.useState(null),[G,ce]=b.useState(!1),[k,se]=b.useState(null),[ae,he]=b.useState(!1),[j,M]=b.useState(!1),[Q,H]=b.useState(!1),V=((dt=c==null?void 0:c.roles)==null?void 0:dt.includes(""))||!1,re=((Ge=c==null?void 0:c.roles)==null?void 0:Ge.includes(""))||!1,de=V||re&&(i==null?void 0:i.conductorId)===(c==null?void 0:c._id);b.useEffect(()=>{n&&u(n)},[n,u]),b.useEffect(()=>{n&&x(n)},[n,x]),b.useEffect(()=>{(async()=>{if(i!=null&&i.conductorId){J(!0);try{await y(i.conductorId);const Gt=Ss.getState().selectedTeacher;le(Gt)}catch(_e){console.error("Failed to load conductor:",_e)}finally{J(!1)}}})()},[i,y]),b.useEffect(()=>{(async()=>{if(i&&i.memberIds&&i.memberIds.length>0){D(!0);try{const Gt=(await m(i.memberIds)).map(Zt=>({_id:Zt._id,personalInfo:{fullName:Zt.personalInfo.fullName},academicInfo:{instrument:Zt.academicInfo.instrument}}));O(Gt)}catch(_e){console.error("Failed to load members:",_e)}finally{D(!1)}}else O([])})()},[i,m]);const ge=Se=>new Date(Se).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"}),pe=()=>{s("/orchestras")},xe=()=>{C(!0)},fe=()=>{I(!0)},oe=async()=>{if(i!=null&&i._id)try{await f(i._id),s("/orchestras")}catch(Se){console.error("Failed to delete orchestra:",Se)}I(!1)},Ue=()=>{te(null),P(!0)},ze=Se=>{te(Se),P(!0)},ue=Se=>{se(Se),ce(!0)},Ee=async()=>{if(k)try{await E(k),x(n)}catch(Se){console.error("Failed to delete rehearsal:",Se)}ce(!1),se(null)},Ve=Se=>{s(`/rehearsals/${Se}`)},it=()=>{he(!ae)},Ie=()=>{M(!j)},ke=()=>{H(!Q)};return h?r.jsx("div",{className:"loading-state",children:"..."}):p?r.jsx("div",{className:"error-state",children:p}):i?r.jsxs("div",{className:"orchestra-details-content",children:[r.jsx("div",{className:"orchestra-details-page",children:r.jsx("div",{className:"orchestra-card-container",children:r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"orchestra-header",children:[r.jsx("div",{className:"header-icon",children:r.jsx(_t,{className:"icon",size:20})}),r.jsx("h2",{className:"header-title",children:i.name}),r.jsxs("div",{className:"header-actions",children:[de&&r.jsx("button",{className:"action-btn edit",onClick:xe,children:r.jsx(xs,{size:16})}),V&&r.jsx("button",{className:"action-btn delete",onClick:fe,children:r.jsx(Mt,{size:16})}),r.jsx("button",{className:"back-button",onClick:pe,"aria-label":"",children:r.jsx(ja,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${ae?"active":""}`,onClick:it,children:[i.type===""?" ":" ",ae?r.jsx(Dn,{className:"toggle-icon",size:20}):r.jsx(oa,{className:"toggle-icon",size:20})]}),ae&&r.jsxs("div",{className:"section-content",children:[r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:":"}),r.jsx("span",{className:"info-value",children:ie?"...":F&&"personalInfo"in F?F.personalInfo.fullName:" "})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:" :"}),r.jsx("span",{className:"info-value",children:((ha=i.memberIds)==null?void 0:ha.length)||0})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:" :"}),r.jsx("span",{className:"info-value",children:(v==null?void 0:v.length)||0})]})]})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${j?"active":""}`,onClick:Ie,children:[r.jsx(Ir,{size:18}),"",j?r.jsx(Dn,{className:"toggle-icon",size:20}):r.jsx(oa,{className:"toggle-icon",size:20})]}),j&&r.jsx("div",{className:"section-content",children:i.memberIds&&i.memberIds.length>0?r.jsx("div",{className:"members-list",children:T?r.jsx("div",{className:"loading-message",children:" ..."}):N.length>0?r.jsx("ul",{className:"members-items",children:N.map(Se=>r.jsx("li",{className:"member-item",children:r.jsxs("div",{className:"member-info",children:[r.jsx("span",{className:"member-name",children:Se.personalInfo.fullName}),r.jsx("span",{children:" - "}),r.jsx("span",{className:"member-instrument",children:Se.academicInfo.instrument})]})},Se._id))}):r.jsx("div",{className:"message-box",children:"     "})}):r.jsx("div",{className:"warning-box",children:"   "})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${Q?"active":""}`,onClick:ke,children:[r.jsx(nt,{size:18}),"",Q?r.jsx(Dn,{className:"toggle-icon",size:20}):r.jsx(oa,{className:"toggle-icon",size:20})]}),Q&&r.jsxs("div",{className:"section-content",children:[de&&r.jsx("div",{className:"add-rehearsal-btn-container",children:r.jsxs("button",{className:"btn primary add-rehearsal-btn",onClick:Ue,children:[r.jsx(Es,{size:16})," "]})}),A?r.jsx("div",{className:"loading-message",children:" ..."}):v&&v.length>0?r.jsx("div",{className:"rehearsals-list",children:v.sort((Se,_e)=>new Date(Se.date).getTime()-new Date(_e.date).getTime()).map(Se=>r.jsxs("div",{className:"rehearsal-item",onClick:()=>Ve(Se._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"rehearsal-header",children:[r.jsxs("div",{className:"rehearsal-date",children:[r.jsx(nt,{size:16}),r.jsx("span",{children:ge(Se.date)})]}),de&&r.jsxs("div",{className:"rehearsal-actions",children:[r.jsx("button",{className:"action-btn edit",onClick:_e=>{_e.stopPropagation(),ze(Se)},children:r.jsx(xs,{size:14})}),r.jsx("button",{className:"action-btn delete",onClick:_e=>{_e.stopPropagation(),ue(Se._id)},children:r.jsx(Mt,{size:14})})]})]}),r.jsxs("div",{className:"rehearsal-details",children:[r.jsxs("div",{className:"rehearsal-time",children:[r.jsx(Rr,{size:16}),r.jsxs("span",{children:[Se.startTime," - ",Se.endTime]})]}),r.jsxs("div",{className:"rehearsal-location",children:[r.jsx(Hr,{size:16}),r.jsx("span",{children:Se.location})]}),Se.notes&&r.jsxs("div",{className:"rehearsal-notes",children:[r.jsx("span",{className:"notes-label",children:":"}),r.jsx("span",{className:"notes-text",children:Se.notes})]})]})]},Se._id))}):r.jsx("div",{className:"warning-box",children:"    "})]})]})]})]})})}),R&&r.jsx(vy,{isOpen:R,onClose:()=>C(!1),orchestra:i,onSave:()=>{C(!1),n&&u(n)}}),q&&r.jsx(Rd,{isOpen:q,onClose:()=>P(!1),rehearsal:W,orchestraId:n,onSave:()=>{P(!1),n&&x(n)}}),r.jsx(Ns,{isOpen:U,onClose:()=>I(!1),onConfirm:oe,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:['       "',i.name,'"?']}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"}),r.jsx(Ns,{isOpen:G,onClose:()=>ce(!1),onConfirm:Ee,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"})]}):r.jsx("div",{className:"not-found-state",children:"  "})}function uN({rehearsal:n,orchestraName:s,onView:c,onEdit:i,onRemove:u,isToday:f=!1}){const h=(m,v)=>{const[x,E]=m.split(":").map(Number),[A,N]=v.split(":").map(Number),O=x*60+E;return A*60+N-O},p=m=>{const v=Math.floor(m/60),x=m%60;return v===0?`${x} `:v===1&&x===0?" ":v===1?` -${x} `:x===0?`${v} `:`${v}  -${x} `},y=h(n.startTime,n.endTime);return r.jsxs("div",{className:`rehearsal-preview ${f?"today-rehearsal":""}`,onClick:()=>c(n._id),children:[f&&r.jsx("div",{className:"today-badge",children:""}),r.jsxs("div",{className:"preview-header",children:[r.jsx("h4",{children:s}),r.jsxs("div",{className:"time-info",children:[r.jsxs("span",{className:"time-range",children:[r.jsx(Rr,{size:18}),n.startTime," - ",n.endTime]}),r.jsxs("span",{className:"duration",children:["(",p(y),")"]})]})]}),r.jsxs("div",{className:"preview-content",children:[r.jsxs("div",{className:"location-info",children:[r.jsx(Hr,{size:16}),r.jsx("span",{className:"location",children:n.location})]}),n.notes&&r.jsxs("div",{className:"notes-info",children:[r.jsx("span",{className:"notes-label",children:":"}),r.jsx("span",{className:"notes-text",children:n.notes})]})]}),r.jsx("div",{className:"preview-footer",children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:m=>{m.stopPropagation(),c(n._id)},"aria-label":"  ",children:r.jsx(Br,{size:16})}),i&&r.jsx("button",{className:"action-btn edit",onClick:m=>{m.stopPropagation(),i(n._id)},"aria-label":" ",children:r.jsx(xs,{size:16})}),u&&r.jsx("button",{className:"action-btn delete",onClick:m=>{m.stopPropagation(),u(n._id)},"aria-label":" ",children:r.jsx(Ac,{size:16})})]})})]})}function dN({rehearsals:n,isLoading:s,orchestras:c,onEdit:i,onView:u,onRemove:f}){const h=b.useMemo(()=>{if(!n.length)return[];const m=new Date().toISOString().split("T")[0],v=n.reduce((x,E)=>{const A=E.date;return x[A]||(x[A]={date:A,rehearsals:[],isToday:A===m}),x[A].rehearsals.push(E),x},{});return Object.values(v).forEach(x=>{x.rehearsals.sort((E,A)=>E.startTime.localeCompare(A.startTime))}),Object.values(v).sort((x,E)=>x.isToday&&!E.isToday?-1:!x.isToday&&E.isToday?1:new Date(x.date).getTime()-new Date(E.date).getTime())},[n]);if(s&&n.length===0)return r.jsx("div",{className:"loading-state",children:" ..."});if(n.length===0)return r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx("p",{children:"        "})]});const p=(m,v)=>v?" ":new Date(m).toLocaleDateString("he-IL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),y=m=>{const v=c.find(x=>x._id===m);return v?v.name:"  "};return r.jsx("div",{className:"rehearsal-list-container",children:h.map(({date:m,rehearsals:v,isToday:x})=>r.jsxs("div",{className:`rehearsal-date-group ${x?"today-group":""}`,children:[r.jsxs("div",{className:"date-header",children:[r.jsx(nt,{size:20}),r.jsx("h2",{children:p(m,x)}),r.jsxs("span",{className:"date-count",children:[v.length," "]})]}),r.jsx("div",{className:"rehearsal-grid",children:v.map(E=>r.jsx(uN,{rehearsal:E,orchestraName:y(E.groupId),onEdit:i,onView:u,onRemove:f,isToday:x},E._id))})]},m))})}function fN(){const{rehearsals:n,isLoading:s,error:c,loadRehearsals:i,removeRehearsal:u}=Uc(),{orchestras:f,loadOrchestras:h}=Hn(),[p,y]=mb(),m=p.get("orchestraId"),v=p.get("fromDate"),[x,E]=b.useState(!1),[A,N]=b.useState(null),[O,T]=b.useState(!1),[D,R]=b.useState(null),[C,U]=b.useState(m),[I,F]=b.useState(v),[le,ie]=b.useState(""),J=fa(),q=qt(),{user:P}=In(),W=P==null?void 0:P.roles.includes(""),te=P==null?void 0:P.roles.includes(""),G=q.pathname.includes("/rehearsals/")&&!q.pathname.endsWith("/rehearsals/");b.useEffect(()=>{h();const ge={};if(m&&(ge.groupId=m,U(m)),v)ge.fromDate=v,F(v);else{const xe=new Date().toISOString().split("T")[0];ge.fromDate=xe,F(xe)}i(ge)},[i,h,m,v]),b.useEffect(()=>{const ge=new URLSearchParams(p);C?ge.set("orchestraId",C):ge.delete("orchestraId"),y(ge)},[C,y]);const ce=b.useMemo(()=>{if(!le.trim())return n;const ge=le.toLowerCase();return n.filter(pe=>{const xe=f.find(fe=>fe._id===pe.groupId);return xe&&xe.name.toLowerCase().includes(ge)})},[n,le,f]),k=()=>{N(null),E(!0)},se=()=>{E(!1),N(null)},ae=ge=>{const pe=n.find(xe=>xe._id===ge)||null;N(pe),E(!0)},he=ge=>{J(`/rehearsals/${ge}`)},j=ge=>{n.find(xe=>xe._id===ge)&&(R(ge),T(!0))},M=async()=>{if(D)try{await u(D),R(null)}catch(ge){console.error("Failed to remove rehearsal:",ge)}T(!1)},Q=ge=>{const pe=ge.target.value||null;U(pe);const xe=new URLSearchParams(p);pe?xe.set("orchestraId",pe):xe.delete("orchestraId"),y(xe),i({groupId:pe||void 0,fromDate:I||void 0})},H=ge=>{const pe=ge.target.value||null;F(pe);const xe=new URLSearchParams(p);pe?xe.set("fromDate",pe):xe.delete("fromDate"),y(xe),i({groupId:C||void 0,fromDate:pe||void 0})},V=()=>{U(null),F(null),ie(""),y(new URLSearchParams),i({})},re=W||te,de=W||te;return r.jsxs("div",{className:"app-container",children:[r.jsx(Lc,{}),r.jsxs("main",{className:"main-content",children:[!G&&r.jsxs("div",{className:"page-header",children:[r.jsx("div",{className:"page-title",children:r.jsxs("h1",{children:[r.jsx(nt,{className:"title-icon"})," "]})}),r.jsx("div",{className:"search-action-container-rehearsal",children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("div",{className:"filter-dropdown",children:r.jsxs("select",{value:C||"",onChange:Q,className:"filter-select",children:[r.jsx("option",{value:"",children:" "}),f.map(ge=>r.jsx("option",{value:ge._id,children:ge.name},ge._id))]})}),r.jsx("div",{className:"filter-date",children:r.jsx("input",{type:"date",value:I||"",onChange:H,className:"date-picker"})}),(C||I||le)&&r.jsx("button",{className:"btn secondary",onClick:V,children:""}),re&&r.jsx("button",{className:"btn-icon add-btn",onClick:k,"aria-label":"  ",children:r.jsx(Es,{className:"icon"})})]})})]}),c&&r.jsx("div",{className:"error-message",children:c}),!G&&r.jsx(dN,{rehearsals:ce,isLoading:s,onEdit:de?ae:void 0,onView:he,onRemove:W?j:void 0,orchestras:f}),r.jsx(kr,{}),r.jsx(Ns,{isOpen:O,onClose:()=>T(!1),onConfirm:M,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"}),x&&r.jsx(Rd,{isOpen:x,onClose:se,rehearsal:A,orchestraId:C||"",onSave:i})]}),!G&&!x&&r.jsx(Vr,{})]})}function sg(){var pe,xe;const{rehearsalId:n}=Ec(),s=fa(),{user:c}=In(),{selectedRehearsal:i,loadRehearsalById:u,removeRehearsal:f,updateAttendance:h,isLoading:p,error:y}=Uc(),{loadOrchestraById:m}=Hn(),{getStudentsByIds:v}=Yn(),[x,E]=b.useState(null),[A,N]=b.useState([]),[O,T]=b.useState(!1),[D,R]=b.useState(!1),[C,U]=b.useState(!1),[I,F]=b.useState(!1),[le,ie]=b.useState([]),[J,q]=b.useState([]),[P,W]=b.useState(!1),[te,G]=b.useState(!1),[ce,k]=b.useState(!1),se=((pe=c==null?void 0:c.roles)==null?void 0:pe.includes(""))||!1,ae=((xe=c==null?void 0:c.roles)==null?void 0:xe.includes(""))||!1,he=se||ae,j=se||ae;b.useEffect(()=>{n&&u(n)},[n,u]),b.useEffect(()=>{(async()=>{if(i!=null&&i.groupId){T(!0);try{await m(i.groupId);const oe=Hn.getState();E(oe.selectedOrchestra)}catch(oe){console.error("Failed to load orchestra:",oe)}finally{T(!1)}}})()},[i,m]),b.useEffect(()=>{(async()=>{if(x!=null&&x.memberIds&&x.memberIds.length>0){R(!0);try{const oe=await v(x.memberIds);N(oe)}catch(oe){console.error("Failed to load students:",oe)}finally{R(!1)}}else N([])})()},[x,v]),b.useEffect(()=>{i!=null&&i.attendance?(ie(i.attendance.present||[]),q(i.attendance.absent||[])):(ie([]),q([])),W(!1)},[i]);const M=fe=>new Date(fe).toLocaleDateString("he-IL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Q=fe=>{let oe=[...le],Ue=[...J];le.includes(fe)?(oe=oe.filter(ze=>ze!==fe),Ue.push(fe)):(J.includes(fe)&&(Ue=Ue.filter(ze=>ze!==fe)),oe.push(fe)),ie(oe),q(Ue),W(!0),k(!1)},H=fe=>le.includes(fe),V=async()=>{if(!(!n||!i)){G(!0);try{await h(n,{present:le,absent:J}),k(!0),W(!1),await u(n)}catch(fe){console.error("Failed to update attendance:",fe)}finally{G(!1)}}},re=()=>{U(!0)},de=()=>{x!=null&&x._id?s(`/rehearsals?orchestraId=${x._id}`):s("/rehearsals")},ge=async()=>{if(i!=null&&i._id)try{await f(i._id),s("/rehearsals")}catch(fe){console.error("Failed to delete rehearsal:",fe)}F(!1)};return p?r.jsx("div",{className:"loading-state",children:"..."}):y?r.jsx("div",{className:"error-state",children:y}):i?r.jsxs("div",{className:"rehearsal-details",children:[r.jsx("div",{className:"rehearsal-details-page",children:r.jsx("div",{className:"rehearsal-card-container",children:r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"rehearsal-header",children:[r.jsx("button",{className:"back-button",onClick:de,"aria-label":"",children:r.jsx(ja,{className:"lucide lucide-arrow-right"})}),r.jsxs("div",{className:"header-title",children:[r.jsx("h2",{children:"  "}),r.jsxs("div",{className:"date-display",children:[r.jsx(nt,{size:18}),r.jsx("span",{children:M(i.date)})]})]}),r.jsx("div",{className:"header-actions",children:he&&r.jsxs("button",{className:"action-btn edit",onClick:re,children:[r.jsx(xs,{size:16}),""]})})]}),r.jsxs("div",{className:"orchestra-info-card",children:[r.jsx("h3",{children:O?"...":(x==null?void 0:x.name)||" "}),r.jsxs("div",{className:"rehearsal-details-row",children:[r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:":"}),r.jsx("span",{className:"detail-value",children:i.location})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:":"}),r.jsxs("span",{className:"detail-value",children:[i.startTime," - ",i.endTime]})]})]})]}),r.jsx("div",{className:"attendance-section",children:r.jsx("div",{className:"students-list-container",children:D?r.jsx("div",{className:"loading-students",children:"  ..."}):A.length>0?r.jsx("ul",{className:"students-list",children:A.map(fe=>r.jsxs("li",{className:`student-item ${H(fe._id)?"present":""}`,children:[r.jsxs("div",{className:"student-info",children:[r.jsx("div",{className:"student-name",children:fe.personalInfo.fullName}),r.jsx("div",{className:"student-instrument",children:fe.academicInfo.instrument})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:H(fe._id),onChange:()=>Q(fe._id)}),r.jsx("span",{className:"toggle-slider"})]})]},fe._id))}):r.jsx("div",{className:"empty-students",children:"    "})})}),j&&r.jsxs("div",{className:"attendance-footer",children:[ce&&r.jsx("span",{className:"save-success",children:"  !"}),r.jsx("button",{className:"save-attendance-btn",onClick:V,disabled:!P||te,children:te?"...":" "})]})]})})}),C&&r.jsx(Rd,{isOpen:C,onClose:()=>U(!1),rehearsal:i,orchestraId:i.groupId,onSave:()=>{U(!1),n&&u(n)}}),r.jsx(Ns,{isOpen:I,onClose:()=>F(!1),onConfirm:ge,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:['        "',M(i.date),'"?']}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"})]}):r.jsx("div",{className:"not-found-state",children:"  "})}const hN=new C1({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function mN(){const n=jc(c=>c.isAuthenticated);return jc(c=>c.isLoading)?r.jsx("div",{children:"Loading..."}):n?r.jsx(kr,{}):r.jsx(gc,{to:"/login",replace:!0})}function pN(){const n=jc(s=>s.initialize);return b.useEffect(()=>{n()},[n]),r.jsx(D1,{client:hN,children:r.jsx(hS,{children:r.jsx(ob,{children:r.jsxs(qx,{children:[r.jsx(mt,{path:"/login",element:r.jsx(mS,{})}),r.jsx(mt,{path:"/event-registration",element:r.jsx(yS,{})}),r.jsxs(mt,{element:r.jsx(mN,{}),children:[r.jsx(mt,{path:"/dashboard",element:r.jsx(bS,{})}),r.jsxs(mt,{path:"/students",element:r.jsx(kS,{}),children:[r.jsx(mt,{path:":studentId",element:r.jsx(tg,{})}),r.jsx(mt,{path:"new",element:r.jsx(tg,{})})]}),r.jsxs(mt,{path:"/teachers",element:r.jsx(aN,{}),children:[r.jsx(mt,{path:":teacherId",element:r.jsx(ag,{})}),r.jsx(mt,{path:"new",element:r.jsx(ag,{})})]}),r.jsxs(mt,{path:"/orchestras",element:r.jsx(oN,{}),children:[r.jsx(mt,{path:":orchestraId",element:r.jsx(ng,{})}),r.jsx(mt,{path:"new",element:r.jsx(ng,{})})]}),r.jsxs(mt,{path:"/rehearsals",element:r.jsx(fN,{}),children:[r.jsx(mt,{path:":rehearsalId",element:r.jsx(sg,{})}),r.jsx(mt,{path:"new",element:r.jsx(sg,{})})]}),r.jsx(mt,{path:"/",element:r.jsx(gc,{to:"/dashboard",replace:!0})}),r.jsx(mt,{path:"*",element:r.jsx(gc,{to:"/dashboard",replace:!0})})]})]})})})})}X0.createRoot(document.getElementById("root")).render(r.jsx(b.StrictMode,{children:r.jsx(pN,{})}));
