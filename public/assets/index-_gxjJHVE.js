var pp=n=>{throw TypeError(n)};var Gu=(n,l,c)=>l.has(n)||pp("Cannot "+c);var F=(n,l,c)=>(Gu(n,l,"read from private field"),c?c.call(n):l.get(n)),_e=(n,l,c)=>l.has(n)?pp("Cannot add the same private member more than once"):l instanceof WeakSet?l.add(n):l.set(n,c),Se=(n,l,c,i)=>(Gu(n,l,"write to private field"),i?i.call(n,c):l.set(n,c),c),rt=(n,l,c)=>(Gu(n,l,"access private method"),c);var cc=(n,l,c,i)=>({set _(u){Se(n,l,u,c)},get _(){return F(n,l,i)}});(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function c(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(u){if(u.ep)return;u.ep=!0;const f=c(u);fetch(u.href,f)}})();function kx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $u={exports:{}},Cr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function Ix(){if(gp)return Cr;gp=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function c(i,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:n,type:i,key:h,ref:u!==void 0?u:null,props:f}}return Cr.Fragment=l,Cr.jsx=c,Cr.jsxs=c,Cr}var yp;function Bx(){return yp||(yp=1,$u.exports=Ix()),$u.exports}var r=Bx(),Zu={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function qx(){if(vp)return we;vp=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function T(S,M,Y){this.props=S,this.context=M,this.refs=A,this.updater=Y||O}T.prototype.isReactComponent={},T.prototype.setState=function(S,M){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,M,"setState")},T.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function C(){}C.prototype=T.prototype;function R(S,M,Y){this.props=S,this.context=M,this.refs=A,this.updater=Y||O}var D=R.prototype=new C;D.constructor=R,N(D,T.prototype),D.isPureReactComponent=!0;var I=Array.isArray,$={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function ie(S,M,Y,k,H,re){return Y=re.ref,{$$typeof:n,type:S,key:M,ref:Y!==void 0?Y:null,props:re}}function oe(S,M){return ie(S.type,M,void 0,void 0,void 0,S.props)}function W(S){return typeof S=="object"&&S!==null&&S.$$typeof===n}function X(S){var M={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(Y){return M[Y]})}var V=/\/+/g;function U(S,M){return typeof S=="object"&&S!==null&&S.key!=null?X(""+S.key):M.toString(36)}function ce(){}function te(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ce,ce):(S.status="pending",S.then(function(M){S.status==="pending"&&(S.status="fulfilled",S.value=M)},function(M){S.status==="pending"&&(S.status="rejected",S.reason=M)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function fe(S,M,Y,k,H){var re=typeof S;(re==="undefined"||re==="boolean")&&(S=null);var ue=!1;if(S===null)ue=!0;else switch(re){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(S.$$typeof){case n:case l:ue=!0;break;case v:return ue=S._init,fe(ue(S._payload),M,Y,k,H)}}if(ue)return H=H(S),ue=k===""?"."+U(S,0):k,I(H)?(Y="",ue!=null&&(Y=ue.replace(V,"$&/")+"/"),fe(H,M,Y,"",function(ye){return ye})):H!=null&&(W(H)&&(H=oe(H,Y+(H.key==null||S&&S.key===H.key?"":(""+H.key).replace(V,"$&/")+"/")+ue)),M.push(H)),1;ue=0;var pe=k===""?".":k+":";if(I(S))for(var he=0;he<S.length;he++)k=S[he],re=pe+U(k,he),ue+=fe(k,M,Y,re,H);else if(he=E(S),typeof he=="function")for(S=he.call(S),he=0;!(k=S.next()).done;)k=k.value,re=pe+U(k,he++),ue+=fe(k,M,Y,re,H);else if(re==="object"){if(typeof S.then=="function")return fe(te(S),M,Y,k,H);throw M=String(S),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ue}function Z(S,M,Y){if(S==null)return S;var k=[],H=0;return fe(S,k,"","",function(re){return M.call(Y,re,H++)}),k}function ne(S){if(S._status===-1){var M=S._result;M=M(),M.then(function(Y){(S._status===0||S._status===-1)&&(S._status=1,S._result=Y)},function(Y){(S._status===0||S._status===-1)&&(S._status=2,S._result=Y)}),S._status===-1&&(S._status=0,S._result=M)}if(S._status===1)return S._result.default;throw S._result}var ae=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function xe(){}return we.Children={map:Z,forEach:function(S,M,Y){Z(S,function(){M.apply(this,arguments)},Y)},count:function(S){var M=0;return Z(S,function(){M++}),M},toArray:function(S){return Z(S,function(M){return M})||[]},only:function(S){if(!W(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},we.Component=T,we.Fragment=c,we.Profiler=u,we.PureComponent=R,we.StrictMode=i,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,we.act=function(){throw Error("act(...) is not supported in production builds of React.")},we.cache=function(S){return function(){return S.apply(null,arguments)}},we.cloneElement=function(S,M,Y){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var k=N({},S.props),H=S.key,re=void 0;if(M!=null)for(ue in M.ref!==void 0&&(re=void 0),M.key!==void 0&&(H=""+M.key),M)!Q.call(M,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&M.ref===void 0||(k[ue]=M[ue]);var ue=arguments.length-2;if(ue===1)k.children=Y;else if(1<ue){for(var pe=Array(ue),he=0;he<ue;he++)pe[he]=arguments[he+2];k.children=pe}return ie(S.type,H,void 0,void 0,re,k)},we.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},we.createElement=function(S,M,Y){var k,H={},re=null;if(M!=null)for(k in M.key!==void 0&&(re=""+M.key),M)Q.call(M,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(H[k]=M[k]);var ue=arguments.length-2;if(ue===1)H.children=Y;else if(1<ue){for(var pe=Array(ue),he=0;he<ue;he++)pe[he]=arguments[he+2];H.children=pe}if(S&&S.defaultProps)for(k in ue=S.defaultProps,ue)H[k]===void 0&&(H[k]=ue[k]);return ie(S,re,void 0,void 0,null,H)},we.createRef=function(){return{current:null}},we.forwardRef=function(S){return{$$typeof:p,render:S}},we.isValidElement=W,we.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:ne}},we.memo=function(S,M){return{$$typeof:m,type:S,compare:M===void 0?null:M}},we.startTransition=function(S){var M=$.T,Y={};$.T=Y;try{var k=S(),H=$.S;H!==null&&H(Y,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(xe,ae)}catch(re){ae(re)}finally{$.T=M}},we.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},we.use=function(S){return $.H.use(S)},we.useActionState=function(S,M,Y){return $.H.useActionState(S,M,Y)},we.useCallback=function(S,M){return $.H.useCallback(S,M)},we.useContext=function(S){return $.H.useContext(S)},we.useDebugValue=function(){},we.useDeferredValue=function(S,M){return $.H.useDeferredValue(S,M)},we.useEffect=function(S,M){return $.H.useEffect(S,M)},we.useId=function(){return $.H.useId()},we.useImperativeHandle=function(S,M,Y){return $.H.useImperativeHandle(S,M,Y)},we.useInsertionEffect=function(S,M){return $.H.useInsertionEffect(S,M)},we.useLayoutEffect=function(S,M){return $.H.useLayoutEffect(S,M)},we.useMemo=function(S,M){return $.H.useMemo(S,M)},we.useOptimistic=function(S,M){return $.H.useOptimistic(S,M)},we.useReducer=function(S,M,Y){return $.H.useReducer(S,M,Y)},we.useRef=function(S){return $.H.useRef(S)},we.useState=function(S){return $.H.useState(S)},we.useSyncExternalStore=function(S,M,Y){return $.H.useSyncExternalStore(S,M,Y)},we.useTransition=function(){return $.H.useTransition()},we.version="19.0.0",we}var xp;function vd(){return xp||(xp=1,Zu.exports=qx()),Zu.exports}var b=vd();const bp=kx(b);var Ku={exports:{}},Or={},Ju={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function Hx(){return jp||(jp=1,function(n){function l(Z,ne){var ae=Z.length;Z.push(ne);e:for(;0<ae;){var xe=ae-1>>>1,S=Z[xe];if(0<u(S,ne))Z[xe]=ne,Z[ae]=S,ae=xe;else break e}}function c(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ne=Z[0],ae=Z.pop();if(ae!==ne){Z[0]=ae;e:for(var xe=0,S=Z.length,M=S>>>1;xe<M;){var Y=2*(xe+1)-1,k=Z[Y],H=Y+1,re=Z[H];if(0>u(k,ae))H<S&&0>u(re,k)?(Z[xe]=re,Z[H]=ae,xe=H):(Z[xe]=k,Z[Y]=ae,xe=Y);else if(H<S&&0>u(re,ae))Z[xe]=re,Z[H]=ae,xe=H;else break e}}return ne}function u(Z,ne){var ae=Z.sortIndex-ne.sortIndex;return ae!==0?ae:Z.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();n.unstable_now=function(){return h.now()-p}}var y=[],m=[],v=1,x=null,E=3,O=!1,N=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(Z){for(var ne=c(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=Z)i(m),ne.sortIndex=ne.expirationTime,l(y,ne);else break;ne=c(m)}}function I(Z){if(A=!1,D(Z),!N)if(c(y)!==null)N=!0,te();else{var ne=c(m);ne!==null&&fe(I,ne.startTime-Z)}}var $=!1,Q=-1,ie=5,oe=-1;function W(){return!(n.unstable_now()-oe<ie)}function X(){if($){var Z=n.unstable_now();oe=Z;var ne=!0;try{e:{N=!1,A&&(A=!1,C(Q),Q=-1),O=!0;var ae=E;try{t:{for(D(Z),x=c(y);x!==null&&!(x.expirationTime>Z&&W());){var xe=x.callback;if(typeof xe=="function"){x.callback=null,E=x.priorityLevel;var S=xe(x.expirationTime<=Z);if(Z=n.unstable_now(),typeof S=="function"){x.callback=S,D(Z),ne=!0;break t}x===c(y)&&i(y),D(Z)}else i(y);x=c(y)}if(x!==null)ne=!0;else{var M=c(m);M!==null&&fe(I,M.startTime-Z),ne=!1}}break e}finally{x=null,E=ae,O=!1}ne=void 0}}finally{ne?V():$=!1}}}var V;if(typeof R=="function")V=function(){R(X)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ce=U.port2;U.port1.onmessage=X,V=function(){ce.postMessage(null)}}else V=function(){T(X,0)};function te(){$||($=!0,V())}function fe(Z,ne){Q=T(function(){Z(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){N||O||(N=!0,te())},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return c(y)},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ne=3;break;default:ne=E}var ae=E;E=ne;try{return Z()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,ne){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ae=E;E=Z;try{return ne()}finally{E=ae}},n.unstable_scheduleCallback=function(Z,ne,ae){var xe=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?xe+ae:xe):ae=xe,Z){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ae+S,Z={id:v++,callback:ne,priorityLevel:Z,startTime:ae,expirationTime:S,sortIndex:-1},ae>xe?(Z.sortIndex=ae,l(m,Z),c(y)===null&&Z===c(m)&&(A?(C(Q),Q=-1):A=!0,fe(I,ae-xe))):(Z.sortIndex=S,l(y,Z),N||O||(N=!0,te())),Z},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(Z){var ne=E;return function(){var ae=E;E=ne;try{return Z.apply(this,arguments)}finally{E=ae}}}}(Pu)),Pu}var Sp;function Yx(){return Sp||(Sp=1,Ju.exports=Hx()),Ju.exports}var Wu={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function Fx(){if(Np)return _t;Np=1;var n=vd();function l(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var i={d:{f:c,r:function(){throw Error(l(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,m,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:y,containerInfo:m,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_t.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(l(299));return f(y,m,null,v)},_t.flushSync=function(y){var m=h.T,v=i.p;try{if(h.T=null,i.p=2,y)return y()}finally{h.T=m,i.p=v,i.d.f()}},_t.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(y,m))},_t.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},_t.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,x=p(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?i.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:O}):v==="script"&&i.d.X(y,{crossOrigin:x,integrity:E,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},_t.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);i.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(y)},_t.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,x=p(v,m.crossOrigin);i.d.L(y,v,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},_t.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);i.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(y)},_t.requestFormReset=function(y){i.d.r(y)},_t.unstable_batchedUpdates=function(y,m){return y(m)},_t.useFormState=function(y,m,v){return h.H.useFormState(y,m,v)},_t.useFormStatus=function(){return h.H.useHostTransitionStatus()},_t.version="19.0.0",_t}var Ep;function Qx(){if(Ep)return Wu.exports;Ep=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),Wu.exports=Fx(),Wu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function Vx(){if(Tp)return Or;Tp=1;var n=Yx(),l=vd(),c=Qx();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function Q(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case p:return"Portal";case v:return"Profiler";case m:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case E:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return t=e.displayName||null,t!==null?t:oe(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return oe(e(t))}catch{}}return null}var W=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=Object.assign,V,U;function ce(e){if(V===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+e+U}var te=!1;function fe(e,t){if(!e||te)return"";te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var q=K}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(K){q=K}e.call(ee.prototype)}}else{try{throw Error()}catch(K){q=K}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),g=d[0],j=d[1];if(g&&j){var w=g.split(`
`),z=j.split(`
`);for(o=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;if(s===w.length||o===z.length)for(s=w.length-1,o=z.length-1;1<=s&&0<=o&&w[s]!==z[o];)o--;for(;1<=s&&0<=o;s--,o--)if(w[s]!==z[o]){if(s!==1||o!==1)do if(s--,o--,0>o||w[s]!==z[o]){var J=`
`+w[s].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=s&&0<=o);break}}}finally{te=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ce(a):""}function Z(e){switch(e.tag){case 26:case 27:case 5:return ce(e.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function ne(e){try{var t="";do t+=Z(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ae(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function xe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(ae(e)!==e)throw Error(i(188))}function M(e){var t=e.alternate;if(!t){if(t=ae(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return S(o),e;if(d===s)return S(o),t;d=d.sibling}throw Error(i(188))}if(a.return!==s.return)a=o,s=d;else{for(var g=!1,j=o.child;j;){if(j===a){g=!0,a=o,s=d;break}if(j===s){g=!0,s=o,a=d;break}j=j.sibling}if(!g){for(j=d.child;j;){if(j===a){g=!0,a=d,s=o;break}if(j===s){g=!0,s=d,a=o;break}j=j.sibling}if(!g)throw Error(i(189))}}if(a.alternate!==s)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function Y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Y(e),t!==null)return t;e=e.sibling}return null}var k=Array.isArray,H=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ue=[],pe=-1;function he(e){return{current:e}}function ye(e){0>pe||(e.current=ue[pe],ue[pe]=null,pe--)}function de(e,t){pe++,ue[pe]=e.current,e.current=t}var se=he(null),Me=he(null),ze=he(null),qt=he(null);function Ct(e,t){switch(de(ze,t),de(Me,e),de(se,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Qm(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Qm(e),t=Vm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ye(se),de(se,t)}function je(){ye(se),ye(Me),ye(ze)}function He(e){e.memoizedState!==null&&de(qt,e);var t=se.current,a=Vm(t,e.type);t!==a&&(de(Me,e),de(se,a))}function $e(e){Me.current===e&&(ye(se),ye(Me)),qt.current===e&&(ye(qt),Nr._currentValue=re)}var ct=Object.prototype.hasOwnProperty,Ot=n.unstable_scheduleCallback,sa=n.unstable_cancelCallback,za=n.unstable_shouldYield,Ce=n.unstable_requestPaint,Ye=n.unstable_now,Sa=n.unstable_getCurrentPriorityLevel,la=n.unstable_ImmediatePriority,le=n.unstable_UserBlockingPriority,Ne=n.unstable_NormalPriority,ot=n.unstable_LowPriority,ut=n.unstable_IdlePriority,qe=n.log,Ht=n.unstable_setDisableYieldValue,yt=null,et=null;function Fa(e){if(et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(yt,e,void 0,(e.current.flags&128)===128)}catch{}}function St(e){if(typeof qe=="function"&&Ht(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(yt,e)}catch{}}var Nt=Math.clz32?Math.clz32:Ey,Jr=Math.log,Ny=Math.LN2;function Ey(e){return e>>>=0,e===0?32:31-(Jr(e)/Ny|0)|0}var Pr=128,Wr=4194304;function Zn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,t){var a=e.pendingLanes;if(a===0)return 0;var s=0,o=e.suspendedLanes,d=e.pingedLanes,g=e.warmLanes;e=e.finishedLanes!==0;var j=a&134217727;return j!==0?(a=j&~o,a!==0?s=Zn(a):(d&=j,d!==0?s=Zn(d):e||(g=j&~g,g!==0&&(s=Zn(g))))):(j=a&~o,j!==0?s=Zn(j):d!==0?s=Zn(d):e||(g=a&~g,g!==0&&(s=Zn(g)))),s===0?0:t!==0&&t!==s&&(t&o)===0&&(o=s&-s,g=t&-t,o>=g||o===32&&(g&4194176)!==0)?t:s}function zl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ty(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ld(){var e=Pr;return Pr<<=1,(Pr&4194176)===0&&(Pr=128),e}function Ud(){var e=Wr;return Wr<<=1,(Wr&62914560)===0&&(Wr=4194304),e}function Hc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ml(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wy(e,t,a,s,o,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var j=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var J=31-Nt(a),ee=1<<J;j[J]=0,w[J]=-1;var q=z[J];if(q!==null)for(z[J]=null,J=0;J<q.length;J++){var K=q[J];K!==null&&(K.lane&=-536870913)}a&=~ee}s!==0&&kd(e,s,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function kd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Nt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194218}function Id(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Nt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Bd(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qd(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:op(e.type))}function Ay(e,t){var a=H.p;try{return H.p=e,t()}finally{H.p=a}}var pn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+pn,Yt="__reactProps$"+pn,Rs="__reactContainer$"+pn,Yc="__reactEvents$"+pn,Cy="__reactListeners$"+pn,Oy="__reactHandles$"+pn,Hd="__reactResources$"+pn,Ll="__reactMarker$"+pn;function Fc(e){delete e[Rt],delete e[Yt],delete e[Yc],delete e[Cy],delete e[Oy]}function Kn(e){var t=e[Rt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Rs]||a[Rt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=$m(e);e!==null;){if(a=e[Rt])return a;e=$m(e)}return t}e=a,a=e.parentNode}return null}function Ds(e){if(e=e[Rt]||e[Rs]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ul(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function _s(e){var t=e[Hd];return t||(t=e[Hd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function vt(e){e[Ll]=!0}var Yd=new Set,Fd={};function Jn(e,t){zs(e,t),zs(e+"Capture",t)}function zs(e,t){for(Fd[e]=t,e=0;e<t.length;e++)Yd.add(t[e])}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},Vd={};function Dy(e){return ct.call(Vd,e)?!0:ct.call(Qd,e)?!1:Ry.test(e)?Vd[e]=!0:(Qd[e]=!0,!1)}function ti(e,t,a){if(Dy(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ai(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Va(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function ra(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _y(e){var t=Xd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){s=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ni(e){e._valueTracker||(e._valueTracker=_y(e))}function Gd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Xd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zy=/[\n"\\]/g;function ia(e){return e.replace(zy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qc(e,t,a,s,o,d,g,j){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ra(t)):e.value!==""+ra(t)&&(e.value=""+ra(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Vc(e,g,ra(t)):a!=null?Vc(e,g,ra(a)):s!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+ra(j):e.removeAttribute("name")}function $d(e,t,a,s,o,d,g,j){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+ra(a):"",t=t!=null?""+ra(t):a,j||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=j?e.checked:!!s,e.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Vc(e,t,a){t==="number"&&si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ms(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ra(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Zd(e,t,a){if(t!=null&&(t=""+ra(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ra(a):""}function Kd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(i(92));if(k(s)){if(1<s.length)throw Error(i(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=ra(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Ls(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var My=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||My.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Pd(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Jd(e,o,s)}else for(var d in t)t.hasOwnProperty(d)&&Jd(e,d,t[d])}function Xc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(e){return Uy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Gc=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Us=null,ks=null;function Wd(e){var t=Ds(e);if(t&&(e=t.stateNode)){var a=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ia(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[Yt]||null;if(!o)throw Error(i(90));Qc(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Gd(s)}break e;case"textarea":Zd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ms(e,!!a.multiple,t,!1)}}}var Zc=!1;function ef(e,t,a){if(Zc)return e(t,a);Zc=!0;try{var s=e(t);return s}finally{if(Zc=!1,(Us!==null||ks!==null)&&(Yi(),Us&&(t=Us,e=ks,ks=Us=null,Wd(t),e)))for(t=0;t<e.length;t++)Wd(e[t])}}function kl(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Yt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var Kc=!1;if(Qa)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Kc=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Kc=!1}var gn=null,Jc=null,ri=null;function tf(){if(ri)return ri;var e,t=Jc,a=t.length,s,o="value"in gn?gn.value:gn.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var g=a-e;for(s=1;s<=g&&t[a-s]===o[d-s];s++);return ri=o.slice(e,1<s?1-s:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ci(){return!0}function af(){return!1}function Ft(e){function t(a,s,o,d,g){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(a=e[j],this[j]=a?a(d):d[j]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ci:af,this.isPropagationStopped=af,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),t}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=Ft(Pn),Bl=X({},Pn,{view:0,detail:0}),ky=Ft(Bl),Pc,Wc,ql,ui=X({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ql&&(ql&&e.type==="mousemove"?(Pc=e.screenX-ql.screenX,Wc=e.screenY-ql.screenY):Wc=Pc=0,ql=e),Pc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),nf=Ft(ui),Iy=X({},ui,{dataTransfer:0}),By=Ft(Iy),qy=X({},Bl,{relatedTarget:0}),eo=Ft(qy),Hy=X({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yy=Ft(Hy),Fy=X({},Pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qy=Ft(Fy),Vy=X({},Pn,{data:0}),sf=Ft(Vy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$y[e])?!!t[e]:!1}function to(){return Zy}var Ky=X({},Bl,{key:function(e){if(e.key){var t=Xy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jy=Ft(Ky),Py=X({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=Ft(Py),Wy=X({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),ev=Ft(Wy),tv=X({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),av=Ft(tv),nv=X({},ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=Ft(nv),lv=X({},Pn,{newState:0,oldState:0}),rv=Ft(lv),iv=[9,13,27,32],ao=Qa&&"CompositionEvent"in window,Hl=null;Qa&&"documentMode"in document&&(Hl=document.documentMode);var cv=Qa&&"TextEvent"in window&&!Hl,rf=Qa&&(!ao||Hl&&8<Hl&&11>=Hl),cf=" ",of=!1;function uf(e,t){switch(e){case"keyup":return iv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function ov(e,t){switch(e){case"compositionend":return df(t);case"keypress":return t.which!==32?null:(of=!0,cf);case"textInput":return e=t.data,e===cf&&of?null:e;default:return null}}function uv(e,t){if(Is)return e==="compositionend"||!ao&&uf(e,t)?(e=tf(),ri=Jc=gn=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rf&&t.locale!=="ko"?null:t.data;default:return null}}var dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dv[e.type]:t==="textarea"}function hf(e,t,a,s){Us?ks?ks.push(s):ks=[s]:Us=s,t=Gi(t,"onChange"),0<t.length&&(a=new oi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Yl=null,Fl=null;function fv(e){Bm(e,0)}function di(e){var t=Ul(e);if(Gd(t))return e}function mf(e,t){if(e==="change")return t}var pf=!1;if(Qa){var no;if(Qa){var so="oninput"in document;if(!so){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),so=typeof gf.oninput=="function"}no=so}else no=!1;pf=no&&(!document.documentMode||9<document.documentMode)}function yf(){Yl&&(Yl.detachEvent("onpropertychange",vf),Fl=Yl=null)}function vf(e){if(e.propertyName==="value"&&di(Fl)){var t=[];hf(t,Fl,e,$c(e)),ef(fv,t)}}function hv(e,t,a){e==="focusin"?(yf(),Yl=t,Fl=a,Yl.attachEvent("onpropertychange",vf)):e==="focusout"&&yf()}function mv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return di(Fl)}function pv(e,t){if(e==="click")return di(t)}function gv(e,t){if(e==="input"||e==="change")return di(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:yv;function Ql(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!ct.call(t,o)||!Kt(e[o],t[o]))return!1}return!0}function xf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bf(e,t){var a=xf(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xf(a)}}function jf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=si(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=si(e.document)}return t}function lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vv(e,t){var a=Sf(t);t=e.focusedElem;var s=e.selectionRange;if(a!==t&&t&&t.ownerDocument&&jf(t.ownerDocument.documentElement,t)){if(s!==null&&lo(t)){if(e=s.start,a=s.end,a===void 0&&(a=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(a,t.value.length);else if(a=(e=t.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var o=t.textContent.length,d=Math.min(s.start,o);s=s.end===void 0?d:Math.min(s.end,o),!a.extend&&d>s&&(o=s,s=d,d=o),o=bf(t,d);var g=bf(t,s);o&&g&&(a.rangeCount!==1||a.anchorNode!==o.node||a.anchorOffset!==o.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),a.removeAllRanges(),d>s?(a.addRange(e),a.extend(g.node,g.offset)):(e.setEnd(g.node,g.offset),a.addRange(e)))}}for(e=[],a=t;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)a=e[t],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var xv=Qa&&"documentMode"in document&&11>=document.documentMode,Bs=null,ro=null,Vl=null,io=!1;function Nf(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;io||Bs==null||Bs!==si(s)||(s=Bs,"selectionStart"in s&&lo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vl&&Ql(Vl,s)||(Vl=s,s=Gi(ro,"onSelect"),0<s.length&&(t=new oi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Bs)))}function Wn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var qs={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},co={},Ef={};Qa&&(Ef=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function es(e){if(co[e])return co[e];if(!qs[e])return e;var t=qs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ef)return co[e]=t[a];return e}var Tf=es("animationend"),wf=es("animationiteration"),Af=es("animationstart"),bv=es("transitionrun"),jv=es("transitionstart"),Sv=es("transitioncancel"),Cf=es("transitionend"),Of=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Na(e,t){Of.set(e,t),Jn(t,[e])}var ca=[],Hs=0,oo=0;function fi(){for(var e=Hs,t=oo=Hs=0;t<e;){var a=ca[t];ca[t++]=null;var s=ca[t];ca[t++]=null;var o=ca[t];ca[t++]=null;var d=ca[t];if(ca[t++]=null,s!==null&&o!==null){var g=s.pending;g===null?o.next=o:(o.next=g.next,g.next=o),s.pending=o}d!==0&&Df(a,o,d)}}function hi(e,t,a,s){ca[Hs++]=e,ca[Hs++]=t,ca[Hs++]=a,ca[Hs++]=s,oo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function uo(e,t,a,s){return hi(e,t,a,s),mi(e)}function yn(e,t){return hi(e,null,null,t),mi(e)}function Df(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;o&&t!==null&&e.tag===3&&(d=e.stateNode,o=31-Nt(a),d=d.hiddenUpdates,e=d[o],e===null?d[o]=[t]:e.push(t),t.lane=a|536870912)}function mi(e){if(50<gr)throw gr=0,yu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ys={},_f=new WeakMap;function oa(e,t){if(typeof e=="object"&&e!==null){var a=_f.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ne(t)},_f.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Fs=[],Qs=0,pi=null,gi=0,ua=[],da=0,ts=null,Xa=1,Ga="";function as(e,t){Fs[Qs++]=gi,Fs[Qs++]=pi,pi=e,gi=t}function zf(e,t,a){ua[da++]=Xa,ua[da++]=Ga,ua[da++]=ts,ts=e;var s=Xa;e=Ga;var o=32-Nt(s)-1;s&=~(1<<o),a+=1;var d=32-Nt(t)+o;if(30<d){var g=o-o%5;d=(s&(1<<g)-1).toString(32),s>>=g,o-=g,Xa=1<<32-Nt(t)+o|a<<o|s,Ga=d+e}else Xa=1<<d|a<<o|s,Ga=e}function fo(e){e.return!==null&&(as(e,1),zf(e,1,0))}function ho(e){for(;e===pi;)pi=Fs[--Qs],Fs[Qs]=null,gi=Fs[--Qs],Fs[Qs]=null;for(;e===ts;)ts=ua[--da],ua[da]=null,Ga=ua[--da],ua[da]=null,Xa=ua[--da],ua[da]=null}var Ut=null,Et=null,Ie=!1,Ea=null,Ma=!1,mo=Error(i(519));function ns(e){var t=Error(i(418,""));throw $l(oa(t,e)),mo}function Mf(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[Rt]=e,t[Yt]=s,a){case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":case"embed":Le("load",t);break;case"video":case"audio":for(a=0;a<vr.length;a++)Le(vr[a],t);break;case"source":Le("error",t);break;case"img":case"image":case"link":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"input":Le("invalid",t),$d(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ni(t);break;case"select":Le("invalid",t);break;case"textarea":Le("invalid",t),Kd(t,s.value,s.defaultValue,s.children),ni(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Fm(t.textContent,a)?(s.popover!=null&&(Le("beforetoggle",t),Le("toggle",t)),s.onScroll!=null&&Le("scroll",t),s.onScrollEnd!=null&&Le("scrollend",t),s.onClick!=null&&(t.onclick=$i),t=!0):t=!1,t||ns(e)}function Lf(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 3:case 27:Ma=!0;return;case 5:case 13:Ma=!1;return;default:Ut=Ut.return}}function Xl(e){if(e!==Ut)return!1;if(!Ie)return Lf(e),Ie=!0,!1;var t=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Mu(e.type,e.memoizedProps)),a=!a),a&&(t=!0),t&&Et&&ns(e),Lf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Et=wa(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Et=null}}else Et=Ut?wa(e.stateNode.nextSibling):null;return!0}function Gl(){Et=Ut=null,Ie=!1}function $l(e){Ea===null?Ea=[e]:Ea.push(e)}var Zl=Error(i(460)),Uf=Error(i(474)),po={then:function(){}};function kf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yi(){}function If(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(yi,yi),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Zl?Error(i(483)):e;default:if(typeof t.status=="string")t.then(yi,yi);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Zl?Error(i(483)):e}throw Kl=t,Zl}}var Kl=null;function Bf(){if(Kl===null)throw Error(i(459));var e=Kl;return Kl=null,e}var Vs=null,Jl=0;function vi(e){var t=Jl;return Jl+=1,Vs===null&&(Vs=[]),If(Vs,e,t)}function Pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xi(e,t){throw t.$$typeof===f?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function qf(e){var t=e._init;return t(e._payload)}function Hf(e){function t(L,_){if(e){var B=L.deletions;B===null?(L.deletions=[_],L.flags|=16):B.push(_)}}function a(L,_){if(!e)return null;for(;_!==null;)t(L,_),_=_.sibling;return null}function s(L){for(var _=new Map;L!==null;)L.key!==null?_.set(L.key,L):_.set(L.index,L),L=L.sibling;return _}function o(L,_){return L=On(L,_),L.index=0,L.sibling=null,L}function d(L,_,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<_?(L.flags|=33554434,_):B):(L.flags|=33554434,_)):(L.flags|=1048576,_)}function g(L){return e&&L.alternate===null&&(L.flags|=33554434),L}function j(L,_,B,P){return _===null||_.tag!==6?(_=ou(B,L.mode,P),_.return=L,_):(_=o(_,B),_.return=L,_)}function w(L,_,B,P){var me=B.type;return me===y?J(L,_,B.props.children,P,B.key):_!==null&&(_.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&qf(me)===_.type)?(_=o(_,B.props),Pl(_,B),_.return=L,_):(_=ki(B.type,B.key,B.props,null,L.mode,P),Pl(_,B),_.return=L,_)}function z(L,_,B,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==B.containerInfo||_.stateNode.implementation!==B.implementation?(_=uu(B,L.mode,P),_.return=L,_):(_=o(_,B.children||[]),_.return=L,_)}function J(L,_,B,P,me){return _===null||_.tag!==7?(_=hs(B,L.mode,P,me),_.return=L,_):(_=o(_,B),_.return=L,_)}function ee(L,_,B){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=ou(""+_,L.mode,B),_.return=L,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case h:return B=ki(_.type,_.key,_.props,null,L.mode,B),Pl(B,_),B.return=L,B;case p:return _=uu(_,L.mode,B),_.return=L,_;case R:var P=_._init;return _=P(_._payload),ee(L,_,B)}if(k(_)||Q(_))return _=hs(_,L.mode,B,null),_.return=L,_;if(typeof _.then=="function")return ee(L,vi(_),B);if(_.$$typeof===O)return ee(L,Mi(L,_),B);xi(L,_)}return null}function q(L,_,B,P){var me=_!==null?_.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:j(L,_,""+B,P);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===me?w(L,_,B,P):null;case p:return B.key===me?z(L,_,B,P):null;case R:return me=B._init,B=me(B._payload),q(L,_,B,P)}if(k(B)||Q(B))return me!==null?null:J(L,_,B,P,null);if(typeof B.then=="function")return q(L,_,vi(B),P);if(B.$$typeof===O)return q(L,_,Mi(L,B),P);xi(L,B)}return null}function K(L,_,B,P,me){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return L=L.get(B)||null,j(_,L,""+P,me);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return L=L.get(P.key===null?B:P.key)||null,w(_,L,P,me);case p:return L=L.get(P.key===null?B:P.key)||null,z(_,L,P,me);case R:var Oe=P._init;return P=Oe(P._payload),K(L,_,B,P,me)}if(k(P)||Q(P))return L=L.get(B)||null,J(_,L,P,me,null);if(typeof P.then=="function")return K(L,_,B,vi(P),me);if(P.$$typeof===O)return K(L,_,B,Mi(_,P),me);xi(_,P)}return null}function ge(L,_,B,P){for(var me=null,Oe=null,ve=_,be=_=0,jt=null;ve!==null&&be<B.length;be++){ve.index>be?(jt=ve,ve=null):jt=ve.sibling;var Be=q(L,ve,B[be],P);if(Be===null){ve===null&&(ve=jt);break}e&&ve&&Be.alternate===null&&t(L,ve),_=d(Be,_,be),Oe===null?me=Be:Oe.sibling=Be,Oe=Be,ve=jt}if(be===B.length)return a(L,ve),Ie&&as(L,be),me;if(ve===null){for(;be<B.length;be++)ve=ee(L,B[be],P),ve!==null&&(_=d(ve,_,be),Oe===null?me=ve:Oe.sibling=ve,Oe=ve);return Ie&&as(L,be),me}for(ve=s(ve);be<B.length;be++)jt=K(ve,L,be,B[be],P),jt!==null&&(e&&jt.alternate!==null&&ve.delete(jt.key===null?be:jt.key),_=d(jt,_,be),Oe===null?me=jt:Oe.sibling=jt,Oe=jt);return e&&ve.forEach(function(Un){return t(L,Un)}),Ie&&as(L,be),me}function Ee(L,_,B,P){if(B==null)throw Error(i(151));for(var me=null,Oe=null,ve=_,be=_=0,jt=null,Be=B.next();ve!==null&&!Be.done;be++,Be=B.next()){ve.index>be?(jt=ve,ve=null):jt=ve.sibling;var Un=q(L,ve,Be.value,P);if(Un===null){ve===null&&(ve=jt);break}e&&ve&&Un.alternate===null&&t(L,ve),_=d(Un,_,be),Oe===null?me=Un:Oe.sibling=Un,Oe=Un,ve=jt}if(Be.done)return a(L,ve),Ie&&as(L,be),me;if(ve===null){for(;!Be.done;be++,Be=B.next())Be=ee(L,Be.value,P),Be!==null&&(_=d(Be,_,be),Oe===null?me=Be:Oe.sibling=Be,Oe=Be);return Ie&&as(L,be),me}for(ve=s(ve);!Be.done;be++,Be=B.next())Be=K(ve,L,be,Be.value,P),Be!==null&&(e&&Be.alternate!==null&&ve.delete(Be.key===null?be:Be.key),_=d(Be,_,be),Oe===null?me=Be:Oe.sibling=Be,Oe=Be);return e&&ve.forEach(function(Ux){return t(L,Ux)}),Ie&&as(L,be),me}function nt(L,_,B,P){if(typeof B=="object"&&B!==null&&B.type===y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case h:e:{for(var me=B.key;_!==null;){if(_.key===me){if(me=B.type,me===y){if(_.tag===7){a(L,_.sibling),P=o(_,B.props.children),P.return=L,L=P;break e}}else if(_.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&qf(me)===_.type){a(L,_.sibling),P=o(_,B.props),Pl(P,B),P.return=L,L=P;break e}a(L,_);break}else t(L,_);_=_.sibling}B.type===y?(P=hs(B.props.children,L.mode,P,B.key),P.return=L,L=P):(P=ki(B.type,B.key,B.props,null,L.mode,P),Pl(P,B),P.return=L,L=P)}return g(L);case p:e:{for(me=B.key;_!==null;){if(_.key===me)if(_.tag===4&&_.stateNode.containerInfo===B.containerInfo&&_.stateNode.implementation===B.implementation){a(L,_.sibling),P=o(_,B.children||[]),P.return=L,L=P;break e}else{a(L,_);break}else t(L,_);_=_.sibling}P=uu(B,L.mode,P),P.return=L,L=P}return g(L);case R:return me=B._init,B=me(B._payload),nt(L,_,B,P)}if(k(B))return ge(L,_,B,P);if(Q(B)){if(me=Q(B),typeof me!="function")throw Error(i(150));return B=me.call(B),Ee(L,_,B,P)}if(typeof B.then=="function")return nt(L,_,vi(B),P);if(B.$$typeof===O)return nt(L,_,Mi(L,B),P);xi(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,_!==null&&_.tag===6?(a(L,_.sibling),P=o(_,B),P.return=L,L=P):(a(L,_),P=ou(B,L.mode,P),P.return=L,L=P),g(L)):a(L,_)}return function(L,_,B,P){try{Jl=0;var me=nt(L,_,B,P);return Vs=null,me}catch(ve){if(ve===Zl)throw ve;var Oe=pa(29,ve,null,L.mode);return Oe.lanes=P,Oe.return=L,Oe}finally{}}}var ss=Hf(!0),Yf=Hf(!1),Xs=he(null),bi=he(0);function Ff(e,t){e=sn,de(bi,e),de(Xs,t),sn=e|t.baseLanes}function go(){de(bi,sn),de(Xs,Xs.current)}function yo(){sn=bi.current,ye(Xs),ye(bi)}var fa=he(null),La=null;function vn(e){var t=e.alternate;de(mt,mt.current&1),de(fa,e),La===null&&(t===null||Xs.current!==null||t.memoizedState!==null)&&(La=e)}function Qf(e){if(e.tag===22){if(de(mt,mt.current),de(fa,e),La===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(La=e)}}else xn()}function xn(){de(mt,mt.current),de(fa,fa.current)}function $a(e){ye(fa),La===e&&(La=null),ye(mt)}var mt=he(0);function ji(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ev=n.unstable_scheduleCallback,Tv=n.unstable_NormalPriority,pt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vo(){return{controller:new Nv,data:new Map,refCount:0}}function Wl(e){e.refCount--,e.refCount===0&&Ev(Tv,function(){e.controller.abort()})}var er=null,xo=0,Gs=0,$s=null;function wv(e,t){if(er===null){var a=er=[];xo=0,Gs=Tu(),$s={status:"pending",value:void 0,then:function(s){a.push(s)}}}return xo++,t.then(Vf,Vf),t}function Vf(){if(--xo===0&&er!==null){$s!==null&&($s.status="fulfilled");var e=er;er=null,Gs=0,$s=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Av(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Xf=W.S;W.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&wv(e,t),Xf!==null&&Xf(e,t)};var ls=he(null);function bo(){var e=ls.current;return e!==null?e:Xe.pooledCache}function Si(e,t){t===null?de(ls,ls.current):de(ls,t.pool)}function Gf(){var e=bo();return e===null?null:{parent:pt._currentValue,pool:e}}var bn=0,Ae=null,Fe=null,dt=null,Ni=!1,Zs=!1,rs=!1,Ei=0,tr=0,Ks=null,Cv=0;function lt(){throw Error(i(321))}function jo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Kt(e[a],t[a]))return!1;return!0}function So(e,t,a,s,o,d){return bn=d,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?is:jn,rs=!1,d=a(s,o),rs=!1,Zs&&(d=Zf(t,a,s,o)),$f(e),d}function $f(e){W.H=Ua;var t=Fe!==null&&Fe.next!==null;if(bn=0,dt=Fe=Ae=null,Ni=!1,tr=0,Ks=null,t)throw Error(i(300));e===null||xt||(e=e.dependencies,e!==null&&zi(e)&&(xt=!0))}function Zf(e,t,a,s){Ae=e;var o=0;do{if(Zs&&(Ks=null),tr=0,Zs=!1,25<=o)throw Error(i(301));if(o+=1,dt=Fe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=cs,d=t(a,s)}while(Zs);return d}function Ov(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?ar(t):t,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(Ae.flags|=1024),t}function No(){var e=Ei!==0;return Ei=0,e}function Eo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function To(e){if(Ni){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ni=!1}bn=0,dt=Fe=Ae=null,Zs=!1,tr=Ei=0,Ks=null}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ae.memoizedState=dt=e:dt=dt.next=e,dt}function ft(){if(Fe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var t=dt===null?Ae.memoizedState:dt.next;if(t!==null)dt=t,Fe=e;else{if(e===null)throw Ae.alternate===null?Error(i(467)):Error(i(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},dt===null?Ae.memoizedState=dt=e:dt=dt.next=e}return dt}var Ti;Ti=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ar(e){var t=tr;return tr+=1,Ks===null&&(Ks=[]),e=If(Ks,e,t),t=Ae,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?is:jn),e}function wi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ar(e);if(e.$$typeof===O)return Dt(e)}throw Error(i(438,String(e)))}function wo(e){var t=null,a=Ae.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ti(),Ae.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=I;return t.index++,a}function Za(e,t){return typeof t=="function"?t(e):t}function Ai(e){var t=ft();return Ao(t,Fe,e)}function Ao(e,t,a){var s=e.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=a;var o=e.baseQueue,d=s.pending;if(d!==null){if(o!==null){var g=o.next;o.next=d.next,d.next=g}t.baseQueue=o=d,s.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var j=g=null,w=null,z=t,J=!1;do{var ee=z.lane&-536870913;if(ee!==z.lane?(Ue&ee)===ee:(bn&ee)===ee){var q=z.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ee===Gs&&(J=!0);else if((bn&q)===q){z=z.next,q===Gs&&(J=!0);continue}else ee={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(j=w=ee,g=d):w=w.next=ee,Ae.lanes|=q,Rn|=q;ee=z.action,rs&&a(d,ee),d=z.hasEagerState?z.eagerState:a(d,ee)}else q={lane:ee,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(j=w=q,g=d):w=w.next=q,Ae.lanes|=ee,Rn|=ee;z=z.next}while(z!==null&&z!==t);if(w===null?g=d:w.next=j,!Kt(d,e.memoizedState)&&(xt=!0,J&&(a=$s,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=w,s.lastRenderedState=d}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Co(e){var t=ft(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var g=o=o.next;do d=e(d,g.action),g=g.next;while(g!==o);Kt(d,t.memoizedState)||(xt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,s]}function Kf(e,t,a){var s=Ae,o=ft(),d=Ie;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=t();var g=!Kt((Fe||o).memoizedState,a);if(g&&(o.memoizedState=a,xt=!0),o=o.queue,Do(Wf.bind(null,s,o,e),[e]),o.getSnapshot!==t||g||dt!==null&&dt.memoizedState.tag&1){if(s.flags|=2048,Js(9,Pf.bind(null,s,o,a,t),{destroy:void 0},null),Xe===null)throw Error(i(349));d||(bn&60)!==0||Jf(s,t,a)}return a}function Jf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ae.updateQueue,t===null?(t=Ti(),Ae.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Pf(e,t,a,s){t.value=a,t.getSnapshot=s,eh(t)&&th(e)}function Wf(e,t,a){return a(function(){eh(t)&&th(e)})}function eh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Kt(e,a)}catch{return!0}}function th(e){var t=yn(e,2);t!==null&&kt(t,e,2)}function Oo(e){var t=Qt();if(typeof e=="function"){var a=e;if(e=a(),rs){St(!0);try{a()}finally{St(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:e},t}function ah(e,t,a,s){return e.baseState=a,Ao(e,Fe,typeof s=="function"?s:Za)}function Rv(e,t,a,s,o){if(Ri(e))throw Error(i(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};W.T!==null?a(!0):d.isTransition=!1,s(d),a=t.pending,a===null?(d.next=t.pending=d,nh(t,d)):(d.next=a.next,t.pending=a.next=d)}}function nh(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var d=W.T,g={};W.T=g;try{var j=a(o,s),w=W.S;w!==null&&w(g,j),sh(e,t,j)}catch(z){Ro(e,t,z)}finally{W.T=d}}else try{d=a(o,s),sh(e,t,d)}catch(z){Ro(e,t,z)}}function sh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){lh(e,t,s)},function(s){return Ro(e,t,s)}):lh(e,t,a)}function lh(e,t,a){t.status="fulfilled",t.value=a,rh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,nh(e,a)))}function Ro(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,rh(t),t=t.next;while(t!==s)}e.action=null}function rh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ih(e,t){return t}function ch(e,t){if(Ie){var a=Xe.formState;if(a!==null){e:{var s=Ae;if(Ie){if(Et){t:{for(var o=Et,d=Ma;o.nodeType!==8;){if(!d){o=null;break t}if(o=wa(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Et=wa(o.nextSibling),s=o.data==="F!";break e}}ns(s)}s=!1}s&&(t=a[0])}}return a=Qt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:t},a.queue=s,a=wh.bind(null,Ae,s),s.dispatch=a,s=Oo(!1),d=Uo.bind(null,Ae,!1,s.queue),s=Qt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Rv.bind(null,Ae,o,d,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function oh(e){var t=ft();return uh(t,Fe,e)}function uh(e,t,a){t=Ao(e,t,ih)[0],e=Ai(Za)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?ar(t):t;var s=ft(),o=s.queue,d=o.dispatch;return a!==s.memoizedState&&(Ae.flags|=2048,Js(9,Dv.bind(null,o,a),{destroy:void 0},null)),[t,d,e]}function Dv(e,t){e.action=t}function dh(e){var t=ft(),a=Fe;if(a!==null)return uh(t,a,e);ft(),t=t.memoizedState,a=ft();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Js(e,t,a,s){return e={tag:e,create:t,inst:a,deps:s,next:null},t=Ae.updateQueue,t===null&&(t=Ti(),Ae.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function fh(){return ft().memoizedState}function Ci(e,t,a,s){var o=Qt();Ae.flags|=e,o.memoizedState=Js(1|t,a,{destroy:void 0},s===void 0?null:s)}function Oi(e,t,a,s){var o=ft();s=s===void 0?null:s;var d=o.memoizedState.inst;Fe!==null&&s!==null&&jo(s,Fe.memoizedState.deps)?o.memoizedState=Js(t,a,d,s):(Ae.flags|=e,o.memoizedState=Js(1|t,a,d,s))}function hh(e,t){Ci(8390656,8,e,t)}function Do(e,t){Oi(2048,8,e,t)}function mh(e,t){return Oi(4,2,e,t)}function ph(e,t){return Oi(4,4,e,t)}function gh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yh(e,t,a){a=a!=null?a.concat([e]):null,Oi(4,4,gh.bind(null,t,e),a)}function _o(){}function vh(e,t){var a=ft();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&jo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function xh(e,t){var a=ft();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&jo(t,s[1]))return s[0];if(s=e(),rs){St(!0);try{e()}finally{St(!1)}}return a.memoizedState=[s,t],s}function zo(e,t,a){return a===void 0||(bn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=jm(),Ae.lanes|=e,Rn|=e,a)}function bh(e,t,a,s){return Kt(a,t)?a:Xs.current!==null?(e=zo(e,a,s),Kt(e,t)||(xt=!0),e):(bn&42)===0?(xt=!0,e.memoizedState=a):(e=jm(),Ae.lanes|=e,Rn|=e,t)}function jh(e,t,a,s,o){var d=H.p;H.p=d!==0&&8>d?d:8;var g=W.T,j={};W.T=j,Uo(e,!1,t,a);try{var w=o(),z=W.S;if(z!==null&&z(j,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var J=Av(w,s);nr(e,t,J,ea(e))}else nr(e,t,s,ea(e))}catch(ee){nr(e,t,{then:function(){},status:"rejected",reason:ee},ea())}finally{H.p=d,W.T=g}}function _v(){}function Mo(e,t,a,s){if(e.tag!==5)throw Error(i(476));var o=Sh(e).queue;jh(e,o,t,re,a===null?_v:function(){return Nh(e),a(s)})}function Sh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:re},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Nh(e){var t=Sh(e).next.queue;nr(e,t,{},ea())}function Lo(){return Dt(Nr)}function Eh(){return ft().memoizedState}function Th(){return ft().memoizedState}function zv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ea();e=En(a);var s=Tn(t,e,a);s!==null&&(kt(s,t,a),rr(s,t,a)),t={cache:vo()},e.payload=t;return}t=t.return}}function Mv(e,t,a){var s=ea();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ri(e)?Ah(t,a):(a=uo(e,t,a,s),a!==null&&(kt(a,e,s),Ch(a,t,s)))}function wh(e,t,a){var s=ea();nr(e,t,a,s)}function nr(e,t,a,s){var o={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ri(e))Ah(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,j=d(g,a);if(o.hasEagerState=!0,o.eagerState=j,Kt(j,g))return hi(e,t,o,0),Xe===null&&fi(),!1}catch{}finally{}if(a=uo(e,t,o,s),a!==null)return kt(a,e,s),Ch(a,t,s),!0}return!1}function Uo(e,t,a,s){if(s={lane:2,revertLane:Tu(),action:s,hasEagerState:!1,eagerState:null,next:null},Ri(e)){if(t)throw Error(i(479))}else t=uo(e,a,s,2),t!==null&&kt(t,e,2)}function Ri(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Ah(e,t){Zs=Ni=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ch(e,t,a){if((a&4194176)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Id(e,a)}}var Ua={readContext:Dt,use:wi,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt};Ua.useCacheRefresh=lt,Ua.useMemoCache=lt,Ua.useHostTransitionStatus=lt,Ua.useFormState=lt,Ua.useActionState=lt,Ua.useOptimistic=lt;var is={readContext:Dt,use:wi,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:hh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ci(4194308,4,gh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ci(4194308,4,e,t)},useInsertionEffect:function(e,t){Ci(4,2,e,t)},useMemo:function(e,t){var a=Qt();t=t===void 0?null:t;var s=e();if(rs){St(!0);try{e()}finally{St(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Qt();if(a!==void 0){var o=a(t);if(rs){St(!0);try{a(t)}finally{St(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Mv.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:function(e){e=Oo(e);var t=e.queue,a=wh.bind(null,Ae,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:_o,useDeferredValue:function(e,t){var a=Qt();return zo(a,e,t)},useTransition:function(){var e=Oo(!1);return e=jh.bind(null,Ae,e.queue,!0,!1),Qt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Ae,o=Qt();if(Ie){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Xe===null)throw Error(i(349));(Ue&60)!==0||Jf(s,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,hh(Wf.bind(null,s,d,e),[e]),s.flags|=2048,Js(9,Pf.bind(null,s,d,a,t),{destroy:void 0},null),a},useId:function(){var e=Qt(),t=Xe.identifierPrefix;if(Ie){var a=Ga,s=Xa;a=(s&~(1<<32-Nt(s)-1)).toString(32)+a,t=":"+t+"R"+a,a=Ei++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Cv++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Qt().memoizedState=zv.bind(null,Ae)}};is.useMemoCache=wo,is.useHostTransitionStatus=Lo,is.useFormState=ch,is.useActionState=ch,is.useOptimistic=function(e){var t=Qt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Uo.bind(null,Ae,!0,a),a.dispatch=t,[e,t]};var jn={readContext:Dt,use:wi,useCallback:vh,useContext:Dt,useEffect:Do,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:ph,useMemo:xh,useReducer:Ai,useRef:fh,useState:function(){return Ai(Za)},useDebugValue:_o,useDeferredValue:function(e,t){var a=ft();return bh(a,Fe.memoizedState,e,t)},useTransition:function(){var e=Ai(Za)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:ar(e),t]},useSyncExternalStore:Kf,useId:Eh};jn.useCacheRefresh=Th,jn.useMemoCache=wo,jn.useHostTransitionStatus=Lo,jn.useFormState=oh,jn.useActionState=oh,jn.useOptimistic=function(e,t){var a=ft();return ah(a,Fe,e,t)};var cs={readContext:Dt,use:wi,useCallback:vh,useContext:Dt,useEffect:Do,useImperativeHandle:yh,useInsertionEffect:mh,useLayoutEffect:ph,useMemo:xh,useReducer:Co,useRef:fh,useState:function(){return Co(Za)},useDebugValue:_o,useDeferredValue:function(e,t){var a=ft();return Fe===null?zo(a,e,t):bh(a,Fe.memoizedState,e,t)},useTransition:function(){var e=Co(Za)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:ar(e),t]},useSyncExternalStore:Kf,useId:Eh};cs.useCacheRefresh=Th,cs.useMemoCache=wo,cs.useHostTransitionStatus=Lo,cs.useFormState=dh,cs.useActionState=dh,cs.useOptimistic=function(e,t){var a=ft();return Fe!==null?ah(a,Fe,e,t):(a.baseState=e,[e,a.queue.dispatch])};function ko(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:X({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Io={isMounted:function(e){return(e=e._reactInternals)?ae(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ea(),o=En(s);o.payload=t,a!=null&&(o.callback=a),t=Tn(e,o,s),t!==null&&(kt(t,e,s),rr(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ea(),o=En(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Tn(e,o,s),t!==null&&(kt(t,e,s),rr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ea(),s=En(a);s.tag=2,t!=null&&(s.callback=t),t=Tn(e,s,a),t!==null&&(kt(t,e,a),rr(t,e,a))}};function Oh(e,t,a,s,o,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,g):t.prototype&&t.prototype.isPureReactComponent?!Ql(a,s)||!Ql(o,d):!0}function Rh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function os(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=X({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var Di=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Dh(e){Di(e)}function _h(e){console.error(e)}function zh(e){Di(e)}function _i(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Mh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,a){return a=En(a),a.tag=3,a.payload={element:null},a.callback=function(){_i(e,t)},a}function Lh(e){return e=En(e),e.tag=3,e}function Uh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=s.value;e.payload=function(){return o(d)},e.callback=function(){Mh(t,a,s)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Mh(t,a,s),typeof o!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})})}function Lv(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&lr(t,a,o,!0),a=fa.current,a!==null){switch(a.tag){case 13:return La===null?bu():a.alternate===null&&at===0&&(at=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===po?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Su(e,s,o)),!1;case 22:return a.flags|=65536,s===po?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Su(e,s,o)),!1}throw Error(i(435,a.tag))}return Su(e,s,o),bu(),!1}if(Ie)return t=fa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==mo&&(e=Error(i(422),{cause:s}),$l(oa(e,a)))):(s!==mo&&(t=Error(i(423),{cause:s}),$l(oa(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=oa(s,a),o=Bo(e.stateNode,s,o),eu(e,o),at!==4&&(at=2)),!1;var d=Error(i(520),{cause:s});if(d=oa(d,a),mr===null?mr=[d]:mr.push(d),at!==4&&(at=2),t===null)return!0;s=oa(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Bo(a.stateNode,s,e),eu(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Dn===null||!Dn.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Lh(o),Uh(o,e,a,s),eu(a,o),!1}a=a.return}while(a!==null);return!1}var kh=Error(i(461)),xt=!1;function Tt(e,t,a,s){t.child=e===null?Yf(t,null,a,s):ss(t,e.child,a,s)}function Ih(e,t,a,s,o){a=a.render;var d=t.ref;if("ref"in s){var g={};for(var j in s)j!=="ref"&&(g[j]=s[j])}else g=s;return ds(t),s=So(e,t,a,g,d,o),j=No(),e!==null&&!xt?(Eo(e,t,o),Ka(e,t,o)):(Ie&&j&&fo(t),t.flags|=1,Tt(e,t,s,o),t.child)}function Bh(e,t,a,s,o){if(e===null){var d=a.type;return typeof d=="function"&&!cu(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,qh(e,t,d,s,o)):(e=ki(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!$o(e,o)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ql,a(g,s)&&e.ref===t.ref)return Ka(e,t,o)}return t.flags|=1,e=On(d,s),e.ref=t.ref,e.return=t,t.child=e}function qh(e,t,a,s,o){if(e!==null){var d=e.memoizedProps;if(Ql(d,s)&&e.ref===t.ref)if(xt=!1,t.pendingProps=s=d,$o(e,o))(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,Ka(e,t,o)}return qo(e,t,a,s,o)}function Hh(e,t,a){var s=t.pendingProps,o=s.children,d=(t.stateNode._pendingVisibility&2)!==0,g=e!==null?e.memoizedState:null;if(sr(e,t),s.mode==="hidden"||d){if((t.flags&128)!==0){if(s=g!==null?g.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~s}else t.childLanes=0,t.child=null;return Yh(e,t,s,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Si(t,g!==null?g.cachePool:null),g!==null?Ff(t,g):go(),Qf(t);else return t.lanes=t.childLanes=536870912,Yh(e,t,g!==null?g.baseLanes|a:a,a)}else g!==null?(Si(t,g.cachePool),Ff(t,g),xn(),t.memoizedState=null):(e!==null&&Si(t,null),go(),xn());return Tt(e,t,o,a),t.child}function Yh(e,t,a,s){var o=bo();return o=o===null?null:{parent:pt._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&Si(t,null),go(),Qf(t),e!==null&&lr(e,t,s,!0),null}function sr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=2097664)}}function qo(e,t,a,s,o){return ds(t),a=So(e,t,a,s,void 0,o),s=No(),e!==null&&!xt?(Eo(e,t,o),Ka(e,t,o)):(Ie&&s&&fo(t),t.flags|=1,Tt(e,t,a,o),t.child)}function Fh(e,t,a,s,o,d){return ds(t),t.updateQueue=null,a=Zf(t,s,a,o),$f(e),s=No(),e!==null&&!xt?(Eo(e,t,d),Ka(e,t,d)):(Ie&&s&&fo(t),t.flags|=1,Tt(e,t,a,d),t.child)}function Qh(e,t,a,s,o){if(ds(t),t.stateNode===null){var d=Ys,g=a.contextType;typeof g=="object"&&g!==null&&(d=Dt(g)),d=new a(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Io,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Po(t),g=a.contextType,d.context=typeof g=="object"&&g!==null?Dt(g):Ys,d.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(ko(t,a,g,s),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Io.enqueueReplaceState(d,d.state,null),cr(t,s,d,o),ir(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var j=t.memoizedProps,w=os(a,j);d.props=w;var z=d.context,J=a.contextType;g=Ys,typeof J=="object"&&J!==null&&(g=Dt(J));var ee=a.getDerivedStateFromProps;J=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",j=t.pendingProps!==j,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(j||z!==g)&&Rh(t,d,s,g),Nn=!1;var q=t.memoizedState;d.state=q,cr(t,s,d,o),ir(),z=t.memoizedState,j||q!==z||Nn?(typeof ee=="function"&&(ko(t,a,ee,s),z=t.memoizedState),(w=Nn||Oh(t,a,w,s,q,z,g))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=z),d.props=s,d.state=z,d.context=g,s=w):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Wo(e,t),g=t.memoizedProps,J=os(a,g),d.props=J,ee=t.pendingProps,q=d.context,z=a.contextType,w=Ys,typeof z=="object"&&z!==null&&(w=Dt(z)),j=a.getDerivedStateFromProps,(z=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==ee||q!==w)&&Rh(t,d,s,w),Nn=!1,q=t.memoizedState,d.state=q,cr(t,s,d,o),ir();var K=t.memoizedState;g!==ee||q!==K||Nn||e!==null&&e.dependencies!==null&&zi(e.dependencies)?(typeof j=="function"&&(ko(t,a,j,s),K=t.memoizedState),(J=Nn||Oh(t,a,J,s,q,K,w)||e!==null&&e.dependencies!==null&&zi(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,K,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,K,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=K),d.props=s,d.state=K,d.context=w,s=J):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,sr(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=ss(t,e.child,null,o),t.child=ss(t,null,a,o)):Tt(e,t,a,o),t.memoizedState=d.state,e=t.child):e=Ka(e,t,o),e}function Vh(e,t,a,s){return Gl(),t.flags|=256,Tt(e,t,a,s),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Yo(e){return{baseLanes:e,cachePool:Gf()}}function Fo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ga),e}function Xh(e,t,a){var s=t.pendingProps,o=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ie){if(o?vn(t):xn(),Ie){var j=Et,w;if(w=j){e:{for(w=j,j=Ma;w.nodeType!==8;){if(!j){j=null;break e}if(w=wa(w.nextSibling),w===null){j=null;break e}}j=w}j!==null?(t.memoizedState={dehydrated:j,treeContext:ts!==null?{id:Xa,overflow:Ga}:null,retryLane:536870912},w=pa(18,null,null,0),w.stateNode=j,w.return=t,t.child=w,Ut=t,Et=null,w=!0):w=!1}w||ns(t)}if(j=t.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return j.data==="$!"?t.lanes=16:t.lanes=536870912,null;$a(t)}return j=s.children,s=s.fallback,o?(xn(),o=t.mode,j=Vo({mode:"hidden",children:j},o),s=hs(s,o,a,null),j.return=t,s.return=t,j.sibling=s,t.child=j,o=t.child,o.memoizedState=Yo(a),o.childLanes=Fo(e,g,a),t.memoizedState=Ho,s):(vn(t),Qo(t,j))}if(w=e.memoizedState,w!==null&&(j=w.dehydrated,j!==null)){if(d)t.flags&256?(vn(t),t.flags&=-257,t=Xo(e,t,a)):t.memoizedState!==null?(xn(),t.child=e.child,t.flags|=128,t=null):(xn(),o=s.fallback,j=t.mode,s=Vo({mode:"visible",children:s.children},j),o=hs(o,j,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,ss(t,e.child,null,a),s=t.child,s.memoizedState=Yo(a),s.childLanes=Fo(e,g,a),t.memoizedState=Ho,t=o);else if(vn(t),j.data==="$!"){if(g=j.nextSibling&&j.nextSibling.dataset,g)var z=g.dgst;g=z,s=Error(i(419)),s.stack="",s.digest=g,$l({value:s,source:null,stack:null}),t=Xo(e,t,a)}else if(xt||lr(e,t,a,!1),g=(a&e.childLanes)!==0,xt||g){if(g=Xe,g!==null){if(s=a&-a,(s&42)!==0)s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=64;break;case 268435456:s=134217728;break;default:s=0}if(s=(s&(g.suspendedLanes|a))!==0?0:s,s!==0&&s!==w.retryLane)throw w.retryLane=s,yn(e,s),kt(g,e,s),kh}j.data==="$?"||bu(),t=Xo(e,t,a)}else j.data==="$?"?(t.flags|=128,t.child=e.child,t=Kv.bind(null,e),j._reactRetry=t,t=null):(e=w.treeContext,Et=wa(j.nextSibling),Ut=t,Ie=!0,Ea=null,Ma=!1,e!==null&&(ua[da++]=Xa,ua[da++]=Ga,ua[da++]=ts,Xa=e.id,Ga=e.overflow,ts=t),t=Qo(t,s.children),t.flags|=4096);return t}return o?(xn(),o=s.fallback,j=t.mode,w=e.child,z=w.sibling,s=On(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&31457280,z!==null?o=On(z,o):(o=hs(o,j,a,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,j=e.child.memoizedState,j===null?j=Yo(a):(w=j.cachePool,w!==null?(z=pt._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Gf(),j={baseLanes:j.baseLanes|a,cachePool:w}),o.memoizedState=j,o.childLanes=Fo(e,g,a),t.memoizedState=Ho,s):(vn(t),a=e.child,e=a.sibling,a=On(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function Qo(e,t){return t=Vo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vo(e,t){return vm(e,t,0,null)}function Xo(e,t,a){return ss(t,e.child,null,a),e=Qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ko(e.return,t,a)}function Go(e,t,a,s,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=a,d.tailMode=o)}function $h(e,t,a){var s=t.pendingProps,o=s.revealOrder,d=s.tail;if(Tt(e,t,s.children,a),s=mt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gh(e,a,t);else if(e.tag===19)Gh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(de(mt,s),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&ji(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Go(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&ji(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Go(t,!0,a,null,d);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Rn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(lr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=On(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=On(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function $o(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&zi(e)))}function Uv(e,t,a){switch(t.tag){case 3:Ct(t,t.stateNode.containerInfo),Sn(t,pt,e.memoizedState.cache),Gl();break;case 27:case 5:He(t);break;case 4:Ct(t,t.stateNode.containerInfo);break;case 10:Sn(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(vn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Xh(e,t,a):(vn(t),e=Ka(e,t,a),e!==null?e.sibling:null);vn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(lr(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return $h(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),de(mt,mt.current),s)break;return null;case 22:case 23:return t.lanes=0,Hh(e,t,a);case 24:Sn(t,pt,e.memoizedState.cache)}return Ka(e,t,a)}function Zh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)xt=!0;else{if(!$o(e,a)&&(t.flags&128)===0)return xt=!1,Uv(e,t,a);xt=(e.flags&131072)!==0}else xt=!1,Ie&&(t.flags&1048576)!==0&&zf(t,gi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,o=s._init;if(s=o(s._payload),t.type=s,typeof s=="function")cu(s)?(e=os(s,e),t.tag=1,t=Qh(null,t,s,e,a)):(t.tag=0,t=qo(null,t,s,e,a));else{if(s!=null){if(o=s.$$typeof,o===N){t.tag=11,t=Ih(null,t,s,e,a);break e}else if(o===C){t.tag=14,t=Bh(null,t,s,e,a);break e}}throw t=oe(s)||s,Error(i(306,t,""))}}return t;case 0:return qo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=os(s,t.pendingProps),Qh(e,t,s,o,a);case 3:e:{if(Ct(t,t.stateNode.containerInfo),e===null)throw Error(i(387));var d=t.pendingProps;o=t.memoizedState,s=o.element,Wo(e,t),cr(t,d,null,a);var g=t.memoizedState;if(d=g.cache,Sn(t,pt,d),d!==o.cache&&Jo(t,[pt],a,!0),ir(),d=g.element,o.isDehydrated)if(o={element:d,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Vh(e,t,d,a);break e}else if(d!==s){s=oa(Error(i(424)),t),$l(s),t=Vh(e,t,d,a);break e}else for(Et=wa(t.stateNode.containerInfo.firstChild),Ut=t,Ie=!0,Ea=null,Ma=!0,a=Yf(t,null,d,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Gl(),d===s){t=Ka(e,t,a);break e}Tt(e,t,d,a)}t=t.child}return t;case 26:return sr(e,t),e===null?(a=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ie||(a=t.type,e=t.pendingProps,s=Zi(ze.current).createElement(a),s[Rt]=t,s[Yt]=e,wt(s,a,e),vt(s),t.stateNode=s):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return He(t),e===null&&Ie&&(s=t.stateNode=Zm(t.type,t.pendingProps,ze.current),Ut=t,Ma=!0,Et=wa(s.firstChild)),s=t.pendingProps.children,e!==null||Ie?Tt(e,t,s,a):t.child=ss(t,null,s,a),sr(e,t),t.child;case 5:return e===null&&Ie&&((o=s=Et)&&(s=fx(s,t.type,t.pendingProps,Ma),s!==null?(t.stateNode=s,Ut=t,Et=wa(s.firstChild),Ma=!1,o=!0):o=!1),o||ns(t)),He(t),o=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,s=d.children,Mu(o,d)?s=null:g!==null&&Mu(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=So(e,t,Ov,null,null,a),Nr._currentValue=o),sr(e,t),Tt(e,t,s,a),t.child;case 6:return e===null&&Ie&&((e=a=Et)&&(a=hx(a,t.pendingProps,Ma),a!==null?(t.stateNode=a,Ut=t,Et=null,e=!0):e=!1),e||ns(t)),null;case 13:return Xh(e,t,a);case 4:return Ct(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ss(t,null,s,a):Tt(e,t,s,a),t.child;case 11:return Ih(e,t,t.type,t.pendingProps,a);case 7:return Tt(e,t,t.pendingProps,a),t.child;case 8:return Tt(e,t,t.pendingProps.children,a),t.child;case 12:return Tt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Sn(t,t.type,s.value),Tt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,ds(t),o=Dt(o),s=s(o),t.flags|=1,Tt(e,t,s,a),t.child;case 14:return Bh(e,t,t.type,t.pendingProps,a);case 15:return qh(e,t,t.type,t.pendingProps,a);case 19:return $h(e,t,a);case 22:return Hh(e,t,a);case 24:return ds(t),s=Dt(pt),e===null?(o=bo(),o===null&&(o=Xe,d=vo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:s,cache:o},Po(t),Sn(t,pt,o)):((e.lanes&a)!==0&&(Wo(e,t),cr(t,null,null,a),ir()),o=e.memoizedState,d=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Sn(t,pt,s)):(s=d.cache,Sn(t,pt,s),s!==o.cache&&Jo(t,[pt],a,!0))),Tt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var Zo=he(null),us=null,Ja=null;function Sn(e,t,a){de(Zo,t._currentValue),t._currentValue=a}function Pa(e){e._currentValue=Zo.current,ye(Zo)}function Ko(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Jo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var g=o.child;d=d.firstContext;e:for(;d!==null;){var j=d;d=o;for(var w=0;w<t.length;w++)if(j.context===t[w]){d.lanes|=a,j=d.alternate,j!==null&&(j.lanes|=a),Ko(d.return,a,e),s||(g=null);break e}d=j.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(i(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),Ko(g,a,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function lr(e,t,a,s){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var j=o.type;Kt(o.pendingProps.value,g.value)||(e!==null?e.push(j):e=[j])}}else if(o===qt.current){if(g=o.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Nr):e=[Nr])}o=o.return}e!==null&&Jo(t,e,a,s),t.flags|=262144}function zi(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){us=e,Ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return Kh(us,e)}function Mi(e,t){return us===null&&ds(e),Kh(e,t)}function Kh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ja===null){if(e===null)throw Error(i(308));Ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ja=Ja.next=t;return a}var Nn=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function En(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Je&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=mi(e),Df(e,null,a),t}return hi(e,s,t,a),mi(e)}function rr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194176)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Id(e,a)}}function eu(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var tu=!1;function ir(){if(tu){var e=$s;if(e!==null)throw e}}function cr(e,t,a,s){tu=!1;var o=e.updateQueue;Nn=!1;var d=o.firstBaseUpdate,g=o.lastBaseUpdate,j=o.shared.pending;if(j!==null){o.shared.pending=null;var w=j,z=w.next;w.next=null,g===null?d=z:g.next=z,g=w;var J=e.alternate;J!==null&&(J=J.updateQueue,j=J.lastBaseUpdate,j!==g&&(j===null?J.firstBaseUpdate=z:j.next=z,J.lastBaseUpdate=w))}if(d!==null){var ee=o.baseState;g=0,J=z=w=null,j=d;do{var q=j.lane&-536870913,K=q!==j.lane;if(K?(Ue&q)===q:(s&q)===q){q!==0&&q===Gs&&(tu=!0),J!==null&&(J=J.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ge=e,Ee=j;q=t;var nt=a;switch(Ee.tag){case 1:if(ge=Ee.payload,typeof ge=="function"){ee=ge.call(nt,ee,q);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ee.payload,q=typeof ge=="function"?ge.call(nt,ee,q):ge,q==null)break e;ee=X({},ee,q);break e;case 2:Nn=!0}}q=j.callback,q!==null&&(e.flags|=64,K&&(e.flags|=8192),K=o.callbacks,K===null?o.callbacks=[q]:K.push(q))}else K={lane:q,tag:j.tag,payload:j.payload,callback:j.callback,next:null},J===null?(z=J=K,w=ee):J=J.next=K,g|=q;if(j=j.next,j===null){if(j=o.shared.pending,j===null)break;K=j,j=K.next,K.next=null,o.lastBaseUpdate=K,o.shared.pending=null}}while(!0);J===null&&(w=ee),o.baseState=w,o.firstBaseUpdate=z,o.lastBaseUpdate=J,d===null&&(o.shared.lanes=0),Rn|=g,e.lanes=g,e.memoizedState=ee}}function Jh(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Ph(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jh(a[e],t)}function or(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var d=a.create,g=a.inst;s=d(),g.destroy=s}a=a.next}while(a!==o)}}catch(j){Ve(t,t.return,j)}}function wn(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&e)===e){var g=s.inst,j=g.destroy;if(j!==void 0){g.destroy=void 0,o=t;var w=a;try{j()}catch(z){Ve(o,w,z)}}}s=s.next}while(s!==d)}}catch(z){Ve(t,t.return,z)}}function Wh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ph(t,a)}catch(s){Ve(e,e.return,s)}}}function em(e,t,a){a.props=os(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ve(e,t,s)}}function fs(e,t){try{var a=e.ref;if(a!==null){var s=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=s;break;default:o=s}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(d){Ve(e,t,d)}}function Jt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ve(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ve(e,t,o)}else a.current=null}function tm(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ve(e,e.return,o)}}function am(e,t,a){try{var s=e.stateNode;ix(s,e.type,a,t),s[Yt]=t}catch(o){Ve(e,e.return,o)}}function nm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=$i));else if(s!==4&&s!==27&&(e=e.child,e!==null))for(nu(e,t,a),e=e.sibling;e!==null;)nu(e,t,a),e=e.sibling}function Li(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&s!==27&&(e=e.child,e!==null))for(Li(e,t,a),e=e.sibling;e!==null;)Li(e,t,a),e=e.sibling}var Wa=!1,tt=!1,su=!1,sm=typeof WeakSet=="function"?WeakSet:Set,bt=null,lm=!1;function kv(e,t){if(e=e.containerInfo,_u=tc,e=Sf(e),lo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,j=-1,w=-1,z=0,J=0,ee=e,q=null;t:for(;;){for(var K;ee!==a||o!==0&&ee.nodeType!==3||(j=g+o),ee!==d||s!==0&&ee.nodeType!==3||(w=g+s),ee.nodeType===3&&(g+=ee.nodeValue.length),(K=ee.firstChild)!==null;)q=ee,ee=K;for(;;){if(ee===e)break t;if(q===a&&++z===o&&(j=g),q===d&&++J===s&&(w=g),(K=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=K}a=j===-1||w===-1?null:{start:j,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(zu={focusedElem:e,selectionRange:a},tc=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var ge=os(a.type,o,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(ge,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(Ee){Ve(a,a.return,Ee)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)ku(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ku(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}return ge=lm,lm=!1,ge}function rm(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:tn(e,a),s&4&&or(5,a);break;case 1:if(tn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(j){Ve(a,a.return,j)}else{var o=os(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(j){Ve(a,a.return,j)}}s&64&&Wh(a),s&512&&fs(a,a.return);break;case 3:if(tn(e,a),s&64&&(s=a.updateQueue,s!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Ph(s,e)}catch(j){Ve(a,a.return,j)}}break;case 26:tn(e,a),s&512&&fs(a,a.return);break;case 27:case 5:tn(e,a),t===null&&s&4&&tm(a),s&512&&fs(a,a.return);break;case 12:tn(e,a);break;case 13:tn(e,a),s&4&&om(e,a);break;case 22:if(o=a.memoizedState!==null||Wa,!o){t=t!==null&&t.memoizedState!==null||tt;var d=Wa,g=tt;Wa=o,(tt=t)&&!g?An(e,a,(a.subtreeFlags&8772)!==0):tn(e,a),Wa=d,tt=g}s&512&&(a.memoizedProps.mode==="manual"?fs(a,a.return):Jt(a,a.return));break;default:tn(e,a)}}function im(e){var t=e.alternate;t!==null&&(e.alternate=null,im(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ht=null,Pt=!1;function en(e,t,a){for(a=a.child;a!==null;)cm(e,t,a),a=a.sibling}function cm(e,t,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(yt,a)}catch{}switch(a.tag){case 26:tt||Jt(a,t),en(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||Jt(a,t);var s=ht,o=Pt;for(ht=a.stateNode,en(e,t,a),a=a.stateNode,t=a.attributes;t.length;)a.removeAttributeNode(t[0]);Fc(a),ht=s,Pt=o;break;case 5:tt||Jt(a,t);case 6:o=ht;var d=Pt;if(ht=null,en(e,t,a),ht=o,Pt=d,ht!==null)if(Pt)try{e=ht,s=a.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)}catch(g){Ve(a,t,g)}else try{ht.removeChild(a.stateNode)}catch(g){Ve(a,t,g)}break;case 18:ht!==null&&(Pt?(t=ht,a=a.stateNode,t.nodeType===8?Uu(t.parentNode,a):t.nodeType===1&&Uu(t,a),Ar(t)):Uu(ht,a.stateNode));break;case 4:s=ht,o=Pt,ht=a.stateNode.containerInfo,Pt=!0,en(e,t,a),ht=s,Pt=o;break;case 0:case 11:case 14:case 15:tt||wn(2,a,t),tt||wn(4,a,t),en(e,t,a);break;case 1:tt||(Jt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&em(a,t,s)),en(e,t,a);break;case 21:en(e,t,a);break;case 22:tt||Jt(a,t),tt=(s=tt)||a.memoizedState!==null,en(e,t,a),tt=s;break;default:en(e,t,a)}}function om(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ar(e)}catch(a){Ve(t,t.return,a)}}function Iv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sm),t;default:throw Error(i(435,e.tag))}}function lu(e,t){var a=Iv(e);t.forEach(function(s){var o=Jv.bind(null,e,s);a.has(s)||(a.add(s),s.then(o,o))})}function ha(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],d=e,g=t,j=g;e:for(;j!==null;){switch(j.tag){case 27:case 5:ht=j.stateNode,Pt=!1;break e;case 3:ht=j.stateNode.containerInfo,Pt=!0;break e;case 4:ht=j.stateNode.containerInfo,Pt=!0;break e}j=j.return}if(ht===null)throw Error(i(160));cm(d,g,o),ht=null,Pt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)um(t,e),t=t.sibling}var Ta=null;function um(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ha(t,e),ma(e),s&4&&(wn(3,e,e.return),or(3,e),wn(5,e,e.return));break;case 1:ha(t,e),ma(e),s&512&&(tt||a===null||Jt(a,a.return)),s&64&&Wa&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Ta;if(ha(t,e),ma(e),s&512&&(tt||a===null||Jt(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Ll]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(s),o.head.insertBefore(d,o.querySelector("head > title"))),wt(d,s,a),d[Rt]=e,vt(d),s=d;break e;case"link":var g=tp("link","href",o).get(s+(a.href||""));if(g){for(var j=0;j<g.length;j++)if(d=g[j],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(j,1);break t}}d=o.createElement(s),wt(d,s,a),o.head.appendChild(d);break;case"meta":if(g=tp("meta","content",o).get(s+(a.content||""))){for(j=0;j<g.length;j++)if(d=g[j],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(j,1);break t}}d=o.createElement(s),wt(d,s,a),o.head.appendChild(d);break;default:throw Error(i(468,s))}d[Rt]=e,vt(d),s=d}e.stateNode=s}else ap(o,e.type,e.stateNode);else e.stateNode=ep(o,s,e.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?ap(o,e.type,e.stateNode):ep(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&am(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(s&4&&e.alternate===null){o=e.stateNode,d=e.memoizedProps;try{for(var w=o.firstChild;w;){var z=w.nextSibling,J=w.nodeName;w[Ll]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=z}for(var ee=e.type,q=o.attributes;q.length;)o.removeAttributeNode(q[0]);wt(o,ee,d),o[Rt]=e,o[Yt]=d}catch(ge){Ve(e,e.return,ge)}}case 5:if(ha(t,e),ma(e),s&512&&(tt||a===null||Jt(a,a.return)),e.flags&32){o=e.stateNode;try{Ls(o,"")}catch(ge){Ve(e,e.return,ge)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,am(e,o,a!==null?a.memoizedProps:o)),s&1024&&(su=!0);break;case 6:if(ha(t,e),ma(e),s&4){if(e.stateNode===null)throw Error(i(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ge){Ve(e,e.return,ge)}}break;case 3:if(Pi=null,o=Ta,Ta=Ki(t.containerInfo),ha(t,e),Ta=o,ma(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(ge){Ve(e,e.return,ge)}su&&(su=!1,dm(e));break;case 4:s=Ta,Ta=Ki(e.stateNode.containerInfo),ha(t,e),ma(e),Ta=s;break;case 12:ha(t,e),ma(e);break;case 13:ha(t,e),ma(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mu=Ye()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,lu(e,s)));break;case 22:if(s&512&&(tt||a===null||Jt(a,a.return)),w=e.memoizedState!==null,z=a!==null&&a.memoizedState!==null,J=Wa,ee=tt,Wa=J||w,tt=ee||z,ha(t,e),tt=ee,Wa=J,ma(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,s&8192&&(t._visibility=w?t._visibility&-2:t._visibility|1,w&&(t=Wa||tt,a===null||z||t||Ps(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(a=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(a===null){z=a=t;try{if(o=z.stateNode,w)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=z.stateNode,j=z.memoizedProps.style;var K=j!=null&&j.hasOwnProperty("display")?j.display:null;g.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ge){Ve(z,z.return,ge)}}}else if(t.tag===6){if(a===null){z=t;try{z.stateNode.nodeValue=w?"":z.memoizedProps}catch(ge){Ve(z,z.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,lu(e,a))));break;case 19:ha(t,e),ma(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,lu(e,s)));break;case 21:break;default:ha(t,e),ma(e)}}function ma(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var a=e.return;a!==null;){if(nm(a)){var s=a;break e}a=a.return}throw Error(i(160))}switch(s.tag){case 27:var o=s.stateNode,d=au(e);Li(e,d,o);break;case 5:var g=s.stateNode;s.flags&32&&(Ls(g,""),s.flags&=-33);var j=au(e);Li(e,j,g);break;case 3:case 4:var w=s.stateNode.containerInfo,z=au(e);nu(e,z,w);break;default:throw Error(i(161))}}}catch(J){Ve(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)rm(e,t.alternate,t),t=t.sibling}function Ps(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wn(4,t,t.return),Ps(t);break;case 1:Jt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&em(t,t.return,a),Ps(t);break;case 26:case 27:case 5:Jt(t,t.return),Ps(t);break;case 22:Jt(t,t.return),t.memoizedState===null&&Ps(t);break;default:Ps(t)}e=e.sibling}}function An(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:An(o,d,a),or(4,d);break;case 1:if(An(o,d,a),s=d,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(z){Ve(s,s.return,z)}if(s=d,o=s.updateQueue,o!==null){var j=s.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Jh(w[o],j)}catch(z){Ve(s,s.return,z)}}a&&g&64&&Wh(d),fs(d,d.return);break;case 26:case 27:case 5:An(o,d,a),a&&s===null&&g&4&&tm(d),fs(d,d.return);break;case 12:An(o,d,a);break;case 13:An(o,d,a),a&&g&4&&om(o,d);break;case 22:d.memoizedState===null&&An(o,d,a),fs(d,d.return);break;default:An(o,d,a)}t=t.sibling}}function ru(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Wl(a))}function iu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e))}function Cn(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fm(e,t,a,s),t=t.sibling}function fm(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Cn(e,t,a,s),o&2048&&or(9,t);break;case 3:Cn(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wl(e)));break;case 12:if(o&2048){Cn(e,t,a,s),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,j=d.onPostCommit;typeof j=="function"&&j(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ve(t,t.return,w)}}else Cn(e,t,a,s);break;case 23:break;case 22:d=t.stateNode,t.memoizedState!==null?d._visibility&4?Cn(e,t,a,s):ur(e,t):d._visibility&4?Cn(e,t,a,s):(d._visibility|=4,Ws(e,t,a,s,(t.subtreeFlags&10256)!==0)),o&2048&&ru(t.alternate,t);break;case 24:Cn(e,t,a,s),o&2048&&iu(t.alternate,t);break;default:Cn(e,t,a,s)}}function Ws(e,t,a,s,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,g=t,j=a,w=s,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(d,g,j,w,o),or(8,g);break;case 23:break;case 22:var J=g.stateNode;g.memoizedState!==null?J._visibility&4?Ws(d,g,j,w,o):ur(d,g):(J._visibility|=4,Ws(d,g,j,w,o)),o&&z&2048&&ru(g.alternate,g);break;case 24:Ws(d,g,j,w,o),o&&z&2048&&iu(g.alternate,g);break;default:Ws(d,g,j,w,o)}t=t.sibling}}function ur(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:ur(a,s),o&2048&&ru(s.alternate,s);break;case 24:ur(a,s),o&2048&&iu(s.alternate,s);break;default:ur(a,s)}t=t.sibling}}var dr=8192;function el(e){if(e.subtreeFlags&dr)for(e=e.child;e!==null;)hm(e),e=e.sibling}function hm(e){switch(e.tag){case 26:el(e),e.flags&dr&&e.memoizedState!==null&&wx(Ta,e.memoizedState,e.memoizedProps);break;case 5:el(e);break;case 3:case 4:var t=Ta;Ta=Ki(e.stateNode.containerInfo),el(e),Ta=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=dr,dr=16777216,el(e),dr=t):el(e));break;default:el(e)}}function mm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];bt=s,gm(s,e)}mm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pm(e),e=e.sibling}function pm(e){switch(e.tag){case 0:case 11:case 15:fr(e),e.flags&2048&&wn(9,e,e.return);break;case 3:fr(e);break;case 12:fr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Ui(e)):fr(e);break;default:fr(e)}}function Ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];bt=s,gm(s,e)}mm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wn(8,t,t.return),Ui(t);break;case 22:a=t.stateNode,a._visibility&4&&(a._visibility&=-5,Ui(t));break;default:Ui(t)}e=e.sibling}}function gm(e,t){for(;bt!==null;){var a=bt;switch(a.tag){case 0:case 11:case 15:wn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Wl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,bt=s;else e:for(a=e;bt!==null;){s=bt;var o=s.sibling,d=s.return;if(im(s),s===a){bt=null;break e}if(o!==null){o.return=d,bt=o;break e}bt=d}}}function Bv(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(e,t,a,s){return new Bv(e,t,a,s)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var a=e.alternate;return a===null?(a=pa(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ym(e,t){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ki(e,t,a,s,o,d){var g=0;if(s=e,typeof e=="function")cu(e)&&(g=1);else if(typeof e=="string")g=Ex(e,a,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case y:return hs(a.children,o,d,t);case m:g=8,o|=24;break;case v:return e=pa(12,a,t,o|2),e.elementType=v,e.lanes=d,e;case A:return e=pa(13,a,t,o),e.elementType=A,e.lanes=d,e;case T:return e=pa(19,a,t,o),e.elementType=T,e.lanes=d,e;case D:return vm(a,o,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:case O:g=10;break e;case E:g=9;break e;case N:g=11;break e;case C:g=14;break e;case R:g=16,s=null;break e}g=29,a=Error(i(130,e===null?"null":typeof e,"")),s=null}return t=pa(g,a,t,o),t.elementType=e,t.type=s,t.lanes=d,t}function hs(e,t,a,s){return e=pa(7,e,s,t),e.lanes=a,e}function vm(e,t,a,s){e=pa(22,e,s,t),e.elementType=D,e.lanes=a;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=o._current;if(d===null)throw Error(i(456));if((o._pendingVisibility&2)===0){var g=yn(d,2);g!==null&&(o._pendingVisibility|=2,kt(g,d,2))}},attach:function(){var d=o._current;if(d===null)throw Error(i(456));if((o._pendingVisibility&2)!==0){var g=yn(d,2);g!==null&&(o._pendingVisibility&=-3,kt(g,d,2))}}};return e.stateNode=o,e}function ou(e,t,a){return e=pa(6,e,null,t),e.lanes=a,e}function uu(e,t,a){return t=pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function an(e){e.flags|=4}function xm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!np(t)){if(t=fa.current,t!==null&&((Ue&4194176)===Ue?La!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||t!==La))throw Kl=po,Uf;e.flags|=8192}}function Ii(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ud():536870912,e.lanes|=t,al|=t)}function hr(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&31457280,s|=o.flags&31457280,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function qv(e,t,a){var s=t.pendingProps;switch(ho(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Pa(pt),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xl(t)?an(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ea!==null&&(vu(Ea),Ea=null))),Ke(t),null;case 26:return a=t.memoizedState,e===null?(an(t),a!==null?(Ke(t),xm(t,a)):(Ke(t),t.flags&=-16777217)):a?a!==e.memoizedState?(an(t),Ke(t),xm(t,a)):(Ke(t),t.flags&=-16777217):(e.memoizedProps!==s&&an(t),Ke(t),t.flags&=-16777217),null;case 27:$e(t),a=ze.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&an(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}e=se.current,Xl(t)?Mf(t):(e=Zm(o,s,a),t.stateNode=e,an(t))}return Ke(t),null;case 5:if($e(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&an(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}if(e=se.current,Xl(t))Mf(t);else{switch(o=Zi(ze.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?o.createElement(a,{is:s.is}):o.createElement(a)}}e[Rt]=t,e[Yt]=s;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(wt(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&an(t)}}return Ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&an(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(e=ze.current,Xl(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=Ut,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[Rt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Fm(e.nodeValue,a)),e||ns(t)}else e=Zi(e).createTextNode(s),e[Rt]=t,t.stateNode=e}return Ke(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Xl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[Rt]=t}else Gl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else Ea!==null&&(vu(Ea),Ea=null),o=!0;if(!o)return t.flags&256?($a(t),t):($a(t),null)}if($a(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool);var d=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ii(t,t.updateQueue),Ke(t),null;case 4:return je(),e===null&&Ou(t.stateNode.containerInfo),Ke(t),null;case 10:return Pa(t.type),Ke(t),null;case 19:if(ye(mt),o=t.memoizedState,o===null)return Ke(t),null;if(s=(t.flags&128)!==0,d=o.rendering,d===null)if(s)hr(o,!1);else{if(at!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ji(e),d!==null){for(t.flags|=128,hr(o,!1),e=d.updateQueue,t.updateQueue=e,Ii(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ym(a,e),a=a.sibling;return de(mt,mt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ye()>Bi&&(t.flags|=128,s=!0,hr(o,!1),t.lanes=4194304)}else{if(!s)if(e=ji(d),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Ii(t,e),hr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Ie)return Ke(t),null}else 2*Ye()-o.renderingStartTime>Bi&&a!==536870912&&(t.flags|=128,s=!0,hr(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,e=mt.current,de(mt,s?e&1|2:e&1),t):(Ke(t),null);case 22:case 23:return $a(t),yo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),a=t.updateQueue,a!==null&&Ii(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&ye(ls),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pa(pt),Ke(t),null;case 25:return null}throw Error(i(156,t.tag))}function Hv(e,t){switch(ho(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(pt),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $e(t),null;case 13:if($a(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(mt),null;case 4:return je(),null;case 10:return Pa(t.type),null;case 22:case 23:return $a(t),yo(),e!==null&&ye(ls),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pa(pt),null;case 25:return null;default:return null}}function bm(e,t){switch(ho(t),t.tag){case 3:Pa(pt),je();break;case 26:case 27:case 5:$e(t);break;case 4:je();break;case 13:$a(t);break;case 19:ye(mt);break;case 10:Pa(t.type);break;case 22:case 23:$a(t),yo(),e!==null&&ye(ls);break;case 24:Pa(pt)}}var Yv={getCacheForType:function(e){var t=Dt(pt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Fv=typeof WeakMap=="function"?WeakMap:Map,Je=0,Xe=null,De=null,Ue=0,Ge=0,Wt=null,nn=!1,tl=!1,du=!1,sn=0,at=0,Rn=0,ms=0,fu=0,ga=0,al=0,mr=null,ka=null,hu=!1,mu=0,Bi=1/0,qi=null,Dn=null,Hi=!1,ps=null,pr=0,pu=0,gu=null,gr=0,yu=null;function ea(){if((Je&2)!==0&&Ue!==0)return Ue&-Ue;if(W.T!==null){var e=Gs;return e!==0?e:Tu()}return qd()}function jm(){ga===0&&(ga=(Ue&536870912)===0||Ie?Ld():536870912);var e=fa.current;return e!==null&&(e.flags|=32),ga}function kt(e,t,a){(e===Xe&&Ge===2||e.cancelPendingCommit!==null)&&(nl(e,0),ln(e,Ue,ga,!1)),Ml(e,a),((Je&2)===0||e!==Xe)&&(e===Xe&&((Je&2)===0&&(ms|=a),at===4&&ln(e,Ue,ga,!1)),Ia(e))}function Sm(e,t,a){if((Je&6)!==0)throw Error(i(327));var s=!a&&(t&60)===0&&(t&e.expiredLanes)===0||zl(e,t),o=s?Xv(e,t):ju(e,t,!0),d=s;do{if(o===0){tl&&!s&&ln(e,t,0,!1);break}else if(o===6)ln(e,t,0,!nn);else{if(a=e.current.alternate,d&&!Qv(a)){o=ju(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var j=e;o=mr;var w=j.current.memoizedState.isDehydrated;if(w&&(nl(j,g).flags|=256),g=ju(j,g,!1),g!==2){if(du&&!w){j.errorRecoveryDisabledLanes|=d,ms|=d,o=4;break e}d=ka,ka=o,d!==null&&vu(d)}o=g}if(d=!1,o!==2)continue}}if(o===1){nl(e,0),ln(e,t,0,!0);break}e:{switch(s=e,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194176)===t){ln(s,t,ga,!nn);break e}break;case 2:ka=null;break;case 3:case 5:break;default:throw Error(i(329))}if(s.finishedWork=a,s.finishedLanes=t,(t&62914560)===t&&(d=mu+300-Ye(),10<d)){if(ln(s,t,ga,!nn),ei(s,0)!==0)break e;s.timeoutHandle=Xm(Nm.bind(null,s,a,ka,qi,hu,t,ga,ms,al,nn,2,-0,0),d);break e}Nm(s,a,ka,qi,hu,t,ga,ms,al,nn,0,-0,0)}}break}while(!0);Ia(e)}function vu(e){ka===null?ka=e:ka.push.apply(ka,e)}function Nm(e,t,a,s,o,d,g,j,w,z,J,ee,q){var K=t.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Sr={stylesheets:null,count:0,unsuspend:Tx},hm(t),t=Ax(),t!==null)){e.cancelPendingCommit=t(Rm.bind(null,e,a,s,o,g,j,w,1,ee,q)),ln(e,d,g,!z);return}Rm(e,a,s,o,g,j,w,J,ee,q)}function Qv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],d=o.getSnapshot;o=o.value;try{if(!Kt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t,a,s){t&=~fu,t&=~ms,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var d=31-Nt(o),g=1<<d;s[d]=-1,o&=~g}a!==0&&kd(e,a,t)}function Yi(){return(Je&6)===0?(yr(0),!1):!0}function xu(){if(De!==null){if(Ge===0)var e=De.return;else e=De,Ja=us=null,To(e),Vs=null,Jl=0,e=De;for(;e!==null;)bm(e.alternate,e),e=e.return;De=null}}function nl(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ox(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xu(),Xe=e,De=a=On(e.current,null),Ue=t,Ge=0,Wt=null,nn=!1,tl=zl(e,t),du=!1,al=ga=fu=ms=Rn=at=0,ka=mr=null,hu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Nt(s),d=1<<o;t|=e[o],s&=~d}return sn=t,fi(),a}function Em(e,t){Ae=null,W.H=Ua,t===Zl?(t=Bf(),Ge=3):t===Uf?(t=Bf(),Ge=4):Ge=t===kh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Wt=t,De===null&&(at=1,_i(e,oa(t,e.current)))}function Tm(){var e=W.H;return W.H=Ua,e===null?Ua:e}function wm(){var e=W.A;return W.A=Yv,e}function bu(){at=4,nn||(Ue&4194176)!==Ue&&fa.current!==null||(tl=!0),(Rn&134217727)===0&&(ms&134217727)===0||Xe===null||ln(Xe,Ue,ga,!1)}function ju(e,t,a){var s=Je;Je|=2;var o=Tm(),d=wm();(Xe!==e||Ue!==t)&&(qi=null,nl(e,t)),t=!1;var g=at;e:do try{if(Ge!==0&&De!==null){var j=De,w=Wt;switch(Ge){case 8:xu(),g=6;break e;case 3:case 2:case 6:fa.current===null&&(t=!0);var z=Ge;if(Ge=0,Wt=null,sl(e,j,w,z),a&&tl){g=0;break e}break;default:z=Ge,Ge=0,Wt=null,sl(e,j,w,z)}}Vv(),g=at;break}catch(J){Em(e,J)}while(!0);return t&&e.shellSuspendCounter++,Ja=us=null,Je=s,W.H=o,W.A=d,De===null&&(Xe=null,Ue=0,fi()),g}function Vv(){for(;De!==null;)Am(De)}function Xv(e,t){var a=Je;Je|=2;var s=Tm(),o=wm();Xe!==e||Ue!==t?(qi=null,Bi=Ye()+500,nl(e,t)):tl=zl(e,t);e:do try{if(Ge!==0&&De!==null){t=De;var d=Wt;t:switch(Ge){case 1:Ge=0,Wt=null,sl(e,t,d,1);break;case 2:if(kf(d)){Ge=0,Wt=null,Cm(t);break}t=function(){Ge===2&&Xe===e&&(Ge=7),Ia(e)},d.then(t,t);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:kf(d)?(Ge=0,Wt=null,Cm(t)):(Ge=0,Wt=null,sl(e,t,d,7));break;case 5:var g=null;switch(De.tag){case 26:g=De.memoizedState;case 5:case 27:var j=De;if(!g||np(g)){Ge=0,Wt=null;var w=j.sibling;if(w!==null)De=w;else{var z=j.return;z!==null?(De=z,Fi(z)):De=null}break t}}Ge=0,Wt=null,sl(e,t,d,5);break;case 6:Ge=0,Wt=null,sl(e,t,d,6);break;case 8:xu(),at=6;break e;default:throw Error(i(462))}}Gv();break}catch(J){Em(e,J)}while(!0);return Ja=us=null,W.H=s,W.A=o,Je=a,De!==null?0:(Xe=null,Ue=0,fi(),at)}function Gv(){for(;De!==null&&!za();)Am(De)}function Am(e){var t=Zh(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?Fi(e):De=t}function Cm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Fh(a,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=Fh(a,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:To(t);default:bm(a,t),t=De=ym(t,sn),t=Zh(a,t,sn)}e.memoizedProps=e.pendingProps,t===null?Fi(e):De=t}function sl(e,t,a,s){Ja=us=null,To(t),Vs=null,Jl=0;var o=t.return;try{if(Lv(e,o,t,a,Ue)){at=1,_i(e,oa(a,e.current)),De=null;return}}catch(d){if(o!==null)throw De=o,d;at=1,_i(e,oa(a,e.current)),De=null;return}t.flags&32768?(Ie||s===1?e=!0:tl||(Ue&536870912)!==0?e=!1:(nn=e=!0,(s===2||s===3||s===6)&&(s=fa.current,s!==null&&s.tag===13&&(s.flags|=16384))),Om(t,e)):Fi(t)}function Fi(e){var t=e;do{if((t.flags&32768)!==0){Om(t,nn);return}e=t.return;var a=qv(t.alternate,t,sn);if(a!==null){De=a;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);at===0&&(at=5)}function Om(e,t){do{var a=Hv(e.alternate,e);if(a!==null){a.flags&=32767,De=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){De=e;return}De=e=a}while(e!==null);at=6,De=null}function Rm(e,t,a,s,o,d,g,j,w,z){var J=W.T,ee=H.p;try{H.p=2,W.T=null,$v(e,t,a,s,ee,o,d,g,j,w,z)}finally{W.T=J,H.p=ee}}function $v(e,t,a,s,o,d,g,j){do ll();while(ps!==null);if((Je&6)!==0)throw Error(i(327));var w=e.finishedWork;if(s=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var z=w.lanes|w.childLanes;if(z|=oo,wy(e,s,z,d,g,j),e===Xe&&(De=Xe=null,Ue=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Hi||(Hi=!0,pu=z,gu=a,Pv(Ne,function(){return ll(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=W.T,W.T=null,d=H.p,H.p=2,g=Je,Je|=4,kv(e,w),um(w,e),vv(zu,e.containerInfo),tc=!!_u,zu=_u=null,e.current=w,rm(e,w.alternate,w),Ce(),Je=g,H.p=d,W.T=a):e.current=w,Hi?(Hi=!1,ps=e,pr=s):Dm(e,z),z=e.pendingLanes,z===0&&(Dn=null),Fa(w.stateNode),Ia(e),t!==null)for(o=e.onRecoverableError,w=0;w<t.length;w++)z=t[w],o(z.value,{componentStack:z.stack});return(pr&3)!==0&&ll(),z=e.pendingLanes,(s&4194218)!==0&&(z&42)!==0?e===yu?gr++:(gr=0,yu=e):gr=0,yr(0),null}function Dm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wl(t)))}function ll(){if(ps!==null){var e=ps,t=pu;pu=0;var a=Bd(pr),s=W.T,o=H.p;try{if(H.p=32>a?32:a,W.T=null,ps===null)var d=!1;else{a=gu,gu=null;var g=ps,j=pr;if(ps=null,pr=0,(Je&6)!==0)throw Error(i(331));var w=Je;if(Je|=4,pm(g.current),fm(g,g.current,j,a),Je=w,yr(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(yt,g)}catch{}d=!0}return d}finally{H.p=o,W.T=s,Dm(e,t)}}return!1}function _m(e,t,a){t=oa(a,t),t=Bo(e.stateNode,t,2),e=Tn(e,t,2),e!==null&&(Ml(e,2),Ia(e))}function Ve(e,t,a){if(e.tag===3)_m(e,e,a);else for(;t!==null;){if(t.tag===3){_m(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Dn===null||!Dn.has(s))){e=oa(a,e),a=Lh(2),s=Tn(t,a,2),s!==null&&(Uh(a,s,t,e),Ml(s,2),Ia(s));break}}t=t.return}}function Su(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Fv;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(du=!0,o.add(a),e=Zv.bind(null,e,t,a),t.then(e,e))}function Zv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xe===e&&(Ue&a)===a&&(at===4||at===3&&(Ue&62914560)===Ue&&300>Ye()-mu?(Je&2)===0&&nl(e,0):fu|=a,al===Ue&&(al=0)),Ia(e)}function zm(e,t){t===0&&(t=Ud()),e=yn(e,t),e!==null&&(Ml(e,t),Ia(e))}function Kv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),zm(e,a)}function Jv(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(t),zm(e,a)}function Pv(e,t){return Ot(e,t)}var Qi=null,rl=null,Nu=!1,Vi=!1,Eu=!1,gs=0;function Ia(e){e!==rl&&e.next===null&&(rl===null?Qi=rl=e:rl=rl.next=e),Vi=!0,Nu||(Nu=!0,ex(Wv))}function yr(e,t){if(!Eu&&Vi){Eu=!0;do for(var a=!1,s=Qi;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var d=0;else{var g=s.suspendedLanes,j=s.pingedLanes;d=(1<<31-Nt(42|e)+1)-1,d&=o&~(g&~j),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Um(s,d))}else d=Ue,d=ei(s,s===Xe?d:0),(d&3)===0||zl(s,d)||(a=!0,Um(s,d));s=s.next}while(a);Eu=!1}}function Wv(){Vi=Nu=!1;var e=0;gs!==0&&(cx()&&(e=gs),gs=0);for(var t=Ye(),a=null,s=Qi;s!==null;){var o=s.next,d=Mm(s,t);d===0?(s.next=null,a===null?Qi=o:a.next=o,o===null&&(rl=a)):(a=s,(e!==0||(d&3)!==0)&&(Vi=!0)),s=o}yr(e)}function Mm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-Nt(d),j=1<<g,w=o[g];w===-1?((j&a)===0||(j&s)!==0)&&(o[g]=Ty(j,t)):w<=t&&(e.expiredLanes|=j),d&=~j}if(t=Xe,a=Ue,a=ei(e,e===t?a:0),s=e.callbackNode,a===0||e===t&&Ge===2||e.cancelPendingCommit!==null)return s!==null&&s!==null&&sa(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&sa(s),Bd(a)){case 2:case 8:a=le;break;case 32:a=Ne;break;case 268435456:a=ut;break;default:a=Ne}return s=Lm.bind(null,e),a=Ot(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&sa(s),e.callbackPriority=2,e.callbackNode=null,2}function Lm(e,t){var a=e.callbackNode;if(ll()&&e.callbackNode!==a)return null;var s=Ue;return s=ei(e,e===Xe?s:0),s===0?null:(Sm(e,s,t),Mm(e,Ye()),e.callbackNode!=null&&e.callbackNode===a?Lm.bind(null,e):null)}function Um(e,t){if(ll())return null;Sm(e,t,!0)}function ex(e){ux(function(){(Je&6)!==0?Ot(la,e):e()})}function Tu(){return gs===0&&(gs=Ld()),gs}function km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:li(""+e)}function Im(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function tx(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var d=km((o[Yt]||null).action),g=s.submitter;g&&(t=(t=g[Yt]||null)?km(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var j=new oi("action","action",null,s,o);e.push({event:j,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(gs!==0){var w=g?Im(o,g):new FormData(o);Mo(a,{pending:!0,data:w,method:o.method,action:d},null,w)}}else typeof d=="function"&&(j.preventDefault(),w=g?Im(o,g):new FormData(o),Mo(a,{pending:!0,data:w,method:o.method,action:d},d,w))},currentTarget:o}]})}}for(var wu=0;wu<Rf.length;wu++){var Au=Rf[wu],ax=Au.toLowerCase(),nx=Au[0].toUpperCase()+Au.slice(1);Na(ax,"on"+nx)}Na(Tf,"onAnimationEnd"),Na(wf,"onAnimationIteration"),Na(Af,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(bv,"onTransitionRun"),Na(jv,"onTransitionStart"),Na(Sv,"onTransitionCancel"),Na(Cf,"onTransitionEnd"),zs("onMouseEnter",["mouseout","mouseover"]),zs("onMouseLeave",["mouseout","mouseover"]),zs("onPointerEnter",["pointerout","pointerover"]),zs("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vr));function Bm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var g=s.length-1;0<=g;g--){var j=s[g],w=j.instance,z=j.currentTarget;if(j=j.listener,w!==d&&o.isPropagationStopped())break e;d=j,o.currentTarget=z;try{d(o)}catch(J){Di(J)}o.currentTarget=null,d=w}else for(g=0;g<s.length;g++){if(j=s[g],w=j.instance,z=j.currentTarget,j=j.listener,w!==d&&o.isPropagationStopped())break e;d=j,o.currentTarget=z;try{d(o)}catch(J){Di(J)}o.currentTarget=null,d=w}}}}function Le(e,t){var a=t[Yc];a===void 0&&(a=t[Yc]=new Set);var s=e+"__bubble";a.has(s)||(qm(t,e,2,!1),a.add(s))}function Cu(e,t,a){var s=0;t&&(s|=4),qm(a,e,s,t)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function Ou(e){if(!e[Xi]){e[Xi]=!0,Yd.forEach(function(a){a!=="selectionchange"&&(sx.has(a)||Cu(a,!1,e),Cu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xi]||(t[Xi]=!0,Cu("selectionchange",!1,t))}}function qm(e,t,a,s){switch(op(t)){case 2:var o=Rx;break;case 8:o=Dx;break;default:o=Yu}a=o.bind(null,t,a,e),o=void 0,!Kc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Ru(e,t,a,s,o){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var j=s.stateNode.containerInfo;if(j===o||j.nodeType===8&&j.parentNode===o)break;if(g===4)for(g=s.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===o||w.nodeType===8&&w.parentNode===o))return;g=g.return}for(;j!==null;){if(g=Kn(j),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){s=d=g;continue e}j=j.parentNode}}s=s.return}ef(function(){var z=d,J=$c(a),ee=[];e:{var q=Of.get(e);if(q!==void 0){var K=oi,ge=e;switch(e){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":K=Jy;break;case"focusin":ge="focus",K=eo;break;case"focusout":ge="blur",K=eo;break;case"beforeblur":case"afterblur":K=eo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=By;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ev;break;case Tf:case wf:case Af:K=Yy;break;case Cf:K=av;break;case"scroll":case"scrollend":K=ky;break;case"wheel":K=sv;break;case"copy":case"cut":case"paste":K=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=lf;break;case"toggle":case"beforetoggle":K=rv}var Ee=(t&4)!==0,nt=!Ee&&(e==="scroll"||e==="scrollend"),L=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var _=z,B;_!==null;){var P=_;if(B=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||B===null||L===null||(P=kl(_,L),P!=null&&Ee.push(xr(_,P,B))),nt)break;_=_.return}0<Ee.length&&(q=new K(q,ge,null,a,J),ee.push({event:q,listeners:Ee}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",q&&a!==Gc&&(ge=a.relatedTarget||a.fromElement)&&(Kn(ge)||ge[Rs]))break e;if((K||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,K?(ge=a.relatedTarget||a.toElement,K=z,ge=ge?Kn(ge):null,ge!==null&&(nt=ae(ge),Ee=ge.tag,ge!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(ge=null)):(K=null,ge=z),K!==ge)){if(Ee=nf,P="onMouseLeave",L="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(Ee=lf,P="onPointerLeave",L="onPointerEnter",_="pointer"),nt=K==null?q:Ul(K),B=ge==null?q:Ul(ge),q=new Ee(P,_+"leave",K,a,J),q.target=nt,q.relatedTarget=B,P=null,Kn(J)===z&&(Ee=new Ee(L,_+"enter",ge,a,J),Ee.target=B,Ee.relatedTarget=nt,P=Ee),nt=P,K&&ge)t:{for(Ee=K,L=ge,_=0,B=Ee;B;B=il(B))_++;for(B=0,P=L;P;P=il(P))B++;for(;0<_-B;)Ee=il(Ee),_--;for(;0<B-_;)L=il(L),B--;for(;_--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=il(Ee),L=il(L)}Ee=null}else Ee=null;K!==null&&Hm(ee,q,K,Ee,!1),ge!==null&&nt!==null&&Hm(ee,nt,ge,Ee,!0)}}e:{if(q=z?Ul(z):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var me=mf;else if(ff(q))if(pf)me=gv;else{me=mv;var Oe=hv}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Xc(z.elementType)&&(me=mf):me=pv;if(me&&(me=me(e,z))){hf(ee,me,a,J);break e}Oe&&Oe(e,q,z),e==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Vc(q,"number",q.value)}switch(Oe=z?Ul(z):window,e){case"focusin":(ff(Oe)||Oe.contentEditable==="true")&&(Bs=Oe,ro=z,Vl=null);break;case"focusout":Vl=ro=Bs=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,Nf(ee,a,J);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":Nf(ee,a,J)}var ve;if(ao)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Is?uf(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(rf&&a.locale!=="ko"&&(Is||be!=="onCompositionStart"?be==="onCompositionEnd"&&Is&&(ve=tf()):(gn=J,Jc="value"in gn?gn.value:gn.textContent,Is=!0)),Oe=Gi(z,be),0<Oe.length&&(be=new sf(be,e,null,a,J),ee.push({event:be,listeners:Oe}),ve?be.data=ve:(ve=df(a),ve!==null&&(be.data=ve)))),(ve=cv?ov(e,a):uv(e,a))&&(be=Gi(z,"onBeforeInput"),0<be.length&&(Oe=new sf("onBeforeInput","beforeinput",null,a,J),ee.push({event:Oe,listeners:be}),Oe.data=ve)),tx(ee,e,z,a,J)}Bm(ee,t)})}function xr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Gi(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,d=o.stateNode;o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=kl(e,a),o!=null&&s.unshift(xr(e,o,d)),o=kl(e,t),o!=null&&s.push(xr(e,o,d))),e=e.return}return s}function il(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hm(e,t,a,s,o){for(var d=t._reactName,g=[];a!==null&&a!==s;){var j=a,w=j.alternate,z=j.stateNode;if(j=j.tag,w!==null&&w===s)break;j!==5&&j!==26&&j!==27||z===null||(w=z,o?(z=kl(a,d),z!=null&&g.unshift(xr(a,z,w))):o||(z=kl(a,d),z!=null&&g.push(xr(a,z,w)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var lx=/\r\n?/g,rx=/\u0000|\uFFFD/g;function Ym(e){return(typeof e=="string"?e:""+e).replace(lx,`
`).replace(rx,"")}function Fm(e,t){return t=Ym(t),Ym(e)===t}function $i(){}function Qe(e,t,a,s,o,d){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ls(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ls(e,""+s);break;case"className":ai(e,"class",s);break;case"tabIndex":ai(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(e,a,s);break;case"style":Pd(e,s,d);break;case"data":if(t!=="object"){ai(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=li(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Qe(e,t,"name",o.name,o,null),Qe(e,t,"formEncType",o.formEncType,o,null),Qe(e,t,"formMethod",o.formMethod,o,null),Qe(e,t,"formTarget",o.formTarget,o,null)):(Qe(e,t,"encType",o.encType,o,null),Qe(e,t,"method",o.method,o,null),Qe(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=li(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=$i);break;case"onScroll":s!=null&&Le("scroll",e);break;case"onScrollEnd":s!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=li(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Le("beforetoggle",e),Le("toggle",e),ti(e,"popover",s);break;case"xlinkActuate":Va(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Va(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Va(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Va(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Va(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Va(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Va(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ti(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ly.get(a)||a,ti(e,a,s))}}function Du(e,t,a,s,o,d){switch(a){case"style":Pd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Ls(e,s):(typeof s=="number"||typeof s=="bigint")&&Ls(e,""+s);break;case"onScroll":s!=null&&Le("scroll",e);break;case"onScrollEnd":s!=null&&Le("scrollend",e);break;case"onClick":s!=null&&(e.onclick=$i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof s=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):ti(e,a,s)}}}function wt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var s=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qe(e,t,d,g,a,null)}}o&&Qe(e,t,"srcSet",a.srcSet,a,null),s&&Qe(e,t,"src",a.src,a,null);return;case"input":Le("invalid",e);var j=d=g=o=null,w=null,z=null;for(s in a)if(a.hasOwnProperty(s)){var J=a[s];if(J!=null)switch(s){case"name":o=J;break;case"type":g=J;break;case"checked":w=J;break;case"defaultChecked":z=J;break;case"value":d=J;break;case"defaultValue":j=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,t));break;default:Qe(e,t,s,J,a,null)}}$d(e,d,j,w,z,g,o,!1),ni(e);return;case"select":Le("invalid",e),s=g=d=null;for(o in a)if(a.hasOwnProperty(o)&&(j=a[o],j!=null))switch(o){case"value":d=j;break;case"defaultValue":g=j;break;case"multiple":s=j;default:Qe(e,t,o,j,a,null)}t=d,a=g,e.multiple=!!s,t!=null?Ms(e,!!s,t,!1):a!=null&&Ms(e,!!s,a,!0);return;case"textarea":Le("invalid",e),d=o=s=null;for(g in a)if(a.hasOwnProperty(g)&&(j=a[g],j!=null))switch(g){case"value":s=j;break;case"defaultValue":o=j;break;case"children":d=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:Qe(e,t,g,j,a,null)}Kd(e,s,o,d),ni(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(s=a[w],s!=null))switch(w){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Qe(e,t,w,s,a,null)}return;case"dialog":Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(s=0;s<vr.length;s++)Le(vr[s],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(s=a[z],s!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qe(e,t,z,s,a,null)}return;default:if(Xc(t)){for(J in a)a.hasOwnProperty(J)&&(s=a[J],s!==void 0&&Du(e,t,J,s,a,void 0));return}}for(j in a)a.hasOwnProperty(j)&&(s=a[j],s!=null&&Qe(e,t,j,s,a,null))}function ix(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,g=null,j=null,w=null,z=null,J=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":w=ee;default:s.hasOwnProperty(K)||Qe(e,t,K,null,s,ee)}}for(var q in s){var K=s[q];if(ee=a[q],s.hasOwnProperty(q)&&(K!=null||ee!=null))switch(q){case"type":d=K;break;case"name":o=K;break;case"checked":z=K;break;case"defaultChecked":J=K;break;case"value":g=K;break;case"defaultValue":j=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,t));break;default:K!==ee&&Qe(e,t,q,K,s,ee)}}Qc(e,g,j,w,z,J,d,o);return;case"select":K=g=j=q=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":K=w;default:s.hasOwnProperty(d)||Qe(e,t,d,null,s,w)}for(o in s)if(d=s[o],w=a[o],s.hasOwnProperty(o)&&(d!=null||w!=null))switch(o){case"value":q=d;break;case"defaultValue":j=d;break;case"multiple":g=d;default:d!==w&&Qe(e,t,o,d,s,w)}t=j,a=g,s=K,q!=null?Ms(e,!!a,q,!1):!!s!=!!a&&(t!=null?Ms(e,!!a,t,!0):Ms(e,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(j in a)if(o=a[j],a.hasOwnProperty(j)&&o!=null&&!s.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Qe(e,t,j,null,s,o)}for(g in s)if(o=s[g],d=a[g],s.hasOwnProperty(g)&&(o!=null||d!=null))switch(g){case"value":q=o;break;case"defaultValue":K=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==d&&Qe(e,t,g,o,s,d)}Zd(e,q,K);return;case"option":for(var ge in a)if(q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!s.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:Qe(e,t,ge,null,s,q)}for(w in s)if(q=s[w],K=a[w],s.hasOwnProperty(w)&&q!==K&&(q!=null||K!=null))switch(w){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Qe(e,t,w,q,s,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!s.hasOwnProperty(Ee)&&Qe(e,t,Ee,null,s,q);for(z in s)if(q=s[z],K=a[z],s.hasOwnProperty(z)&&q!==K&&(q!=null||K!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,t));break;default:Qe(e,t,z,q,s,K)}return;default:if(Xc(t)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!s.hasOwnProperty(nt)&&Du(e,t,nt,void 0,s,q);for(J in s)q=s[J],K=a[J],!s.hasOwnProperty(J)||q===K||q===void 0&&K===void 0||Du(e,t,J,q,s,K);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!s.hasOwnProperty(L)&&Qe(e,t,L,null,s,q);for(ee in s)q=s[ee],K=a[ee],!s.hasOwnProperty(ee)||q===K||q==null&&K==null||Qe(e,t,ee,q,s,K)}var _u=null,zu=null;function Zi(e){return e.nodeType===9?e:e.ownerDocument}function Qm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Mu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lu=null;function cx(){var e=window.event;return e&&e.type==="popstate"?e===Lu?!1:(Lu=e,!0):(Lu=null,!1)}var Xm=typeof setTimeout=="function"?setTimeout:void 0,ox=typeof clearTimeout=="function"?clearTimeout:void 0,Gm=typeof Promise=="function"?Promise:void 0,ux=typeof queueMicrotask=="function"?queueMicrotask:typeof Gm<"u"?function(e){return Gm.resolve(null).then(e).catch(dx)}:Xm;function dx(e){setTimeout(function(){throw e})}function Uu(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(s===0){e.removeChild(o),Ar(t);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=o}while(a);Ar(t)}function ku(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ku(a),Fc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function fx(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ll])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=wa(e.nextSibling),e===null)break}return null}function hx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=wa(e.nextSibling),e===null))return null;return e}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function $m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Zm(e,t,a){switch(t=Zi(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}var ya=new Map,Km=new Set;function Ki(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var rn=H.d;H.d={f:mx,r:px,D:gx,C:yx,L:vx,m:xx,X:jx,S:bx,M:Sx};function mx(){var e=rn.f(),t=Yi();return e||t}function px(e){var t=Ds(e);t!==null&&t.tag===5&&t.type==="form"?Nh(t):rn.r(e)}var cl=typeof document>"u"?null:document;function Jm(e,t,a){var s=cl;if(s&&typeof t=="string"&&t){var o=ia(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Km.has(o)||(Km.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),wt(t,"link",e),vt(t),s.head.appendChild(t)))}}function gx(e){rn.D(e),Jm("dns-prefetch",e,null)}function yx(e,t){rn.C(e,t),Jm("preconnect",e,t)}function vx(e,t,a){rn.L(e,t,a);var s=cl;if(s&&e&&t){var o='link[rel="preload"][as="'+ia(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+ia(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+ia(a.imageSizes)+'"]')):o+='[href="'+ia(e)+'"]';var d=o;switch(t){case"style":d=ol(e);break;case"script":d=ul(e)}ya.has(d)||(e=X({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ya.set(d,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(br(d))||t==="script"&&s.querySelector(jr(d))||(t=s.createElement("link"),wt(t,"link",e),vt(t),s.head.appendChild(t)))}}function xx(e,t){rn.m(e,t);var a=cl;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+ia(s)+'"][href="'+ia(e)+'"]',d=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ul(e)}if(!ya.has(d)&&(e=X({rel:"modulepreload",href:e},t),ya.set(d,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jr(d)))return}s=a.createElement("link"),wt(s,"link",e),vt(s),a.head.appendChild(s)}}}function bx(e,t,a){rn.S(e,t,a);var s=cl;if(s&&e){var o=_s(s).hoistableStyles,d=ol(e);t=t||"default";var g=o.get(d);if(!g){var j={loading:0,preload:null};if(g=s.querySelector(br(d)))j.loading=5;else{e=X({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ya.get(d))&&Iu(e,a);var w=g=s.createElement("link");vt(w),wt(w,"link",e),w._p=new Promise(function(z,J){w.onload=z,w.onerror=J}),w.addEventListener("load",function(){j.loading|=1}),w.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Ji(g,t,s)}g={type:"stylesheet",instance:g,count:1,state:j},o.set(d,g)}}}function jx(e,t){rn.X(e,t);var a=cl;if(a&&e){var s=_s(a).hoistableScripts,o=ul(e),d=s.get(o);d||(d=a.querySelector(jr(o)),d||(e=X({src:e,async:!0},t),(t=ya.get(o))&&Bu(e,t),d=a.createElement("script"),vt(d),wt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Sx(e,t){rn.M(e,t);var a=cl;if(a&&e){var s=_s(a).hoistableScripts,o=ul(e),d=s.get(o);d||(d=a.querySelector(jr(o)),d||(e=X({src:e,async:!0,type:"module"},t),(t=ya.get(o))&&Bu(e,t),d=a.createElement("script"),vt(d),wt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Pm(e,t,a,s){var o=(o=ze.current)?Ki(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ol(a.href),a=_s(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ol(a.href);var d=_s(o).hoistableStyles,g=d.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=o.querySelector(br(e)))&&!d._p&&(g.instance=d,g.state.loading=5),ya.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ya.set(e,a),d||Nx(o,e,a,g.state))),t&&s===null)throw Error(i(528,""));return g}if(t&&s!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ul(a),a=_s(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ol(e){return'href="'+ia(e)+'"'}function br(e){return'link[rel="stylesheet"]['+e+"]"}function Wm(e){return X({},e,{"data-precedence":e.precedence,precedence:null})}function Nx(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),wt(t,"link",a),vt(t),e.head.appendChild(t))}function ul(e){return'[src="'+ia(e)+'"]'}function jr(e){return"script[async]"+e}function ep(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ia(a.href)+'"]');if(s)return t.instance=s,vt(s),s;var o=X({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),vt(s),wt(s,"style",o),Ji(s,a.precedence,e),t.instance=s;case"stylesheet":o=ol(a.href);var d=e.querySelector(br(o));if(d)return t.state.loading|=4,t.instance=d,vt(d),d;s=Wm(a),(o=ya.get(o))&&Iu(s,o),d=(e.ownerDocument||e).createElement("link"),vt(d);var g=d;return g._p=new Promise(function(j,w){g.onload=j,g.onerror=w}),wt(d,"link",s),t.state.loading|=4,Ji(d,a.precedence,e),t.instance=d;case"script":return d=ul(a.src),(o=e.querySelector(jr(d)))?(t.instance=o,vt(o),o):(s=a,(o=ya.get(d))&&(s=X({},a),Bu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),vt(o),wt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ji(s,a.precedence,e));return t.instance}function Ji(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,d=o,g=0;g<s.length;g++){var j=s[g];if(j.dataset.precedence===t)d=j;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Iu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pi=null;function tp(e,t,a){if(Pi===null){var s=new Map,o=Pi=new Map;o.set(a,s)}else o=Pi,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Ll]||d[Rt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var j=s.get(g);j?j.push(d):s.set(g,[d])}}return s}function ap(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ex(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function np(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Sr=null;function Tx(){}function wx(e,t,a){if(Sr===null)throw Error(i(475));var s=Sr;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=ol(a.href),d=e.querySelector(br(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Wi.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=d,vt(d);return}d=e.ownerDocument||e,a=Wm(a),(o=ya.get(o))&&Iu(a,o),d=d.createElement("link"),vt(d);var g=d;g._p=new Promise(function(j,w){g.onload=j,g.onerror=w}),wt(d,"link",a),t.instance=d}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=Wi.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ax(){if(Sr===null)throw Error(i(475));var e=Sr;return e.stylesheets&&e.count===0&&qu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&qu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Wi(){if(this.count--,this.count===0){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function qu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,t.forEach(Cx,e),ec=null,Wi.call(e))}function Cx(e,t){if(!(t.state.loading&4)){var a=ec.get(e);if(a)var s=a.get(null);else{a=new Map,ec.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var g=o[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),s=g)}s&&a.set(null,s)}o=t.instance,g=o.getAttribute("data-precedence"),d=a.get(g)||s,d===s&&a.set(null,o),a.set(g,o),this.count++,s=Wi.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Nr={$$typeof:O,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Ox(e,t,a,s,o,d,g,j){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hc(0),this.hiddenUpdates=Hc(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function sp(e,t,a,s,o,d,g,j,w,z,J,ee){return e=new Ox(e,t,a,g,j,w,z,ee),t=1,d===!0&&(t|=24),d=pa(3,null,null,t),e.current=d,d.stateNode=e,t=vo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:t},Po(d),e}function lp(e){return e?(e=Ys,e):Ys}function rp(e,t,a,s,o,d){o=lp(o),s.context===null?s.context=o:s.pendingContext=o,s=En(t),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=Tn(e,s,t),a!==null&&(kt(a,e,t),rr(a,e,t))}function ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Hu(e,t){ip(e,t),(e=e.alternate)&&ip(e,t)}function cp(e){if(e.tag===13){var t=yn(e,67108864);t!==null&&kt(t,e,67108864),Hu(e,67108864)}}var tc=!0;function Rx(e,t,a,s){var o=W.T;W.T=null;var d=H.p;try{H.p=2,Yu(e,t,a,s)}finally{H.p=d,W.T=o}}function Dx(e,t,a,s){var o=W.T;W.T=null;var d=H.p;try{H.p=8,Yu(e,t,a,s)}finally{H.p=d,W.T=o}}function Yu(e,t,a,s){if(tc){var o=Fu(s);if(o===null)Ru(e,t,s,ac,a),up(e,s);else if(zx(o,e,t,a,s))s.stopPropagation();else if(up(e,s),t&4&&-1<_x.indexOf(e)){for(;o!==null;){var d=Ds(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Zn(d.pendingLanes);if(g!==0){var j=d;for(j.pendingLanes|=2,j.entangledLanes|=2;g;){var w=1<<31-Nt(g);j.entanglements[1]|=w,g&=~w}Ia(d),(Je&6)===0&&(Bi=Ye()+500,yr(0))}}break;case 13:j=yn(d,2),j!==null&&kt(j,d,2),Yi(),Hu(d,2)}if(d=Fu(s),d===null&&Ru(e,t,s,ac,a),d===o)break;o=d}o!==null&&s.stopPropagation()}else Ru(e,t,s,null,a)}}function Fu(e){return e=$c(e),Qu(e)}var ac=null;function Qu(e){if(ac=null,e=Kn(e),e!==null){var t=ae(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=xe(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ac=e,null}function op(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sa()){case la:return 2;case le:return 8;case Ne:case ot:return 32;case ut:return 268435456;default:return 32}default:return 32}}var Vu=!1,_n=null,zn=null,Mn=null,Er=new Map,Tr=new Map,Ln=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function up(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tr.delete(t.pointerId)}}function wr(e,t,a,s,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Ds(t),t!==null&&cp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function zx(e,t,a,s,o){switch(t){case"focusin":return _n=wr(_n,e,t,a,s,o),!0;case"dragenter":return zn=wr(zn,e,t,a,s,o),!0;case"mouseover":return Mn=wr(Mn,e,t,a,s,o),!0;case"pointerover":var d=o.pointerId;return Er.set(d,wr(Er.get(d)||null,e,t,a,s,o)),!0;case"gotpointercapture":return d=o.pointerId,Tr.set(d,wr(Tr.get(d)||null,e,t,a,s,o)),!0}return!1}function dp(e){var t=Kn(e.target);if(t!==null){var a=ae(t);if(a!==null){if(t=a.tag,t===13){if(t=xe(a),t!==null){e.blockedOn=t,Ay(e.priority,function(){if(a.tag===13){var s=ea(),o=yn(a,s);o!==null&&kt(o,a,s),Hu(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Fu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Gc=s,a.target.dispatchEvent(s),Gc=null}else return t=Ds(a),t!==null&&cp(t),e.blockedOn=a,!1;t.shift()}return!0}function fp(e,t,a){nc(e)&&a.delete(t)}function Mx(){Vu=!1,_n!==null&&nc(_n)&&(_n=null),zn!==null&&nc(zn)&&(zn=null),Mn!==null&&nc(Mn)&&(Mn=null),Er.forEach(fp),Tr.forEach(fp)}function sc(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Mx)))}var lc=null;function hp(e){lc!==e&&(lc=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lc===e&&(lc=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Qu(s||a)===null)continue;break}var d=Ds(a);d!==null&&(e.splice(t,3),t-=3,Mo(d,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function Ar(e){function t(w){return sc(w,e)}_n!==null&&sc(_n,e),zn!==null&&sc(zn,e),Mn!==null&&sc(Mn,e),Er.forEach(t),Tr.forEach(t);for(var a=0;a<Ln.length;a++){var s=Ln[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ln.length&&(a=Ln[0],a.blockedOn===null);)dp(a),a.blockedOn===null&&Ln.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],d=a[s+1],g=o[Yt]||null;if(typeof d=="function")g||hp(a);else if(g){var j=null;if(d&&d.hasAttribute("formAction")){if(o=d,g=d[Yt]||null)j=g.formAction;else if(Qu(o)!==null)continue}else j=g.action;typeof j=="function"?a[s+1]=j:(a.splice(s,3),s-=3),hp(a)}}}function Xu(e){this._internalRoot=e}rc.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,s=ea();rp(a,s,e,t,null,null)},rc.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&ll(),rp(e.current,2,null,e,null,null),Yi(),t[Rs]=null}};function rc(e){this._internalRoot=e}rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=qd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ln.length&&t!==0&&t<Ln[a].priority;a++);Ln.splice(a,0,e),a===0&&dp(e)}};var mp=l.version;if(mp!=="19.0.0")throw Error(i(527,mp,"19.0.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=M(t),e=e!==null?Y(e):null,e=e===null?null:e.stateNode,e};var Lx={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:W,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{yt=ic.inject(Lx),et=ic}catch{}}return Or.createRoot=function(e,t){if(!u(e))throw Error(i(299));var a=!1,s="",o=Dh,d=_h,g=zh,j=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(j=t.unstable_transitionCallbacks)),t=sp(e,1,!1,null,null,a,s,o,d,g,j,null),e[Rs]=t.current,Ou(e.nodeType===8?e.parentNode:e),new Xu(t)},Or.hydrateRoot=function(e,t,a){if(!u(e))throw Error(i(299));var s=!1,o="",d=Dh,g=_h,j=zh,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),t=sp(e,1,!0,t,a??null,s,o,d,g,j,w,z),t.context=lp(null),a=t.current,s=ea(),o=En(s),o.callback=null,Tn(a,o,s),t.current.lanes=s,Ml(t,s),Ia(t),e[Rs]=t.current,Ou(e),new rc(t)},Or.version="19.0.0",Or}var wp;function Xx(){if(wp)return Ku.exports;wp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),Ku.exports=Vx(),Ku.exports}var Gx=Xx(),Rr={},Ap;function $x(){if(Ap)return Rr;Ap=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.parse=h,Rr.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,l=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,f=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function h(E,O){const N=new f,A=E.length;if(A<2)return N;const T=(O==null?void 0:O.decode)||v;let C=0;do{const R=E.indexOf("=",C);if(R===-1)break;const D=E.indexOf(";",C),I=D===-1?A:D;if(R>I){C=E.lastIndexOf(";",R-1)+1;continue}const $=p(E,C,R),Q=y(E,R,$),ie=E.slice($,Q);if(N[ie]===void 0){let oe=p(E,R+1,I),W=y(E,I,oe);const X=T(E.slice(oe,W));N[ie]=X}C=I+1}while(C<A);return N}function p(E,O,N){do{const A=E.charCodeAt(O);if(A!==32&&A!==9)return O}while(++O<N);return N}function y(E,O,N){for(;O>N;){const A=E.charCodeAt(--O);if(A!==32&&A!==9)return O+1}return N}function m(E,O,N){const A=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const T=A(O);if(!l.test(T))throw new TypeError(`argument val is invalid: ${O}`);let C=E+"="+T;if(!N)return C;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);C+="; Max-Age="+N.maxAge}if(N.domain){if(!c.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);C+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);C+="; Path="+N.path}if(N.expires){if(!x(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);C+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(C+="; HttpOnly"),N.secure&&(C+="; Secure"),N.partitioned&&(C+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return C}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function x(E){return u.call(E)==="[object Date]"}return Rr}$x();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Cp="popstate";function Zx(n={}){function l(i,u){let{pathname:f,search:h,hash:p}=i.location;return rd("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function c(i,u){return typeof u=="string"?u:Mr(u)}return Jx(l,c,null,n)}function Ze(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function xa(n,l){if(!n){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Kx(){return Math.random().toString(36).substring(2,10)}function Op(n,l){return{usr:n.state,key:n.key,idx:l}}function rd(n,l,c=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof l=="string"?wl(l):l,state:c,key:l&&l.key||i||Kx()}}function Mr({pathname:n="/",search:l="",hash:c=""}){return l&&l!=="?"&&(n+=l.charAt(0)==="?"?l:"?"+l),c&&c!=="#"&&(n+=c.charAt(0)==="#"?c:"#"+c),n}function wl(n){let l={};if(n){let c=n.indexOf("#");c>=0&&(l.hash=n.substring(c),n=n.substring(0,c));let i=n.indexOf("?");i>=0&&(l.search=n.substring(i),n=n.substring(0,i)),n&&(l.pathname=n)}return l}function Jx(n,l,c,i={}){let{window:u=document.defaultView,v5Compat:f=!1}=i,h=u.history,p="POP",y=null,m=v();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function v(){return(h.state||{idx:null}).idx}function x(){p="POP";let T=v(),C=T==null?null:T-m;m=T,y&&y({action:p,location:A.location,delta:C})}function E(T,C){p="PUSH";let R=rd(A.location,T,C);m=v()+1;let D=Op(R,m),I=A.createHref(R);try{h.pushState(D,"",I)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;u.location.assign(I)}f&&y&&y({action:p,location:A.location,delta:1})}function O(T,C){p="REPLACE";let R=rd(A.location,T,C);m=v();let D=Op(R,m),I=A.createHref(R);h.replaceState(D,"",I),f&&y&&y({action:p,location:A.location,delta:0})}function N(T){let C=u.location.origin!=="null"?u.location.origin:u.location.href,R=typeof T=="string"?T:Mr(T);return R=R.replace(/ $/,"%20"),Ze(C,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,C)}let A={get action(){return p},get location(){return n(u,h)},listen(T){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(Cp,x),y=T,()=>{u.removeEventListener(Cp,x),y=null}},createHref(T){return l(u,T)},createURL:N,encodeLocation(T){let C=N(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:E,replace:O,go(T){return h.go(T)}};return A}function vg(n,l,c="/"){return Px(n,l,c,!1)}function Px(n,l,c,i){let u=typeof l=="string"?wl(l):l,f=mn(u.pathname||"/",c);if(f==null)return null;let h=xg(n);Wx(h);let p=null;for(let y=0;p==null&&y<h.length;++y){let m=u0(f);p=c0(h[y],m,i)}return p}function xg(n,l=[],c=[],i=""){let u=(f,h,p)=>{let y={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};y.relativePath.startsWith("/")&&(Ze(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length));let m=fn([i,y.relativePath]),v=c.concat(y);f.children&&f.children.length>0&&(Ze(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),xg(f.children,l,v,m)),!(f.path==null&&!f.index)&&l.push({path:m,score:r0(m,f.index),routesMeta:v})};return n.forEach((f,h)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,h);else for(let y of bg(f.path))u(f,h,y)}),l}function bg(n){let l=n.split("/");if(l.length===0)return[];let[c,...i]=l,u=c.endsWith("?"),f=c.replace(/\?$/,"");if(i.length===0)return u?[f,""]:[f];let h=bg(i.join("/")),p=[];return p.push(...h.map(y=>y===""?f:[f,y].join("/"))),u&&p.push(...h),p.map(y=>n.startsWith("/")&&y===""?"/":y)}function Wx(n){n.sort((l,c)=>l.score!==c.score?c.score-l.score:i0(l.routesMeta.map(i=>i.childrenIndex),c.routesMeta.map(i=>i.childrenIndex)))}var e0=/^:[\w-]+$/,t0=3,a0=2,n0=1,s0=10,l0=-2,Rp=n=>n==="*";function r0(n,l){let c=n.split("/"),i=c.length;return c.some(Rp)&&(i+=l0),l&&(i+=a0),c.filter(u=>!Rp(u)).reduce((u,f)=>u+(e0.test(f)?t0:f===""?n0:s0),i)}function i0(n,l){return n.length===l.length&&n.slice(0,-1).every((i,u)=>i===l[u])?n[n.length-1]-l[l.length-1]:0}function c0(n,l,c=!1){let{routesMeta:i}=n,u={},f="/",h=[];for(let p=0;p<i.length;++p){let y=i[p],m=p===i.length-1,v=f==="/"?l:l.slice(f.length)||"/",x=bc({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),E=y.route;if(!x&&m&&c&&!i[i.length-1].route.index&&(x=bc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:fn([f,x.pathname]),pathnameBase:m0(fn([f,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(f=fn([f,x.pathnameBase]))}return h}function bc(n,l){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[c,i]=o0(n.path,n.caseSensitive,n.end),u=l.match(c);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:i.reduce((m,{paramName:v,isOptional:x},E)=>{if(v==="*"){let N=p[E]||"";h=f.slice(0,f.length-N.length).replace(/(.)\/+$/,"$1")}const O=p[E];return x&&!O?m[v]=void 0:m[v]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:h,pattern:n}}function o0(n,l=!1,c=!0){xa(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,y)=>(i.push({paramName:p,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,l?void 0:"i"),i]}function u0(n){try{return n.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return xa(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),n}}function mn(n,l){if(l==="/")return n;if(!n.toLowerCase().startsWith(l.toLowerCase()))return null;let c=l.endsWith("/")?l.length-1:l.length,i=n.charAt(c);return i&&i!=="/"?null:n.slice(c)||"/"}function d0(n,l="/"){let{pathname:c,search:i="",hash:u=""}=typeof n=="string"?wl(n):n;return{pathname:c?c.startsWith("/")?c:f0(c,l):l,search:p0(i),hash:g0(u)}}function f0(n,l){let c=l.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?c.length>1&&c.pop():u!=="."&&c.push(u)}),c.length>1?c.join("/"):"/"}function ed(n,l,c,i){return`Cannot include a '${n}' character in a manually specified \`to.${l}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h0(n){return n.filter((l,c)=>c===0||l.route.path&&l.route.path.length>0)}function xd(n){let l=h0(n);return l.map((c,i)=>i===l.length-1?c.pathname:c.pathnameBase)}function bd(n,l,c,i=!1){let u;typeof n=="string"?u=wl(n):(u={...n},Ze(!u.pathname||!u.pathname.includes("?"),ed("?","pathname","search",u)),Ze(!u.pathname||!u.pathname.includes("#"),ed("#","pathname","hash",u)),Ze(!u.search||!u.search.includes("#"),ed("#","search","hash",u)));let f=n===""||u.pathname==="",h=f?"/":u.pathname,p;if(h==null)p=c;else{let x=l.length-1;if(!i&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),x-=1;u.pathname=E.join("/")}p=x>=0?l[x]:"/"}let y=d0(u,p),m=h&&h!=="/"&&h.endsWith("/"),v=(f||h===".")&&c.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var fn=n=>n.join("/").replace(/\/\/+/g,"/"),m0=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),p0=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,g0=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function y0(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var jg=["POST","PUT","PATCH","DELETE"];new Set(jg);var v0=["GET",...jg];new Set(v0);var Al=b.createContext(null);Al.displayName="DataRouter";var Cc=b.createContext(null);Cc.displayName="DataRouterState";var Sg=b.createContext({isTransitioning:!1});Sg.displayName="ViewTransition";var x0=b.createContext(new Map);x0.displayName="Fetchers";var b0=b.createContext(null);b0.displayName="Await";var Da=b.createContext(null);Da.displayName="Navigation";var Hr=b.createContext(null);Hr.displayName="Location";var ba=b.createContext({outlet:null,matches:[],isDataRoute:!1});ba.displayName="Route";var jd=b.createContext(null);jd.displayName="RouteError";function j0(n,{relative:l}={}){Ze(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:i}=b.useContext(Da),{hash:u,pathname:f,search:h}=Yr(n,{relative:l}),p=f;return c!=="/"&&(p=f==="/"?c:fn([c,f])),i.createHref({pathname:p,search:h,hash:u})}function Cl(){return b.useContext(Hr)!=null}function Zt(){return Ze(Cl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Hr).location}var Ng="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Eg(n){b.useContext(Da).static||b.useLayoutEffect(n)}function ja(){let{isDataRoute:n}=b.useContext(ba);return n?U0():S0()}function S0(){Ze(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(Al),{basename:l,navigator:c}=b.useContext(Da),{matches:i}=b.useContext(ba),{pathname:u}=Zt(),f=JSON.stringify(xd(i)),h=b.useRef(!1);return Eg(()=>{h.current=!0}),b.useCallback((y,m={})=>{if(xa(h.current,Ng),!h.current)return;if(typeof y=="number"){c.go(y);return}let v=bd(y,JSON.parse(f),u,m.relative==="path");n==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:fn([l,v.pathname])),(m.replace?c.replace:c.push)(v,m.state,m)},[l,c,f,u,n])}var N0=b.createContext(null);function E0(n){let l=b.useContext(ba).outlet;return l&&b.createElement(N0.Provider,{value:n},l)}function Oc(){let{matches:n}=b.useContext(ba),l=n[n.length-1];return l?l.params:{}}function Yr(n,{relative:l}={}){let{matches:c}=b.useContext(ba),{pathname:i}=Zt(),u=JSON.stringify(xd(c));return b.useMemo(()=>bd(n,JSON.parse(u),i,l==="path"),[n,u,i,l])}function T0(n,l){return Tg(n,l)}function Tg(n,l,c,i){var R;Ze(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:f}=b.useContext(Da),{matches:h}=b.useContext(ba),p=h[h.length-1],y=p?p.params:{},m=p?p.pathname:"/",v=p?p.pathnameBase:"/",x=p&&p.route;{let D=x&&x.path||"";wg(m,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let E=Zt(),O;if(l){let D=typeof l=="string"?wl(l):l;Ze(v==="/"||((R=D.pathname)==null?void 0:R.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),O=D}else O=E;let N=O.pathname||"/",A=N;if(v!=="/"){let D=v.replace(/^\//,"").split("/");A="/"+N.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=!f&&c&&c.matches&&c.matches.length>0?c.matches:vg(n,{pathname:A});xa(x||T!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),xa(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=R0(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},y,D.params),pathname:fn([v,u.encodeLocation?u.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:fn([v,u.encodeLocation?u.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,c,i);return l&&C?b.createElement(Hr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},C):C}function w0(){let n=L0(),l=y0(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),c=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},f={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:f},"ErrorBoundary")," or"," ",b.createElement("code",{style:f},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},l),c?b.createElement("pre",{style:u},c):null,h)}var A0=b.createElement(w0,null),C0=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,l){return l.location!==n.location||l.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:l.error,location:l.location,revalidation:n.revalidation||l.revalidation}}componentDidCatch(n,l){console.error("React Router caught the following error during render",n,l)}render(){return this.state.error!==void 0?b.createElement(ba.Provider,{value:this.props.routeContext},b.createElement(jd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function O0({routeContext:n,match:l,children:c}){let i=b.useContext(Al);return i&&i.static&&i.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=l.route.id),b.createElement(ba.Provider,{value:n},c)}function R0(n,l=[],c=null,i=null){if(n==null){if(!c)return null;if(c.errors)n=c.matches;else if(l.length===0&&!c.initialized&&c.matches.length>0)n=c.matches;else return null}let u=n,f=c==null?void 0:c.errors;if(f!=null){let y=u.findIndex(m=>m.route.id&&(f==null?void 0:f[m.route.id])!==void 0);Ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,p=-1;if(c)for(let y=0;y<u.length;y++){let m=u[y];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=y),m.route.id){let{loaderData:v,errors:x}=c,E=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||E){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,m,v)=>{let x,E=!1,O=null,N=null;c&&(x=f&&m.route.id?f[m.route.id]:void 0,O=m.route.errorElement||A0,h&&(p<0&&v===0?(wg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):p===v&&(E=!0,N=m.route.hydrateFallbackElement||null)));let A=l.concat(u.slice(0,v+1)),T=()=>{let C;return x?C=O:E?C=N:m.route.Component?C=b.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=y,b.createElement(O0,{match:m,routeContext:{outlet:y,matches:A,isDataRoute:c!=null},children:C})};return c&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?b.createElement(C0,{location:c.location,revalidation:c.revalidation,component:O,error:x,children:T(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):T()},null)}function Sd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D0(n){let l=b.useContext(Al);return Ze(l,Sd(n)),l}function _0(n){let l=b.useContext(Cc);return Ze(l,Sd(n)),l}function z0(n){let l=b.useContext(ba);return Ze(l,Sd(n)),l}function Nd(n){let l=z0(n),c=l.matches[l.matches.length-1];return Ze(c.route.id,`${n} can only be used on routes that contain a unique "id"`),c.route.id}function M0(){return Nd("useRouteId")}function L0(){var i;let n=b.useContext(jd),l=_0("useRouteError"),c=Nd("useRouteError");return n!==void 0?n:(i=l.errors)==null?void 0:i[c]}function U0(){let{router:n}=D0("useNavigate"),l=Nd("useNavigate"),c=b.useRef(!1);return Eg(()=>{c.current=!0}),b.useCallback(async(u,f={})=>{xa(c.current,Ng),c.current&&(typeof u=="number"?n.navigate(u):await n.navigate(u,{fromRouteId:l,...f}))},[n,l])}var Dp={};function wg(n,l,c){!l&&!Dp[n]&&(Dp[n]=!0,xa(!1,c))}b.memo(k0);function k0({routes:n,future:l,state:c}){return Tg(n,void 0,c,l)}function jc({to:n,replace:l,state:c,relative:i}){Ze(Cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=b.useContext(Da);xa(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=b.useContext(ba),{pathname:h}=Zt(),p=ja(),y=bd(n,xd(f),h,i==="path"),m=JSON.stringify(y);return b.useEffect(()=>{p(JSON.parse(m),{replace:l,state:c,relative:i})},[p,m,i,l,c]),null}function Fr(n){return E0(n.context)}function gt(n){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function I0({basename:n="/",children:l=null,location:c,navigationType:i="POP",navigator:u,static:f=!1}){Ze(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),p=b.useMemo(()=>({basename:h,navigator:u,static:f,future:{}}),[h,u,f]);typeof c=="string"&&(c=wl(c));let{pathname:y="/",search:m="",hash:v="",state:x=null,key:E="default"}=c,O=b.useMemo(()=>{let N=mn(y,h);return N==null?null:{location:{pathname:N,search:m,hash:v,state:x,key:E},navigationType:i}},[h,y,m,v,x,E,i]);return xa(O!=null,`<Router basename="${h}"> is not able to match the URL "${y}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:b.createElement(Da.Provider,{value:p},b.createElement(Hr.Provider,{children:l,value:O}))}function B0({children:n,location:l}){return T0(id(n),l)}function id(n,l=[]){let c=[];return b.Children.forEach(n,(i,u)=>{if(!b.isValidElement(i))return;let f=[...l,u];if(i.type===b.Fragment){c.push.apply(c,id(i.props.children,f));return}Ze(i.type===gt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||f.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=id(i.props.children,f)),c.push(h)}),c}var fc="get",hc="application/x-www-form-urlencoded";function Rc(n){return n!=null&&typeof n.tagName=="string"}function q0(n){return Rc(n)&&n.tagName.toLowerCase()==="button"}function H0(n){return Rc(n)&&n.tagName.toLowerCase()==="form"}function Y0(n){return Rc(n)&&n.tagName.toLowerCase()==="input"}function F0(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Q0(n,l){return n.button===0&&(!l||l==="_self")&&!F0(n)}function cd(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((l,c)=>{let i=n[c];return l.concat(Array.isArray(i)?i.map(u=>[c,u]):[[c,i]])},[]))}function V0(n,l){let c=cd(n);return l&&l.forEach((i,u)=>{c.has(u)||l.getAll(u).forEach(f=>{c.append(u,f)})}),c}var oc=null;function X0(){if(oc===null)try{new FormData(document.createElement("form"),0),oc=!1}catch{oc=!0}return oc}var G0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function td(n){return n!=null&&!G0.has(n)?(xa(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hc}"`),null):n}function $0(n,l){let c,i,u,f,h;if(H0(n)){let p=n.getAttribute("action");i=p?mn(p,l):null,c=n.getAttribute("method")||fc,u=td(n.getAttribute("enctype"))||hc,f=new FormData(n)}else if(q0(n)||Y0(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||p.getAttribute("action");if(i=y?mn(y,l):null,c=n.getAttribute("formmethod")||p.getAttribute("method")||fc,u=td(n.getAttribute("formenctype"))||td(p.getAttribute("enctype"))||hc,f=new FormData(p,n),!X0()){let{name:m,type:v,value:x}=n;if(v==="image"){let E=m?`${m}.`:"";f.append(`${E}x`,"0"),f.append(`${E}y`,"0")}else m&&f.append(m,x)}}else{if(Rc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=fc,i=null,u=hc,h=n}return f&&u==="text/plain"&&(h=f,f=void 0),{action:i,method:c.toLowerCase(),encType:u,formData:f,body:h}}function Ed(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}async function Z0(n,l){if(n.id in l)return l[n.id];try{let c=await import(n.module);return l[n.id]=c,c}catch(c){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K0(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function J0(n,l,c){let i=await Promise.all(n.map(async u=>{let f=l.routes[u.route.id];if(f){let h=await Z0(f,c);return h.links?h.links():[]}return[]}));return tb(i.flat(1).filter(K0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function _p(n,l,c,i,u,f){let h=(y,m)=>c[m]?y.route.id!==c[m].route.id:!0,p=(y,m)=>{var v;return c[m].pathname!==y.pathname||((v=c[m].route.path)==null?void 0:v.endsWith("*"))&&c[m].params["*"]!==y.params["*"]};return f==="assets"?l.filter((y,m)=>h(y,m)||p(y,m)):f==="data"?l.filter((y,m)=>{var x;let v=i.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(h(y,m)||p(y,m))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((x=c[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function P0(n,l,{includeHydrateFallback:c}={}){return W0(n.map(i=>{let u=l.routes[i.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),c&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function W0(n){return[...new Set(n)]}function eb(n){let l={},c=Object.keys(n).sort();for(let i of c)l[i]=n[i];return l}function tb(n,l){let c=new Set;return new Set(l),n.reduce((i,u)=>{let f=JSON.stringify(eb(u));return c.has(f)||(c.add(f),i.push({key:f,link:u})),i},[])}function ab(n,l){let c=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return c.pathname==="/"?c.pathname="_root.data":l&&mn(c.pathname,l)==="/"?c.pathname=`${l.replace(/\/$/,"")}/_root.data`:c.pathname=`${c.pathname.replace(/\/$/,"")}.data`,c}function Ag(){let n=b.useContext(Al);return Ed(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nb(){let n=b.useContext(Cc);return Ed(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Td=b.createContext(void 0);Td.displayName="FrameworkContext";function Cg(){let n=b.useContext(Td);return Ed(n,"You must render this element inside a <HydratedRouter> element"),n}function sb(n,l){let c=b.useContext(Td),[i,u]=b.useState(!1),[f,h]=b.useState(!1),{onFocus:p,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:x}=l,E=b.useRef(null);b.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let A=C=>{C.forEach(R=>{h(R.isIntersecting)})},T=new IntersectionObserver(A,{threshold:.5});return E.current&&T.observe(E.current),()=>{T.disconnect()}}},[n]),b.useEffect(()=>{if(i){let A=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(A)}}},[i]);let O=()=>{u(!0)},N=()=>{u(!1),h(!1)};return c?n!=="intent"?[f,E,{}]:[f,E,{onFocus:Dr(p,O),onBlur:Dr(y,N),onMouseEnter:Dr(m,O),onMouseLeave:Dr(v,N),onTouchStart:Dr(x,O)}]:[!1,E,{}]}function Dr(n,l){return c=>{n&&n(c),c.defaultPrevented||l(c)}}function lb({page:n,...l}){let{router:c}=Ag(),i=b.useMemo(()=>vg(c.routes,n,c.basename),[c.routes,n,c.basename]);return i?b.createElement(ib,{page:n,matches:i,...l}):null}function rb(n){let{manifest:l,routeModules:c}=Cg(),[i,u]=b.useState([]);return b.useEffect(()=>{let f=!1;return J0(n,l,c).then(h=>{f||u(h)}),()=>{f=!0}},[n,l,c]),i}function ib({page:n,matches:l,...c}){let i=Zt(),{manifest:u,routeModules:f}=Cg(),{basename:h}=Ag(),{loaderData:p,matches:y}=nb(),m=b.useMemo(()=>_p(n,l,y,u,i,"data"),[n,l,y,u,i]),v=b.useMemo(()=>_p(n,l,y,u,i,"assets"),[n,l,y,u,i]),x=b.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,A=!1;if(l.forEach(C=>{var D;let R=u.routes[C.route.id];!R||!R.hasLoader||(!m.some(I=>I.route.id===C.route.id)&&C.route.id in p&&((D=f[C.route.id])!=null&&D.shouldRevalidate)||R.hasClientLoader?A=!0:N.add(C.route.id))}),N.size===0)return[];let T=ab(n,h);return A&&N.size>0&&T.searchParams.set("_routes",l.filter(C=>N.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[h,p,i,u,m,l,n,f]),E=b.useMemo(()=>P0(v,u),[v,u]),O=rb(v);return b.createElement(b.Fragment,null,x.map(N=>b.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...c})),E.map(N=>b.createElement("link",{key:N,rel:"modulepreload",href:N,...c})),O.map(({key:N,link:A})=>b.createElement("link",{key:N,...A})))}function cb(...n){return l=>{n.forEach(c=>{typeof c=="function"?c(l):c!=null&&(c.current=l)})}}var Og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Og&&(window.__reactRouterVersion="7.4.0")}catch{}function ob({basename:n,children:l,window:c}){let i=b.useRef();i.current==null&&(i.current=Zx({window:c,v5Compat:!0}));let u=i.current,[f,h]=b.useState({action:u.action,location:u.location}),p=b.useCallback(y=>{b.startTransition(()=>h(y))},[h]);return b.useLayoutEffect(()=>u.listen(p),[u,p]),b.createElement(I0,{basename:n,children:l,location:f.location,navigationType:f.action,navigator:u})}var Rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=b.forwardRef(function({onClick:l,discover:c="render",prefetch:i="none",relative:u,reloadDocument:f,replace:h,state:p,target:y,to:m,preventScrollReset:v,viewTransition:x,...E},O){let{basename:N}=b.useContext(Da),A=typeof m=="string"&&Rg.test(m),T,C=!1;if(typeof m=="string"&&A&&(T=m,Og))try{let W=new URL(window.location.href),X=m.startsWith("//")?new URL(W.protocol+m):new URL(m),V=mn(X.pathname,N);X.origin===W.origin&&V!=null?m=V+X.search+X.hash:C=!0}catch{xa(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=j0(m,{relative:u}),[D,I,$]=sb(i,E),Q=hb(m,{replace:h,state:p,target:y,preventScrollReset:v,relative:u,viewTransition:x});function ie(W){l&&l(W),W.defaultPrevented||Q(W)}let oe=b.createElement("a",{...E,...$,href:T||R,onClick:C||f?l:ie,ref:cb(O,I),target:y,"data-discover":!A&&c==="render"?"true":void 0});return D&&!A?b.createElement(b.Fragment,null,oe,b.createElement(lb,{page:R})):oe});Lr.displayName="Link";var ub=b.forwardRef(function({"aria-current":l="page",caseSensitive:c=!1,className:i="",end:u=!1,style:f,to:h,viewTransition:p,children:y,...m},v){let x=Yr(h,{relative:m.relative}),E=Zt(),O=b.useContext(Cc),{navigator:N,basename:A}=b.useContext(Da),T=O!=null&&xb(x)&&p===!0,C=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,R=E.pathname,D=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;c||(R=R.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&A&&(D=mn(D,A)||D);const I=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let $=R===C||!u&&R.startsWith(C)&&R.charAt(I)==="/",Q=D!=null&&(D===C||!u&&D.startsWith(C)&&D.charAt(C.length)==="/"),ie={isActive:$,isPending:Q,isTransitioning:T},oe=$?l:void 0,W;typeof i=="function"?W=i(ie):W=[i,$?"active":null,Q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let X=typeof f=="function"?f(ie):f;return b.createElement(Lr,{...m,"aria-current":oe,className:W,ref:v,style:X,to:h,viewTransition:p},typeof y=="function"?y(ie):y)});ub.displayName="NavLink";var db=b.forwardRef(({discover:n="render",fetcherKey:l,navigate:c,reloadDocument:i,replace:u,state:f,method:h=fc,action:p,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:x,...E},O)=>{let N=yb(),A=vb(p,{relative:m}),T=h.toLowerCase()==="get"?"get":"post",C=typeof p=="string"&&Rg.test(p),R=D=>{if(y&&y(D),D.defaultPrevented)return;D.preventDefault();let I=D.nativeEvent.submitter,$=(I==null?void 0:I.getAttribute("formmethod"))||h;N(I||D.currentTarget,{fetcherKey:l,method:$,navigate:c,replace:u,state:f,relative:m,preventScrollReset:v,viewTransition:x})};return b.createElement("form",{ref:O,method:T,action:A,onSubmit:i?y:R,...E,"data-discover":!C&&n==="render"?"true":void 0})});db.displayName="Form";function fb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dg(n){let l=b.useContext(Al);return Ze(l,fb(n)),l}function hb(n,{target:l,replace:c,state:i,preventScrollReset:u,relative:f,viewTransition:h}={}){let p=ja(),y=Zt(),m=Yr(n,{relative:f});return b.useCallback(v=>{if(Q0(v,l)){v.preventDefault();let x=c!==void 0?c:Mr(y)===Mr(m);p(n,{replace:x,state:i,preventScrollReset:u,relative:f,viewTransition:h})}},[y,p,m,c,i,l,n,u,f,h])}function mb(n){xa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let l=b.useRef(cd(n)),c=b.useRef(!1),i=Zt(),u=b.useMemo(()=>V0(i.search,c.current?null:l.current),[i.search]),f=ja(),h=b.useCallback((p,y)=>{const m=cd(typeof p=="function"?p(u):p);c.current=!0,f("?"+m,y)},[f,u]);return[u,h]}var pb=0,gb=()=>`__${String(++pb)}__`;function yb(){let{router:n}=Dg("useSubmit"),{basename:l}=b.useContext(Da),c=M0();return b.useCallback(async(i,u={})=>{let{action:f,method:h,encType:p,formData:y,body:m}=$0(i,l);if(u.navigate===!1){let v=u.fetcherKey||gb();await n.fetch(v,c,u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:m,formMethod:u.method||h,formEncType:u.encType||p,flushSync:u.flushSync})}else await n.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:m,formMethod:u.method||h,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:c,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,l,c])}function vb(n,{relative:l}={}){let{basename:c}=b.useContext(Da),i=b.useContext(ba);Ze(i,"useFormAction must be used inside a RouteContext");let[u]=i.matches.slice(-1),f={...Yr(n||".",{relative:l})},h=Zt();if(n==null){f.search=h.search;let p=new URLSearchParams(f.search),y=p.getAll("index");if(y.some(v=>v==="")){p.delete("index"),y.filter(x=>x).forEach(x=>p.append("index",x));let v=p.toString();f.search=v?`?${v}`:""}}return(!n||n===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(f.pathname=f.pathname==="/"?c:fn([c,f.pathname])),Mr(f)}function xb(n,l={}){let c=b.useContext(Sg);Ze(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Dg("useViewTransitionState"),u=Yr(n,{relative:l.relative});if(!c.isTransitioning)return!1;let f=mn(c.currentLocation.pathname,i)||c.currentLocation.pathname,h=mn(c.nextLocation.pathname,i)||c.nextLocation.pathname;return bc(u.pathname,h)!=null||bc(u.pathname,f)!=null}new TextEncoder;/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_g=(...n)=>n.filter((l,c,i)=>!!l&&l.trim()!==""&&i.indexOf(l)===c).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=b.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:u="",children:f,iconNode:h,...p},y)=>b.createElement("svg",{ref:y,...jb,width:l,height:l,stroke:n,strokeWidth:i?Number(c)*24/Number(l):c,className:_g("lucide",u),...p},[...h.map(([m,v])=>b.createElement(m,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(n,l)=>{const c=b.forwardRef(({className:i,...u},f)=>b.createElement(Sb,{ref:f,iconNode:l,className:_g(`lucide-${bb(n)}`,i),...u}));return c.displayName=`${n}`,c};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aa=ke("ArrowLeft",Nb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],zg=ke("Award",Eb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mg=ke("BookOpen",Tb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],We=ke("Calendar",wb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zp=ke("Check",Ab);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Xt=ke("ChevronDown",Cb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gt=ke("ChevronUp",Ob);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Db=ke("CircleAlert",Rb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],El=ke("Clock",_b);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Mp=ke("Copy",zb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Lb=ke("EyeOff",Mb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qr=ke("Eye",Ub);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wd=ke("Funnel",kb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Lg=ke("GraduationCap",Ib);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qb=ke("House",Bb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yb=ke("Lock",Hb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Qb=ke("LogOut",Fb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ns=ke("Mail",Vb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Vr=ke("MapPin",Xb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],$b=ke("MessageSquare",Gb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ug=ke("Moon",Zb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Mt=ke("Music",Kb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ur=ke("Phone",Jb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gn=ke("Plus",Pb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hl=ke("RefreshCw",Wb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],t1=ke("Repeat",e1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Sc=ke("Search",a1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Lp=ke("Send",n1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ts=ke("SquarePen",s1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kg=ke("Sun",l1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Dc=ke("Trash2",r1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ra=ke("User",i1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Xr=ke("Users",c1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bt=ke("X",o1);var Gr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_c=typeof window>"u"||"Deno"in globalThis;function Aa(){}function u1(n,l){return typeof n=="function"?n(l):n}function d1(n){return typeof n=="number"&&n>=0&&n!==1/0}function f1(n,l){return Math.max(n+(l||0)-Date.now(),0)}function Up(n,l){return typeof n=="function"?n(l):n}function h1(n,l){return typeof n=="function"?n(l):n}function kp(n,l){const{type:c="all",exact:i,fetchStatus:u,predicate:f,queryKey:h,stale:p}=n;if(h){if(i){if(l.queryHash!==Ad(h,l.options))return!1}else if(!kr(l.queryKey,h))return!1}if(c!=="all"){const y=l.isActive();if(c==="active"&&!y||c==="inactive"&&y)return!1}return!(typeof p=="boolean"&&l.isStale()!==p||u&&u!==l.state.fetchStatus||f&&!f(l))}function Ip(n,l){const{exact:c,status:i,predicate:u,mutationKey:f}=n;if(f){if(!l.options.mutationKey)return!1;if(c){if(ws(l.options.mutationKey)!==ws(f))return!1}else if(!kr(l.options.mutationKey,f))return!1}return!(i&&l.state.status!==i||u&&!u(l))}function Ad(n,l){return((l==null?void 0:l.queryKeyHashFn)||ws)(n)}function ws(n){return JSON.stringify(n,(l,c)=>od(c)?Object.keys(c).sort().reduce((i,u)=>(i[u]=c[u],i),{}):c)}function kr(n,l){return n===l?!0:typeof n!=typeof l?!1:n&&l&&typeof n=="object"&&typeof l=="object"?!Object.keys(l).some(c=>!kr(n[c],l[c])):!1}function Ig(n,l){if(n===l)return n;const c=Bp(n)&&Bp(l);if(c||od(n)&&od(l)){const i=c?n:Object.keys(n),u=i.length,f=c?l:Object.keys(l),h=f.length,p=c?[]:{};let y=0;for(let m=0;m<h;m++){const v=c?m:f[m];(!c&&i.includes(v)||c)&&n[v]===void 0&&l[v]===void 0?(p[v]=void 0,y++):(p[v]=Ig(n[v],l[v]),p[v]===n[v]&&n[v]!==void 0&&y++)}return u===h&&y===u?n:p}return l}function m1(n,l){if(!l||Object.keys(n).length!==Object.keys(l).length)return!1;for(const c in n)if(n[c]!==l[c])return!1;return!0}function Bp(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function od(n){if(!qp(n))return!1;const l=n.constructor;if(l===void 0)return!0;const c=l.prototype;return!(!qp(c)||!c.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function qp(n){return Object.prototype.toString.call(n)==="[object Object]"}function p1(n){return new Promise(l=>{setTimeout(l,n)})}function g1(n,l,c){return typeof c.structuralSharing=="function"?c.structuralSharing(n,l):c.structuralSharing!==!1?Ig(n,l):l}function y1(n,l,c=0){const i=[...n,l];return c&&i.length>c?i.slice(1):i}function v1(n,l,c=0){const i=[l,...n];return c&&i.length>c?i.slice(0,-1):i}var Cd=Symbol();function Bg(n,l){return!n.queryFn&&(l!=null&&l.initialPromise)?()=>l.initialPromise:!n.queryFn||n.queryFn===Cd?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var vs,Bn,pl,og,x1=(og=class extends Gr{constructor(){super();_e(this,vs);_e(this,Bn);_e(this,pl);Se(this,pl,l=>{if(!_c&&window.addEventListener){const c=()=>l();return window.addEventListener("visibilitychange",c,!1),()=>{window.removeEventListener("visibilitychange",c)}}})}onSubscribe(){F(this,Bn)||this.setEventListener(F(this,pl))}onUnsubscribe(){var l;this.hasListeners()||((l=F(this,Bn))==null||l.call(this),Se(this,Bn,void 0))}setEventListener(l){var c;Se(this,pl,l),(c=F(this,Bn))==null||c.call(this),Se(this,Bn,l(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(l){F(this,vs)!==l&&(Se(this,vs,l),this.onFocus())}onFocus(){const l=this.isFocused();this.listeners.forEach(c=>{c(l)})}isFocused(){var l;return typeof F(this,vs)=="boolean"?F(this,vs):((l=globalThis.document)==null?void 0:l.visibilityState)!=="hidden"}},vs=new WeakMap,Bn=new WeakMap,pl=new WeakMap,og),qg=new x1,gl,qn,yl,ug,b1=(ug=class extends Gr{constructor(){super();_e(this,gl,!0);_e(this,qn);_e(this,yl);Se(this,yl,l=>{if(!_c&&window.addEventListener){const c=()=>l(!0),i=()=>l(!1);return window.addEventListener("online",c,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",i)}}})}onSubscribe(){F(this,qn)||this.setEventListener(F(this,yl))}onUnsubscribe(){var l;this.hasListeners()||((l=F(this,qn))==null||l.call(this),Se(this,qn,void 0))}setEventListener(l){var c;Se(this,yl,l),(c=F(this,qn))==null||c.call(this),Se(this,qn,l(this.setOnline.bind(this)))}setOnline(l){F(this,gl)!==l&&(Se(this,gl,l),this.listeners.forEach(i=>{i(l)}))}isOnline(){return F(this,gl)}},gl=new WeakMap,qn=new WeakMap,yl=new WeakMap,ug),Nc=new b1;function j1(){let n,l;const c=new Promise((u,f)=>{n=u,l=f});c.status="pending",c.catch(()=>{});function i(u){Object.assign(c,u),delete c.resolve,delete c.reject}return c.resolve=u=>{i({status:"fulfilled",value:u}),n(u)},c.reject=u=>{i({status:"rejected",reason:u}),l(u)},c}function S1(n){return Math.min(1e3*2**n,3e4)}function Hg(n){return(n??"online")==="online"?Nc.isOnline():!0}var Yg=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function ad(n){return n instanceof Yg}function Fg(n){let l=!1,c=0,i=!1,u;const f=j1(),h=A=>{var T;i||(E(new Yg(A)),(T=n.abort)==null||T.call(n))},p=()=>{l=!0},y=()=>{l=!1},m=()=>qg.isFocused()&&(n.networkMode==="always"||Nc.isOnline())&&n.canRun(),v=()=>Hg(n.networkMode)&&n.canRun(),x=A=>{var T;i||(i=!0,(T=n.onSuccess)==null||T.call(n,A),u==null||u(),f.resolve(A))},E=A=>{var T;i||(i=!0,(T=n.onError)==null||T.call(n,A),u==null||u(),f.reject(A))},O=()=>new Promise(A=>{var T;u=C=>{(i||m())&&A(C)},(T=n.onPause)==null||T.call(n)}).then(()=>{var A;u=void 0,i||(A=n.onContinue)==null||A.call(n)}),N=()=>{if(i)return;let A;const T=c===0?n.initialPromise:void 0;try{A=T??n.fn()}catch(C){A=Promise.reject(C)}Promise.resolve(A).then(x).catch(C=>{var Q;if(i)return;const R=n.retry??(_c?0:3),D=n.retryDelay??S1,I=typeof D=="function"?D(c,C):D,$=R===!0||typeof R=="number"&&c<R||typeof R=="function"&&R(c,C);if(l||!$){E(C);return}c++,(Q=n.onFail)==null||Q.call(n,c,C),p1(I).then(()=>m()?void 0:O()).then(()=>{l?E(C):N()})})};return{promise:f,cancel:h,continue:()=>(u==null||u(),f),cancelRetry:p,continueRetry:y,canStart:v,start:()=>(v()?N():O().then(N),f)}}function N1(){let n=[],l=0,c=p=>{p()},i=p=>{p()},u=p=>setTimeout(p,0);const f=p=>{l?n.push(p):u(()=>{c(p)})},h=()=>{const p=n;n=[],p.length&&u(()=>{i(()=>{p.forEach(y=>{c(y)})})})};return{batch:p=>{let y;l++;try{y=p()}finally{l--,l||h()}return y},batchCalls:p=>(...y)=>{f(()=>{p(...y)})},schedule:f,setNotifyFunction:p=>{c=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{u=p}}}var At=N1(),xs,dg,Qg=(dg=class{constructor(){_e(this,xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),d1(this.gcTime)&&Se(this,xs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(_c?1/0:5*60*1e3))}clearGcTimeout(){F(this,xs)&&(clearTimeout(F(this,xs)),Se(this,xs,void 0))}},xs=new WeakMap,dg),vl,xl,va,bs,zt,Br,js,Ca,cn,fg,E1=(fg=class extends Qg{constructor(l){super();_e(this,Ca);_e(this,vl);_e(this,xl);_e(this,va);_e(this,bs);_e(this,zt);_e(this,Br);_e(this,js);Se(this,js,!1),Se(this,Br,l.defaultOptions),this.setOptions(l.options),this.observers=[],Se(this,bs,l.client),Se(this,va,F(this,bs).getQueryCache()),this.queryKey=l.queryKey,this.queryHash=l.queryHash,Se(this,vl,w1(this.options)),this.state=l.state??F(this,vl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var l;return(l=F(this,zt))==null?void 0:l.promise}setOptions(l){this.options={...F(this,Br),...l},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,va).remove(this)}setData(l,c){const i=g1(this.state.data,l,this.options);return rt(this,Ca,cn).call(this,{data:i,type:"success",dataUpdatedAt:c==null?void 0:c.updatedAt,manual:c==null?void 0:c.manual}),i}setState(l,c){rt(this,Ca,cn).call(this,{type:"setState",state:l,setStateOptions:c})}cancel(l){var i,u;const c=(i=F(this,zt))==null?void 0:i.promise;return(u=F(this,zt))==null||u.cancel(l),c?c.then(Aa).catch(Aa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,vl))}isActive(){return this.observers.some(l=>h1(l.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Cd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(l=>l.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(l=0){return this.state.isInvalidated||this.state.data===void 0||!f1(this.state.dataUpdatedAt,l)}onFocus(){var c;const l=this.observers.find(i=>i.shouldFetchOnWindowFocus());l==null||l.refetch({cancelRefetch:!1}),(c=F(this,zt))==null||c.continue()}onOnline(){var c;const l=this.observers.find(i=>i.shouldFetchOnReconnect());l==null||l.refetch({cancelRefetch:!1}),(c=F(this,zt))==null||c.continue()}addObserver(l){this.observers.includes(l)||(this.observers.push(l),this.clearGcTimeout(),F(this,va).notify({type:"observerAdded",query:this,observer:l}))}removeObserver(l){this.observers.includes(l)&&(this.observers=this.observers.filter(c=>c!==l),this.observers.length||(F(this,zt)&&(F(this,js)?F(this,zt).cancel({revert:!0}):F(this,zt).cancelRetry()),this.scheduleGc()),F(this,va).notify({type:"observerRemoved",query:this,observer:l}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||rt(this,Ca,cn).call(this,{type:"invalidate"})}fetch(l,c){var y,m,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(c!=null&&c.cancelRefetch))this.cancel({silent:!0});else if(F(this,zt))return F(this,zt).continueRetry(),F(this,zt).promise}if(l&&this.setOptions(l),!this.options.queryFn){const x=this.observers.find(E=>E.options.queryFn);x&&this.setOptions(x.options)}const i=new AbortController,u=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Se(this,js,!0),i.signal)})},f=()=>{const x=Bg(this.options,c),E={client:F(this,bs),queryKey:this.queryKey,meta:this.meta};return u(E),Se(this,js,!1),this.options.persister?this.options.persister(x,E,this):x(E)},h={fetchOptions:c,options:this.options,queryKey:this.queryKey,client:F(this,bs),state:this.state,fetchFn:f};u(h),(y=this.options.behavior)==null||y.onFetch(h,this),Se(this,xl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=h.fetchOptions)==null?void 0:m.meta))&&rt(this,Ca,cn).call(this,{type:"fetch",meta:(v=h.fetchOptions)==null?void 0:v.meta});const p=x=>{var E,O,N,A;ad(x)&&x.silent||rt(this,Ca,cn).call(this,{type:"error",error:x}),ad(x)||((O=(E=F(this,va).config).onError)==null||O.call(E,x,this),(A=(N=F(this,va).config).onSettled)==null||A.call(N,this.state.data,x,this)),this.scheduleGc()};return Se(this,zt,Fg({initialPromise:c==null?void 0:c.initialPromise,fn:h.fetchFn,abort:i.abort.bind(i),onSuccess:x=>{var E,O,N,A;if(x===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(T){p(T);return}(O=(E=F(this,va).config).onSuccess)==null||O.call(E,x,this),(A=(N=F(this,va).config).onSettled)==null||A.call(N,x,this.state.error,this),this.scheduleGc()},onError:p,onFail:(x,E)=>{rt(this,Ca,cn).call(this,{type:"failed",failureCount:x,error:E})},onPause:()=>{rt(this,Ca,cn).call(this,{type:"pause"})},onContinue:()=>{rt(this,Ca,cn).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),F(this,zt).start()}},vl=new WeakMap,xl=new WeakMap,va=new WeakMap,bs=new WeakMap,zt=new WeakMap,Br=new WeakMap,js=new WeakMap,Ca=new WeakSet,cn=function(l){const c=i=>{switch(l.type){case"failed":return{...i,fetchFailureCount:l.failureCount,fetchFailureReason:l.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...T1(i.data,this.options),fetchMeta:l.meta??null};case"success":return{...i,data:l.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:l.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!l.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=l.error;return ad(u)&&u.revert&&F(this,xl)?{...F(this,xl),fetchStatus:"idle"}:{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...l.state}}};this.state=c(this.state),At.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),F(this,va).notify({query:this,type:"updated",action:l})})},fg);function T1(n,l){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Hg(l.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function w1(n){const l=typeof n.initialData=="function"?n.initialData():n.initialData,c=l!==void 0,i=c?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:l,dataUpdateCount:0,dataUpdatedAt:c?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"pending",fetchStatus:"idle"}}var qa,hg,A1=(hg=class extends Gr{constructor(l={}){super();_e(this,qa);this.config=l,Se(this,qa,new Map)}build(l,c,i){const u=c.queryKey,f=c.queryHash??Ad(u,c);let h=this.get(f);return h||(h=new E1({client:l,queryKey:u,queryHash:f,options:l.defaultQueryOptions(c),state:i,defaultOptions:l.getQueryDefaults(u)}),this.add(h)),h}add(l){F(this,qa).has(l.queryHash)||(F(this,qa).set(l.queryHash,l),this.notify({type:"added",query:l}))}remove(l){const c=F(this,qa).get(l.queryHash);c&&(l.destroy(),c===l&&F(this,qa).delete(l.queryHash),this.notify({type:"removed",query:l}))}clear(){At.batch(()=>{this.getAll().forEach(l=>{this.remove(l)})})}get(l){return F(this,qa).get(l)}getAll(){return[...F(this,qa).values()]}find(l){const c={exact:!0,...l};return this.getAll().find(i=>kp(c,i))}findAll(l={}){const c=this.getAll();return Object.keys(l).length>0?c.filter(i=>kp(l,i)):c}notify(l){At.batch(()=>{this.listeners.forEach(c=>{c(l)})})}onFocus(){At.batch(()=>{this.getAll().forEach(l=>{l.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(l=>{l.onOnline()})})}},qa=new WeakMap,hg),Ha,It,Ss,Ya,In,mg,C1=(mg=class extends Qg{constructor(l){super();_e(this,Ya);_e(this,Ha);_e(this,It);_e(this,Ss);this.mutationId=l.mutationId,Se(this,It,l.mutationCache),Se(this,Ha,[]),this.state=l.state||Vg(),this.setOptions(l.options),this.scheduleGc()}setOptions(l){this.options=l,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(l){F(this,Ha).includes(l)||(F(this,Ha).push(l),this.clearGcTimeout(),F(this,It).notify({type:"observerAdded",mutation:this,observer:l}))}removeObserver(l){Se(this,Ha,F(this,Ha).filter(c=>c!==l)),this.scheduleGc(),F(this,It).notify({type:"observerRemoved",mutation:this,observer:l})}optionalRemove(){F(this,Ha).length||(this.state.status==="pending"?this.scheduleGc():F(this,It).remove(this))}continue(){var l;return((l=F(this,Ss))==null?void 0:l.continue())??this.execute(this.state.variables)}async execute(l){var u,f,h,p,y,m,v,x,E,O,N,A,T,C,R,D,I,$,Q,ie;Se(this,Ss,Fg({fn:()=>this.options.mutationFn?this.options.mutationFn(l):Promise.reject(new Error("No mutationFn found")),onFail:(oe,W)=>{rt(this,Ya,In).call(this,{type:"failed",failureCount:oe,error:W})},onPause:()=>{rt(this,Ya,In).call(this,{type:"pause"})},onContinue:()=>{rt(this,Ya,In).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,It).canRun(this)}));const c=this.state.status==="pending",i=!F(this,Ss).canStart();try{if(!c){rt(this,Ya,In).call(this,{type:"pending",variables:l,isPaused:i}),await((f=(u=F(this,It).config).onMutate)==null?void 0:f.call(u,l,this));const W=await((p=(h=this.options).onMutate)==null?void 0:p.call(h,l));W!==this.state.context&&rt(this,Ya,In).call(this,{type:"pending",context:W,variables:l,isPaused:i})}const oe=await F(this,Ss).start();return await((m=(y=F(this,It).config).onSuccess)==null?void 0:m.call(y,oe,l,this.state.context,this)),await((x=(v=this.options).onSuccess)==null?void 0:x.call(v,oe,l,this.state.context)),await((O=(E=F(this,It).config).onSettled)==null?void 0:O.call(E,oe,null,this.state.variables,this.state.context,this)),await((A=(N=this.options).onSettled)==null?void 0:A.call(N,oe,null,l,this.state.context)),rt(this,Ya,In).call(this,{type:"success",data:oe}),oe}catch(oe){try{throw await((C=(T=F(this,It).config).onError)==null?void 0:C.call(T,oe,l,this.state.context,this)),await((D=(R=this.options).onError)==null?void 0:D.call(R,oe,l,this.state.context)),await(($=(I=F(this,It).config).onSettled)==null?void 0:$.call(I,void 0,oe,this.state.variables,this.state.context,this)),await((ie=(Q=this.options).onSettled)==null?void 0:ie.call(Q,void 0,oe,l,this.state.context)),oe}finally{rt(this,Ya,In).call(this,{type:"error",error:oe})}}finally{F(this,It).runNext(this)}}},Ha=new WeakMap,It=new WeakMap,Ss=new WeakMap,Ya=new WeakSet,In=function(l){const c=i=>{switch(l.type){case"failed":return{...i,failureCount:l.failureCount,failureReason:l.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:l.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:l.isPaused,status:"pending",variables:l.variables,submittedAt:Date.now()};case"success":return{...i,data:l.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:l.error,failureCount:i.failureCount+1,failureReason:l.error,isPaused:!1,status:"error"}}};this.state=c(this.state),At.batch(()=>{F(this,Ha).forEach(i=>{i.onMutationUpdate(l)}),F(this,It).notify({mutation:this,type:"updated",action:l})})},mg);function Vg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var on,Oa,qr,pg,O1=(pg=class extends Gr{constructor(l={}){super();_e(this,on);_e(this,Oa);_e(this,qr);this.config=l,Se(this,on,new Set),Se(this,Oa,new Map),Se(this,qr,0)}build(l,c,i){const u=new C1({mutationCache:this,mutationId:++cc(this,qr)._,options:l.defaultMutationOptions(c),state:i});return this.add(u),u}add(l){F(this,on).add(l);const c=uc(l);if(typeof c=="string"){const i=F(this,Oa).get(c);i?i.push(l):F(this,Oa).set(c,[l])}this.notify({type:"added",mutation:l})}remove(l){if(F(this,on).delete(l)){const c=uc(l);if(typeof c=="string"){const i=F(this,Oa).get(c);if(i)if(i.length>1){const u=i.indexOf(l);u!==-1&&i.splice(u,1)}else i[0]===l&&F(this,Oa).delete(c)}}this.notify({type:"removed",mutation:l})}canRun(l){const c=uc(l);if(typeof c=="string"){const i=F(this,Oa).get(c),u=i==null?void 0:i.find(f=>f.state.status==="pending");return!u||u===l}else return!0}runNext(l){var i;const c=uc(l);if(typeof c=="string"){const u=(i=F(this,Oa).get(c))==null?void 0:i.find(f=>f!==l&&f.state.isPaused);return(u==null?void 0:u.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{F(this,on).forEach(l=>{this.notify({type:"removed",mutation:l})}),F(this,on).clear(),F(this,Oa).clear()})}getAll(){return Array.from(F(this,on))}find(l){const c={exact:!0,...l};return this.getAll().find(i=>Ip(c,i))}findAll(l={}){return this.getAll().filter(c=>Ip(l,c))}notify(l){At.batch(()=>{this.listeners.forEach(c=>{c(l)})})}resumePausedMutations(){const l=this.getAll().filter(c=>c.state.isPaused);return At.batch(()=>Promise.all(l.map(c=>c.continue().catch(Aa))))}},on=new WeakMap,Oa=new WeakMap,qr=new WeakMap,pg);function uc(n){var l;return(l=n.options.scope)==null?void 0:l.id}function Hp(n){return{onFetch:(l,c)=>{var v,x,E,O,N;const i=l.options,u=(E=(x=(v=l.fetchOptions)==null?void 0:v.meta)==null?void 0:x.fetchMore)==null?void 0:E.direction,f=((O=l.state.data)==null?void 0:O.pages)||[],h=((N=l.state.data)==null?void 0:N.pageParams)||[];let p={pages:[],pageParams:[]},y=0;const m=async()=>{let A=!1;const T=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(l.signal.aborted?A=!0:l.signal.addEventListener("abort",()=>{A=!0}),l.signal)})},C=Bg(l.options,l.fetchOptions),R=async(D,I,$)=>{if(A)return Promise.reject();if(I==null&&D.pages.length)return Promise.resolve(D);const Q={client:l.client,queryKey:l.queryKey,pageParam:I,direction:$?"backward":"forward",meta:l.options.meta};T(Q);const ie=await C(Q),{maxPages:oe}=l.options,W=$?v1:y1;return{pages:W(D.pages,ie,oe),pageParams:W(D.pageParams,I,oe)}};if(u&&f.length){const D=u==="backward",I=D?R1:Yp,$={pages:f,pageParams:h},Q=I(i,$);p=await R($,Q,D)}else{const D=n??f.length;do{const I=y===0?h[0]??i.initialPageParam:Yp(i,p);if(y>0&&I==null)break;p=await R(p,I),y++}while(y<D)}return p};l.options.persister?l.fetchFn=()=>{var A,T;return(T=(A=l.options).persister)==null?void 0:T.call(A,m,{client:l.client,queryKey:l.queryKey,meta:l.options.meta,signal:l.signal},c)}:l.fetchFn=m}}}function Yp(n,{pages:l,pageParams:c}){const i=l.length-1;return l.length>0?n.getNextPageParam(l[i],l,c[i],c):void 0}function R1(n,{pages:l,pageParams:c}){var i;return l.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,l[0],l,c[0],c):void 0}var st,Hn,Yn,bl,jl,Fn,Sl,Nl,gg,D1=(gg=class{constructor(n={}){_e(this,st);_e(this,Hn);_e(this,Yn);_e(this,bl);_e(this,jl);_e(this,Fn);_e(this,Sl);_e(this,Nl);Se(this,st,n.queryCache||new A1),Se(this,Hn,n.mutationCache||new O1),Se(this,Yn,n.defaultOptions||{}),Se(this,bl,new Map),Se(this,jl,new Map),Se(this,Fn,0)}mount(){cc(this,Fn)._++,F(this,Fn)===1&&(Se(this,Sl,qg.subscribe(async n=>{n&&(await this.resumePausedMutations(),F(this,st).onFocus())})),Se(this,Nl,Nc.subscribe(async n=>{n&&(await this.resumePausedMutations(),F(this,st).onOnline())})))}unmount(){var n,l;cc(this,Fn)._--,F(this,Fn)===0&&((n=F(this,Sl))==null||n.call(this),Se(this,Sl,void 0),(l=F(this,Nl))==null||l.call(this),Se(this,Nl,void 0))}isFetching(n){return F(this,st).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return F(this,Hn).findAll({...n,status:"pending"}).length}getQueryData(n){var c;const l=this.defaultQueryOptions({queryKey:n});return(c=F(this,st).get(l.queryHash))==null?void 0:c.state.data}ensureQueryData(n){const l=this.defaultQueryOptions(n),c=F(this,st).build(this,l),i=c.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&c.isStaleByTime(Up(l.staleTime,c))&&this.prefetchQuery(l),Promise.resolve(i))}getQueriesData(n){return F(this,st).findAll(n).map(({queryKey:l,state:c})=>{const i=c.data;return[l,i]})}setQueryData(n,l,c){const i=this.defaultQueryOptions({queryKey:n}),u=F(this,st).get(i.queryHash),f=u==null?void 0:u.state.data,h=u1(l,f);if(h!==void 0)return F(this,st).build(this,i).setData(h,{...c,manual:!0})}setQueriesData(n,l,c){return At.batch(()=>F(this,st).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,l,c)]))}getQueryState(n){var c;const l=this.defaultQueryOptions({queryKey:n});return(c=F(this,st).get(l.queryHash))==null?void 0:c.state}removeQueries(n){const l=F(this,st);At.batch(()=>{l.findAll(n).forEach(c=>{l.remove(c)})})}resetQueries(n,l){const c=F(this,st);return At.batch(()=>(c.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},l)))}cancelQueries(n,l={}){const c={revert:!0,...l},i=At.batch(()=>F(this,st).findAll(n).map(u=>u.cancel(c)));return Promise.all(i).then(Aa).catch(Aa)}invalidateQueries(n,l={}){return At.batch(()=>(F(this,st).findAll(n).forEach(c=>{c.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},l)))}refetchQueries(n,l={}){const c={...l,cancelRefetch:l.cancelRefetch??!0},i=At.batch(()=>F(this,st).findAll(n).filter(u=>!u.isDisabled()).map(u=>{let f=u.fetch(void 0,c);return c.throwOnError||(f=f.catch(Aa)),u.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(i).then(Aa)}fetchQuery(n){const l=this.defaultQueryOptions(n);l.retry===void 0&&(l.retry=!1);const c=F(this,st).build(this,l);return c.isStaleByTime(Up(l.staleTime,c))?c.fetch(l):Promise.resolve(c.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Aa).catch(Aa)}fetchInfiniteQuery(n){return n.behavior=Hp(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Aa).catch(Aa)}ensureInfiniteQueryData(n){return n.behavior=Hp(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Nc.isOnline()?F(this,Hn).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,st)}getMutationCache(){return F(this,Hn)}getDefaultOptions(){return F(this,Yn)}setDefaultOptions(n){Se(this,Yn,n)}setQueryDefaults(n,l){F(this,bl).set(ws(n),{queryKey:n,defaultOptions:l})}getQueryDefaults(n){const l=[...F(this,bl).values()],c={};return l.forEach(i=>{kr(n,i.queryKey)&&Object.assign(c,i.defaultOptions)}),c}setMutationDefaults(n,l){F(this,jl).set(ws(n),{mutationKey:n,defaultOptions:l})}getMutationDefaults(n){const l=[...F(this,jl).values()],c={};return l.forEach(i=>{kr(n,i.mutationKey)&&Object.assign(c,i.defaultOptions)}),c}defaultQueryOptions(n){if(n._defaulted)return n;const l={...F(this,Yn).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return l.queryHash||(l.queryHash=Ad(l.queryKey,l)),l.refetchOnReconnect===void 0&&(l.refetchOnReconnect=l.networkMode!=="always"),l.throwOnError===void 0&&(l.throwOnError=!!l.suspense),!l.networkMode&&l.persister&&(l.networkMode="offlineFirst"),l.queryFn===Cd&&(l.enabled=!1),l}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...F(this,Yn).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){F(this,st).clear(),F(this,Hn).clear()}},st=new WeakMap,Hn=new WeakMap,Yn=new WeakMap,bl=new WeakMap,jl=new WeakMap,Fn=new WeakMap,Sl=new WeakMap,Nl=new WeakMap,gg),Qn,Vn,Vt,un,hn,mc,ud,yg,_1=(yg=class extends Gr{constructor(c,i){super();_e(this,hn);_e(this,Qn);_e(this,Vn);_e(this,Vt);_e(this,un);Se(this,Qn,c),this.setOptions(i),this.bindMethods(),rt(this,hn,mc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(c){var u;const i=this.options;this.options=F(this,Qn).defaultMutationOptions(c),m1(this.options,i)||F(this,Qn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Vt),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&ws(i.mutationKey)!==ws(this.options.mutationKey)?this.reset():((u=F(this,Vt))==null?void 0:u.state.status)==="pending"&&F(this,Vt).setOptions(this.options)}onUnsubscribe(){var c;this.hasListeners()||(c=F(this,Vt))==null||c.removeObserver(this)}onMutationUpdate(c){rt(this,hn,mc).call(this),rt(this,hn,ud).call(this,c)}getCurrentResult(){return F(this,Vn)}reset(){var c;(c=F(this,Vt))==null||c.removeObserver(this),Se(this,Vt,void 0),rt(this,hn,mc).call(this),rt(this,hn,ud).call(this)}mutate(c,i){var u;return Se(this,un,i),(u=F(this,Vt))==null||u.removeObserver(this),Se(this,Vt,F(this,Qn).getMutationCache().build(F(this,Qn),this.options)),F(this,Vt).addObserver(this),F(this,Vt).execute(c)}},Qn=new WeakMap,Vn=new WeakMap,Vt=new WeakMap,un=new WeakMap,hn=new WeakSet,mc=function(){var i;const c=((i=F(this,Vt))==null?void 0:i.state)??Vg();Se(this,Vn,{...c,isPending:c.status==="pending",isSuccess:c.status==="success",isError:c.status==="error",isIdle:c.status==="idle",mutate:this.mutate,reset:this.reset})},ud=function(c){At.batch(()=>{var i,u,f,h,p,y,m,v;if(F(this,un)&&this.hasListeners()){const x=F(this,Vn).variables,E=F(this,Vn).context;(c==null?void 0:c.type)==="success"?((u=(i=F(this,un)).onSuccess)==null||u.call(i,c.data,x,E),(h=(f=F(this,un)).onSettled)==null||h.call(f,c.data,null,x,E)):(c==null?void 0:c.type)==="error"&&((y=(p=F(this,un)).onError)==null||y.call(p,c.error,x,E),(v=(m=F(this,un)).onSettled)==null||v.call(m,void 0,c.error,x,E))}this.listeners.forEach(x=>{x(F(this,Vn))})})},yg),Xg=b.createContext(void 0),Gg=n=>{const l=b.useContext(Xg);if(!l)throw new Error("No QueryClient set, use QueryClientProvider to set one");return l},z1=({client:n,children:l})=>(b.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),r.jsx(Xg.Provider,{value:n,children:l}));function M1(n,l){return typeof n=="function"?n(...l):!!n}function L1(){}function Fp(n,l){const c=Gg(),[i]=b.useState(()=>new _1(c,n));b.useEffect(()=>{i.setOptions(n)},[i,n]);const u=b.useSyncExternalStore(b.useCallback(h=>i.subscribe(At.batchCalls(h)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),f=b.useCallback((h,p)=>{i.mutate(h,p).catch(L1)},[i]);if(u.error&&M1(i.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:f,mutateAsync:u.mutate}}const Qp=n=>{let l;const c=new Set,i=(m,v)=>{const x=typeof m=="function"?m(l):m;if(!Object.is(x,l)){const E=l;l=v??(typeof x!="object"||x===null)?x:Object.assign({},l,x),c.forEach(O=>O(l,E))}},u=()=>l,p={setState:i,getState:u,getInitialState:()=>y,subscribe:m=>(c.add(m),()=>c.delete(m))},y=l=n(i,u,p);return p},U1=n=>n?Qp(n):Qp,k1=n=>n;function I1(n,l=k1){const c=bp.useSyncExternalStore(n.subscribe,()=>l(n.getState()),()=>l(n.getInitialState()));return bp.useDebugValue(c),c}const Vp=n=>{const l=U1(n),c=i=>I1(l,i);return Object.assign(c,l),c},Ol=n=>n?Vp(n):Vp;function $g(n,l){return function(){return n.apply(l,arguments)}}const{toString:B1}=Object.prototype,{getPrototypeOf:Od}=Object,zc=(n=>l=>{const c=B1.call(l);return n[c]||(n[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),_a=n=>(n=n.toLowerCase(),l=>zc(l)===n),Mc=n=>l=>typeof l===n,{isArray:Rl}=Array,Ir=Mc("undefined");function q1(n){return n!==null&&!Ir(n)&&n.constructor!==null&&!Ir(n.constructor)&&na(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Zg=_a("ArrayBuffer");function H1(n){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(n):l=n&&n.buffer&&Zg(n.buffer),l}const Y1=Mc("string"),na=Mc("function"),Kg=Mc("number"),Lc=n=>n!==null&&typeof n=="object",F1=n=>n===!0||n===!1,pc=n=>{if(zc(n)!=="object")return!1;const l=Od(n);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Q1=_a("Date"),V1=_a("File"),X1=_a("Blob"),G1=_a("FileList"),$1=n=>Lc(n)&&na(n.pipe),Z1=n=>{let l;return n&&(typeof FormData=="function"&&n instanceof FormData||na(n.append)&&((l=zc(n))==="formdata"||l==="object"&&na(n.toString)&&n.toString()==="[object FormData]"))},K1=_a("URLSearchParams"),[J1,P1,W1,ej]=["ReadableStream","Request","Response","Headers"].map(_a),tj=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $r(n,l,{allOwnKeys:c=!1}={}){if(n===null||typeof n>"u")return;let i,u;if(typeof n!="object"&&(n=[n]),Rl(n))for(i=0,u=n.length;i<u;i++)l.call(null,n[i],i,n);else{const f=c?Object.getOwnPropertyNames(n):Object.keys(n),h=f.length;let p;for(i=0;i<h;i++)p=f[i],l.call(null,n[p],p,n)}}function Jg(n,l){l=l.toLowerCase();const c=Object.keys(n);let i=c.length,u;for(;i-- >0;)if(u=c[i],l===u.toLowerCase())return u;return null}const ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pg=n=>!Ir(n)&&n!==ys;function dd(){const{caseless:n}=Pg(this)&&this||{},l={},c=(i,u)=>{const f=n&&Jg(l,u)||u;pc(l[f])&&pc(i)?l[f]=dd(l[f],i):pc(i)?l[f]=dd({},i):Rl(i)?l[f]=i.slice():l[f]=i};for(let i=0,u=arguments.length;i<u;i++)arguments[i]&&$r(arguments[i],c);return l}const aj=(n,l,c,{allOwnKeys:i}={})=>($r(l,(u,f)=>{c&&na(u)?n[f]=$g(u,c):n[f]=u},{allOwnKeys:i}),n),nj=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),sj=(n,l,c,i)=>{n.prototype=Object.create(l.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:l.prototype}),c&&Object.assign(n.prototype,c)},lj=(n,l,c,i)=>{let u,f,h;const p={};if(l=l||{},n==null)return l;do{for(u=Object.getOwnPropertyNames(n),f=u.length;f-- >0;)h=u[f],(!i||i(h,n,l))&&!p[h]&&(l[h]=n[h],p[h]=!0);n=c!==!1&&Od(n)}while(n&&(!c||c(n,l))&&n!==Object.prototype);return l},rj=(n,l,c)=>{n=String(n),(c===void 0||c>n.length)&&(c=n.length),c-=l.length;const i=n.indexOf(l,c);return i!==-1&&i===c},ij=n=>{if(!n)return null;if(Rl(n))return n;let l=n.length;if(!Kg(l))return null;const c=new Array(l);for(;l-- >0;)c[l]=n[l];return c},cj=(n=>l=>n&&l instanceof n)(typeof Uint8Array<"u"&&Od(Uint8Array)),oj=(n,l)=>{const i=(n&&n[Symbol.iterator]).call(n);let u;for(;(u=i.next())&&!u.done;){const f=u.value;l.call(n,f[0],f[1])}},uj=(n,l)=>{let c;const i=[];for(;(c=n.exec(l))!==null;)i.push(c);return i},dj=_a("HTMLFormElement"),fj=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,i,u){return i.toUpperCase()+u}),Xp=(({hasOwnProperty:n})=>(l,c)=>n.call(l,c))(Object.prototype),hj=_a("RegExp"),Wg=(n,l)=>{const c=Object.getOwnPropertyDescriptors(n),i={};$r(c,(u,f)=>{let h;(h=l(u,f,n))!==!1&&(i[f]=h||u)}),Object.defineProperties(n,i)},mj=n=>{Wg(n,(l,c)=>{if(na(n)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const i=n[c];if(na(i)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},pj=(n,l)=>{const c={},i=u=>{u.forEach(f=>{c[f]=!0})};return Rl(n)?i(n):i(String(n).split(l)),c},gj=()=>{},yj=(n,l)=>n!=null&&Number.isFinite(n=+n)?n:l;function vj(n){return!!(n&&na(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const xj=n=>{const l=new Array(10),c=(i,u)=>{if(Lc(i)){if(l.indexOf(i)>=0)return;if(!("toJSON"in i)){l[u]=i;const f=Rl(i)?[]:{};return $r(i,(h,p)=>{const y=c(h,u+1);!Ir(y)&&(f[p]=y)}),l[u]=void 0,f}}return i};return c(n,0)},bj=_a("AsyncFunction"),jj=n=>n&&(Lc(n)||na(n))&&na(n.then)&&na(n.catch),ey=((n,l)=>n?setImmediate:l?((c,i)=>(ys.addEventListener("message",({source:u,data:f})=>{u===ys&&f===c&&i.length&&i.shift()()},!1),u=>{i.push(u),ys.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",na(ys.postMessage)),Sj=typeof queueMicrotask<"u"?queueMicrotask.bind(ys):typeof process<"u"&&process.nextTick||ey,G={isArray:Rl,isArrayBuffer:Zg,isBuffer:q1,isFormData:Z1,isArrayBufferView:H1,isString:Y1,isNumber:Kg,isBoolean:F1,isObject:Lc,isPlainObject:pc,isReadableStream:J1,isRequest:P1,isResponse:W1,isHeaders:ej,isUndefined:Ir,isDate:Q1,isFile:V1,isBlob:X1,isRegExp:hj,isFunction:na,isStream:$1,isURLSearchParams:K1,isTypedArray:cj,isFileList:G1,forEach:$r,merge:dd,extend:aj,trim:tj,stripBOM:nj,inherits:sj,toFlatObject:lj,kindOf:zc,kindOfTest:_a,endsWith:rj,toArray:ij,forEachEntry:oj,matchAll:uj,isHTMLForm:dj,hasOwnProperty:Xp,hasOwnProp:Xp,reduceDescriptors:Wg,freezeMethods:mj,toObjectSet:pj,toCamelCase:fj,noop:gj,toFiniteNumber:yj,findKey:Jg,global:ys,isContextDefined:Pg,isSpecCompliantForm:vj,toJSONObject:xj,isAsyncFn:bj,isThenable:jj,setImmediate:ey,asap:Sj};function Te(n,l,c,i,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",l&&(this.code=l),c&&(this.config=c),i&&(this.request=i),u&&(this.response=u,this.status=u.status?u.status:null)}G.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const ty=Te.prototype,ay={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ay[n]={value:n}});Object.defineProperties(Te,ay);Object.defineProperty(ty,"isAxiosError",{value:!0});Te.from=(n,l,c,i,u,f)=>{const h=Object.create(ty);return G.toFlatObject(n,h,function(y){return y!==Error.prototype},p=>p!=="isAxiosError"),Te.call(h,n.message,l,c,i,u),h.cause=n,h.name=n.name,f&&Object.assign(h,f),h};const Nj=null;function fd(n){return G.isPlainObject(n)||G.isArray(n)}function ny(n){return G.endsWith(n,"[]")?n.slice(0,-2):n}function Gp(n,l,c){return n?n.concat(l).map(function(u,f){return u=ny(u),!c&&f?"["+u+"]":u}).join(c?".":""):l}function Ej(n){return G.isArray(n)&&!n.some(fd)}const Tj=G.toFlatObject(G,{},null,function(l){return/^is[A-Z]/.test(l)});function Uc(n,l,c){if(!G.isObject(n))throw new TypeError("target must be an object");l=l||new FormData,c=G.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,T){return!G.isUndefined(T[A])});const i=c.metaTokens,u=c.visitor||v,f=c.dots,h=c.indexes,y=(c.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(l);if(!G.isFunction(u))throw new TypeError("visitor must be a function");function m(N){if(N===null)return"";if(G.isDate(N))return N.toISOString();if(!y&&G.isBlob(N))throw new Te("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(N)||G.isTypedArray(N)?y&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,A,T){let C=N;if(N&&!T&&typeof N=="object"){if(G.endsWith(A,"{}"))A=i?A:A.slice(0,-2),N=JSON.stringify(N);else if(G.isArray(N)&&Ej(N)||(G.isFileList(N)||G.endsWith(A,"[]"))&&(C=G.toArray(N)))return A=ny(A),C.forEach(function(D,I){!(G.isUndefined(D)||D===null)&&l.append(h===!0?Gp([A],I,f):h===null?A:A+"[]",m(D))}),!1}return fd(N)?!0:(l.append(Gp(T,A,f),m(N)),!1)}const x=[],E=Object.assign(Tj,{defaultVisitor:v,convertValue:m,isVisitable:fd});function O(N,A){if(!G.isUndefined(N)){if(x.indexOf(N)!==-1)throw Error("Circular reference detected in "+A.join("."));x.push(N),G.forEach(N,function(C,R){(!(G.isUndefined(C)||C===null)&&u.call(l,C,G.isString(R)?R.trim():R,A,E))===!0&&O(C,A?A.concat(R):[R])}),x.pop()}}if(!G.isObject(n))throw new TypeError("data must be an object");return O(n),l}function $p(n){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return l[i]})}function Rd(n,l){this._pairs=[],n&&Uc(n,this,l)}const sy=Rd.prototype;sy.append=function(l,c){this._pairs.push([l,c])};sy.toString=function(l){const c=l?function(i){return l.call(this,i,$p)}:$p;return this._pairs.map(function(u){return c(u[0])+"="+c(u[1])},"").join("&")};function wj(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ly(n,l,c){if(!l)return n;const i=c&&c.encode||wj;G.isFunction(c)&&(c={serialize:c});const u=c&&c.serialize;let f;if(u?f=u(l,c):f=G.isURLSearchParams(l)?l.toString():new Rd(l,c).toString(i),f){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+f}return n}class Zp{constructor(){this.handlers=[]}use(l,c,i){return this.handlers.push({fulfilled:l,rejected:c,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){G.forEach(this.handlers,function(i){i!==null&&l(i)})}}const ry={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Aj=typeof URLSearchParams<"u"?URLSearchParams:Rd,Cj=typeof FormData<"u"?FormData:null,Oj=typeof Blob<"u"?Blob:null,Rj={isBrowser:!0,classes:{URLSearchParams:Aj,FormData:Cj,Blob:Oj},protocols:["http","https","file","blob","url","data"]},Dd=typeof window<"u"&&typeof document<"u",hd=typeof navigator=="object"&&navigator||void 0,Dj=Dd&&(!hd||["ReactNative","NativeScript","NS"].indexOf(hd.product)<0),_j=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zj=Dd&&window.location.href||"http://localhost",Mj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dd,hasStandardBrowserEnv:Dj,hasStandardBrowserWebWorkerEnv:_j,navigator:hd,origin:zj},Symbol.toStringTag,{value:"Module"})),Lt={...Mj,...Rj};function Lj(n,l){return Uc(n,new Lt.classes.URLSearchParams,Object.assign({visitor:function(c,i,u,f){return Lt.isNode&&G.isBuffer(c)?(this.append(i,c.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},l))}function Uj(n){return G.matchAll(/\w+|\[(\w*)]/g,n).map(l=>l[0]==="[]"?"":l[1]||l[0])}function kj(n){const l={},c=Object.keys(n);let i;const u=c.length;let f;for(i=0;i<u;i++)f=c[i],l[f]=n[f];return l}function iy(n){function l(c,i,u,f){let h=c[f++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),y=f>=c.length;return h=!h&&G.isArray(u)?u.length:h,y?(G.hasOwnProp(u,h)?u[h]=[u[h],i]:u[h]=i,!p):((!u[h]||!G.isObject(u[h]))&&(u[h]=[]),l(c,i,u[h],f)&&G.isArray(u[h])&&(u[h]=kj(u[h])),!p)}if(G.isFormData(n)&&G.isFunction(n.entries)){const c={};return G.forEachEntry(n,(i,u)=>{l(Uj(i),u,c,0)}),c}return null}function Ij(n,l,c){if(G.isString(n))try{return(l||JSON.parse)(n),G.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(c||JSON.stringify)(n)}const Zr={transitional:ry,adapter:["xhr","http","fetch"],transformRequest:[function(l,c){const i=c.getContentType()||"",u=i.indexOf("application/json")>-1,f=G.isObject(l);if(f&&G.isHTMLForm(l)&&(l=new FormData(l)),G.isFormData(l))return u?JSON.stringify(iy(l)):l;if(G.isArrayBuffer(l)||G.isBuffer(l)||G.isStream(l)||G.isFile(l)||G.isBlob(l)||G.isReadableStream(l))return l;if(G.isArrayBufferView(l))return l.buffer;if(G.isURLSearchParams(l))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let p;if(f){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Lj(l,this.formSerializer).toString();if((p=G.isFileList(l))||i.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Uc(p?{"files[]":l}:l,y&&new y,this.formSerializer)}}return f||u?(c.setContentType("application/json",!1),Ij(l)):l}],transformResponse:[function(l){const c=this.transitional||Zr.transitional,i=c&&c.forcedJSONParsing,u=this.responseType==="json";if(G.isResponse(l)||G.isReadableStream(l))return l;if(l&&G.isString(l)&&(i&&!this.responseType||u)){const h=!(c&&c.silentJSONParsing)&&u;try{return JSON.parse(l)}catch(p){if(h)throw p.name==="SyntaxError"?Te.from(p,Te.ERR_BAD_RESPONSE,this,null,this.response):p}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],n=>{Zr.headers[n]={}});const Bj=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qj=n=>{const l={};let c,i,u;return n&&n.split(`
`).forEach(function(h){u=h.indexOf(":"),c=h.substring(0,u).trim().toLowerCase(),i=h.substring(u+1).trim(),!(!c||l[c]&&Bj[c])&&(c==="set-cookie"?l[c]?l[c].push(i):l[c]=[i]:l[c]=l[c]?l[c]+", "+i:i)}),l},Kp=Symbol("internals");function _r(n){return n&&String(n).trim().toLowerCase()}function gc(n){return n===!1||n==null?n:G.isArray(n)?n.map(gc):String(n)}function Hj(n){const l=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=c.exec(n);)l[i[1]]=i[2];return l}const Yj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function nd(n,l,c,i,u){if(G.isFunction(i))return i.call(this,l,c);if(u&&(l=c),!!G.isString(l)){if(G.isString(i))return l.indexOf(i)!==-1;if(G.isRegExp(i))return i.test(l)}}function Fj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,c,i)=>c.toUpperCase()+i)}function Qj(n,l){const c=G.toCamelCase(" "+l);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+c,{value:function(u,f,h){return this[i].call(this,l,u,f,h)},configurable:!0})})}let $t=class{constructor(l){l&&this.set(l)}set(l,c,i){const u=this;function f(p,y,m){const v=_r(y);if(!v)throw new Error("header name must be a non-empty string");const x=G.findKey(u,v);(!x||u[x]===void 0||m===!0||m===void 0&&u[x]!==!1)&&(u[x||y]=gc(p))}const h=(p,y)=>G.forEach(p,(m,v)=>f(m,v,y));if(G.isPlainObject(l)||l instanceof this.constructor)h(l,c);else if(G.isString(l)&&(l=l.trim())&&!Yj(l))h(qj(l),c);else if(G.isHeaders(l))for(const[p,y]of l.entries())f(y,p,i);else l!=null&&f(c,l,i);return this}get(l,c){if(l=_r(l),l){const i=G.findKey(this,l);if(i){const u=this[i];if(!c)return u;if(c===!0)return Hj(u);if(G.isFunction(c))return c.call(this,u,i);if(G.isRegExp(c))return c.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,c){if(l=_r(l),l){const i=G.findKey(this,l);return!!(i&&this[i]!==void 0&&(!c||nd(this,this[i],i,c)))}return!1}delete(l,c){const i=this;let u=!1;function f(h){if(h=_r(h),h){const p=G.findKey(i,h);p&&(!c||nd(i,i[p],p,c))&&(delete i[p],u=!0)}}return G.isArray(l)?l.forEach(f):f(l),u}clear(l){const c=Object.keys(this);let i=c.length,u=!1;for(;i--;){const f=c[i];(!l||nd(this,this[f],f,l,!0))&&(delete this[f],u=!0)}return u}normalize(l){const c=this,i={};return G.forEach(this,(u,f)=>{const h=G.findKey(i,f);if(h){c[h]=gc(u),delete c[f];return}const p=l?Fj(f):String(f).trim();p!==f&&delete c[f],c[p]=gc(u),i[p]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const c=Object.create(null);return G.forEach(this,(i,u)=>{i!=null&&i!==!1&&(c[u]=l&&G.isArray(i)?i.join(", "):i)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,c])=>l+": "+c).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...c){const i=new this(l);return c.forEach(u=>i.set(u)),i}static accessor(l){const i=(this[Kp]=this[Kp]={accessors:{}}).accessors,u=this.prototype;function f(h){const p=_r(h);i[p]||(Qj(u,h),i[p]=!0)}return G.isArray(l)?l.forEach(f):f(l),this}};$t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors($t.prototype,({value:n},l)=>{let c=l[0].toUpperCase()+l.slice(1);return{get:()=>n,set(i){this[c]=i}}});G.freezeMethods($t);function sd(n,l){const c=this||Zr,i=l||c,u=$t.from(i.headers);let f=i.data;return G.forEach(n,function(p){f=p.call(c,f,u.normalize(),l?l.status:void 0)}),u.normalize(),f}function cy(n){return!!(n&&n.__CANCEL__)}function Dl(n,l,c){Te.call(this,n??"canceled",Te.ERR_CANCELED,l,c),this.name="CanceledError"}G.inherits(Dl,Te,{__CANCEL__:!0});function oy(n,l,c){const i=c.config.validateStatus;!c.status||!i||i(c.status)?n(c):l(new Te("Request failed with status code "+c.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Vj(n){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return l&&l[1]||""}function Xj(n,l){n=n||10;const c=new Array(n),i=new Array(n);let u=0,f=0,h;return l=l!==void 0?l:1e3,function(y){const m=Date.now(),v=i[f];h||(h=m),c[u]=y,i[u]=m;let x=f,E=0;for(;x!==u;)E+=c[x++],x=x%n;if(u=(u+1)%n,u===f&&(f=(f+1)%n),m-h<l)return;const O=v&&m-v;return O?Math.round(E*1e3/O):void 0}}function Gj(n,l){let c=0,i=1e3/l,u,f;const h=(m,v=Date.now())=>{c=v,u=null,f&&(clearTimeout(f),f=null),n.apply(null,m)};return[(...m)=>{const v=Date.now(),x=v-c;x>=i?h(m,v):(u=m,f||(f=setTimeout(()=>{f=null,h(u)},i-x)))},()=>u&&h(u)]}const Ec=(n,l,c=3)=>{let i=0;const u=Xj(50,250);return Gj(f=>{const h=f.loaded,p=f.lengthComputable?f.total:void 0,y=h-i,m=u(y),v=h<=p;i=h;const x={loaded:h,total:p,progress:p?h/p:void 0,bytes:y,rate:m||void 0,estimated:m&&p&&v?(p-h)/m:void 0,event:f,lengthComputable:p!=null,[l?"download":"upload"]:!0};n(x)},c)},Jp=(n,l)=>{const c=n!=null;return[i=>l[0]({lengthComputable:c,total:n,loaded:i}),l[1]]},Pp=n=>(...l)=>G.asap(()=>n(...l)),$j=Lt.hasStandardBrowserEnv?((n,l)=>c=>(c=new URL(c,Lt.origin),n.protocol===c.protocol&&n.host===c.host&&(l||n.port===c.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,Zj=Lt.hasStandardBrowserEnv?{write(n,l,c,i,u,f){const h=[n+"="+encodeURIComponent(l)];G.isNumber(c)&&h.push("expires="+new Date(c).toGMTString()),G.isString(i)&&h.push("path="+i),G.isString(u)&&h.push("domain="+u),f===!0&&h.push("secure"),document.cookie=h.join("; ")},read(n){const l=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kj(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Jj(n,l){return l?n.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):n}function uy(n,l,c){let i=!Kj(l);return n&&(i||c==!1)?Jj(n,l):l}const Wp=n=>n instanceof $t?{...n}:n;function As(n,l){l=l||{};const c={};function i(m,v,x,E){return G.isPlainObject(m)&&G.isPlainObject(v)?G.merge.call({caseless:E},m,v):G.isPlainObject(v)?G.merge({},v):G.isArray(v)?v.slice():v}function u(m,v,x,E){if(G.isUndefined(v)){if(!G.isUndefined(m))return i(void 0,m,x,E)}else return i(m,v,x,E)}function f(m,v){if(!G.isUndefined(v))return i(void 0,v)}function h(m,v){if(G.isUndefined(v)){if(!G.isUndefined(m))return i(void 0,m)}else return i(void 0,v)}function p(m,v,x){if(x in l)return i(m,v);if(x in n)return i(void 0,m)}const y={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(m,v,x)=>u(Wp(m),Wp(v),x,!0)};return G.forEach(Object.keys(Object.assign({},n,l)),function(v){const x=y[v]||u,E=x(n[v],l[v],v);G.isUndefined(E)&&x!==p||(c[v]=E)}),c}const dy=n=>{const l=As({},n);let{data:c,withXSRFToken:i,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:p}=l;l.headers=h=$t.from(h),l.url=ly(uy(l.baseURL,l.url,l.allowAbsoluteUrls),n.params,n.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let y;if(G.isFormData(c)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((y=h.getContentType())!==!1){const[m,...v]=y?y.split(";").map(x=>x.trim()).filter(Boolean):[];h.setContentType([m||"multipart/form-data",...v].join("; "))}}if(Lt.hasStandardBrowserEnv&&(i&&G.isFunction(i)&&(i=i(l)),i||i!==!1&&$j(l.url))){const m=u&&f&&Zj.read(f);m&&h.set(u,m)}return l},Pj=typeof XMLHttpRequest<"u",Wj=Pj&&function(n){return new Promise(function(c,i){const u=dy(n);let f=u.data;const h=$t.from(u.headers).normalize();let{responseType:p,onUploadProgress:y,onDownloadProgress:m}=u,v,x,E,O,N;function A(){O&&O(),N&&N(),u.cancelToken&&u.cancelToken.unsubscribe(v),u.signal&&u.signal.removeEventListener("abort",v)}let T=new XMLHttpRequest;T.open(u.method.toUpperCase(),u.url,!0),T.timeout=u.timeout;function C(){if(!T)return;const D=$t.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),$={data:!p||p==="text"||p==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:D,config:n,request:T};oy(function(ie){c(ie),A()},function(ie){i(ie),A()},$),T=null}"onloadend"in T?T.onloadend=C:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(C)},T.onabort=function(){T&&(i(new Te("Request aborted",Te.ECONNABORTED,n,T)),T=null)},T.onerror=function(){i(new Te("Network Error",Te.ERR_NETWORK,n,T)),T=null},T.ontimeout=function(){let I=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const $=u.transitional||ry;u.timeoutErrorMessage&&(I=u.timeoutErrorMessage),i(new Te(I,$.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,n,T)),T=null},f===void 0&&h.setContentType(null),"setRequestHeader"in T&&G.forEach(h.toJSON(),function(I,$){T.setRequestHeader($,I)}),G.isUndefined(u.withCredentials)||(T.withCredentials=!!u.withCredentials),p&&p!=="json"&&(T.responseType=u.responseType),m&&([E,N]=Ec(m,!0),T.addEventListener("progress",E)),y&&T.upload&&([x,O]=Ec(y),T.upload.addEventListener("progress",x),T.upload.addEventListener("loadend",O)),(u.cancelToken||u.signal)&&(v=D=>{T&&(i(!D||D.type?new Dl(null,n,T):D),T.abort(),T=null)},u.cancelToken&&u.cancelToken.subscribe(v),u.signal&&(u.signal.aborted?v():u.signal.addEventListener("abort",v)));const R=Vj(u.url);if(R&&Lt.protocols.indexOf(R)===-1){i(new Te("Unsupported protocol "+R+":",Te.ERR_BAD_REQUEST,n));return}T.send(f||null)})},eS=(n,l)=>{const{length:c}=n=n?n.filter(Boolean):[];if(l||c){let i=new AbortController,u;const f=function(m){if(!u){u=!0,p();const v=m instanceof Error?m:this.reason;i.abort(v instanceof Te?v:new Dl(v instanceof Error?v.message:v))}};let h=l&&setTimeout(()=>{h=null,f(new Te(`timeout ${l} of ms exceeded`,Te.ETIMEDOUT))},l);const p=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(f):m.removeEventListener("abort",f)}),n=null)};n.forEach(m=>m.addEventListener("abort",f));const{signal:y}=i;return y.unsubscribe=()=>G.asap(p),y}},tS=function*(n,l){let c=n.byteLength;if(c<l){yield n;return}let i=0,u;for(;i<c;)u=i+l,yield n.slice(i,u),i=u},aS=async function*(n,l){for await(const c of nS(n))yield*tS(c,l)},nS=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const l=n.getReader();try{for(;;){const{done:c,value:i}=await l.read();if(c)break;yield i}}finally{await l.cancel()}},eg=(n,l,c,i)=>{const u=aS(n,l);let f=0,h,p=y=>{h||(h=!0,i&&i(y))};return new ReadableStream({async pull(y){try{const{done:m,value:v}=await u.next();if(m){p(),y.close();return}let x=v.byteLength;if(c){let E=f+=x;c(E)}y.enqueue(new Uint8Array(v))}catch(m){throw p(m),m}},cancel(y){return p(y),u.return()}},{highWaterMark:2})},kc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fy=kc&&typeof ReadableStream=="function",sS=kc&&(typeof TextEncoder=="function"?(n=>l=>n.encode(l))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),hy=(n,...l)=>{try{return!!n(...l)}catch{return!1}},lS=fy&&hy(()=>{let n=!1;const l=new Request(Lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!l}),tg=64*1024,md=fy&&hy(()=>G.isReadableStream(new Response("").body)),Tc={stream:md&&(n=>n.body)};kc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(l=>{!Tc[l]&&(Tc[l]=G.isFunction(n[l])?c=>c[l]():(c,i)=>{throw new Te(`Response type '${l}' is not supported`,Te.ERR_NOT_SUPPORT,i)})})})(new Response);const rS=async n=>{if(n==null)return 0;if(G.isBlob(n))return n.size;if(G.isSpecCompliantForm(n))return(await new Request(Lt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(G.isArrayBufferView(n)||G.isArrayBuffer(n))return n.byteLength;if(G.isURLSearchParams(n)&&(n=n+""),G.isString(n))return(await sS(n)).byteLength},iS=async(n,l)=>{const c=G.toFiniteNumber(n.getContentLength());return c??rS(l)},cS=kc&&(async n=>{let{url:l,method:c,data:i,signal:u,cancelToken:f,timeout:h,onDownloadProgress:p,onUploadProgress:y,responseType:m,headers:v,withCredentials:x="same-origin",fetchOptions:E}=dy(n);m=m?(m+"").toLowerCase():"text";let O=eS([u,f&&f.toAbortSignal()],h),N;const A=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let T;try{if(y&&lS&&c!=="get"&&c!=="head"&&(T=await iS(v,i))!==0){let $=new Request(l,{method:"POST",body:i,duplex:"half"}),Q;if(G.isFormData(i)&&(Q=$.headers.get("content-type"))&&v.setContentType(Q),$.body){const[ie,oe]=Jp(T,Ec(Pp(y)));i=eg($.body,tg,ie,oe)}}G.isString(x)||(x=x?"include":"omit");const C="credentials"in Request.prototype;N=new Request(l,{...E,signal:O,method:c.toUpperCase(),headers:v.normalize().toJSON(),body:i,duplex:"half",credentials:C?x:void 0});let R=await fetch(N);const D=md&&(m==="stream"||m==="response");if(md&&(p||D&&A)){const $={};["status","statusText","headers"].forEach(W=>{$[W]=R[W]});const Q=G.toFiniteNumber(R.headers.get("content-length")),[ie,oe]=p&&Jp(Q,Ec(Pp(p),!0))||[];R=new Response(eg(R.body,tg,ie,()=>{oe&&oe(),A&&A()}),$)}m=m||"text";let I=await Tc[G.findKey(Tc,m)||"text"](R,n);return!D&&A&&A(),await new Promise(($,Q)=>{oy($,Q,{data:I,headers:$t.from(R.headers),status:R.status,statusText:R.statusText,config:n,request:N})})}catch(C){throw A&&A(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,n,N),{cause:C.cause||C}):Te.from(C,C&&C.code,n,N)}}),pd={http:Nj,xhr:Wj,fetch:cS};G.forEach(pd,(n,l)=>{if(n){try{Object.defineProperty(n,"name",{value:l})}catch{}Object.defineProperty(n,"adapterName",{value:l})}});const ag=n=>`- ${n}`,oS=n=>G.isFunction(n)||n===null||n===!1,my={getAdapter:n=>{n=G.isArray(n)?n:[n];const{length:l}=n;let c,i;const u={};for(let f=0;f<l;f++){c=n[f];let h;if(i=c,!oS(c)&&(i=pd[(h=String(c)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${h}'`);if(i)break;u[h||"#"+f]=i}if(!i){const f=Object.entries(u).map(([p,y])=>`adapter ${p} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=l?f.length>1?`since :
`+f.map(ag).join(`
`):" "+ag(f[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:pd};function ld(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Dl(null,n)}function ng(n){return ld(n),n.headers=$t.from(n.headers),n.data=sd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),my.getAdapter(n.adapter||Zr.adapter)(n).then(function(i){return ld(n),i.data=sd.call(n,n.transformResponse,i),i.headers=$t.from(i.headers),i},function(i){return cy(i)||(ld(n),i&&i.response&&(i.response.data=sd.call(n,n.transformResponse,i.response),i.response.headers=$t.from(i.response.headers))),Promise.reject(i)})}const py="1.8.4",Ic={};["object","boolean","number","function","string","symbol"].forEach((n,l)=>{Ic[n]=function(i){return typeof i===n||"a"+(l<1?"n ":" ")+n}});const sg={};Ic.transitional=function(l,c,i){function u(f,h){return"[Axios v"+py+"] Transitional option '"+f+"'"+h+(i?". "+i:"")}return(f,h,p)=>{if(l===!1)throw new Te(u(h," has been removed"+(c?" in "+c:"")),Te.ERR_DEPRECATED);return c&&!sg[h]&&(sg[h]=!0,console.warn(u(h," has been deprecated since v"+c+" and will be removed in the near future"))),l?l(f,h,p):!0}};Ic.spelling=function(l){return(c,i)=>(console.warn(`${i} is likely a misspelling of ${l}`),!0)};function uS(n,l,c){if(typeof n!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let u=i.length;for(;u-- >0;){const f=i[u],h=l[f];if(h){const p=n[f],y=p===void 0||h(p,f,n);if(y!==!0)throw new Te("option "+f+" must be "+y,Te.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new Te("Unknown option "+f,Te.ERR_BAD_OPTION)}}const yc={assertOptions:uS,validators:Ic},Ba=yc.validators;let Es=class{constructor(l){this.defaults=l,this.interceptors={request:new Zp,response:new Zp}}async request(l,c){try{return await this._request(l,c)}catch(i){if(i instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{i.stack?f&&!String(i.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+f):i.stack=f}catch{}}throw i}}_request(l,c){typeof l=="string"?(c=c||{},c.url=l):c=l||{},c=As(this.defaults,c);const{transitional:i,paramsSerializer:u,headers:f}=c;i!==void 0&&yc.assertOptions(i,{silentJSONParsing:Ba.transitional(Ba.boolean),forcedJSONParsing:Ba.transitional(Ba.boolean),clarifyTimeoutError:Ba.transitional(Ba.boolean)},!1),u!=null&&(G.isFunction(u)?c.paramsSerializer={serialize:u}:yc.assertOptions(u,{encode:Ba.function,serialize:Ba.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),yc.assertOptions(c,{baseUrl:Ba.spelling("baseURL"),withXsrfToken:Ba.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let h=f&&G.merge(f.common,f[c.method]);f&&G.forEach(["delete","get","head","post","put","patch","common"],N=>{delete f[N]}),c.headers=$t.concat(h,f);const p=[];let y=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(c)===!1||(y=y&&A.synchronous,p.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let v,x=0,E;if(!y){const N=[ng.bind(this),void 0];for(N.unshift.apply(N,p),N.push.apply(N,m),E=N.length,v=Promise.resolve(c);x<E;)v=v.then(N[x++],N[x++]);return v}E=p.length;let O=c;for(x=0;x<E;){const N=p[x++],A=p[x++];try{O=N(O)}catch(T){A.call(this,T);break}}try{v=ng.call(this,O)}catch(N){return Promise.reject(N)}for(x=0,E=m.length;x<E;)v=v.then(m[x++],m[x++]);return v}getUri(l){l=As(this.defaults,l);const c=uy(l.baseURL,l.url,l.allowAbsoluteUrls);return ly(c,l.params,l.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(l){Es.prototype[l]=function(c,i){return this.request(As(i||{},{method:l,url:c,data:(i||{}).data}))}});G.forEach(["post","put","patch"],function(l){function c(i){return function(f,h,p){return this.request(As(p||{},{method:l,headers:i?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}Es.prototype[l]=c(),Es.prototype[l+"Form"]=c(!0)});let dS=class gy{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(f){c=f});const i=this;this.promise.then(u=>{if(!i._listeners)return;let f=i._listeners.length;for(;f-- >0;)i._listeners[f](u);i._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(p=>{i.subscribe(p),f=p}).then(u);return h.cancel=function(){i.unsubscribe(f)},h},l(function(f,h,p){i.reason||(i.reason=new Dl(f,h,p),c(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const c=this._listeners.indexOf(l);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const l=new AbortController,c=i=>{l.abort(i)};return this.subscribe(c),l.signal.unsubscribe=()=>this.unsubscribe(c),l.signal}static source(){let l;return{token:new gy(function(u){l=u}),cancel:l}}};function fS(n){return function(c){return n.apply(null,c)}}function hS(n){return G.isObject(n)&&n.isAxiosError===!0}const gd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gd).forEach(([n,l])=>{gd[l]=n});function yy(n){const l=new Es(n),c=$g(Es.prototype.request,l);return G.extend(c,Es.prototype,l,{allOwnKeys:!0}),G.extend(c,l,null,{allOwnKeys:!0}),c.create=function(u){return yy(As(n,u))},c}const it=yy(Zr);it.Axios=Es;it.CanceledError=Dl;it.CancelToken=dS;it.isCancel=cy;it.VERSION=py;it.toFormData=Uc;it.AxiosError=Te;it.Cancel=it.CanceledError;it.all=function(l){return Promise.all(l)};it.spread=fS;it.isAxiosError=hS;it.mergeConfig=As;it.AxiosHeaders=$t;it.formToJSON=n=>iy(G.isHTMLForm(n)?new FormData(n):n);it.getAdapter=my.getAdapter;it.HttpStatusCode=gd;it.default=it;const{Axios:dN,AxiosError:fN,CanceledError:hN,isCancel:mN,CancelToken:pN,VERSION:gN,all:yN,Cancel:vN,isAxiosError:xN,spread:bN,toFormData:jN,AxiosHeaders:SN,HttpStatusCode:NN,formToJSON:EN,getAdapter:TN,mergeConfig:wN}=it,mS="/api/",zr=it.create({baseURL:mS,withCredentials:!0,timeout:15e3});zr.interceptors.request.use(n=>{const l=localStorage.getItem("accessToken");return l&&(n.headers.Authorization=`Bearer ${l}`),n},n=>Promise.reject(n));zr.interceptors.response.use(n=>n,async n=>{var c;const l=n.config;if(!l||l._retry)return Promise.reject(n);if(((c=n.response)==null?void 0:c.status)===401)try{l._retry=!0;const i=await zr.post("/auth/refresh"),{accessToken:u}=i.data;return localStorage.setItem("accessToken",u),l.headers.Authorization=`Bearer ${u}`,zr(l)}catch(i){return localStorage.removeItem("accessToken"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(i)}return Promise.reject(n)});const Re={async get(n,l=null,c={}){return dc("GET",n,null,l,c)},async post(n,l=null,c={}){return dc("POST",n,l,null,c)},async put(n,l=null,c={}){return dc("PUT",n,l,null,c)},async delete(n,l=null,c={}){return dc("DELETE",n,l,null,c)}};async function dc(n,l,c=null,i=null,u={}){var f;try{return(await zr({method:n,url:l,data:c,params:i,...u})).data}catch(h){if(console.error(`Error ${n} ${l}:`,h),h.response){const p=((f=h.response.data)==null?void 0:f.error)||"Server error";throw new Error(p)}else throw h.request?new Error("Network error - no response received"):new Error("Error setting up the request")}}const wc=Ol(n=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,initialize:()=>{const l=localStorage.getItem("user"),c=localStorage.getItem("accessToken");if(l&&c)try{const i=JSON.parse(l);n({user:i,isAuthenticated:!0})}catch{localStorage.removeItem("user"),localStorage.removeItem("accessToken")}},login:async(l,c)=>{n({isLoading:!0,error:null});try{const i=await Re.post("auth/login",{email:l,password:c});return localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("user",JSON.stringify(i.teacher)),n({user:i.teacher,isAuthenticated:!0,isLoading:!1}),i.teacher}catch(i){const u=i instanceof Error?i.message:"Login failed";throw n({error:u,isLoading:!1}),i}},logout:async()=>{n({isLoading:!0});try{await Re.post("auth/logout")}catch(l){console.error("Logout failed:",l)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("user"),n({user:null,isAuthenticated:!1,isLoading:!1})}},clearError:()=>{n({error:null})}}));function $n(){var A;const n=Gg(),l=ja(),{user:c,isAuthenticated:i,isLoading:u,error:f,login:h,logout:p,clearError:y}=wc(),m=Fp({mutationFn:T=>h(T.email,T.password),onSuccess:()=>{n.invalidateQueries({queryKey:["user"]}),l("/dashboard")}}),v=Fp({mutationFn:()=>p(),onSuccess:()=>{n.clear(),l("/login")}});function x(T,C){return y(),m.mutate({email:T,password:C})}function E(){return v.mutate()}const O=u||m.isPending||v.isPending,N=f||((A=m.error)==null?void 0:A.message)||void 0;return{user:c,isAuthenticated:i,isLoading:O,error:N,login:x,logout:E,clearError:y}}const vy=b.createContext(void 0);function pS({children:n}){const[l,c]=b.useState(()=>{const u=localStorage.getItem("theme");return u||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});b.useEffect(()=>{document.documentElement.setAttribute("data-theme",l),localStorage.setItem("theme",l)},[l]),b.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),f=h=>{localStorage.getItem("theme")||c(h.matches?"dark":"light")};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[]);const i=()=>{c(u=>u==="light"?"dark":"light")};return r.jsx(vy.Provider,{value:{theme:l,toggleTheme:i},children:n})}function xy(){const n=b.useContext(vy);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}function gS(){const[n,l]=b.useState(""),[c,i]=b.useState(""),{login:u,isAuthenticated:f,isLoading:h,error:p,clearError:y}=$n(),{theme:m,toggleTheme:v}=xy();if(f)return r.jsx(jc,{to:"/dashboard",replace:!0});function x(N){N.preventDefault(),!(!n||!c)&&u(n,c)}function E(N){y(),l(N.target.value)}function O(N){y(),i(N.target.value)}return r.jsx("div",{className:"login-page",children:r.jsxs("div",{className:"login-form",children:[r.jsx("button",{className:"theme-toggle",onClick:v,"aria-label":"Toggle theme",children:m==="dark"?r.jsx(kg,{className:"icon"}):r.jsx(Ug,{className:"icon"})}),r.jsx("h1",{children:""}),p&&r.jsx("div",{className:"error-message",children:p}),r.jsxs("form",{className:"form-section",onSubmit:x,children:[r.jsxs("div",{className:"input-container",children:[r.jsx("input",{type:"email",id:"email",className:n?"has-value":"",placeholder:"",autoComplete:"off",required:!0,value:n,onChange:E}),r.jsx("label",{htmlFor:"email",children:""}),r.jsx(Ns,{className:"input-icon"})]}),r.jsxs("div",{className:"input-container",children:[r.jsx("input",{type:"password",id:"password",className:c?"has-value":"",placeholder:"",required:!0,value:c,onChange:O}),r.jsx("label",{htmlFor:"password",children:""}),r.jsx(Yb,{className:"input-icon"})]}),r.jsx("button",{className:"btn",type:"submit",disabled:h,children:h?"...":""}),r.jsxs("div",{className:"forgot-password",children:[r.jsx("p",{children:" ?"}),r.jsx("a",{href:"#",children:" "})]})]})]})})}const yS=["Workshop","Seminar","Conference","Networking Event","Other"],vS=["Morning (9AM - 12PM)","Afternoon (1PM - 4PM)","Evening (5PM - 8PM)"];function xS(){const[n,l]=b.useState({firstName:"",lastName:"",email:"",phone:"",topic:"",preferredSlot:""}),[c,i]=b.useState(!1),u=h=>{const{name:p,value:y}=h.target;l(m=>({...m,[p]:y}))},f=async h=>{h.preventDefault(),i(!0);try{await new Promise(p=>setTimeout(p,1e3)),l({firstName:"",lastName:"",email:"",phone:"",topic:"",preferredSlot:""}),alert("Registration successful!")}catch{alert("Registration failed. Please try again.")}finally{i(!1)}};return r.jsx("div",{className:"event-registration-page",children:r.jsxs("div",{className:"glass-form",children:[r.jsx("h2",{children:"Event Registration"}),r.jsx("p",{children:"Register with us to get more details."}),r.jsxs("form",{onSubmit:f,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Name"}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",name:"firstName",value:n.firstName,onChange:u,placeholder:"First",required:!0})}),r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:u,placeholder:"Last",required:!0})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Email"}),r.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,placeholder:"email@example.com",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:u,placeholder:"+1 (555) 000-0000"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Topic"}),r.jsxs("select",{name:"topic",value:n.topic,onChange:u,required:!0,children:[r.jsx("option",{value:"",children:"Select a topic"}),yS.map(h=>r.jsx("option",{value:h,children:h},h))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Preferred Slot"}),r.jsxs("select",{name:"preferredSlot",value:n.preferredSlot,onChange:u,required:!0,children:[r.jsx("option",{value:"",children:"Select a time"}),vS.map(h=>r.jsx("option",{value:h,children:h},h))]})]})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"submit",className:"btn-submit",disabled:c,children:c?"Submitting...":"Sign me up"})})]})]})})}function Kr(){const l=Zt().pathname,[c,i]=b.useState(!1),[u,f]=b.useState(!0),h=b.useRef(null),p=b.useRef(0),y=b.useRef(!1);b.useEffect(()=>{i(!0);const v=()=>{y.current||(window.requestAnimationFrame(()=>{const x=window.scrollY,E=Math.abs(x-p.current);x>p.current&&E>10&&x>5?f(!1):x<p.current&&E>5&&f(!0),p.current=x,y.current=!1}),y.current=!0)};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[u]),b.useEffect(()=>()=>{var x;const v=document.getElementById("scroll-test-content");v&&((x=v.parentNode)==null||x.removeChild(v))},[]);const m=[{path:"/teachers",label:"",icon:Lg},{path:"/students",label:"",icon:Xr},{path:"/dashboard",label:"",icon:qb,isHome:!0},{path:"/orchestras",label:"",icon:Mt},{path:"/rehearsals",label:" ",icon:We}];return r.jsx("nav",{ref:h,className:`bottom-nav ${c?"mounted":""}`,style:{transform:u?"translateX(-50%) translateY(0)":"translateX(-50%) translateY(120px)",opacity:u?1:0,transition:"transform 0.3s ease, opacity 0.3s ease",pointerEvents:u?"auto":"none"},children:r.jsx("div",{className:"nav-items",children:m.map(v=>{const x=l===v.path||v.path==="/dashboard"&&l==="/"||v.path!=="/dashboard"&&l.startsWith(v.path);return r.jsxs(Lr,{to:v.path,className:`nav-item ${x?"active":""} ${v.isHome?"home":""}`,"aria-label":v.label,children:[r.jsx(v.icon,{className:"nav-icon",strokeWidth:v.isHome?2.5:2}),!v.isHome&&r.jsx("span",{className:"nav-label",children:v.label})]},v.path)})})})}function bS(){return r.jsxs("div",{className:"dashboard-container",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx(Kr,{})]})}const Pe={async getStudents(n={}){return Re.get("student",n)},async getStudentById(n){return Re.get(`student/${n}`)},async getStudentsByIds(n){return!n||n.length===0?[]:(await this.getStudents()).filter(c=>n.includes(c._id))},async getStudentsByOrchestraId(n){return this.getStudents({orchestraId:n})},async getStudentsByTeacherId(n){return this.getStudents({teacherId:n})},async addStudent(n){return Re.post("student",n)},async updateStudent(n,l){const{_id:c,createdAt:i,updatedAt:u,...f}=l;return Re.put(`student/${n}`,f)},async removeStudent(n){return Re.delete(`student/${n}`)},async getStudentAttendanceStats(n,l){try{return Re.get(`orchestra/${n}/student/${l}/attendance`)}catch(c){return console.error("Failed to get student attendance stats:",c),{attendanceRate:0,attended:0,totalRehearsals:0,recentHistory:[],message:"Failed to load attendance data"}}},async updateTeacherSchedule(n,l){return Re.post(`teacher/${n}/schedule`,l)}},Os=Ol((n,l)=>({students:[],selectedStudent:null,filterBy:{},isLoading:!1,error:null,loadStudents:async(c={})=>{n({isLoading:!0,error:null});try{const i={...l().filterBy,...c},u=await Pe.getStudents(i);n({students:u,filterBy:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load students";n({error:u,isLoading:!1}),console.error("Error loading students:",i)}},loadStudentById:async c=>{n({isLoading:!0,error:null});try{const i=await Pe.getStudentById(c);n({selectedStudent:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load student";n({error:u,isLoading:!1}),console.error("Error loading student:",i)}},saveStudent:async c=>{n({isLoading:!0,error:null});try{let i;if(c._id){const u=c._id;i=await Pe.updateStudent(u,c);const f=l().students.map(h=>h._id===i._id?i:h);n({students:f,selectedStudent:i,isLoading:!1})}else i=await Pe.addStudent(c),n({students:[...l().students,i],selectedStudent:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save student";throw n({error:u,isLoading:!1}),console.error("Error saving student:",i),i}},removeStudent:async c=>{var i;n({isLoading:!0,error:null});try{await Pe.removeStudent(c),n({students:l().students.filter(u=>u._id!==c),selectedStudent:((i=l().selectedStudent)==null?void 0:i._id)===c?null:l().selectedStudent,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove student";throw n({error:f,isLoading:!1}),console.error("Error removing student:",u),u}},getStudentsByIds:async c=>{if(!c||c.length===0)return[];n({isLoading:!0,error:null});try{const u=l().students,f=u.map(m=>m._id),h=c.filter(m=>!f.includes(m));let p=[...u];if(h.length>0){const m=await Pe.getStudentsByIds(h);p=[...u],m.forEach(v=>{p.some(x=>x._id===v._id)||p.push(v)}),n({students:p})}const y=p.filter(m=>c.includes(m._id));return n({isLoading:!1}),y}catch(i){const u=i instanceof Error?i.message:"Failed to load students by IDs";return n({error:u,isLoading:!1}),console.error("Error loading students by IDs:",i),[]}},setFilter:c=>{n({filterBy:{...l().filterBy,...c}})},clearSelectedStudent:()=>{n({selectedStudent:null})},clearError:()=>{n({error:null})}}));function jS({student:n,onView:l,onEdit:c,onRemove:i}){var E,O,N,A,T;const u=C=>{const R=["var(--stage-1)","var(--stage-2)","var(--stage-3)","var(--stage-4)","var(--stage-5)","var(--stage-6)","var(--stage-7)","var(--stage-8)"];return R[C-1]||R[0]},f=C=>{switch(C){case"/":return"var(--success)";case" /":return"var(--danger)";default:return"var(--text-muted)"}},h=C=>C.split(" ").map(R=>R[0]).join("").toUpperCase().substring(0,2),p=C=>C===0?" ":C===1?" ":`${C} `,m=((E=n.enrollments)==null?void 0:E.orchestraIds)&&n.enrollments.orchestraIds.length>0?n.enrollments.orchestraIds.length:0,v=((N=(O=n.academicInfo.tests)==null?void 0:O.technicalTest)==null?void 0:N.status)||" ",x=((T=(A=n.academicInfo.tests)==null?void 0:A.stageTest)==null?void 0:T.status)||" ";return r.jsxs("div",{className:"student-preview",onClick:()=>l(n._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"preview-header",children:[r.jsxs("div",{className:"header-right-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:u(n.academicInfo.currentStage)},children:h(n.personalInfo.fullName)})}),r.jsxs("div",{className:"student-info",children:[r.jsx("h3",{className:"student-name",children:n.personalInfo.fullName}),r.jsxs("div",{className:"student-subject",children:[r.jsx(Mt,{size:14}),r.jsx("span",{children:n.academicInfo.instrument})]})]})]}),r.jsxs("div",{className:"badges-container",children:[r.jsx("div",{className:"stage-badge",style:{backgroundColor:u(n.academicInfo.currentStage)},children:r.jsxs("span",{children:[" ",n.academicInfo.currentStage]})}),r.jsx("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:r.jsxs("span",{children:[" ",n.academicInfo.class]})})]})]}),r.jsxs("div",{className:"preview-content",children:[r.jsx("div",{className:"info-row",children:r.jsxs("div",{className:"info-item",children:[r.jsx(zg,{size:16}),r.jsx("span",{children:p(m)})]})}),r.jsxs("div",{className:"tests-section",children:[r.jsxs("div",{className:"test-item",children:[r.jsx("div",{className:"test-label",children:" :"}),r.jsx("div",{className:"test-status",style:{color:f(v)},children:v})]}),r.jsxs("div",{className:"test-item",children:[r.jsx("div",{className:"test-label",children:" :"}),r.jsx("div",{className:"test-status",style:{color:f(x)},children:x})]})]})]}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:C=>{C.stopPropagation(),l(n._id)},"aria-label":"  ",children:r.jsx(Qr,{size:16})}),r.jsx("button",{className:"action-btn edit",onClick:C=>{C.stopPropagation(),c(n._id)},"aria-label":" ",children:r.jsx(Ts,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:C=>{C.stopPropagation(),i(n._id)},"aria-label":" ",children:r.jsx(Dc,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(We,{size:14}),r.jsx("span",{children:new Date(n.createdAt).toLocaleDateString("he-IL")})]})]})]})}function SS({students:n,isLoading:l,onEdit:c,onView:i,onRemove:u}){return l&&n.length===0?r.jsx("div",{className:"loading-state",children:" ..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx("p",{children:"        "})]}):r.jsx("div",{className:"student-grid",children:n.map(f=>r.jsx(jS,{student:f,onEdit:c,onView:i||c,onRemove:u},f._id))})}const NS="/assets/logo-reKfKP0d.png";function Bc(){const[n,l]=b.useState(!1),{user:c,logout:i}=$n(),{theme:u,toggleTheme:f}=xy(),h=b.useRef(null);b.useEffect(()=>{function v(x){h.current&&!h.current.contains(x.target)&&l(!1)}return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);function p(){i()}function y(){l(v=>!v)}const m=c!=null&&c.fullName?c.fullName.split(" ").map(v=>v[0]).join("").substring(0,2).toUpperCase():"U";return r.jsx("header",{className:"header",children:r.jsxs("div",{className:"header-container",children:[r.jsxs("div",{className:"right-section",style:{display:"flex",alignItems:"center"},children:[c&&r.jsxs("div",{className:"user-container",ref:h,children:[r.jsx("div",{className:"avatar-wrapper",onClick:y,children:r.jsx("div",{className:"avatar-circle",children:c.avatarUrl?r.jsx("img",{src:c.avatarUrl,alt:"Avatar",className:"user-avatar"}):r.jsx("div",{className:"avatar-placeholder",children:m})})}),n&&r.jsxs("div",{className:"dropdown-menu",children:[r.jsxs("div",{className:"user-info",children:[r.jsx("div",{className:"user-name",children:c.fullName}),r.jsx("div",{className:"user-email",children:c.email})]}),r.jsxs(Lr,{to:"/profile",className:"dropdown-item",children:[r.jsx(Ra,{className:"dropdown-icon",strokeWidth:2}),r.jsx("span",{children:" "})]}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs("button",{className:"dropdown-item logout-btn",onClick:p,children:[r.jsx(Qb,{className:"dropdown-icon",strokeWidth:2}),r.jsx("span",{children:""})]})]})]}),r.jsx("button",{className:"theme-toggle",onClick:f,"aria-label":"Toggle theme",children:u==="dark"?r.jsx(kg,{className:"icon"}):r.jsx(Ug,{className:"icon"})})]}),r.jsx("div",{className:"logo-container",children:r.jsx(Lr,{to:"/dashboard",className:"logo-link",children:r.jsx("img",{src:NS,alt:"Logo",className:"logo-image"})})})]})})}function _d({onSearch:n,placeholder:l="...",className:c=""}){const[i,u]=b.useState(""),f=p=>{const y=p.target.value;u(y),n(y)},h=()=>{u(""),n("")};return r.jsx("div",{className:`search-bar-container ${c}`,children:r.jsxs("div",{className:"search-bar",children:[r.jsx(Sc,{className:"search-icon",size:18}),r.jsx("input",{type:"text",value:i,onChange:f,placeholder:l,className:"search-input"}),i&&r.jsx("button",{className:"clear-button",onClick:h,children:r.jsx(Bt,{size:16})})]})})}function zd(n,l){const[c,i]=b.useState(""),u=Array.isArray(n)?n:[],[f,h]=b.useState(u);b.useEffect(()=>{console.log("useSearchbar entities update:",{isArray:Array.isArray(n),length:Array.isArray(n)?n.length:"n/a",type:typeof n}),c?p(c):h(u)},[n,c]);const p=m=>{if(!m){h(u);return}const v=m.toLowerCase(),x=u.filter(E=>{try{const O=typeof l=="function"?l(E):l.map(N=>{const A=E[N];return A?String(A):""});return Array.isArray(O)?O.some(N=>typeof N!="string"?(console.error("Expected field value to be a string but got:",typeof N),!1):N.toLowerCase().includes(v)):(console.error("Expected fieldsToSearch to be an array but got:",typeof O),!1)}catch(O){return console.error("Error filtering entity:",O),!1}});h(x)},y=m=>{i(m),p(m)};return{filteredEntities:Array.isArray(f)?f:[],handleSearch:y,searchQuery:c}}const _l=Ol(n=>({schoolYears:[],currentSchoolYear:null,isLoading:!1,error:null,loadSchoolYears:async()=>{n({isLoading:!0,error:null});try{const l=await Re.get("school-year");n({schoolYears:l,isLoading:!1})}catch(l){const c=l instanceof Error?l.message:"Failed to load school years";n({error:c,isLoading:!1}),console.error("Error loading school years:",l)}},loadCurrentSchoolYear:async()=>{n({isLoading:!0,error:null});try{const l=await Re.get("school-year/current");n({currentSchoolYear:l,isLoading:!1})}catch(l){const c=l instanceof Error?l.message:"Failed to load current school year";n({error:c,isLoading:!1}),console.error("Error loading current school year:",l)}}})),Ac=["","","","","","","","","","","","",""],ES=[1,2,3,4,5,6,7,8],yd=[""," ",""," ","","","",""],TS=[" ","/"," /"],vc=["","","","","",""],wS=[30,45,60];function AS({student:n,onClose:l,onStudentCreated:c,newTeacherInfo:i}){const{saveStudent:u,isLoading:f,error:h,clearError:p,loadStudents:y}=Os(),{currentSchoolYear:m}=_l(),[v,x]=b.useState(T()),[E,O]=b.useState({}),[N,A]=b.useState(!1);function T(){return{personalInfo:{fullName:"",phone:"",age:void 0,address:"",parentName:"",parentPhone:"",parentEmail:"",studentEmail:""},academicInfo:{instrument:yd[0],currentStage:1,class:Ac[0],tests:{stageTest:{status:" ",lastTestDate:void 0,nextTestDate:void 0,notes:""},technicalTest:{status:" ",lastTestDate:void 0,nextTestDate:void 0,notes:""}}},enrollments:{orchestraIds:[],ensembleIds:[],schoolYears:[]},teacherIds:[],teacherAssignments:[],orchestraAssignments:[],isActive:!0}}b.useEffect(()=>{var X,V,U,ce,te,fe,Z,ne,ae,xe,S,M,Y,k,H,re,ue,pe,he,ye,de,se,Me,ze,qt,Ct,je,He,$e,ct,Ot,sa,za,Ce,Ye,Sa,la,le,Ne,ot;if(n!=null&&n._id)x({_id:n._id,personalInfo:{fullName:((X=n.personalInfo)==null?void 0:X.fullName)||"",phone:(V=n.personalInfo)==null?void 0:V.phone,age:(U=n.personalInfo)==null?void 0:U.age,address:(ce=n.personalInfo)==null?void 0:ce.address,parentName:(te=n.personalInfo)==null?void 0:te.parentName,parentPhone:(fe=n.personalInfo)==null?void 0:fe.parentPhone,parentEmail:(Z=n.personalInfo)==null?void 0:Z.parentEmail,studentEmail:(ne=n.personalInfo)==null?void 0:ne.studentEmail},academicInfo:{instrument:((ae=n.academicInfo)==null?void 0:ae.instrument)||yd[0],currentStage:((xe=n.academicInfo)==null?void 0:xe.currentStage)||1,class:((S=n.academicInfo)==null?void 0:S.class)||Ac[0],tests:{stageTest:{status:((k=(Y=(M=n.academicInfo)==null?void 0:M.tests)==null?void 0:Y.stageTest)==null?void 0:k.status)||" ",lastTestDate:(ue=(re=(H=n.academicInfo)==null?void 0:H.tests)==null?void 0:re.stageTest)==null?void 0:ue.lastTestDate,nextTestDate:(ye=(he=(pe=n.academicInfo)==null?void 0:pe.tests)==null?void 0:he.stageTest)==null?void 0:ye.nextTestDate,notes:((Me=(se=(de=n.academicInfo)==null?void 0:de.tests)==null?void 0:se.stageTest)==null?void 0:Me.notes)||""},technicalTest:{status:((Ct=(qt=(ze=n.academicInfo)==null?void 0:ze.tests)==null?void 0:qt.technicalTest)==null?void 0:Ct.status)||" ",lastTestDate:($e=(He=(je=n.academicInfo)==null?void 0:je.tests)==null?void 0:He.technicalTest)==null?void 0:$e.lastTestDate,nextTestDate:(sa=(Ot=(ct=n.academicInfo)==null?void 0:ct.tests)==null?void 0:Ot.technicalTest)==null?void 0:sa.nextTestDate,notes:((Ye=(Ce=(za=n.academicInfo)==null?void 0:za.tests)==null?void 0:Ce.technicalTest)==null?void 0:Ye.notes)||""}}},enrollments:{orchestraIds:((Sa=n.enrollments)==null?void 0:Sa.orchestraIds)||[],ensembleIds:((la=n.enrollments)==null?void 0:la.ensembleIds)||[],schoolYears:((le=n.enrollments)==null?void 0:le.schoolYears)||[]},teacherIds:n.teacherIds||[],teacherAssignments:[],orchestraAssignments:((ot=(Ne=n.enrollments)==null?void 0:Ne.orchestraIds)==null?void 0:ot.map(ut=>({orchestraId:ut})))||[],isActive:n.isActive!==!1});else{const ut=T();m&&(ut.enrollments.schoolYears=[{schoolYearId:m._id,isActive:!0}]),i&&(ut.teacherAssignments=[{teacherId:"new-teacher",lessonDay:vc[0],lessonTime:"08:00",lessonDuration:45}]),x(ut)}O({}),p==null||p()},[n,p,m,i]);const C=b.useCallback((X,V)=>{x(U=>({...U,personalInfo:{...U.personalInfo,[X]:V}})),E[`personalInfo.${X}`]&&O(U=>{const ce={...U};return delete ce[`personalInfo.${X}`],ce})},[E]),R=b.useCallback((X,V)=>{x(U=>({...U,academicInfo:{...U.academicInfo,[X]:V}})),E[`academicInfo.${X}`]&&O(U=>{const ce={...U};return delete ce[`academicInfo.${X}`],ce})},[E]),D=b.useCallback((X,V,U)=>{x(ce=>{var te;return{...ce,academicInfo:{...ce.academicInfo,tests:{...ce.academicInfo.tests,[X]:{...(te=ce.academicInfo.tests)==null?void 0:te[X],[V]:U}}}}})},[]),I=b.useCallback(X=>{x(V=>{const U=V.teacherAssignments.findIndex(ce=>ce.teacherId===X.teacherId);if(U>=0){const ce=[...V.teacherAssignments];return ce[U]=X,{...V,teacherAssignments:ce,teacherIds:Array.from(new Set([...V.teacherIds,X.teacherId]))}}else return{...V,teacherAssignments:[...V.teacherAssignments,X],teacherIds:Array.from(new Set([...V.teacherIds,X.teacherId]))}})},[]),$=b.useCallback(X=>{x(V=>{const U=V.teacherAssignments.filter(te=>te.teacherId!==X),ce=V.teacherIds.filter(te=>te!==X);return{...V,teacherAssignments:U,teacherIds:ce}})},[]),Q=b.useCallback(X=>{x(V=>V.orchestraAssignments.some(ce=>ce.orchestraId===X)?V:{...V,orchestraAssignments:[...V.orchestraAssignments,{orchestraId:X}],enrollments:{...V.enrollments,orchestraIds:Array.from(new Set([...V.enrollments.orchestraIds,X]))}})},[]),ie=b.useCallback(X=>{x(V=>{const U=V.orchestraAssignments.filter(te=>te.orchestraId!==X),ce=V.enrollments.orchestraIds.filter(te=>te!==X);return{...V,orchestraAssignments:U,enrollments:{...V.enrollments,orchestraIds:ce}}})},[]),oe=b.useCallback(()=>{var V,U,ce,te,fe,Z,ne,ae;const X={};return(V=v.personalInfo)!=null&&V.fullName||(X["personalInfo.fullName"]="    "),(U=v.personalInfo)!=null&&U.phone&&!/^05\d{8}$/.test(v.personalInfo.phone)&&(X["personalInfo.phone"]="    (  -05  10 )"),(ce=v.personalInfo)!=null&&ce.parentPhone&&!/^05\d{8}$/.test(v.personalInfo.parentPhone)&&(X["personalInfo.parentPhone"]="     (  -05  10 )"),(te=v.personalInfo)!=null&&te.parentEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.personalInfo.parentEmail)&&(X["personalInfo.parentEmail"]="    "),(fe=v.personalInfo)!=null&&fe.studentEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.personalInfo.studentEmail)&&(X["personalInfo.studentEmail"]="    "),(Z=v.academicInfo)!=null&&Z.instrument||(X["academicInfo.instrument"]="    "),(ne=v.academicInfo)!=null&&ne.currentStage||(X["academicInfo.currentStage"]="    "),(ae=v.academicInfo)!=null&&ae.class||(X["academicInfo.class"]="   "),v.teacherAssignments.forEach((xe,S)=>{xe.lessonDay||(X[`teacherAssignment.${S}.lessonDay`]="   "),xe.lessonTime||(X[`teacherAssignment.${S}.lessonTime`]="   ")}),O(X),Object.keys(X).length===0},[v]),W=b.useCallback(async X=>{if(X.preventDefault(),!!oe()){A(!0);try{const V={personalInfo:{...v.personalInfo,parentName:v.personalInfo.parentName||" ",parentPhone:v.personalInfo.parentPhone||"0500000000",parentEmail:v.personalInfo.parentEmail||"parent@example.com",studentEmail:v.personalInfo.studentEmail||"student@example.com"},academicInfo:v.academicInfo,enrollments:{...v.enrollments,orchestraIds:v.orchestraAssignments.map(te=>te.orchestraId)},teacherIds:v.teacherIds.filter(te=>te!=="new-teacher"),isActive:v.isActive};let U;v._id?U=await Pe.updateStudent(v._id,V):U=await u(V);const ce=v.teacherAssignments.filter(te=>te.teacherId!=="new-teacher").map(async te=>{try{const{teacherId:fe,lessonDay:Z,lessonTime:ne,lessonDuration:ae}=te;await Pe.updateTeacherSchedule(fe,{studentId:U._id,lessonDay:Z,lessonTime:ne,lessonDuration:ae})}catch(fe){console.error("Failed to update teacher schedule:",fe)}});if(await Promise.all(ce),await y(),v.teacherAssignments.some(te=>te.teacherId==="new-teacher")&&c){const te=v.teacherAssignments.find(Z=>Z.teacherId==="new-teacher"),fe={...U,_newTeacherAssociation:!0,_lessonDetails:te?{lessonDay:te.lessonDay,lessonTime:te.lessonTime,lessonDuration:te.lessonDuration}:void 0};c(fe);return}l()}catch(V){console.error("Error saving student:",V),O(U=>({...U,form:V instanceof Error?V.message:"  "}))}finally{A(!1)}}},[v,oe,u,y,c,l]);return{formData:v,errors:E,isLoading:f,isSubmitting:N,error:h,updatePersonalInfo:C,updateAcademicInfo:R,updateTestInfo:D,addTeacherAssignment:I,removeTeacherAssignment:$,addOrchestraAssignment:Q,removeOrchestraAssignment:ie,setFormData:x,validateForm:oe,handleSubmit:W}}function CS({formData:n,updatePersonalInfo:l,errors:c}){const i=b.useCallback(u=>{const{name:f,value:h,type:p}=u.target,y=p==="number"?h?parseInt(h):void 0:h;l(f,y)},[l]);return{personalInfo:n.personalInfo,errors:c,handlePersonalInfoChange:i}}function OS({formData:n,updatePersonalInfo:l,updateAcademicInfo:c,errors:i}){var p;const{personalInfo:u,handlePersonalInfoChange:f}=CS({formData:n,updatePersonalInfo:l,errors:i}),h=y=>{const{name:m,value:v}=y.target;c(m,v)};return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fullName",children:"  *"}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:(u==null?void 0:u.fullName)||"",onChange:f,className:i["personalInfo.fullName"]?"is-invalid":"",required:!0}),i["personalInfo.fullName"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.fullName"]})]})}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:""}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:(u==null?void 0:u.phone)||"",onChange:f,className:i["personalInfo.phone"]?"is-invalid":"",placeholder:"05XXXXXXXX"}),i["personalInfo.phone"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.phone"]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"studentEmail",children:" "}),r.jsx("input",{type:"email",id:"studentEmail",name:"studentEmail",value:(u==null?void 0:u.studentEmail)||"",onChange:f,className:i["personalInfo.studentEmail"]?"is-invalid":""}),i["personalInfo.studentEmail"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.studentEmail"]})]})]}),r.jsxs("div",{className:"form-row three-columns",children:[r.jsxs("div",{className:"form-group",style:{flex:"2"},children:[r.jsx("label",{htmlFor:"address",children:""}),r.jsx("input",{type:"text",id:"address",name:"address",value:(u==null?void 0:u.address)||"",onChange:f})]}),r.jsxs("div",{className:"form-group",style:{flex:"0.6"},children:[r.jsx("label",{htmlFor:"age",children:""}),r.jsx("input",{type:"number",id:"age",name:"age",value:(u==null?void 0:u.age)||"",onChange:f,min:"6",max:"99",style:{width:"100%"}})]}),r.jsxs("div",{className:"form-group",style:{flex:"0.8"},children:[r.jsx("label",{htmlFor:"class",children:" *"}),r.jsx("select",{id:"class",name:"class",value:((p=n.academicInfo)==null?void 0:p.class)||"",onChange:h,className:i["academicInfo.class"]?"is-invalid":"",required:!0,style:{width:"100%"},children:Ac.map(y=>r.jsx("option",{value:y,children:y},y))}),i["academicInfo.class"]&&r.jsx("div",{className:"form-error",children:i["academicInfo.class"]})]})]}),r.jsx("h4",{children:" "}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentName",children:" "}),r.jsx("input",{type:"text",id:"parentName",name:"parentName",value:(u==null?void 0:u.parentName)||"",onChange:f})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentPhone",children:" "}),r.jsx("input",{type:"tel",id:"parentPhone",name:"parentPhone",value:(u==null?void 0:u.parentPhone)||"",onChange:f,className:i["personalInfo.parentPhone"]?"is-invalid":"",placeholder:"05XXXXXXXX"}),i["personalInfo.parentPhone"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.parentPhone"]})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentEmail",children:" "}),r.jsx("input",{type:"email",id:"parentEmail",name:"parentEmail",value:(u==null?void 0:u.parentEmail)||"",onChange:f,className:i["personalInfo.parentEmail"]?"is-invalid":""}),i["personalInfo.parentEmail"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.parentEmail"]})]})})]})}function RS({formData:n,updateAcademicInfo:l,updateTestInfo:c,errors:i}){const u=b.useCallback(h=>{const{name:p,value:y,type:m}=h.target,v=m==="number"?y?parseInt(y):void 0:y;l(p,v)},[l]),f=b.useCallback((h,p,y)=>{c(h,p,y.target.value)},[c]);return{academicInfo:n.academicInfo,errors:i,validClasses:Ac,validStages:ES,validInstruments:yd,testStatuses:TS,handleAcademicInfoChange:u,handleTestChange:f}}function DS({formData:n,updateAcademicInfo:l,updateTestInfo:c,errors:i}){var v,x,E,O,N,A,T,C,R,D,I,$;const{academicInfo:u,validStages:f,validInstruments:h,testStatuses:p,handleAcademicInfoChange:y,handleTestChange:m}=RS({formData:n,updateAcademicInfo:l,updateTestInfo:c,errors:i});return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"instrument",children:"  *"}),r.jsx("select",{id:"instrument",name:"instrument",value:(u==null?void 0:u.instrument)||"",onChange:y,className:i["academicInfo.instrument"]?"is-invalid":"",required:!0,children:h.map(Q=>r.jsx("option",{value:Q,children:Q},Q))}),i["academicInfo.instrument"]&&r.jsx("div",{className:"form-error",children:i["academicInfo.instrument"]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"currentStage",children:"  *"}),r.jsx("select",{id:"currentStage",name:"currentStage",value:(u==null?void 0:u.currentStage)||1,onChange:y,className:i["academicInfo.currentStage"]?"is-invalid":"",required:!0,children:f.map(Q=>r.jsx("option",{value:Q,children:Q},Q))}),i["academicInfo.currentStage"]&&r.jsx("div",{className:"form-error",children:i["academicInfo.currentStage"]})]})]}),r.jsx("h4",{children:""}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"technicalTestStatus",children:" "}),r.jsx("select",{id:"technicalTestStatus",name:"status",value:((x=(v=u==null?void 0:u.tests)==null?void 0:v.technicalTest)==null?void 0:x.status)||" ",onChange:Q=>m("technicalTest","status",Q),children:p.map(Q=>r.jsx("option",{value:Q,children:Q},Q))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stageTestStatus",children:" "}),r.jsx("select",{id:"stageTestStatus",name:"status",value:((O=(E=u==null?void 0:u.tests)==null?void 0:E.stageTest)==null?void 0:O.status)||" ",onChange:Q=>m("stageTest","status",Q),children:p.map(Q=>r.jsx("option",{value:Q,children:Q},Q))})]})]}),((A=(N=u==null?void 0:u.tests)==null?void 0:N.technicalTest)==null?void 0:A.status)!==" "&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"technicalTestNotes",children:"  "}),r.jsx("input",{type:"text",id:"technicalTestNotes",name:"notes",value:((C=(T=u==null?void 0:u.tests)==null?void 0:T.technicalTest)==null?void 0:C.notes)||"",onChange:Q=>m("technicalTest","notes",Q)})]})}),((D=(R=u==null?void 0:u.tests)==null?void 0:R.stageTest)==null?void 0:D.status)!==" "&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stageTestNotes",children:"  "}),r.jsx("input",{type:"text",id:"stageTestNotes",name:"notes",value:(($=(I=u==null?void 0:u.tests)==null?void 0:I.stageTest)==null?void 0:$.notes)||"",onChange:Q=>m("stageTest","notes",Q)})]})})]})}function by(n){const l={};if(n.personalInfo&&(l.personalInfo={...n.personalInfo}),n.roles&&(console.log("Including roles for update:",n.roles),l.roles=Array.isArray(n.roles)?[...n.roles]:[]),n.professionalInfo&&(l.professionalInfo={...n.professionalInfo}),n.isActive!==void 0&&(l.isActive=n.isActive),n.conducting&&(l.conducting={orchestraIds:Array.isArray(n.conducting.orchestraIds)?[...n.conducting.orchestraIds]:[]}),n.ensemblesIds&&(l.ensemblesIds=Array.isArray(n.ensemblesIds)?[...n.ensemblesIds]:[]),n.schoolYears&&(l.schoolYears=[...n.schoolYears]),n.teaching&&(l.teaching={},Array.isArray(n.teaching.studentIds)&&(l.teaching.studentIds=[...n.teaching.studentIds]),n.teaching.schedule&&n.teaching.schedule.length>0)){const c=n.teaching.schedule.filter(i=>i.studentId&&i.day&&i.time&&typeof i.duration=="number"&&[30,45,60].includes(i.duration));c.length>0&&(l.teaching.schedule=c.map(i=>({studentId:i.studentId,day:i.day,time:i.time,duration:i.duration})))}return console.log("Prepared teacher data for update:",JSON.stringify(l,null,2)),l}function _S(n){var c;const l=by(n);return n.credentials&&(l.credentials={email:((c=n.personalInfo)==null?void 0:c.email)||n.credentials.email||"",password:n.credentials.password||""}),l}const ta={async getTeachers(n={}){return Re.get("teacher",n)},async getTeacherById(n){return Re.get(`teacher/${n}`)},async getTeachersByIds(n){return!n||n.length===0?[]:(await this.getTeachers()).filter(c=>n.includes(c._id))},async getTeachersByRole(n){return Re.get(`teacher/role/${n}`)},async getTeachersByOrchestraId(n){return this.getTeachers({orchestraId:n})},async getTeachersByStudentId(n){return this.getTeachers({studentId:n})},async addTeacher(n){const l=_S(n);return console.log("Creating new teacher with data:",l),Re.post("teacher",l)},async updateTeacher(n,l){const c=by(l);return console.log("Updating teacher with prepared data:",c),Re.put(`teacher/${n}`,c)},async removeTeacher(n){return Re.delete(`teacher/${n}`)},async updateTeacherSchedule(n,l){return Re.post(`teacher/${n}/schedule`,l)},async addOrchestra(n,l){return Re.post(`teacher/${n}/orchestra`,{orchestraId:l})},async removeOrchestra(n,l){return Re.delete(`teacher/${n}/orchestra/${l}`)}};function zS({formData:n,newTeacherInfo:l,addTeacherAssignment:c,removeTeacherAssignment:i,errors:u}){const[f,h]=b.useState([]),[p,y]=b.useState(!1),[m,v]=b.useState(""),[x,E]=b.useState({lessonDay:vc[0],lessonTime:"08:00",lessonDuration:45});b.useEffect(()=>{(async()=>{y(!0);try{const D=await ta.getTeachers({isActive:!0});h(D)}catch(D){console.error("Failed to fetch teachers:",D)}finally{y(!1)}})()},[]),b.useEffect(()=>{m&&E({lessonDay:vc[0],lessonTime:"08:00",lessonDuration:45})},[m]);const O=b.useCallback(R=>{const D=R.target.value;v(D)},[]),N=b.useCallback(R=>{const{name:D,value:I}=R.target;E($=>({...$,[D]:D==="lessonDuration"?parseInt(I):I}))},[]),A=b.useCallback(()=>{m&&(c({teacherId:m,...x}),v(""))},[m,x,c]),T=b.useCallback(R=>{i(R)},[i]),C=b.useCallback(R=>{var I;if(R==="new-teacher"&&l)return`${l.fullName} ${l.instrument?`(${l.instrument})`:""} ( )`;const D=f.find($=>$._id===R);return D?`${D.personalInfo.fullName} ${(I=D.professionalInfo)!=null&&I.instrument?`(${D.professionalInfo.instrument})`:""}`:"  "},[f,l]);return{teachers:f,isLoadingTeachers:p,selectedTeacherId:m,lessonDetails:x,teacherAssignments:n.teacherAssignments,daysOfWeek:vc,lessonDurations:wS,errors:u,newTeacherInfo:l,handleTeacherChange:O,handleLessonDetailChange:N,handleAddTeacherAssignment:A,handleRemoveTeacherAssignment:T,getTeacherName:C}}function MS({formData:n,newTeacherInfo:l,addTeacherAssignment:c,removeTeacherAssignment:i,errors:u}){const{teachers:f,isLoadingTeachers:h,selectedTeacherId:p,lessonDetails:y,teacherAssignments:m,daysOfWeek:v,lessonDurations:x,handleTeacherChange:E,handleLessonDetailChange:O,handleAddTeacherAssignment:N,handleRemoveTeacherAssignment:A,getTeacherName:T}=zS({formData:n,newTeacherInfo:l,addTeacherAssignment:c,removeTeacherAssignment:i,errors:u});return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),m.length>0&&r.jsxs("div",{className:"assigned-teachers",children:[r.jsx("h4",{children:" "}),r.jsx("div",{className:"assignments-list",children:m.map((C,R)=>r.jsxs("div",{className:"assignment-card",children:[r.jsxs("div",{className:"assignment-header",children:[r.jsxs("div",{className:"teacher-name",children:[r.jsx(Ra,{size:16}),r.jsx("span",{children:T(C.teacherId)})]}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>A(C.teacherId),"aria-label":" ",children:r.jsx(Bt,{size:16})})]}),r.jsxs("div",{className:"assignment-details",children:[r.jsxs("div",{className:"detail-item",children:[r.jsx(We,{size:14}),r.jsxs("span",{children:[" ",C.lessonDay]})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx(El,{size:14}),r.jsxs("span",{children:[C.lessonTime,", ",C.lessonDuration," "]})]})]})]},`${C.teacherId}-${R}`))})]}),r.jsxs("div",{className:"add-teacher-section",children:[r.jsx("h4",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"teacher",children:" "}),r.jsxs("select",{id:"teacher",name:"teacher",value:p,onChange:E,disabled:h,children:[r.jsx("option",{value:"",children:" "}),l&&r.jsxs("option",{value:"new-teacher",children:[l.fullName," ",l.instrument?`(${l.instrument})`:""," ","( )"]}),f.map(C=>{var R;return r.jsxs("option",{value:C._id,children:[C.personalInfo.fullName," ",(R=C.professionalInfo)!=null&&R.instrument?`(${C.professionalInfo.instrument})`:""]},C._id)})]}),h&&r.jsx("div",{className:"loading-indicator",children:" ..."})]})}),p&&r.jsxs(r.Fragment,{children:[r.jsx("h5",{children:" "}),r.jsxs("div",{className:"form-row lesson-schedule",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"lessonDay",children:""}),r.jsx("select",{id:"lessonDay",name:"lessonDay",value:y.lessonDay,onChange:O,children:v.map(C=>r.jsx("option",{value:C,children:C},C))}),u[`teacherAssignment.${p}.lessonDay`]&&r.jsx("div",{className:"form-error",children:u[`teacherAssignment.${p}.lessonDay`]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"lessonTime",children:""}),r.jsx("input",{type:"time",id:"lessonTime",name:"lessonTime",value:y.lessonTime,onChange:O}),u[`teacherAssignment.${p}.lessonTime`]&&r.jsx("div",{className:"form-error",children:u[`teacherAssignment.${p}.lessonTime`]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"lessonDuration",children:"  ()"}),r.jsx("select",{id:"lessonDuration",name:"lessonDuration",value:y.lessonDuration,onChange:O,children:x.map(C=>r.jsx("option",{value:C,children:C},C))})]})]}),r.jsx("div",{className:"assignment-actions",children:r.jsxs("button",{type:"button",className:"btn secondary",onClick:N,children:[r.jsx(Gn,{size:16})," "]})})]})]})]})}const dn={async getOrchestras(n={}){return Re.get("orchestra",n)},async getOrchestraById(n){return Re.get(`orchestra/${n}`)},async getOrchestrasByIds(n){return!n||n.length===0?[]:(await this.getOrchestras()).filter(c=>n.includes(c._id))},async getOrchestrasByConductorId(n){return this.getOrchestras({conductorId:n})},async getOrchestrasByStudentId(n){return this.getOrchestras({memberIds:n})},async addOrchestra(n){return Re.post("orchestra",n)},async updateOrchestra(n,l){const{_id:c,...i}=l;return Re.put(`orchestra/${n}`,i)},async removeOrchestra(n){return Re.delete(`orchestra/${n}`)},async addMember(n,l){try{const c=await Re.post(`orchestra/${n}/members`,{studentId:l}),i=await Pe.getStudentById(l);return i.enrollments.orchestraIds.includes(n)||await Pe.updateStudent(l,{enrollments:{...i.enrollments,orchestraIds:[...i.enrollments.orchestraIds,n]}}),c}catch(c){throw console.error("Error adding member to orchestra:",c),c}},async removeMember(n,l){try{const c=await Re.delete(`orchestra/${n}/members/${l}`),i=await Pe.getStudentById(l);return await Pe.updateStudent(l,{enrollments:{...i.enrollments,orchestraIds:i.enrollments.orchestraIds.filter(u=>u!==n)}}),c}catch(c){throw console.error("Error removing member from orchestra:",c),c}},async updateMembers(n,l,c=[]){try{const i=await this.updateOrchestra(n,{memberIds:l}),u=l.filter(h=>!c.includes(h)),f=c.filter(h=>!l.includes(h));for(const h of u){const p=await Pe.getStudentById(h);p.enrollments.orchestraIds.includes(n)||await Pe.updateStudent(h,{enrollments:{...p.enrollments,orchestraIds:[...p.enrollments.orchestraIds,n]}})}for(const h of f){const p=await Pe.getStudentById(h);await Pe.updateStudent(h,{enrollments:{...p.enrollments,orchestraIds:p.enrollments.orchestraIds.filter(y=>y!==n)}})}return i}catch(i){throw console.error("Error updating orchestra members:",i),i}},async getRehearsalAttendance(n,l){return Re.get(`orchestra/${n}/rehearsals/${l}/attendance`)},async updateRehearsalAttendance(n,l,c){return Re.put(`orchestra/${n}/rehearsals/${l}/attendance`,c)},async getStudentAttendanceStats(n,l){return Re.get(`orchestra/${n}/student/${l}/attendance`)},async syncOrchestraMembers(n){try{const l=await this.getOrchestraById(n),u=(await Pe.getStudents()).filter(p=>p.enrollments.orchestraIds.includes(n)).map(p=>p._id),f=u.filter(p=>!l.memberIds.includes(p)),h=l.memberIds.filter(p=>!u.includes(p));if(f.length>0){const p=[...l.memberIds,...f];await this.updateOrchestra(n,{memberIds:p})}for(const p of h){const y=await Pe.getStudentById(p);await Pe.updateStudent(p,{enrollments:{...y.enrollments,orchestraIds:y.enrollments.orchestraIds.filter(m=>m!==n)}})}}catch(l){throw console.error("Error syncing orchestra members:",l),l}},getOrchestraTypeDisplay(n){return{:"",:""}[n]||n},getValidOrchestraTypes(){return["",""]},getValidOrchestraNames(){return["  ","  ","  ","  "," "]}};function LS({formData:n,addOrchestraAssignment:l,removeOrchestraAssignment:c,errors:i}){const[u,f]=b.useState([]),[h,p]=b.useState(!1),[y,m]=b.useState("");b.useEffect(()=>{(async()=>{p(!0);try{const T=await dn.getOrchestras({isActive:!0});f(T)}catch(T){console.error("Failed to fetch orchestras:",T)}finally{p(!1)}})()},[]);const v=b.useCallback(A=>{const T=A.target.value;m(T)},[]),x=b.useCallback(()=>{y&&(l(y),m(""))},[y,l]),E=b.useCallback(A=>{c(A)},[c]),O=b.useCallback(A=>{const T=u.find(C=>C._id===A);return T?`${T.name} (${T.type})`:"  "},[u]),N=b.useCallback(()=>n.orchestraAssignments.map(A=>{const T=u.find(C=>C._id===A.orchestraId);return{id:A.orchestraId,name:(T==null?void 0:T.name)||"  ",type:(T==null?void 0:T.type)||""}}),[n.orchestraAssignments,u]);return{orchestras:u,isLoadingOrchestras:h,selectedOrchestraId:y,orchestraAssignments:n.orchestraAssignments,assignedOrchestras:N(),errors:i,handleOrchestraChange:v,handleAddOrchestraAssignment:x,handleRemoveOrchestraAssignment:E,getOrchestraName:O}}function US({formData:n,addOrchestraAssignment:l,removeOrchestraAssignment:c,errors:i}){const{orchestras:u,isLoadingOrchestras:f,selectedOrchestraId:h,assignedOrchestras:p,handleOrchestraChange:y,handleAddOrchestraAssignment:m,handleRemoveOrchestraAssignment:v}=LS({formData:n,addOrchestraAssignment:l,removeOrchestraAssignment:c,errors:i});return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),p.length>0&&r.jsxs("div",{className:"assigned-orchestras",children:[r.jsx("h4",{children:" "}),r.jsx("div",{className:"assignments-list",children:p.map(x=>r.jsx("div",{className:"assignment-card",children:r.jsxs("div",{className:"assignment-header",children:[r.jsxs("div",{className:"orchestra-name",children:[r.jsx(Mt,{size:16}),r.jsx("span",{children:x.name}),x.type&&r.jsx("span",{className:"orchestra-type",children:x.type})]}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>v(x.id),"aria-label":" ",children:r.jsx(Bt,{size:16})})]})},x.id))})]}),r.jsxs("div",{className:"add-orchestra-section",children:[r.jsx("h4",{children:" "}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"orchestra",children:" "}),r.jsxs("select",{id:"orchestra",name:"orchestra",value:h,onChange:y,disabled:f,children:[r.jsx("option",{value:"",children:" "}),u.map(x=>r.jsxs("option",{value:x._id,children:[x.name," (",x.type,")"]},x._id))]}),f&&r.jsx("div",{className:"loading-indicator",children:" ..."})]})}),h&&r.jsx("div",{className:"assignment-actions",children:r.jsxs("button",{type:"button",className:"btn secondary",onClick:m,children:[r.jsx(Gn,{size:16})," "]})})]})]})}function jy({isOpen:n,onClose:l,student:c,onStudentCreated:i,newTeacherInfo:u}){const{formData:f,errors:h,isLoading:p,isSubmitting:y,error:m,updatePersonalInfo:v,updateAcademicInfo:x,updateTestInfo:E,addTeacherAssignment:O,removeTeacherAssignment:N,addOrchestraAssignment:A,removeOrchestraAssignment:T,handleSubmit:C}=AS({student:c,onClose:l,onStudentCreated:i,newTeacherInfo:u});return n?r.jsxs("div",{className:"student-form",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"",children:r.jsx(Bt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?" ":"  "}),m&&r.jsx("div",{className:"error-message",children:m}),h.form&&r.jsx("div",{className:"error-message",children:h.form}),r.jsxs("form",{onSubmit:C,children:[r.jsx(OS,{formData:f,updatePersonalInfo:v,updateAcademicInfo:x,errors:h}),r.jsx(DS,{formData:f,updateAcademicInfo:x,updateTestInfo:E,errors:h}),r.jsx(MS,{formData:f,newTeacherInfo:u,addTeacherAssignment:O,removeTeacherAssignment:N,errors:h}),r.jsx(US,{formData:f,addOrchestraAssignment:A,removeOrchestraAssignment:T,errors:h}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:p||y,children:y?"...":c!=null&&c._id?"":""}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:""})]})]})]})]}):null}function Cs({isOpen:n,onClose:l,onConfirm:c,title:i,message:u,confirmText:f="",cancelText:h="",type:p="danger"}){if(!n)return null;const y=()=>{c(),l()};return r.jsxs("div",{className:"confirm-dialog",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"dialog-content",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"",children:r.jsx(Bt,{size:20})}),r.jsx("h3",{className:`dialog-title ${p}`,children:i}),r.jsx("div",{className:"dialog-message",children:u}),r.jsxs("div",{className:"dialog-actions",children:[r.jsx("button",{type:"button",className:`btn ${p}`,onClick:y,children:f}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:h})]})]})]})}function kS(){const{students:n,isLoading:l,error:c,loadStudents:i,removeStudent:u}=Os(),{loadCurrentSchoolYear:f}=_l(),[h,p]=b.useState(!1),[y,m]=b.useState(null),[v,x]=b.useState(!1),[E,O]=b.useState(null),N=te=>[te.personalInfo.fullName,te.academicInfo.instrument,te.academicInfo.class,te.personalInfo.parentName||"",te.personalInfo.studentEmail||""],{filteredEntities:A,handleSearch:T}=zd(n,N),C=ja(),R=Zt(),{user:D}=$n(),I=D==null?void 0:D.roles.includes(""),$=R.pathname.includes("/students/")&&!R.pathname.endsWith("/students/");b.useEffect(()=>{i(),f()},[i,f]);const Q=()=>{m(null),p(!0)},ie=()=>{p(!1),m(null)},oe=te=>{const fe=n.find(Z=>Z._id===te)||null;m(fe),p(!0)},W=te=>{C(`/students/${te}`)},X=te=>{n.find(Z=>Z._id===te)&&(O(te),x(!0))},V=async()=>{if(E)try{await u(E),O(null)}catch(te){console.error("Failed to remove student:",te)}},U=()=>{alert("Open filter dialog")},ce=I||(D==null?void 0:D.roles.includes(""));return r.jsxs("div",{className:"app-container",children:[r.jsx(Bc,{}),r.jsxs("main",{className:"main-content",children:[!$&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(_d,{onSearch:T,placeholder:" ..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:U,"aria-label":" ",children:r.jsx(wd,{className:"icon"})}),ce&&r.jsx("button",{className:"btn-icon add-btn",onClick:Q,"aria-label":"  ",children:r.jsx(Gn,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!$&&r.jsx(SS,{students:A,isLoading:l,onEdit:oe,onView:W,onRemove:I?X:void 0}),r.jsx(Fr,{context:{loadStudents:i}}),r.jsx(jy,{isOpen:h,onClose:ie,student:y||void 0}),r.jsx(Cs,{isOpen:v,onClose:()=>x(!1),onConfirm:V,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"})]}),!$&&!h&&r.jsx(Kr,{})]})}function lg(){var fe,Z,ne,ae,xe,S,M,Y,k,H,re,ue,pe,he,ye,de,se,Me,ze,qt,Ct;const{studentId:n}=Oc(),{selectedStudent:l,loadStudentById:c,isLoading:i,error:u}=Os(),[f,h]=b.useState(!1),[p,y]=b.useState(null),[m,v]=b.useState(null),[x,E]=b.useState(!1),[O,N]=b.useState([]),[A,T]=b.useState(!1),[C,R]=b.useState(!1),D=ja(),[I,$]=b.useState({teacher:!1,orchestras:!1,tests:!1,attendance:!1,personalInfo:!1,parentInfo:!1}),Q=je=>{$(He=>({...He,[je]:!He[je]}))};b.useEffect(()=>{n&&c(n)},[n,c]),b.useEffect(()=>{var je;(je=l==null?void 0:l.teacherIds)!=null&&je.length&&(E(!0),(async()=>{var $e;try{const ct=await ta.getTeacherById(l.teacherIds[0]);v({id:ct._id,name:ct.personalInfo.fullName,instrument:($e=ct.professionalInfo)==null?void 0:$e.instrument})}catch(ct){console.error("Failed to fetch teacher data:",ct)}finally{E(!1)}})())},[l]),b.useEffect(()=>{var je;(je=l==null?void 0:l.enrollments)!=null&&je.orchestraIds&&l.enrollments.orchestraIds.length>0&&(T(!0),(async()=>{try{const $e=l.enrollments.orchestraIds,ct=await dn.getOrchestrasByIds($e);N(ct)}catch($e){console.error("Failed to fetch orchestra data:",$e)}finally{T(!1)}})())},[l]),b.useEffect(()=>{var je,He;l&&((He=(je=l.enrollments)==null?void 0:je.orchestraIds)==null?void 0:He.length)>0&&I.attendance&&(R(!0),(async()=>{const ct=l.enrollments.orchestraIds[0];try{const Ot=await Pe.getStudentAttendanceStats(ct,l._id);y(Ot)}catch(Ot){console.error("Failed to fetch attendance stats:",Ot),y({attendanceRate:0,attended:0,totalRehearsals:0,recentHistory:[],message:"Failed to load attendance data"})}finally{R(!1)}})())},[l,I.attendance]);const ie=()=>{h(!f)},oe=()=>{D("/students")},W=je=>{D(`/teachers/${je}`)},X=je=>{D(`/orchestras/${je}`)},V=je=>je?new Date(je).toLocaleDateString("he-IL"):" ";if(i)return r.jsxs("div",{className:"loading-state",children:[r.jsx(hl,{className:"loading-icon",size:28}),r.jsx("p",{children:"  ..."})]});if(u||!l)return r.jsxs("div",{className:"error-state",children:[r.jsx("p",{children:u||"     "}),r.jsx("button",{onClick:oe,className:"btn primary",children:"  "})]});const U=l,ce=je=>je.split(" ").map(He=>He[0]).join("").toUpperCase().substring(0,2),te=je=>{const He=["var(--stage-1)","var(--stage-2)","var(--stage-3)","var(--stage-4)","var(--stage-5)","var(--stage-6)","var(--stage-7)","var(--stage-8)"];return He[je-1]||He[0]};return r.jsx("div",{className:"student-details-content",children:r.jsx("div",{className:"student-details-page",children:r.jsx("div",{className:"student-card-container",children:r.jsxs("div",{className:`card-content ${f?"flipped":""}`,children:[r.jsxs("div",{className:"card-side card-front",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"student-identity",children:[r.jsx("div",{className:"avatar",style:{backgroundColor:te(U.academicInfo.currentStage)},children:ce(U.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"student-name",children:U.personalInfo.fullName}),r.jsxs("div",{className:"instrument",children:[r.jsx(Mt,{size:14}),r.jsx("span",{children:U.academicInfo.instrument})]})]})]}),r.jsxs("div",{className:"header-badges",children:[r.jsxs("div",{className:"stage-badge",style:{backgroundColor:te(U.academicInfo.currentStage)},children:[" ",U.academicInfo.currentStage]}),r.jsxs("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:[" ",U.academicInfo.class]}),r.jsx("button",{className:"back-button",onClick:oe,"aria-label":"",children:r.jsx(aa,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${I.teacher?"active":""}`,onClick:()=>Q("teacher"),children:[r.jsx(Ra,{size:16}),r.jsx("span",{children:""}),I.teacher?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),I.teacher&&r.jsx("div",{className:"section-content",children:x?r.jsxs("div",{className:"loading-section",children:[r.jsx(hl,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."})]}):m?r.jsxs("div",{className:"teacher-info clickable",onClick:()=>W(m.id),children:[r.jsx(Ra,{size:14}),r.jsx("span",{children:m.name})]}):r.jsx("div",{className:"no-teacher-warning",children:"   "})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${I.orchestras?"active":""}`,onClick:()=>Q("orchestras"),children:[r.jsx(Mt,{size:16}),r.jsx("span",{children:""}),I.orchestras?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),I.orchestras&&r.jsx("div",{className:"section-content",children:((Z=(fe=U.enrollments)==null?void 0:fe.orchestraIds)==null?void 0:Z.length)>0?A?r.jsxs("div",{className:"loading-section",children:[r.jsx(hl,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."})]}):r.jsx("div",{className:"orchestras-grid",children:O.map(je=>r.jsx("div",{className:"orchestra-card clickable",onClick:()=>X(je._id),children:r.jsx("span",{children:je.name})},je._id))}):r.jsx("div",{className:"no-orchestra-warning",children:"   "})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${I.tests?"active":""}`,onClick:()=>Q("tests"),children:[r.jsx(zg,{size:16}),r.jsx("span",{children:""}),I.tests?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),I.tests&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"tests-grid",children:[r.jsxs("div",{className:"test-card",children:[r.jsxs("div",{className:"test-header",children:[r.jsx("h3",{children:" "}),r.jsx("span",{className:`test-status ${((ae=(ne=U.academicInfo.tests)==null?void 0:ne.technicalTest)==null?void 0:ae.status)==="/"?"passed":((S=(xe=U.academicInfo.tests)==null?void 0:xe.technicalTest)==null?void 0:S.status)===" /"?"failed":""}`,children:((Y=(M=U.academicInfo.tests)==null?void 0:M.technicalTest)==null?void 0:Y.status)||" "})]}),((H=(k=U.academicInfo.tests)==null?void 0:k.technicalTest)==null?void 0:H.lastTestDate)&&r.jsxs("div",{className:"test-date",children:[r.jsx(We,{size:12}),r.jsx("span",{children:V(U.academicInfo.tests.technicalTest.lastTestDate)})]})]}),r.jsxs("div",{className:"test-card",children:[r.jsxs("div",{className:"test-header",children:[r.jsx("h3",{children:" "}),r.jsx("span",{className:`test-status ${((ue=(re=U.academicInfo.tests)==null?void 0:re.stageTest)==null?void 0:ue.status)==="/"?"passed":((he=(pe=U.academicInfo.tests)==null?void 0:pe.stageTest)==null?void 0:he.status)===" /"?"failed":""}`,children:((de=(ye=U.academicInfo.tests)==null?void 0:ye.stageTest)==null?void 0:de.status)||" "})]}),((Me=(se=U.academicInfo.tests)==null?void 0:se.stageTest)==null?void 0:Me.lastTestDate)&&r.jsxs("div",{className:"test-date",children:[r.jsx(We,{size:12}),r.jsx("span",{children:V(U.academicInfo.tests.stageTest.lastTestDate)})]})]})]})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${I.attendance?"active":""}`,onClick:()=>Q("attendance"),children:[r.jsx(We,{size:16}),r.jsx("span",{children:""}),I.attendance?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),I.attendance&&r.jsx("div",{className:"section-content",children:((qt=(ze=U.enrollments)==null?void 0:ze.orchestraIds)==null?void 0:qt.length)>0?r.jsx("div",{className:"attendance-container",children:C?r.jsxs("div",{className:"loading-attendance",children:[r.jsx(hl,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."})]}):p?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"attendance-summary",children:[r.jsxs("div",{className:"attendance-stat",children:[r.jsx("span",{className:"stat-label",children:" "}),r.jsxs("div",{className:"attendance-rate",children:[Math.round(p.attendanceRate),"%"]})]}),r.jsxs("div",{className:"attendance-stat",children:[r.jsx("span",{className:"stat-label",children:""}),r.jsxs("div",{className:"attendance-count",children:[p.attended," /"," ",p.totalRehearsals]})]})]}),((Ct=p.recentHistory)==null?void 0:Ct.length)>0?r.jsxs("div",{className:"attendance-history",children:[r.jsx("h3",{className:"history-title",children:"  "}),r.jsx("div",{className:"history-entries",children:p.recentHistory.map((je,He)=>r.jsxs("div",{className:"history-entry",children:[r.jsx("div",{className:`status-indicator ${je.status==="/"?"present":"absent"}`}),r.jsx("span",{className:"history-date",children:V(je.date)}),r.jsx("span",{className:`history-status ${je.status==="/"?"present":"absent"}`,children:je.status})]},He))})]}):r.jsx("div",{className:"no-attendance-history",children:"   "}),p.message&&r.jsx("div",{className:"attendance-message warning",children:p.message})]}):r.jsx("div",{className:"no-attendance-data",children:"   "})}):r.jsx("div",{className:"no-orchestra-warning",children:"       "})})]})]}),r.jsx("button",{className:"flip-button",onClick:ie,children:f?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(aa,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(aa,{size:14})]})})]}),r.jsxs("div",{className:"card-side card-back",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"student-identity",children:[r.jsx("div",{className:"avatar",style:{backgroundColor:te(U.academicInfo.currentStage)},children:ce(U.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"student-name",children:U.personalInfo.fullName}),r.jsxs("div",{className:"instrument",children:[r.jsx(Mt,{size:14}),r.jsx("span",{children:U.academicInfo.instrument})]})]})]}),r.jsxs("div",{className:"header-badges",children:[r.jsxs("div",{className:"stage-badge",style:{backgroundColor:te(U.academicInfo.currentStage)},children:[" ",U.academicInfo.currentStage]}),r.jsxs("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:[" ",U.academicInfo.class]})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${I.personalInfo?"active":""}`,onClick:()=>Q("personalInfo"),children:[r.jsx(Ra,{size:16}),r.jsx("span",{children:" "}),I.personalInfo?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),I.personalInfo&&(U.personalInfo.phone||U.personalInfo.address||U.personalInfo.studentEmail||U.createdAt||U.academicInfo.class)?r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[U.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ur,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:U.personalInfo.phone})]})]}),U.personalInfo.address&&r.jsxs("div",{className:"info-item",children:[r.jsx(Vr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:U.personalInfo.address})]})]}),U.personalInfo.studentEmail&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ns,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:U.personalInfo.studentEmail})]})]}),U.createdAt&&r.jsxs("div",{className:"info-item",children:[r.jsx(We,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:V(U.createdAt)})]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(Mg,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:U.academicInfo.class})]})]})]})}):I.personalInfo?r.jsx("div",{className:"section-content",children:r.jsx("div",{className:"no-data-message",children:"  "})}):null]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${I.parentInfo?"active":""}`,onClick:()=>Q("parentInfo"),children:[r.jsx(Ra,{size:16}),r.jsx("span",{children:" "}),I.parentInfo?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),I.parentInfo&&(U.personalInfo.parentName&&U.personalInfo.parentName!==" "||U.personalInfo.parentPhone&&U.personalInfo.parentPhone!==" "&&U.personalInfo.parentPhone!=="0500000000"||U.personalInfo.parentEmail&&U.personalInfo.parentEmail!==" "&&U.personalInfo.parentEmail!=="parent@example.com")?r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[U.personalInfo.parentName&&U.personalInfo.parentName!==" "&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ra,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:U.personalInfo.parentName})]})]}),U.personalInfo.parentPhone&&U.personalInfo.parentPhone!==" "&&U.personalInfo.parentPhone!=="0500000000"&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ur,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:U.personalInfo.parentPhone})]})]}),U.personalInfo.parentEmail&&U.personalInfo.parentEmail!==" "&&U.personalInfo.parentEmail!=="parent@example.com"&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ns,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:U.personalInfo.parentEmail})]})]})]})}):I.parentInfo?r.jsx("div",{className:"section-content",children:r.jsx("div",{className:"no-data-message",children:"  "})}):null]})]}),r.jsx("button",{className:"flip-button",onClick:ie,children:f?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(aa,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(aa,{size:14})]})})]})]})})})})}const Tl=Ol((n,l)=>({teachers:[],selectedTeacher:null,filterBy:{},isLoading:!1,error:null,loadTeachers:async(c={})=>{n({isLoading:!0,error:null});try{const i={...l().filterBy,...c};console.log("Fetching teachers with filter:",i);const u=await ta.getTeachers(i);console.log("Teachers API response:",{type:typeof u,isArray:Array.isArray(u),length:u&&Array.isArray(u)?u.length:"n/a"});const f=Array.isArray(u)?u:[];n({teachers:f,filterBy:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load teachers";n({error:u,isLoading:!1,teachers:[]}),console.error("Error loading teachers:",i)}},loadTeacherById:async c=>{n({isLoading:!0,error:null});try{const i=await ta.getTeacherById(c);n({selectedTeacher:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load teacher";n({error:u,isLoading:!1}),console.error("Error loading teacher:",i)}},saveTeacher:async(c,i)=>{n({isLoading:!0,error:null});try{let u;if(i){console.log(`Updating teacher ${i} with:`,c),u=await ta.updateTeacher(i,c);const f=l().teachers,h=Array.isArray(f)?f.map(p=>p._id===u._id?u:p):[u];n({teachers:h,selectedTeacher:u,isLoading:!1})}else{console.log("Creating new teacher:",c),u=await ta.addTeacher(c);const f=l().teachers,h=Array.isArray(f)?[...f,u]:[u];n({teachers:h,selectedTeacher:u,isLoading:!1})}return u}catch(u){const f=u instanceof Error?u.message:"Failed to save teacher";throw n({error:f,isLoading:!1}),console.error("Error saving teacher:",u),u}},removeTeacher:async c=>{var i;n({isLoading:!0,error:null});try{await ta.removeTeacher(c);const u=l().teachers;if(!Array.isArray(u)){n({teachers:[],isLoading:!1});return}n({teachers:u.filter(f=>f._id!==c),selectedTeacher:((i=l().selectedTeacher)==null?void 0:i._id)===c?null:l().selectedTeacher,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove teacher";throw n({error:f,isLoading:!1}),console.error("Error removing teacher:",u),u}},setFilter:c=>{n({filterBy:{...l().filterBy,...c}})},clearSelectedTeacher:()=>{n({selectedTeacher:null})},clearError:()=>{n({error:null})},updateTeacherSchedule:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=await ta.updateTeacherSchedule(c,i);((u=l().selectedTeacher)==null?void 0:u._id)===c&&n({selectedTeacher:f});const h=l().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const p=h.map(y=>y._id===c?f:y);n({teachers:p,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to update teacher schedule";throw n({error:h,isLoading:!1}),console.error("Error updating teacher schedule:",f),f}},assignStudentToTeacher:async(c,i)=>{var u,f,h,p;n({isLoading:!0,error:null});try{const y=l().selectedTeacher,m=((u=y==null?void 0:y.teaching)==null?void 0:u.studentIds)||[];Array.isArray(m)||console.error("Expected studentIds to be an array but got:",typeof m);const v=await ta.updateTeacher(c,{teaching:{studentIds:[...Array.isArray(m)?m:[],i],schedule:((h=(f=l().selectedTeacher)==null?void 0:f.teaching)==null?void 0:h.schedule)||[]}});((p=l().selectedTeacher)==null?void 0:p._id)===c&&n({selectedTeacher:v});const x=l().teachers;if(!Array.isArray(x)){n({teachers:[v],isLoading:!1});return}const E=x.map(O=>O._id===c?v:O);n({teachers:E,isLoading:!1})}catch(y){const m=y instanceof Error?y.message:"Failed to assign student to teacher";throw n({error:m,isLoading:!1}),console.error("Error assigning student to teacher:",y),y}},removeStudentFromTeacher:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=l().selectedTeacher;if(!f||!f.teaching)throw new Error("Teacher not found or no teaching data");const h=f.teaching.studentIds;if(!Array.isArray(h))throw console.error("Expected studentIds to be an array but got:",typeof h),new Error("Invalid student data structure");const p=h.filter(x=>x!==i),y=await ta.updateTeacher(c,{teaching:{...f.teaching,studentIds:p}});((u=l().selectedTeacher)==null?void 0:u._id)===c&&n({selectedTeacher:y});const m=l().teachers;if(!Array.isArray(m)){n({teachers:[y],isLoading:!1});return}const v=m.map(x=>x._id===c?y:x);n({teachers:v,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to remove student from teacher";throw n({error:h,isLoading:!1}),console.error("Error removing student from teacher:",f),f}},assignOrchestraToTeacher:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=await ta.addOrchestra(c,i);((u=l().selectedTeacher)==null?void 0:u._id)===c&&n({selectedTeacher:f});const h=l().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const p=h.map(y=>y._id===c?f:y);n({teachers:p,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to assign orchestra to teacher";throw n({error:h,isLoading:!1}),console.error("Error assigning orchestra to teacher:",f),f}},removeOrchestraFromTeacher:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=await ta.removeOrchestra(c,i);((u=l().selectedTeacher)==null?void 0:u._id)===c&&n({selectedTeacher:f});const h=l().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const p=h.map(y=>y._id===c?f:y);n({teachers:p,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to remove orchestra from teacher";throw n({error:h,isLoading:!1}),console.error("Error removing orchestra from teacher:",f),f}}})),IS=n=>{let l=n.replace(/\D/g,"");return l.startsWith("0")&&(l=`972${l.substring(1)}`),l},BS=(n,l="")=>{const c=IS(n),i=encodeURIComponent(l),u=`https://wa.me/${c}?text=${i}`;window.open(u,"_blank")};function qS({teacher:n,onView:l,onEdit:c,onRemove:i}){var x,E,O;const u=N=>N.split(" ").map(A=>A[0]).join("").toUpperCase().substring(0,2),f=N=>({:"#4D55CC",:"#28A745"," ":"#FFC107",:"#DC3545"})[N]||"#6c757d",h=N=>N===0?" ":N===1?" ":`${N} `,p=(N,A)=>{N.stopPropagation(),BS(A)},m=((x=n.teaching)==null?void 0:x.studentIds)&&n.teaching.studentIds.length>0&&n.teaching?n.teaching.studentIds.length:0,v=n.roles&&n.roles.length>0?n.roles[0]:"";return r.jsxs("div",{className:"teacher-preview",onClick:()=>l(n._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"preview-header",children:[r.jsxs("div",{className:"teacher-header-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:f(v)},children:u(n.personalInfo.fullName)})}),r.jsxs("div",{className:"teacher-info",children:[r.jsx("h3",{className:"teacher-name",children:n.personalInfo.fullName}),r.jsx("div",{className:"teacher-subject",children:(E=n.professionalInfo)!=null&&E.instrument?r.jsxs(r.Fragment,{children:[r.jsx(Mt,{size:14}),r.jsx("span",{children:n.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Lg,{size:14}),r.jsx("span",{children:v})]})})]})]}),r.jsx("div",{className:"badges-container",children:n.roles&&n.roles.map(N=>r.jsx("div",{className:"role-badge",style:{backgroundColor:f(N)},children:r.jsx("span",{children:N})},N))})]}),r.jsx("div",{className:"preview-content",children:r.jsxs("div",{className:"info-row",children:[n.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ur,{size:16}),r.jsx("span",{className:"clickable-phone",onClick:N=>n.personalInfo.phone&&p(N,n.personalInfo.phone),title:"   ",children:n.personalInfo.phone})]}),n.personalInfo.email&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ns,{size:16}),r.jsx("span",{children:n.personalInfo.email})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(Xr,{size:16}),r.jsx("span",{children:h(m)})]}),((O=n.conducting)==null?void 0:O.orchestraIds)&&n.conducting.orchestraIds.length>0&&r.jsxs("div",{className:"info-item",children:[r.jsx(Mt,{size:16}),r.jsx("span",{children:n.conducting.orchestraIds.length===1?"   ":`  ${n.conducting.orchestraIds.length} `})]})]})}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:N=>{N.stopPropagation(),l(n._id)},"aria-label":"  ",children:r.jsx(Qr,{size:16})}),r.jsx("button",{className:"action-btn edit",onClick:N=>{N.stopPropagation(),c(n._id)},"aria-label":" ",children:r.jsx(Ts,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:N=>{N.stopPropagation(),i(n._id)},"aria-label":" ",children:r.jsx(Dc,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(We,{size:14}),r.jsx("span",{children:new Date(n.createdAt||Date.now()).toLocaleDateString("he-IL")})]})]})]})}function HS({teachers:n,isLoading:l,onEdit:c,onView:i,onRemove:u}){return Array.isArray(n)?l&&n.length===0?r.jsx("div",{className:"loading-state",children:" ..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx("p",{children:"        "})]}):r.jsx("div",{className:"teacher-grid",children:n.map(f=>r.jsx(qS,{teacher:f,onEdit:c,onView:i||c,onRemove:u},f._id))}):(console.error("Expected teachers to be an array but got:",typeof n,n),r.jsx("div",{className:"error-state",children:"  "}))}const YS=["",""," ",""," "],xc=[""," ",""," ","","","",""],ml=["","","","","",""],FS=[30,45,60],QS=({initialTeacher:n,onClose:l,onSave:c})=>{const{saveTeacher:i,isLoading:u,error:f,clearError:h}=Tl(),{currentSchoolYear:p}=_l(),[y,m]=b.useState([]),[v,x]=b.useState(!1),[E,O]=b.useState(!1),[N,A]=b.useState({personalInfo:{fullName:"",phone:"",email:"",address:""},roles:[""],professionalInfo:{instrument:xc[0],isActive:!0},teaching:{studentIds:[],schedule:[]},conducting:{orchestraIds:[]},ensemblesIds:[],schoolYears:[],credentials:{email:"",password:""},isActive:!0}),[T,C]=b.useState([]),[R,D]=b.useState({}),[I,$]=b.useState(!1),[Q,ie]=b.useState(!1),oe=!(n!=null&&n._id);b.useEffect(()=>{const S=()=>{O(window.innerWidth<768)};return S(),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[]),b.useEffect(()=>{(async()=>{x(!0);try{const M=await dn.getOrchestras({isActive:!0});m(M)}catch(M){console.error("Failed to load orchestras:",M)}finally{x(!1)}})()},[]),b.useEffect(()=>{T.length>0&&(console.log("Updating formData schedule from scheduleItems:",T),A(S=>({...S,teaching:{...S.teaching,schedule:[...T]}})))},[T]),b.useEffect(()=>{var S,M,Y,k,H,re,ue,pe,he,ye,de;if(n!=null&&n._id){if((S=n.teaching)!=null&&S.schedule&&Array.isArray(n.teaching.schedule)){const se=n.teaching.schedule.filter(Me=>Me&&Me.studentId).map(Me=>({studentId:Me.studentId,day:Me.day||ml[0],time:Me.time||"08:00",duration:Me.duration||45,isActive:Me.isActive!==!1}));console.log("Setting initial schedule items:",se),C(se)}A({_id:n._id,personalInfo:{fullName:((M=n.personalInfo)==null?void 0:M.fullName)||"",phone:((Y=n.personalInfo)==null?void 0:Y.phone)||"",email:((k=n.personalInfo)==null?void 0:k.email)||"",address:((H=n.personalInfo)==null?void 0:H.address)||""},roles:n.roles||[""],professionalInfo:{instrument:((re=n.professionalInfo)==null?void 0:re.instrument)||xc[0],isActive:((ue=n.professionalInfo)==null?void 0:ue.isActive)!==!1},teaching:{studentIds:((pe=n.teaching)==null?void 0:pe.studentIds)||[],schedule:((he=n.teaching)==null?void 0:he.schedule)||[]},conducting:{orchestraIds:((ye=n.conducting)==null?void 0:ye.orchestraIds)||[]},ensemblesIds:n.ensemblesIds||[],schoolYears:n.schoolYears||[],credentials:{email:((de=n.personalInfo)==null?void 0:de.email)||"",password:""},isActive:n.isActive!==!1})}else A({personalInfo:{fullName:"",phone:"",email:"",address:""},roles:[""],professionalInfo:{instrument:xc[0],isActive:!0},teaching:{studentIds:[],schedule:[]},conducting:{orchestraIds:[]},ensemblesIds:[],schoolYears:p?[{schoolYearId:p._id,isActive:!0}]:[],credentials:{email:"",password:""},isActive:!0}),C([]);D({}),h==null||h()},[n,h,p]);const W=b.useCallback(S=>{const{name:M,value:Y}=S.target;A(k=>{const H={...k.personalInfo,[M]:Y},re={...k.credentials,email:M==="email"?Y:k.credentials.email};return{...k,personalInfo:H,credentials:re}}),D(k=>{if(k[`personalInfo.${M}`]){const H={...k};return delete H[`personalInfo.${M}`],H}return k})},[]),X=b.useCallback(S=>{const{name:M,value:Y}=S.target;A(k=>({...k,professionalInfo:{...k.professionalInfo,[M]:Y}})),D(k=>{if(k[`professionalInfo.${M}`]){const H={...k};return delete H[`professionalInfo.${M}`],H}return k})},[]),V=b.useCallback(S=>{const{value:M,checked:Y}=S.target;A(k=>{let H=[...k.roles];return Y?H.includes(M)||H.push(M):(H=H.filter(re=>re!==M),H.length===0&&(H=[""])),{...k,roles:H}}),D(k=>{if(k.roles){const H={...k};return delete H.roles,H}return k})},[]),U=b.useCallback(S=>{const{name:M,value:Y}=S.target;A(k=>({...k,credentials:{...k.credentials,[M]:Y}})),D(k=>{if(k[`credentials.${M}`]){const H={...k};return delete H[`credentials.${M}`],H}return k})},[]),ce=b.useCallback(S=>{const M=Array.from(S.target.selectedOptions).map(Y=>Y.value);A(Y=>({...Y,conducting:{...Y.conducting,orchestraIds:M}})),D(Y=>{if(Y["conducting.orchestraIds"]){const k={...Y};return delete k["conducting.orchestraIds"],k}return Y})},[]),te=b.useCallback((S,M,Y)=>{console.log(`Updating schedule for student ${S}, ${M} = ${Y}`),C(k=>{const H=k.findIndex(ue=>ue.studentId===S);if(H===-1){const ue={studentId:S,day:M==="day"?Y:ml[0],time:M==="time"?Y:"08:00",duration:M==="duration"?Y:45,isActive:!0};return console.log(`Created new schedule item for student ${S}:`,ue),[...k,ue]}const re=[...k];return re[H]={...re[H],[M]:Y},console.log("Updated schedule item:",re[H]),re})},[]),fe=b.useCallback(S=>{const M=T.find(k=>k.studentId===S);if(M){console.log(`Schedule item already exists for student ${S}:`,M);return}const Y={studentId:S,day:ml[0],time:"08:00",duration:45,isActive:!0};console.log(`Creating new schedule item for student ${S}:`,Y),C(k=>[...k,Y])},[T]),Z=b.useCallback(S=>{console.log(`Removing schedule item for student ${S}`),C(M=>M.filter(Y=>Y.studentId!==S))},[]),ne=b.useCallback(S=>{console.log("Updating student IDs:",S),A(M=>({...M,teaching:{...M.teaching,studentIds:S}}))},[]),ae=b.useCallback(()=>{var Y,k,H,re,ue;const S={};return(Y=N.personalInfo)!=null&&Y.fullName||(S["personalInfo.fullName"]="    "),(k=N.personalInfo)!=null&&k.phone?/^05\d{8}$/.test(N.personalInfo.phone)||(S["personalInfo.phone"]="    (  -05  10 )"):S["personalInfo.phone"]="   ",(H=N.personalInfo)!=null&&H.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.personalInfo.email)||(S["personalInfo.email"]=' "  '):S["personalInfo.email"]='"   ',(re=N.personalInfo)!=null&&re.address||(S["personalInfo.address"]="   "),N.roles.includes("")&&!((ue=N.professionalInfo)!=null&&ue.instrument)&&(S["professionalInfo.instrument"]="     "),N.roles.length===0&&(S.roles="    "),oe&&(N.credentials.password||(S["credentials.password"]="   "),N.personalInfo.email!==N.credentials.email&&(S["credentials.email"]='"    "  ')),D(S),Object.keys(S).length===0},[N,oe]),xe=b.useCallback(async S=>{var M;if(S.preventDefault(),console.log("Submit triggered"),!ae())return console.log("Validation failed"),!1;ie(!0);try{const Y=N._id,k=T.map(ue=>({studentId:ue.studentId,day:ue.day||ml[0],time:ue.time||"08:00",duration:ue.duration||45,isActive:ue.isActive!==!1})),H={...N,teaching:{...N.teaching,schedule:k}};console.log("Submitting with schedule:",k);let re;if(Y)re={personalInfo:H.personalInfo,roles:H.roles,professionalInfo:H.professionalInfo,isActive:H.isActive},H.teaching&&H.teaching.studentIds.length>0&&(re.teaching={studentIds:H.teaching.studentIds},k.length>0&&(re.teaching.schedule=k)),H.conducting&&H.conducting.orchestraIds.length>0&&(re.conducting={orchestraIds:H.conducting.orchestraIds}),H.ensemblesIds&&H.ensemblesIds.length>0&&(re.ensemblesIds=H.ensemblesIds),console.log("Final update data to be sent:",re);else{const{_id:ue,...pe}=H;re=pe}return p&&!((M=re.schoolYears)!=null&&M.some(ue=>ue.schoolYearId===p._id))&&(re.schoolYears=[...re.schoolYears||[],{schoolYearId:p._id,isActive:!0}]),Y?await i(re,Y):await i(re),c&&c(),l(),!0}catch(Y){console.error("Error saving teacher:",Y);const k=Y instanceof Error?Y.message:"    ";return console.error("Error message:",k),D(H=>({...H,form:k})),!1}finally{ie(!1)}},[N,T,ae,i,c,l,p]);return{formData:N,scheduleItems:T,errors:R,isLoading:u,isSubmitting:Q,orchestras:y,loadingOrchestras:v,error:f,showPassword:I,isMobile:E,isNewTeacher:oe,setFormData:A,setScheduleItems:C,setShowPassword:$,handlePersonalInfoChange:W,handleProfessionalInfoChange:X,handleRolesChange:V,handleCredentialsChange:U,handleOrchestraChange:ce,handleScheduleChange:te,addScheduleItem:fe,removeScheduleItem:Z,updateStudentIds:ne,validateForm:ae,handleSubmit:xe}},VS=({initialStudentIds:n=[],onStudentIdsChange:l,onAddScheduleItem:c,onRemoveScheduleItem:i})=>{const[u,f]=b.useState([]),[h,p]=b.useState([]),[y,m]=b.useState(!1),[v,x]=b.useState(!1),[E,O]=b.useState("");b.useEffect(()=>{(async()=>{m(!0);try{const D=await Pe.getStudents({isActive:!0});console.log(`Loaded ${D.length} students for selection`),f(D)}catch(D){console.error("Failed to load students:",D)}finally{m(!1)}})()},[]),b.useEffect(()=>{(async()=>{if(n.length>0){console.log("Loading selected students for IDs:",n),m(!0);try{const D=await Pe.getStudentsByIds(n);console.log("Loaded selected students:",D),p(D)}catch(D){console.error("Failed to load selected students:",D)}finally{m(!1)}}else p([])})()},[n]);const N=b.useCallback(R=>{O(R)},[]),A=b.useCallback(()=>E.trim()?u.filter(R=>h.some(I=>I._id===R._id)?!1:[R.personalInfo.fullName,R.academicInfo.instrument,R.academicInfo.class].some(I=>I.toLowerCase().includes(E.toLowerCase()))).slice(0,10):[],[E,u,h]),T=b.useCallback(R=>{if(h.some(I=>I._id===R._id)){console.log(`Student ${R._id} already selected, skipping`);return}console.log(`Adding student ${R._id} to selection`),p(I=>[...I,R]);const D=[...h.map(I=>I._id),R._id];l(D),console.log(`Creating schedule for student ${R._id}`),c(R._id),O(""),x(!1)},[h,l,c]),C=b.useCallback(R=>{console.log(`Removing student ${R} from selection`),p(I=>I.filter($=>$._id!==R));const D=h.filter(I=>I._id!==R).map(I=>I._id);l(D),console.log(`Removing schedule for student ${R}`),i(R)},[h,l,i]);return{students:u,selectedStudents:h,loadingStudents:y,showStudentSearch:v,searchQuery:E,setShowStudentSearch:x,handleStudentSearch:N,getFilteredStudents:A,handleAddStudent:T,handleRemoveStudent:C}};function XS({isOpen:n,onClose:l,teacher:c,onSave:i,onAddNewStudent:u,newlyCreatedStudent:f}){var ue,pe,he,ye,de;const{formData:h,scheduleItems:p,errors:y,isLoading:m,isSubmitting:v,orchestras:x,loadingOrchestras:E,error:O,showPassword:N,isMobile:A,isNewTeacher:T,setShowPassword:C,handlePersonalInfoChange:R,handleProfessionalInfoChange:D,handleRolesChange:I,handleCredentialsChange:$,handleOrchestraChange:Q,handleScheduleChange:ie,addScheduleItem:oe,removeScheduleItem:W,updateStudentIds:X,handleSubmit:V}=QS({initialTeacher:c||null,onClose:l,onSave:i}),{selectedStudents:U,loadingStudents:ce,showStudentSearch:te,searchQuery:fe,setShowStudentSearch:Z,handleStudentSearch:ne,getFilteredStudents:ae,handleAddStudent:xe,handleRemoveStudent:S}=VS({initialStudentIds:h.teaching.studentIds,onStudentIdsChange:X,onAddScheduleItem:oe,onRemoveScheduleItem:W});b.useEffect(()=>{f&&(console.log("Adding newly created student:",f),xe(f))},[f,xe]);const M=h.roles.includes(""),Y=h.roles.includes(""),k=()=>{const se={fullName:h.personalInfo.fullName,instrument:h.professionalInfo.instrument};console.log("Requesting to add new student with teacher info:",se),u&&u(se)},H=ae(),re=se=>p.find(Me=>Me.studentId===se)||{studentId:se,day:ml[0],time:"08:00",duration:45,isActive:!0};return n?r.jsxs("div",{className:"teacher-form",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"",children:r.jsx(Bt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?" ":"  "}),O&&r.jsx("div",{className:"error-message",children:O}),y.form&&r.jsx("div",{className:"error-message",children:y.form}),r.jsxs("form",{onSubmit:V,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fullName",children:"  *"}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:((ue=h.personalInfo)==null?void 0:ue.fullName)||"",onChange:R,className:y["personalInfo.fullName"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.fullName"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.fullName"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:" *"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:((pe=h.personalInfo)==null?void 0:pe.phone)||"",onChange:R,className:y["personalInfo.phone"]?"is-invalid":"",placeholder:"05XXXXXXXX",required:!0,disabled:v}),y["personalInfo.phone"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.phone"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",children:'" *'}),r.jsx("input",{type:"email",id:"email",name:"email",value:((he=h.personalInfo)==null?void 0:he.email)||"",onChange:R,className:y["personalInfo.email"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.email"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.email"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"address",children:" *"}),r.jsx("input",{type:"text",id:"address",name:"address",value:((ye=h.personalInfo)==null?void 0:ye.address)||"",onChange:R,className:y["personalInfo.address"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.address"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.address"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:" *"}),r.jsx("div",{className:"checkbox-group",children:YS.map(se=>r.jsxs("div",{className:"checkbox-item",children:[r.jsx("input",{type:"checkbox",id:`role-${se}`,name:"roles",value:se,checked:h.roles.includes(se),onChange:I,disabled:v}),r.jsx("label",{htmlFor:`role-${se}`,children:se})]},se))}),y.roles&&r.jsx("div",{className:"form-error",children:y.roles})]})}),Y&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"instrument",children:"  () *"}),r.jsxs("select",{id:"instrument",name:"instrument",value:((de=h.professionalInfo)==null?void 0:de.instrument)||"",onChange:D,className:y["professionalInfo.instrument"]?"is-invalid":"",required:Y,disabled:v,children:[r.jsx("option",{value:"",disabled:!0,children:"  "}),xc.map(se=>r.jsx("option",{value:se,children:se},se))]}),y["professionalInfo.instrument"]&&r.jsx("div",{className:"form-error",children:y["professionalInfo.instrument"]})]})}),M&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"orchestras",children:" ()"}),r.jsx("select",{id:"orchestras",name:"orchestraIds",multiple:!0,value:h.conducting.orchestraIds||[],onChange:Q,className:y["conducting.orchestraIds"]?"is-invalid":"",disabled:v||E,children:E?r.jsx("option",{disabled:!0,children:" ..."}):x.length>0?x.map(se=>r.jsx("option",{value:se._id,children:se.name},se._id)):r.jsx("option",{disabled:!0,children:"  "})}),r.jsx("small",{className:"select-hint",children:A?"      ":"    (  CTRL +   )"}),y["conducting.orchestraIds"]&&r.jsx("div",{className:"form-error",children:y["conducting.orchestraIds"]})]})})]}),Y&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:""}),U.length>0&&r.jsxs("div",{className:"selected-students",children:[r.jsx("h4",{children:"  "}),U.map(se=>{const Me=re(se._id);return r.jsxs("div",{className:"student-schedule-item",children:[r.jsxs("div",{className:"student-info",children:[r.jsx("div",{className:"student-name",children:se.personalInfo.fullName}),r.jsxs("div",{className:"student-details",children:[r.jsx("span",{children:se.academicInfo.instrument}),r.jsxs("span",{children:[" ",se.academicInfo.class]}),r.jsxs("span",{children:[" ",se.academicInfo.currentStage]})]}),r.jsx("button",{type:"button",className:"remove-student-btn",onClick:()=>S(se._id),"aria-label":" ",disabled:v,children:r.jsx(Bt,{size:16})})]}),r.jsxs("div",{className:"schedule-fields",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`day-${se._id}`,children:""}),r.jsx("select",{id:`day-${se._id}`,value:Me.day,onChange:ze=>ie(se._id,"day",ze.target.value),disabled:v,children:ml.map(ze=>r.jsx("option",{value:ze,children:ze},ze))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`time-${se._id}`,children:""}),r.jsx("input",{type:"time",id:`time-${se._id}`,value:Me.time,onChange:ze=>ie(se._id,"time",ze.target.value),disabled:v})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`duration-${se._id}`,children:" ()"}),r.jsx("select",{id:`duration-${se._id}`,value:Me.duration,onChange:ze=>ie(se._id,"duration",Number(ze.target.value)),disabled:v,children:FS.map(ze=>r.jsx("option",{value:ze,children:ze},ze))})]})]})]},se._id)})]}),r.jsx("div",{className:"student-actions",children:te?r.jsxs("div",{className:"student-search-container",children:[r.jsxs("div",{className:"search-header",children:[r.jsx("h4",{children:" "}),r.jsx("button",{type:"button",className:"btn",onClick:()=>Z(!1),disabled:v,children:r.jsx(Bt,{size:16})})]}),r.jsxs("div",{className:"search-box",children:[r.jsx(Sc,{size:16}),r.jsx("input",{type:"text",placeholder:"   ,   ...",value:fe,onChange:se=>ne(se.target.value),disabled:v})]}),r.jsx("div",{className:"search-results",children:ce?r.jsx("div",{className:"loading-message",children:" ..."}):H.length===0?r.jsx("div",{className:"no-results",children:"  "}):r.jsx("div",{className:"student-list",children:H.map(se=>r.jsxs("div",{className:"student-search-item",onClick:()=>!v&&xe(se),style:{cursor:v?"not-allowed":"pointer"},children:[r.jsx("div",{className:"student-name",children:se.personalInfo.fullName}),r.jsxs("div",{className:"student-details",children:[r.jsx("span",{children:se.academicInfo.instrument}),r.jsxs("span",{children:[" ",se.academicInfo.class]})]})]},se._id))})})]}):r.jsxs("div",{className:"student-action-buttons",children:[r.jsxs("button",{type:"button",className:"btn primary",onClick:()=>Z(!0),disabled:v,children:[r.jsx(Sc,{size:16}),r.jsx("span",{children:"  "})]}),r.jsxs("button",{type:"button",className:"btn primary",onClick:k,disabled:v,children:[r.jsx(Gn,{size:16}),r.jsx("span",{children:"  "})]})]})})]}),T&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:""}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"cred-email",children:'" () *'}),r.jsx("input",{type:"email",id:"cred-email",name:"email",value:h.credentials.email,onChange:$,className:y["credentials.email"]?"is-invalid":"",disabled:!0}),y["credentials.email"]&&r.jsx("div",{className:"form-error",children:y["credentials.email"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",children:" *"}),r.jsxs("div",{className:"password-input-container",children:[r.jsx("input",{type:N?"text":"password",id:"password",name:"password",value:h.credentials.password,onChange:$,className:y["credentials.password"]?"is-invalid":"",required:!0,disabled:v}),r.jsx("button",{type:"button",className:"toggle-password-btn",onClick:()=>C(!N),"aria-label":N?" ":" ",disabled:v,children:N?r.jsx(Lb,{size:16}):r.jsx(Qr,{size:16})})]}),y["credentials.password"]&&r.jsx("div",{className:"form-error",children:y["credentials.password"]})]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:m||v,children:m||v?"...":c!=null&&c._id?"":""}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,disabled:v,children:""})]})]})]})]}):null}function GS(){const{teachers:n,isLoading:l,error:c,loadTeachers:i,removeTeacher:u,clearSelectedTeacher:f}=Tl(),[h,p]=b.useState(!1),[y,m]=b.useState(!1),[v,x]=b.useState(null),[E,O]=b.useState(!1),[N,A]=b.useState(null),[T,C]=b.useState(null),[R,D]=b.useState(null),I=k=>{var H;return[k.personalInfo.fullName,((H=k.professionalInfo)==null?void 0:H.instrument)||"",k.personalInfo.email||"",k.personalInfo.phone||""]},{filteredEntities:$,handleSearch:Q}=zd(n,I),ie=ja(),oe=Zt(),{user:W}=$n(),X=W==null?void 0:W.roles.includes(""),V=oe.pathname.includes("/teachers/")&&!oe.pathname.endsWith("/teachers/");b.useEffect(()=>{i()},[i]);const U=()=>{x(null),f(),p(!0)},ce=()=>{p(!1),x(null)},te=k=>{k&&D({fullName:k.fullName,instrument:k.instrument}),m(!0)},fe=()=>{m(!1)},Z=k=>{C(k),m(!1),p(!0)},ne=k=>{const H=n.find(re=>re._id===k)||null;x(H),p(!0)},ae=k=>{ie(`/teachers/${k}`)},xe=k=>{n.find(re=>re._id===k)&&(A(k),O(!0))},S=async()=>{if(N)try{await u(N),A(null),O(!1)}catch(k){console.error("Failed to remove teacher:",k)}},M=()=>{alert("Open filter dialog")},Y=X;return r.jsxs("div",{className:"app-container",children:[r.jsx(Bc,{}),r.jsxs("main",{className:"main-content",children:[!V&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(_d,{onSearch:Q,placeholder:" ..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:M,"aria-label":" ",children:r.jsx(wd,{className:"icon"})}),Y&&r.jsx("button",{className:"btn-icon add-btn",onClick:U,"aria-label":"  ",children:r.jsx(Gn,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!V&&r.jsx(HS,{teachers:$,isLoading:l,onEdit:ne,onView:ae,onRemove:X?xe:void 0}),r.jsx(Fr,{context:{loadTeachers:i}}),r.jsx(Cs,{isOpen:E,onClose:()=>O(!1),onConfirm:S,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"}),r.jsx(XS,{isOpen:h,onClose:ce,teacher:v||void 0,onSave:()=>{console.log("onSave executing in parent component"),p(!1),i()},onAddNewStudent:te,newlyCreatedStudent:T}),r.jsx(jy,{isOpen:y,onClose:fe,onStudentCreated:Z,newTeacherInfo:R})]}),!V&&!h&&r.jsx(Kr,{})]})}function rg(){var Ot,sa,za,Ce,Ye,Sa,la;const{teacherId:n}=Oc(),[l,c]=b.useState(null),[i,u]=b.useState(!1),[f,h]=b.useState(null),[p,y]=b.useState(!1),[m,v]=b.useState([]),[x,E]=b.useState([]),[O,N]=b.useState(!1),[A,T]=b.useState([]),[C,R]=b.useState(!1),[D,I]=b.useState(null),[$,Q]=b.useState({subject:"",message:""}),[ie,oe]=b.useState({message:""}),[W,X]=b.useState(!1),[V,U]=b.useState({students:!0,orchestras:!0,schedule:!1,personalInfo:!0,professionalInfo:!0}),ce=ja();b.useEffect(()=>{n&&te(n)},[n]);const te=async le=>{var Ne,ot,ut;u(!0),h(null);try{const qe=await ta.getTeacherById(le);console.log("Teacher data loaded:",qe),c(qe);const Ht=((Ne=qe.teaching)==null?void 0:Ne.schedule)||[];if(console.log("Teacher schedule data:",Ht),Array.isArray(Ht)&&Ht.length>0){const yt=Ht.filter(et=>et.isActive!==!1).map(et=>({...et,studentName:` ${et.studentId.slice(-6)}`,instrument:""}));T(yt)}else T([]);(ot=qe.teaching)!=null&&ot.studentIds&&qe.teaching.studentIds.length>0&&fe(qe.teaching.studentIds,qe.teaching.schedule),(ut=qe.conducting)!=null&&ut.orchestraIds&&qe.conducting.orchestraIds.length>0&&(N(!0),await Z(qe.conducting.orchestraIds))}catch(qe){console.error("Failed to load teacher:",qe),h(qe instanceof Error?qe.message:"   ")}finally{u(!1)}},fe=async(le,Ne=[])=>{try{if(!le||!Array.isArray(le)||le.length===0){console.log("No student IDs provided");return}console.log("Loading students for IDs:",le);const ot=await Pe.getStudentsByIds(le);console.log("Loaded student data:",ot),v(ot.map(qe=>({_id:qe._id,fullName:qe.personalInfo.fullName||"  ",instrument:qe.academicInfo.instrument||""})));const ut={};if(ot.forEach(qe=>{var Ht,yt;if(qe&&qe._id){const et=[qe._id,qe._id.toString(),qe._id.toString().replace(/"/g,"")],Fa={name:((Ht=qe.personalInfo)==null?void 0:Ht.fullName)||"  ",instrument:((yt=qe.academicInfo)==null?void 0:yt.instrument)||""};et.forEach(St=>{ut[St.toString()]=Fa})}}),console.log("Enhanced student map:",ut),Array.isArray(Ne)&&Ne.length>0){console.log("Processing schedule items with student data");const qe=Ne.filter(Ht=>Ht.isActive!==!1).map(Ht=>{const yt=Ht.studentId,et=[yt,yt.toString(),yt.toString().replace(/"/g,"")];let Fa=null;for(const St of et)if(ut[St.toString()]){Fa=ut[St.toString()],console.log(`Found student match for ID ${yt} using format ${St}`);break}if(!Fa){const St=yt.toString().replace(/"/g,""),Nt=Object.keys(ut).find(Jr=>Jr.includes(St)||St.includes(Jr));Nt&&(Fa=ut[Nt],console.log(`Found partial match for ID ${yt} via key ${Nt}`))}return{...Ht,studentName:Fa?Fa.name:` ${yt.toString().slice(-6)}`}});console.log("New schedule items after mapping to student names:",qe),T(qe)}}catch(ot){console.error("Failed to load students:",ot)}},Z=async le=>{try{const Ne=await dn.getOrchestrasByIds(le);E(Ne)}catch(Ne){console.error("Failed to load orchestras:",Ne)}finally{N(!1)}},ne=le=>{U(Ne=>({...Ne,[le]:!Ne[le]}))},ae=()=>{y(!p)},xe=()=>{ce("/teachers")},S=le=>{ce(`/students/${le}`)},M=le=>{ce(`/orchestras/${le}`)},Y=()=>{R(!0),I(null)},k=()=>{R(!1),I(null),Q({subject:"",message:""}),oe({message:""}),X(!1)},H=le=>{I(le)},re=le=>{const{name:Ne,value:ot}=le.target;Q(ut=>({...ut,[Ne]:ot}))},ue=le=>{oe({message:le.target.value})},pe=()=>{if(!(l!=null&&l.personalInfo.email))return;const le=`mailto:${l.personalInfo.email}?subject=${encodeURIComponent($.subject)}&body=${encodeURIComponent($.message)}`;window.open(le),k()},he=le=>le.startsWith("0")?`972${le.substring(1)}`:le,ye=()=>{if(!(l!=null&&l.personalInfo.phone))return;const Ne=`https://wa.me/${he(l.personalInfo.phone)}?text=${encodeURIComponent(ie.message)}`;window.open(Ne),k()},de=le=>{navigator.clipboard.writeText(le),X(!0),setTimeout(()=>X(!1),2e3)},se=le=>le?new Date(le).toLocaleDateString("he-IL"):" ",Me=le=>le&&le.includes(":")?le:le||"08:00",ze=le=>({:"#4D55CC",:"#28A745",:"#FFC107",:"#6f42c1",:"#fd7e14",:"#20c997",:"#e83e8c"})[le]||"#6c757d";if(i)return r.jsxs("div",{className:"loading-state",children:[r.jsx(hl,{className:"loading-icon",size:28}),r.jsx("p",{children:"  ..."})]});if(f||!l)return r.jsxs("div",{className:"error-state",children:[r.jsx("p",{children:f||"     "}),r.jsx("button",{onClick:xe,className:"btn primary",children:"  "})]});const qt=n&&((Ot=l.teaching)==null?void 0:Ot.schedule)&&Array.isArray(l.teaching.schedule)&&l.teaching.schedule.length>0,Ct=le=>le.split(" ").map(Ne=>Ne[0]).join("").toUpperCase().substring(0,2),je=le=>({:"#4D55CC",:"#28A745"," ":"#FFC107",:"#DC3545"})[le]||"#6c757d",He=l.roles&&l.roles.length>0?l.roles[0]:"",$e=A.reduce((le,Ne)=>(le[Ne.day]||(le[Ne.day]=[]),le[Ne.day].push(Ne),le),{}),ct=["","","","","","",""];return Object.keys($e).forEach(le=>{$e[le].sort((Ne,ot)=>!Ne.time||!ot.time?0:Ne.time.localeCompare(ot.time))}),console.log("Rendering with schedule data:",{hasSchedule:qt,numScheduleItems:A.length,scheduleByDay:$e,teacherSchedule:(sa=l.teaching)==null?void 0:sa.schedule}),r.jsx("div",{className:"teacher-details-content",children:r.jsxs("div",{className:"teacher-details-page",children:[r.jsx("div",{className:"teacher-card-container",children:r.jsxs("div",{className:`card-content ${p?"flipped":""}`,children:[r.jsxs("div",{className:"card-side card-front",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"teacher-identity",children:[r.jsx("div",{className:"avatar avatar-clickable",style:{backgroundColor:je(He)},onClick:Y,children:Ct(l.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"teacher-name",children:l.personalInfo.fullName}),r.jsx("div",{className:"instrument",children:(za=l.professionalInfo)!=null&&za.instrument?r.jsxs(r.Fragment,{children:[r.jsx(Mt,{size:14}),r.jsx("span",{children:l.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ra,{size:14}),r.jsx("span",{children:He})]})})]})]}),r.jsxs("div",{className:"header-badges",children:[l.roles&&l.roles.map(le=>r.jsx("div",{className:"role-badge",style:{backgroundColor:je(le)},children:le},le)),r.jsx("button",{className:"back-button",onClick:xe,"aria-label":"",children:r.jsx(aa,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[((Ce=l.teaching)==null?void 0:Ce.studentIds)&&l.teaching.studentIds.length>0&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${V.students?"active":""}`,onClick:()=>ne("students"),children:[r.jsx(Xr,{size:16}),r.jsxs("span",{children:[" (",l.teaching.studentIds.length,")"]}),V.students?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),V.students&&r.jsx("div",{className:"section-content",children:r.jsx("div",{className:"students-grid",children:m.map(le=>r.jsxs("div",{className:"student-card clickable",onClick:()=>S(le._id),children:[r.jsx("div",{className:"student-avatar",children:Ct(le.fullName)}),r.jsx("div",{className:"student-info",children:r.jsx("span",{className:"student-name",children:le.fullName})})]},le._id))})})]}),((Ye=l.conducting)==null?void 0:Ye.orchestraIds)&&l.conducting.orchestraIds.length>0&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${V.orchestras?"active":""}`,onClick:()=>ne("orchestras"),children:[r.jsx(Mt,{size:16}),r.jsxs("span",{children:["   (",l.conducting.orchestraIds.length,")"]}),V.orchestras?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),V.orchestras&&r.jsx("div",{className:"section-content",children:O?r.jsxs("div",{className:"loading-section",children:[r.jsx(hl,{size:16,className:"loading-icon"}),r.jsx("span",{children:"  ..."})]}):x.length>0?r.jsx("div",{className:"orchestras-grid",children:x.map(le=>r.jsx("div",{className:"orchestra-card clickable",onClick:()=>M(le._id),children:r.jsx("span",{children:le.name})},le._id))}):r.jsx("div",{className:"no-orchestra-message",children:"   "})})]}),l.roles.includes("")&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${V.schedule?"active":""}`,onClick:()=>ne("schedule"),children:[r.jsx(We,{size:16}),r.jsxs("span",{children:["  (",A.length,")"]}),V.schedule?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),V.schedule&&r.jsx("div",{className:"section-content",children:A.length>0?r.jsxs("div",{className:"weekly-schedule",children:[ct.filter(le=>$e[le]).map(le=>r.jsxs("div",{className:"schedule-day-group",children:[r.jsxs("div",{className:"day-header",style:{backgroundColor:ze(le),color:"white",padding:"6px 10px",borderRadius:"4px",marginBottom:"8px",marginTop:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(We,{size:14}),r.jsxs("span",{children:[" ",le]})]}),r.jsx("div",{className:"day-schedule-items",children:$e[le].map((Ne,ot)=>r.jsxs("div",{className:"schedule-item-card",style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",marginBottom:"8px",backgroundColor:"var(--bg-secondary, #f8f9fa)",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[r.jsxs("div",{className:"schedule-item-header",style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("div",{className:"student-name",style:{fontWeight:"bold"},children:Ne.studentName}),r.jsxs("div",{className:"time-display",style:{display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx(El,{size:14}),r.jsx("span",{children:Me(Ne.time)}),r.jsxs("span",{children:["(",Ne.duration," )"]})]})]}),Ne.instrument&&r.jsxs("div",{className:"instrument-display",style:{fontSize:"0.85rem",marginTop:"4px",color:"var(--text-secondary, #6c757d)"},children:[r.jsx(Mt,{size:12,style:{marginLeft:"4px"}}),r.jsx("span",{children:Ne.instrument})]})]},`${Ne.studentId}-${ot}`))})]},le)),Object.keys($e).length===0&&r.jsx("div",{className:"no-schedule-message",style:{textAlign:"center",padding:"20px"},children:r.jsx("p",{children:"   "})})]}):r.jsx("div",{className:"no-schedule-message",style:{textAlign:"center",padding:"20px"},children:r.jsx("p",{children:"   "})})})]})]}),r.jsx("button",{className:"flip-button",onClick:ae,children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(aa,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(aa,{size:14})]})})]}),r.jsxs("div",{className:"card-side card-back",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"teacher-identity",children:[r.jsx("div",{className:"avatar avatar-clickable",style:{backgroundColor:je(He)},onClick:Y,children:Ct(l.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"teacher-name",children:l.personalInfo.fullName}),r.jsx("div",{className:"instrument",children:(Sa=l.professionalInfo)!=null&&Sa.instrument?r.jsxs(r.Fragment,{children:[r.jsx(Mt,{size:14}),r.jsx("span",{children:l.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ra,{size:14}),r.jsx("span",{children:He})]})})]})]}),r.jsxs("div",{className:"header-badges",children:[l.roles&&l.roles.map(le=>r.jsx("div",{className:"role-badge",style:{backgroundColor:je(le)},children:le},le)),r.jsx("button",{className:"back-button",onClick:xe,"aria-label":"",children:r.jsx(aa,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${V.personalInfo?"active":""}`,onClick:()=>ne("personalInfo"),children:[r.jsx(Ra,{size:16}),r.jsx("span",{children:" "}),V.personalInfo?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),V.personalInfo&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[l.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ur,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:l.personalInfo.phone})]})]}),l.personalInfo.address&&r.jsxs("div",{className:"info-item",children:[r.jsx(Vr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:l.personalInfo.address})]})]}),l.personalInfo.email&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ns,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:""}),r.jsx("span",{className:"info-value",children:l.personalInfo.email})]})]}),l.createdAt&&r.jsxs("div",{className:"info-item",children:[r.jsx(We,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:se(l.createdAt)})]})]})]})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${V.professionalInfo?"active":""}`,onClick:()=>ne("professionalInfo"),children:[r.jsx(Mg,{size:16}),r.jsx("span",{children:" "}),V.professionalInfo?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Xt,{size:18,className:"toggle-icon"})]}),V.professionalInfo&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[((la=l.professionalInfo)==null?void 0:la.instrument)&&r.jsxs("div",{className:"info-item",children:[r.jsx(Mt,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:l.professionalInfo.instrument})]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(We,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:" "}),r.jsx("span",{className:"info-value",children:se(l.createdAt||"")})]})]})]})})]})]}),r.jsx("button",{className:"flip-button",onClick:ae,children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(aa,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"  "}),r.jsx(aa,{size:14})]})})]})]})}),C&&r.jsx("div",{className:"communication-modal-overlay",onClick:k,children:r.jsxs("div",{className:"communication-modal",onClick:le=>le.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsxs("h3",{children:["   ",l.personalInfo.fullName]}),r.jsx("button",{className:"close-btn",onClick:k,children:r.jsx(Bt,{size:18})})]}),!D&&r.jsxs("div",{className:"comm-method-selection",children:[r.jsxs("div",{className:"comm-details",children:[l.personalInfo.phone&&r.jsxs("div",{className:"contact-info-item",children:[r.jsx(Ur,{size:16}),r.jsx("span",{children:l.personalInfo.phone}),r.jsx("button",{className:"copy-btn",onClick:()=>de(l.personalInfo.phone||""),"aria-label":"  ",children:W?r.jsx(zp,{size:16}):r.jsx(Mp,{size:16})})]}),l.personalInfo.email&&r.jsxs("div",{className:"contact-info-item",children:[r.jsx(Ns,{size:16}),r.jsx("span",{children:l.personalInfo.email}),r.jsx("button",{className:"copy-btn",onClick:()=>de(l.personalInfo.email||""),"aria-label":"  ",children:W?r.jsx(zp,{size:16}):r.jsx(Mp,{size:16})})]})]}),r.jsxs("div",{className:"method-buttons",children:[l.personalInfo.email&&r.jsxs("button",{className:"method-btn email-btn",onClick:()=>H("email"),children:[r.jsx(Ns,{size:20}),r.jsx("span",{children:" "})]}),l.personalInfo.phone&&r.jsxs("button",{className:"method-btn whatsapp-btn",onClick:()=>H("whatsapp"),children:[r.jsx($b,{size:20}),r.jsx("span",{children:"  WhatsApp"})]})]})]}),D==="email"&&r.jsxs("div",{className:"email-form",children:[r.jsx("button",{className:"back-to-methods",onClick:()=>I(null),children:" "}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"subject",children:""}),r.jsx("input",{type:"text",id:"subject",name:"subject",value:$.subject,onChange:re,placeholder:" "})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"message",children:" "}),r.jsx("textarea",{id:"message",name:"message",value:$.message,onChange:re,placeholder:"    ...",rows:6})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"cancel-btn",onClick:k,children:""}),r.jsxs("button",{className:"send-btn",onClick:pe,disabled:!$.subject||!$.message,children:[r.jsx(Lp,{size:16}),r.jsx("span",{children:" "})]})]})]}),D==="whatsapp"&&r.jsxs("div",{className:"whatsapp-form",children:[r.jsx("button",{className:"back-to-methods",onClick:()=>I(null),children:" "}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"whatsapp-message",children:" -WhatsApp"}),r.jsx("textarea",{id:"whatsapp-message",value:ie.message,onChange:ue,placeholder:"    ...",rows:6})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"cancel-btn",onClick:k,children:""}),r.jsxs("button",{className:"send-btn",onClick:ye,disabled:!ie.message,children:[r.jsx(Lp,{size:16}),r.jsx("span",{children:"  WhatsApp"})]})]})]})]})})]})})}const Xn=Ol((n,l)=>({orchestras:[],selectedOrchestra:null,filterBy:{},isLoading:!1,error:null,loadOrchestras:async(c={})=>{n({isLoading:!0,error:null});try{const i={...l().filterBy,...c},u=await dn.getOrchestras(i);n({orchestras:u,filterBy:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestras";n({error:u,isLoading:!1}),console.error("Error loading orchestras:",i)}},loadOrchestraById:async c=>{n({isLoading:!0,error:null});try{const i=await dn.getOrchestraById(c);n({selectedOrchestra:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestra";n({error:u,isLoading:!1}),console.error("Error loading orchestra:",i)}},saveOrchestra:async c=>{n({isLoading:!0,error:null});try{let i;if(c._id){i=await dn.updateOrchestra(c._id,c);const u=l().orchestras.map(f=>f._id===i._id?i:f);n({orchestras:u,selectedOrchestra:i,isLoading:!1})}else i=await dn.addOrchestra(c),n({orchestras:[...l().orchestras,i],selectedOrchestra:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save orchestra";throw n({error:u,isLoading:!1}),console.error("Error saving orchestra:",i),i}},removeOrchestra:async c=>{var i;n({isLoading:!0,error:null});try{await dn.removeOrchestra(c),n({orchestras:l().orchestras.filter(u=>u._id!==c),selectedOrchestra:((i=l().selectedOrchestra)==null?void 0:i._id)===c?null:l().selectedOrchestra,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove orchestra";throw n({error:f,isLoading:!1}),console.error("Error removing orchestra:",u),u}},setFilter:c=>{n({filterBy:{...l().filterBy,...c}})},clearSelectedOrchestra:()=>{n({selectedOrchestra:null})},clearError:()=>{n({error:null})}}));function $S({orchestra:n,onView:l,onEdit:c,onRemove:i}){const u=x=>({:"#4D55CC",:"#28A745"})[x]||"#6c757d",f=x=>x===0?"0 ":x===1?" ":`${x} `,h=x=>x?x===1?" ":`${x} `:" ",p=n.memberIds&&n.memberIds.length>0,y=n.rehearsalIds&&n.rehearsalIds.length>0,m=p?n.memberIds.length:0,v=y?n.rehearsalIds.length:0;return r.jsxs("div",{className:"orchestra-preview",onClick:()=>l(n._id),style:{cursor:"pointer"},children:[r.jsx("div",{className:"preview-header",children:r.jsxs("div",{className:"orchestra-header-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:u(n.type)},children:r.jsx(Mt,{size:20})})}),r.jsxs("div",{className:"orchestra-info",children:[r.jsx("h3",{className:"orchestra-name",children:n.name}),r.jsxs("div",{className:"orchestra-type",children:[r.jsx(Xr,{size:14}),r.jsx("span",{children:f(m)})]})]})]})}),r.jsx("div",{className:"preview-content",children:r.jsx("div",{className:"info-row",children:r.jsxs("div",{className:"info-item",children:[r.jsx(We,{size:16}),r.jsx("span",{children:h(v)})]})})}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:x=>{x.stopPropagation(),l(n._id)},"aria-label":"  ",children:r.jsx(Qr,{size:16})}),c&&r.jsx("button",{className:"action-btn edit",onClick:x=>{x.stopPropagation(),c(n._id)},"aria-label":" ",children:r.jsx(Ts,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:x=>{x.stopPropagation(),i(n._id)},"aria-label":" ",children:r.jsx(Dc,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(We,{size:14}),r.jsx("span",{children:new Date(n.createdAt||Date.now()).toLocaleDateString("he-IL")})]})]})]})}function ZS({orchestras:n,isLoading:l,onEdit:c,onView:i,onRemove:u}){return l&&n.length===0?r.jsx("div",{className:"loading-state",children:" ..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx("p",{children:"        "})]}):r.jsx("div",{className:"orchestra-grid",children:n.map(f=>r.jsx($S,{orchestra:f,onEdit:c,onView:i,onRemove:u},f._id))})}const KS=({initialOrchestra:n,onClose:l,onSave:c})=>{const{saveOrchestra:i,isLoading:u,error:f,clearError:h}=Xn(),{currentSchoolYear:p}=_l(),{loadTeachers:y}=Tl(),{students:m,saveStudent:v}=Os(),[x,E]=b.useState({_id:void 0,name:"",type:"",conductorId:"",memberIds:[],rehearsalIds:[],schoolYearId:"",location:" 1",isActive:!0}),[O,N]=b.useState([]),[A,T]=b.useState(!1),[C,R]=b.useState({}),[D,I]=b.useState(!1),$=x.type==="";b.useEffect(()=>{D||(n!=null&&n._id?E({_id:n._id,name:n.name||"",type:n.type||"",conductorId:n.conductorId||"",memberIds:n.memberIds||[],rehearsalIds:n.rehearsalIds||[],schoolYearId:n.schoolYearId||(p==null?void 0:p._id)||"",location:n.location||" 1",isActive:n.isActive!==!1}):E({_id:void 0,name:"",type:"",conductorId:"",memberIds:[],rehearsalIds:[],schoolYearId:(p==null?void 0:p._id)||"",location:" 1",isActive:!0}),R({}),h==null||h())},[n,p,h,D]),b.useEffect(()=>{if(D)return;(async()=>{T(!0);try{const V=x.type===""?"":" ",U=await y({role:V,isActive:!0});if(Array.isArray(U))N(U);else{const te=Tl.getState().teachers.filter(fe=>fe.roles.includes(V));N(te)}}catch(V){console.error("Failed to load conductors:",V)}finally{T(!1)}})()},[x.type,y,D]);const Q=X=>{if(D)return;const{name:V,value:U,dataset:ce}=X.target;if(V==="type"){const te={...x,type:U,conductorId:""};if(x.name){const fe=x.type===""?"":"",Z=U===""?"":"";x.name.includes(fe)&&(te.name=x.name.replace(fe,Z))}E(te)}else E(V==="memberIds"?te=>({...te,memberIds:Array.isArray(U)?U:te.memberIds}):te=>({...te,[V]:U}));ce!=null&&ce.error?R(te=>{if(ce!=null&&ce.error){const fe={...te};return fe[V]=ce.error,fe}return te}):C[V]&&R(te=>{const fe={...te};return delete fe[V],fe})},ie=()=>{const X={};return x.name||(X.name=$?"    ":"    "),x.type||(X.type="   "),x.conductorId||(X.conductorId=$?"  ":"   "),x.location||(X.location="  "),x.schoolYearId||(X.schoolYearId="    "),R(X),Object.keys(X).length===0},oe=async X=>{if(X.preventDefault(),D||!ie())return!1;I(!0);try{console.log("Submitting orchestra form with data:",x);const V=await i(x);return console.log("Orchestra saved successfully:",V),await W(V),c&&c(),l(),!0}catch(V){return console.error("Error saving orchestra:",V),!1}finally{I(!1)}},W=async X=>{const V=X._id,U=(n==null?void 0:n.memberIds)||[],ce=x.memberIds;try{const te=ce.filter(Z=>!U.includes(Z)),fe=U.filter(Z=>!ce.includes(Z));console.log("Updating student references:",{adding:te.length,removing:fe.length});for(const Z of te){const ne=m.find(ae=>ae._id===Z);ne&&!ne.enrollments.orchestraIds.includes(V)&&await v({_id:ne._id,enrollments:{...ne.enrollments,orchestraIds:[...ne.enrollments.orchestraIds,V]}})}for(const Z of fe){const ne=m.find(ae=>ae._id===Z);ne&&await v({_id:ne._id,enrollments:{...ne.enrollments,orchestraIds:ne.enrollments.orchestraIds.filter(ae=>ae!==V)}})}}catch(te){console.error("Error updating student references:",te)}};return{formData:x,conductors:O,errors:C,isLoading:u,isSubmitting:D,isLoadingConductors:A,error:f,isOrchestra:$,handleInputChange:Q,handleSubmit:oe,setFormData:E,validateForm:ie}},JS=({initialMemberIds:n=[],onMemberIdsChange:l})=>{const{students:c,loadStudents:i}=Os(),[u,f]=b.useState([]),[h,p]=b.useState(""),[y,m]=b.useState(!1),[v,x]=b.useState(!1),E=b.useRef(null),O=b.useRef(""),N=b.useRef(!1);b.useEffect(()=>{c.length===0&&i({isActive:!0})},[]),b.useEffect(()=>{const I=JSON.stringify(n.sort());if(c.length>0&&(O.current!==I||!N.current))if(O.current=I,N.current=!0,n.length>0){x(!0);const $=c.filter(Q=>n.includes(Q._id));f($),x(!1)}else f([])},[n,c]);const A=b.useCallback(I=>{p(I.target.value),m(I.target.value.length>0)},[]),T=b.useCallback(()=>h?c.filter(I=>I.personalInfo.fullName.includes(h)&&!u.some($=>$._id===I._id)).slice(0,10):[],[h,c,u]),C=b.useCallback(I=>{f($=>{const Q=[...$,I];return l&&l(Q.map(ie=>ie._id)),Q}),p(""),m(!1)},[l]),R=b.useCallback(I=>{f($=>{const Q=$.filter(ie=>ie._id!==I);return l&&l(Q.map(ie=>ie._id)),Q})},[l]),D=b.useCallback(()=>u.map(I=>I._id),[u]);return{selectedMembers:u,searchQuery:h,isSearchOpen:y,isLoading:v,searchRef:E,handleSearchChange:A,getFilteredStudents:T,handleAddMember:C,handleRemoveMember:R,getMemberIds:D}},PS=({name:n,existingNames:l,type:c,originalName:i,isSubmitting:u=!1})=>{const[f,h]=b.useState({isValid:!0,message:null}),p=b.useRef("");return b.useEffect(()=>{if(u){f.isValid||h({isValid:!0,message:null});return}const y=`${n}|${JSON.stringify(l)}|${c}|${i||""}`;if(p.current===y)return;if(p.current=y,!n||n.trim()===""){(!f.isValid||f.message!==null)&&h({isValid:!0,message:null});return}if(i&&i===n){(!f.isValid||f.message!==null)&&h({isValid:!0,message:null});return}const m=n.trim().toLowerCase(),v=i?l.filter(O=>O.toLowerCase()!==i.toLowerCase()):l;let x={isValid:!0,message:null};const E=v.find(O=>O.toLowerCase()===m);if(E)x={isValid:!1,message:`   : "${E}"`};else{const O=m.replace(/\s+/g,""),N=v.find(A=>A.toLowerCase().replace(/\s+/g,"")===O);N?x={isValid:!1,message:`    ( ): "${N}"`}:m.length<2&&(x={isValid:!1,message:"    2 "})}(x.isValid!==f.isValid||x.message!==f.message)&&h(x)},[n,l,c,i,u,f]),f},WS=["",""],fl=[" ","  1","  2"," ","  1","  2"," "," 1"," 2"," "," 5"," 6"," 7"," 8"," 9"," 10"," 11"," 12"," 13"," 14"," 15"," 16"," 17"," 18"," 19"," 20"," 21"," 22"," 23"," 24"," 25"," 26"];function Sy({isOpen:n,onClose:l,orchestra:c,onSave:i}){const{orchestras:u}=Xn(),f=u.map(U=>U.name),{formData:h,conductors:p,errors:y,isLoading:m,isSubmitting:v,isLoadingConductors:x,error:E,handleInputChange:O,handleSubmit:N,isOrchestra:A}=KS({initialOrchestra:c,onClose:l,onSave:i}),T=PS({name:h.name,existingNames:f,type:h.type,originalName:c==null?void 0:c.name,isSubmitting:v}),{selectedMembers:C,searchQuery:R,isSearchOpen:D,isLoading:I,searchRef:$,handleSearchChange:Q,getFilteredStudents:ie,handleAddMember:oe,handleRemoveMember:W}=JS({initialMemberIds:(c==null?void 0:c.memberIds)||[],onMemberIdsChange:U=>{O({target:{name:"memberIds",value:U}})}}),X=U=>{if(U.preventDefault(),!T.isValid&&T.message){O({target:{name:"name",value:h.name,dataset:{error:T.message}}});return}N(U)};if(!n)return null;const V=ie();return r.jsxs("div",{className:"orchestra-form",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"",children:r.jsx(Bt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?A?" ":" ":A?"  ":"  "}),E&&r.jsx("div",{className:"error-message",children:E}),r.jsxs("form",{onSubmit:X,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:A?" ":" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"type",children:" *"}),r.jsxs("select",{id:"type",name:"type",value:h.type,onChange:O,className:y.type?"is-invalid":"",required:!0,disabled:v,children:[r.jsx("option",{value:"",children:" "}),WS.map(U=>r.jsx("option",{value:U,children:U},U))]}),y.type&&r.jsx("div",{className:"form-error",children:y.type})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:A?"  *":"  *"}),r.jsxs("div",{className:"name-input-container",children:[r.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:O,className:y.name||!T.isValid&&!v?"is-invalid":"",placeholder:A?"  ...":"  ...",required:!0,disabled:v}),!T.isValid&&T.message&&!y.name&&!v&&r.jsxs("div",{className:"name-validation-warning",children:[r.jsx(Db,{size:16}),r.jsx("span",{children:T.message})]})]}),y.name&&r.jsx("div",{className:"form-error",children:y.name})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"location",children:" *"}),r.jsxs("select",{id:"location",name:"location",value:h.location,onChange:O,className:y.location?"is-invalid":"",required:!0,disabled:v,children:[r.jsx("option",{value:"",children:" "}),fl.map(U=>r.jsx("option",{value:U,children:U},U))]}),y.location&&r.jsx("div",{className:"form-error",children:y.location})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"conductorId",children:A?" *":"  *"}),r.jsxs("select",{id:"conductorId",name:"conductorId",value:h.conductorId,onChange:O,className:y.conductorId?"is-invalid":"",required:!0,disabled:x||v,children:[r.jsx("option",{value:"",children:A?" ":"  "}),p.map(U=>r.jsx("option",{value:U._id,children:U.personalInfo.fullName},U._id))]}),x&&r.jsx("div",{className:"loading-text",children:A?" ...":" ..."}),y.conductorId&&r.jsx("div",{className:"form-error",children:y.conductorId})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:A?" ( )":" ( )"}),r.jsxs("div",{ref:$,className:"search-container",children:[r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(Sc,{className:"search-icon",size:16}),r.jsx("input",{type:"text",value:R,onChange:Q,placeholder:"  ...",className:"search-input",onClick:()=>R.length>0,disabled:v})]}),D&&V.length>0&&!v&&r.jsx("div",{className:"search-results-dropdown",children:V.map(U=>r.jsxs("div",{className:"search-result-item",onClick:()=>oe(U),children:[r.jsx(Ra,{size:16,className:"student-icon"}),r.jsx("span",{children:U.personalInfo.fullName}),r.jsx("span",{className:"student-instrument",children:U.academicInfo.instrument})]},U._id))})]}),r.jsx("div",{className:"selected-members-list",children:I?r.jsx("div",{className:"loading-text",children:" ..."}):C.length>0?C.map(U=>r.jsxs("div",{className:"member-badge",children:[r.jsx("span",{children:U.personalInfo.fullName}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>W(U._id),"aria-label":`  ${U.personalInfo.fullName}`,disabled:v,children:r.jsx(Bt,{size:14})})]},U._id)):r.jsxs("div",{className:"no-members-message",children:["  .     "," ",A?"":"","."]})})]})}),r.jsx("input",{type:"hidden",name:"schoolYearId",value:h.schoolYearId})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:m||v||!T.isValid&&!!h.name,children:v?"...":m?"...":c!=null&&c._id?"":""}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,disabled:v,children:""})]})]})]})]})}function eN(){const{orchestras:n,isLoading:l,error:c,loadOrchestras:i,removeOrchestra:u}=Xn(),{loadCurrentSchoolYear:f}=_l(),[h,p]=b.useState(!1),[y,m]=b.useState(null),[v,x]=b.useState(!1),[E,O]=b.useState(null),N=Z=>[Z.name,Z.type],{filteredEntities:A,handleSearch:T}=zd(n,N),C=ja(),R=Zt(),{user:D}=$n(),I=D==null?void 0:D.roles.includes(""),$=D==null?void 0:D.roles.includes(""),Q=R.pathname.includes("/orchestras/")&&!R.pathname.endsWith("/orchestras/");b.useEffect(()=>{i(),f()},[i,f]);const ie=()=>{m(null),p(!0)},oe=()=>{p(!1),m(null)},W=Z=>{const ne=n.find(ae=>ae._id===Z)||null;m(ne),p(!0)},X=Z=>{C(`/orchestras/${Z}`)},V=Z=>{n.find(ae=>ae._id===Z)&&(O(Z),x(!0))},U=async()=>{if(E)try{await u(E),O(null)}catch(Z){console.error("Failed to remove orchestra:",Z)}},ce=()=>{alert("Open filter dialog")},te=I,fe=I||$;return r.jsxs("div",{className:"app-container",children:[r.jsx(Bc,{}),r.jsxs("main",{className:"main-content",children:[!Q&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(_d,{onSearch:T,placeholder:" ..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:ce,"aria-label":" ",children:r.jsx(wd,{className:"icon"})}),te&&r.jsx("button",{className:"btn-icon add-btn",onClick:ie,"aria-label":"  ",children:r.jsx(Gn,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!Q&&r.jsx(ZS,{orchestras:A,isLoading:l,onEdit:fe?W:void 0,onView:X,onRemove:I?V:void 0}),r.jsx(Fr,{context:{loadOrchestras:i}}),r.jsx(Cs,{isOpen:v,onClose:()=>x(!1),onConfirm:U,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"}),h&&r.jsx(Sy,{isOpen:h,onClose:oe,orchestra:y,onSave:i})]}),!Q&&!h&&r.jsx(Kr,{})]})}const kn={async getRehearsals(n={}){return Re.get("rehearsal",n)},async getRehearsalById(n){return Re.get(`rehearsal/${n}`)},async getRehearsalsByOrchestraId(n){return this.getRehearsals({groupId:n})},async addRehearsal(n){if(n.type||(n.type=""),n.date&&!n.dayOfWeek){const l=new Date(n.date);n.dayOfWeek=l.getDay()}return Re.post("rehearsal",n)},async updateRehearsal(n,l){const{_id:c,...i}=l;if(l.date&&!l.dayOfWeek){const u=new Date(l.date);i.dayOfWeek=u.getDay()}return Re.put(`rehearsal/${n}`,i)},async removeRehearsal(n){if(!n)throw new Error("Invalid rehearsal ID");return Re.delete(`rehearsal/${n}`)},async bulkCreateRehearsals(n){try{console.log("Bulk create data being sent:",n);const l={orchestraId:n.orchestraId,startDate:n.startDate,endDate:n.endDate,dayOfWeek:Number(n.dayOfWeek),startTime:n.startTime,endTime:n.endTime,location:n.location,notes:n.notes||"",excludeDates:n.excludeDates||[]};return await Re.post("rehearsal/bulk-create",l)}catch(l){throw console.error("Error in bulk create:",l),l}},async updateAttendance(n,l){return Re.put(`rehearsal/${n}/attendance`,l)},async getAttendance(n){return Re.get(`rehearsal/${n}/attendance`)},formatDate(n){return n.toISOString().split("T")[0]},formatTime(n){return n.toTimeString().slice(0,5)},formatDateForDisplay(n){return new Date(n).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"})},formatTimeForDisplay(n){return n},calculateDuration(n,l){const[c,i]=n.split(":").map(Number),[u,f]=l.split(":").map(Number),h=c*60+i;return u*60+f-h}},qc=Ol((n,l)=>({rehearsals:[],selectedRehearsal:null,filterBy:{},isLoading:!1,error:null,loadRehearsals:async(c={})=>{n({isLoading:!0,error:null});try{const i=await kn.getRehearsals(c);n({rehearsals:i,filterBy:c,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load rehearsals";n({error:u,isLoading:!1}),console.error("Error loading rehearsals:",i)}},loadRehearsalById:async c=>{n({isLoading:!0,error:null});try{const i=await kn.getRehearsalById(c);n({selectedRehearsal:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load rehearsal";n({error:u,isLoading:!1}),console.error("Error loading rehearsal:",i)}},loadRehearsalsByOrchestraId:async c=>{n({isLoading:!0,error:null});try{const i=await kn.getRehearsalsByOrchestraId(c);n({rehearsals:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestra rehearsals";n({error:u,isLoading:!1}),console.error("Error loading orchestra rehearsals:",i)}},saveRehearsal:async c=>{n({isLoading:!0,error:null});try{let i;if(c._id){i=await kn.updateRehearsal(c._id,c);const u=l().rehearsals.map(f=>f._id===i._id?i:f);n({rehearsals:u,selectedRehearsal:i,isLoading:!1})}else i=await kn.addRehearsal(c),n({rehearsals:[...l().rehearsals,i],selectedRehearsal:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save rehearsal";throw n({error:u,isLoading:!1}),console.error("Error saving rehearsal:",i),i}},removeRehearsal:async c=>{var i;n({isLoading:!0,error:null});try{if(!c)throw new Error("Invalid rehearsal ID");await kn.removeRehearsal(c),n({rehearsals:l().rehearsals.filter(u=>u._id!==c),selectedRehearsal:((i=l().selectedRehearsal)==null?void 0:i._id)===c?null:l().selectedRehearsal,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove rehearsal";throw n({error:f,isLoading:!1}),console.error("Error removing rehearsal:",u),u}},bulkCreateRehearsals:async c=>{n({isLoading:!0,error:null});try{const i={orchestraId:c.orchestraId,startDate:c.startDate,endDate:c.endDate,dayOfWeek:Number(c.dayOfWeek),startTime:c.startTime,endTime:c.endTime,location:c.location,notes:c.notes||"",excludeDates:c.excludeDates||[]};console.log("Sending bulk create data:",i);const u=await kn.bulkCreateRehearsals(i);return i.orchestraId?await l().loadRehearsalsByOrchestraId(i.orchestraId):await l().loadRehearsals(),n({isLoading:!1}),u}catch(i){const u=i instanceof Error?i.message:"Failed to create bulk rehearsals";throw n({error:u,isLoading:!1}),console.error("Error creating bulk rehearsals:",i),i}},updateAttendance:async(c,i)=>{var u;n({isLoading:!0,error:null});try{const f=await kn.updateAttendance(c,i),h=l().rehearsals.map(p=>p._id===c?f:p);n({rehearsals:h,selectedRehearsal:((u=l().selectedRehearsal)==null?void 0:u._id)===c?f:l().selectedRehearsal,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to update attendance";throw n({error:h,isLoading:!1}),console.error("Error updating attendance:",f),f}},setFilter:c=>{n({filterBy:{...l().filterBy,...c}})},clearSelectedRehearsal:()=>{n({selectedRehearsal:null})},clearError:()=>{n({error:null})}})),dl=n=>n.toISOString().split("T")[0];function Md({isOpen:n,onClose:l,rehearsal:c,orchestraId:i,onSave:u}){const{saveRehearsal:f,bulkCreateRehearsals:h,isLoading:p,error:y,clearError:m}=qc(),{orchestras:v,loadOrchestras:x}=Xn(),{currentSchoolYear:E}=_l(),O=(E==null?void 0:E._id)||"",[N,A]=b.useState("single"),[T,C]=b.useState({groupId:i||"",date:dl(new Date),startTime:"16:00",endTime:"18:00",location:fl[0],notes:"",isActive:!0,schoolYearId:O,type:"",dayOfWeek:new Date().getDay()}),[R,D]=b.useState({orchestraId:i||"",startDate:dl(new Date),endDate:dl(new Date(new Date().getTime()+30*24*60*60*1e3)),dayOfWeek:new Date().getDay(),startTime:"16:00",endTime:"18:00",location:fl[0],notes:"",excludeDates:[]}),[I,$]=b.useState(""),[Q,ie]=b.useState({}),[oe,W]=b.useState("");b.useEffect(()=>{v.length===0&&x()},[v.length,x]),b.useEffect(()=>{if(c!=null&&c._id&&A("single"),c!=null&&c._id)C({_id:c._id,groupId:c.groupId,date:c.date,startTime:c.startTime,endTime:c.endTime,location:c.location||"",notes:c.notes||"",isActive:c.isActive!==!1,schoolYearId:c.schoolYearId||O,type:c.type||"",dayOfWeek:c.dayOfWeek});else{const S=new Date,M=S.getDay();C({groupId:i||"",date:dl(S),startTime:"16:00",endTime:"18:00",location:fl[0],notes:"",isActive:!0,schoolYearId:O,type:"",dayOfWeek:M}),D({orchestraId:i||"",startDate:dl(S),endDate:dl(new Date(S.getTime()+30*24*60*60*1e3)),dayOfWeek:M,startTime:"16:00",endTime:"18:00",location:fl[0],notes:"",excludeDates:[]})}ie({}),W(""),m&&m()},[c,n,m,i,O,x]);const X=S=>{const{name:M,value:Y}=S.target;C(k=>({...k,[M]:Y})),["startTime","endTime","location","notes","groupId"].includes(M)&&D(k=>({...k,[M==="groupId"?"orchestraId":M]:Y})),Q[M]&&ie(k=>({...k,[M]:""}))},V=S=>{const{name:M,value:Y}=S.target;D(k=>({...k,[M]:Y})),["startTime","endTime","location","notes"].includes(M)?C(k=>({...k,[M]:Y})):M==="orchestraId"&&C(k=>({...k,groupId:Y})),Q[M]&&ie(k=>({...k,[M]:""}))},U=S=>{const M=parseInt(S.target.value,10);D(Y=>({...Y,dayOfWeek:M})),C(Y=>({...Y,dayOfWeek:M}))},ce=S=>{c!=null&&c._id||A(S)},te=()=>{I&&(R.excludeDates.includes(I)||(D(S=>({...S,excludeDates:[...S.excludeDates,I]})),$("")))},fe=S=>{D(M=>({...M,excludeDates:M.excludeDates.filter(Y=>Y!==S)}))},Z=S=>["","","","","","",""][S],ne=()=>{const S={};return T.groupId||(S.groupId="  "),T.date||(S.date="    "),T.startTime||(S.startTime="    "),T.endTime||(S.endTime="    "),T.location||(S.location="    "),T.startTime&&T.endTime&&T.endTime<=T.startTime&&(S.endTime="      "),ie(S),Object.keys(S).length===0},ae=()=>{const S={};return R.orchestraId||(S.orchestraId="  "),R.startDate||(S.startDate="    "),R.endDate||(S.endDate="    "),R.startDate&&R.endDate&&new Date(R.endDate)<new Date(R.startDate)&&(S.endDate="      "),R.startTime||(S.startTime="    "),R.endTime||(S.endTime="    "),R.startTime&&R.endTime&&R.endTime<=R.startTime&&(S.endTime="      "),R.location||(S.location="    "),ie(S),Object.keys(S).length===0},xe=async S=>{if(S.preventDefault(),W(""),!!(N==="bulk"?ae():ne()))try{if(N==="bulk"){const Y={orchestraId:R.orchestraId,startDate:R.startDate,endDate:R.endDate,dayOfWeek:Number(R.dayOfWeek),startTime:R.startTime,endTime:R.endTime,location:R.location,notes:R.notes||"",excludeDates:R.excludeDates||[]};console.log("Sending bulk create data:",Y),await h(Y)}else{const Y={...T,schoolYearId:T.schoolYearId||O,dayOfWeek:T.dayOfWeek||new Date(T.date).getDay()};await f(Y)}u&&u(),l()}catch(Y){console.error("Error saving rehearsal:",Y),W(Y instanceof Error?Y.message:"  .  .")}};return n?r.jsxs("div",{className:"rehearsal-form",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"",children:r.jsx(Bt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?" ":"  "}),y&&r.jsx("div",{className:"error-message",children:y}),oe&&r.jsx("div",{className:"error-message",children:oe}),!(c!=null&&c._id)&&r.jsxs("div",{className:"mode-toggle",children:[r.jsx("button",{type:"button",className:`btn primary ${N==="single"?"active":""}`,onClick:()=>ce("single"),children:" "}),r.jsx("button",{type:"button",className:`btn primary ${N==="bulk"?"active":""}`,onClick:()=>ce("bulk"),children:" "})]}),r.jsxs("form",{onSubmit:xe,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:N==="single"?"groupId":"orchestraId",children:[r.jsx(Mt,{size:16,className:"icon"}),"/ *"]}),r.jsxs("select",{id:N==="single"?"groupId":"orchestraId",name:N==="single"?"groupId":"orchestraId",value:N==="single"?T.groupId:R.orchestraId,onChange:N==="single"?X:V,className:Q[N==="single"?"groupId":"orchestraId"]?"is-invalid":"",required:!0,children:[r.jsx("option",{value:"",children:" /"}),v.map(S=>r.jsx("option",{value:S._id,children:S.name},S._id))]}),Q[N==="single"?"groupId":"orchestraId"]&&r.jsx("div",{className:"form-error",children:Q[N==="single"?"groupId":"orchestraId"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:" "}),N==="single"?r.jsx(r.Fragment,{children:r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"date",children:[r.jsx(We,{size:16,className:"icon"})," *"]}),r.jsx("input",{type:"date",id:"date",name:"date",value:T.date,onChange:X,className:Q.date?"is-invalid":"",required:!0}),Q.date&&r.jsx("div",{className:"form-error",children:Q.date})]})})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"startDate",children:[r.jsx(We,{size:16,className:"icon"}),"  *"]}),r.jsx("input",{type:"date",id:"startDate",name:"startDate",value:R.startDate,onChange:V,className:Q.startDate?"is-invalid":"",required:!0}),Q.startDate&&r.jsx("div",{className:"form-error",children:Q.startDate})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"endDate",children:[r.jsx(We,{size:16,className:"icon"}),"  *"]}),r.jsx("input",{type:"date",id:"endDate",name:"endDate",value:R.endDate,onChange:V,className:Q.endDate?"is-invalid":"",required:!0}),Q.endDate&&r.jsx("div",{className:"form-error",children:Q.endDate})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dayOfWeek",children:[r.jsx(t1,{size:16,className:"icon"}),"  *"]}),r.jsxs("select",{id:"dayOfWeek",name:"dayOfWeek",value:R.dayOfWeek,onChange:U,required:!0,children:[r.jsx("option",{value:0,children:" "}),r.jsx("option",{value:1,children:" "}),r.jsx("option",{value:2,children:" "}),r.jsx("option",{value:3,children:" "}),r.jsx("option",{value:4,children:" "}),r.jsx("option",{value:5,children:" "}),r.jsx("option",{value:6,children:" "})]}),r.jsxs("div",{className:"help-text",children:["    ",Z(R.dayOfWeek)," ","  "]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group excluded-dates",children:[r.jsxs("label",{children:[r.jsx(We,{size:16,className:"icon"})," "]}),r.jsxs("div",{className:"date-input-group",children:[r.jsx("input",{type:"date",value:I,onChange:S=>$(S.target.value),min:R.startDate,max:R.endDate}),r.jsx("button",{type:"button",onClick:te,className:"add-date-btn",disabled:!I,children:""})]}),R.excludeDates.length>0&&r.jsxs("div",{className:"excluded-dates-list",children:[r.jsx("div",{className:"list-title",children:" :"}),r.jsx("ul",{children:R.excludeDates.map(S=>r.jsxs("li",{children:[new Date(S).toLocaleDateString("he-IL"),r.jsx("button",{type:"button",onClick:()=>fe(S),className:"remove-date-btn",children:r.jsx(Bt,{size:14})})]},S))})]})]})})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"startTime",children:[r.jsx(El,{size:16,className:"icon"}),"  *"]}),r.jsx("input",{type:"time",id:"startTime",name:"startTime",value:N==="bulk"?R.startTime:T.startTime,onChange:N==="bulk"?V:X,className:Q.startTime?"is-invalid":"",required:!0}),Q.startTime&&r.jsx("div",{className:"form-error",children:Q.startTime})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"endTime",children:[r.jsx(El,{size:16,className:"icon"}),"  *"]}),r.jsx("input",{type:"time",id:"endTime",name:"endTime",value:N==="bulk"?R.endTime:T.endTime,onChange:N==="bulk"?V:X,className:Q.endTime?"is-invalid":"",required:!0}),Q.endTime&&r.jsx("div",{className:"form-error",children:Q.endTime})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"location",children:[r.jsx(Vr,{size:16,className:"icon"})," *"]}),r.jsxs("select",{id:"location",name:"location",value:N==="bulk"?R.location:T.location,onChange:N==="bulk"?V:X,className:Q.location?"is-invalid":"",required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:" "}),fl.map(S=>r.jsx("option",{value:S,children:S},S))]}),Q.location&&r.jsx("div",{className:"form-error",children:Q.location})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"notes",children:""}),r.jsx("textarea",{id:"notes",name:"notes",value:N==="bulk"?R.notes:T.notes,onChange:N==="bulk"?V:X,rows:3})]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:p,children:p?"...":N==="bulk"?"  ":c!=null&&c._id?"":""}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:""})]})]})]})]}):null}function ig(){var Ot,sa,za;const{orchestraId:n}=Oc(),l=ja(),{user:c}=$n(),{selectedOrchestra:i,loadOrchestraById:u,removeOrchestra:f,isLoading:h,error:p}=Xn(),{loadTeacherById:y}=Tl(),{getStudentsByIds:m}=Os(),{rehearsals:v,loadRehearsalsByOrchestraId:x,removeRehearsal:E,isLoading:O}=qc(),[N,A]=b.useState([]),[T,C]=b.useState(!1),[R,D]=b.useState(!1),[I,$]=b.useState(!1),[Q,ie]=b.useState(null),[oe,W]=b.useState(!1),[X,V]=b.useState(!1),[U,ce]=b.useState(null),[te,fe]=b.useState(!1),[Z,ne]=b.useState(null),[ae,xe]=b.useState(!1),[S,M]=b.useState(!1),[Y,k]=b.useState(!1),H=((Ot=c==null?void 0:c.roles)==null?void 0:Ot.includes(""))||!1,re=((sa=c==null?void 0:c.roles)==null?void 0:sa.includes(""))||!1,ue=H||re&&(i==null?void 0:i.conductorId)===(c==null?void 0:c._id);b.useEffect(()=>{n&&u(n)},[n,u]),b.useEffect(()=>{n&&x(n)},[n,x]),b.useEffect(()=>{(async()=>{if(i!=null&&i.conductorId){W(!0);try{await y(i.conductorId);const Sa=Tl.getState().selectedTeacher;ie(Sa)}catch(Ye){console.error("Failed to load conductor:",Ye)}finally{W(!1)}}})()},[i,y]),b.useEffect(()=>{(async()=>{if(i&&i.memberIds&&i.memberIds.length>0){C(!0);try{const Sa=(await m(i.memberIds)).map(la=>({_id:la._id,personalInfo:{fullName:la.personalInfo.fullName},academicInfo:{instrument:la.academicInfo.instrument}}));A(Sa)}catch(Ye){console.error("Failed to load members:",Ye)}finally{C(!1)}}else A([])})()},[i,m]);const pe=Ce=>new Date(Ce).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"}),he=()=>{l("/orchestras")},ye=()=>{D(!0)},de=()=>{$(!0)},se=async()=>{if(i!=null&&i._id)try{await f(i._id),l("/orchestras")}catch(Ce){console.error("Failed to delete orchestra:",Ce)}$(!1)},Me=()=>{ce(null),V(!0)},ze=Ce=>{ce(Ce),V(!0)},qt=Ce=>{ne(Ce),fe(!0)},Ct=async()=>{if(Z)try{await E(Z),x(n)}catch(Ce){console.error("Failed to delete rehearsal:",Ce)}fe(!1),ne(null)},je=Ce=>{l(`/rehearsals/${Ce}`)},He=()=>{xe(!ae)},$e=()=>{M(!S)},ct=()=>{k(!Y)};return h?r.jsx("div",{className:"loading-state",children:"..."}):p?r.jsx("div",{className:"error-state",children:p}):i?r.jsxs("div",{className:"orchestra-details-content",children:[r.jsx("div",{className:"orchestra-details-page",children:r.jsx("div",{className:"orchestra-card-container",children:r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"orchestra-header",children:[r.jsx("div",{className:"header-icon",children:r.jsx(Mt,{className:"icon",size:20})}),r.jsx("h2",{className:"header-title",children:i.name}),r.jsxs("div",{className:"header-actions",children:[ue&&r.jsx("button",{className:"action-btn edit",onClick:ye,children:r.jsx(Ts,{size:16})}),H&&r.jsx("button",{className:"action-btn delete",onClick:de,children:r.jsx(Bt,{size:16})}),r.jsx("button",{className:"back-button",onClick:he,"aria-label":"",children:r.jsx(aa,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${ae?"active":""}`,onClick:He,children:[i.type===""?" ":" ",ae?r.jsx(Gt,{className:"toggle-icon",size:20}):r.jsx(Xt,{className:"toggle-icon",size:20})]}),ae&&r.jsxs("div",{className:"section-content",children:[r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:":"}),r.jsx("span",{className:"info-value",children:oe?"...":Q&&"personalInfo"in Q?Q.personalInfo.fullName:" "})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:" :"}),r.jsx("span",{className:"info-value",children:((za=i.memberIds)==null?void 0:za.length)||0})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:" :"}),r.jsx("span",{className:"info-value",children:(v==null?void 0:v.length)||0})]})]})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${S?"active":""}`,onClick:$e,children:[r.jsx(Xr,{size:18}),"",S?r.jsx(Gt,{className:"toggle-icon",size:20}):r.jsx(Xt,{className:"toggle-icon",size:20})]}),S&&r.jsx("div",{className:"section-content",children:i.memberIds&&i.memberIds.length>0?r.jsx("div",{className:"members-list",children:T?r.jsx("div",{className:"loading-message",children:" ..."}):N.length>0?r.jsx("ul",{className:"members-items",children:N.map(Ce=>r.jsx("li",{className:"member-item",children:r.jsxs("div",{className:"member-info",children:[r.jsx("span",{className:"member-name",children:Ce.personalInfo.fullName}),r.jsx("span",{children:" - "}),r.jsx("span",{className:"member-instrument",children:Ce.academicInfo.instrument})]})},Ce._id))}):r.jsx("div",{className:"message-box",children:"     "})}):r.jsx("div",{className:"warning-box",children:"   "})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${Y?"active":""}`,onClick:ct,children:[r.jsx(We,{size:18}),"",Y?r.jsx(Gt,{className:"toggle-icon",size:20}):r.jsx(Xt,{className:"toggle-icon",size:20})]}),Y&&r.jsxs("div",{className:"section-content",children:[ue&&r.jsx("div",{className:"add-rehearsal-btn-container",children:r.jsxs("button",{className:"btn primary add-rehearsal-btn",onClick:Me,children:[r.jsx(Gn,{size:16})," "]})}),O?r.jsx("div",{className:"loading-message",children:" ..."}):v&&v.length>0?r.jsx("div",{className:"rehearsals-list",children:v.sort((Ce,Ye)=>new Date(Ce.date).getTime()-new Date(Ye.date).getTime()).map(Ce=>r.jsxs("div",{className:"rehearsal-item",onClick:()=>je(Ce._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"rehearsal-header",children:[r.jsxs("div",{className:"rehearsal-date",children:[r.jsx(We,{size:16}),r.jsx("span",{children:pe(Ce.date)})]}),ue&&r.jsxs("div",{className:"rehearsal-actions",children:[r.jsx("button",{className:"action-btn edit",onClick:Ye=>{Ye.stopPropagation(),ze(Ce)},children:r.jsx(Ts,{size:14})}),r.jsx("button",{className:"action-btn delete",onClick:Ye=>{Ye.stopPropagation(),qt(Ce._id)},children:r.jsx(Bt,{size:14})})]})]}),r.jsxs("div",{className:"rehearsal-details",children:[r.jsxs("div",{className:"rehearsal-time",children:[r.jsx(El,{size:16}),r.jsxs("span",{children:[Ce.startTime," - ",Ce.endTime]})]}),r.jsxs("div",{className:"rehearsal-location",children:[r.jsx(Vr,{size:16}),r.jsx("span",{children:Ce.location})]}),Ce.notes&&r.jsxs("div",{className:"rehearsal-notes",children:[r.jsx("span",{className:"notes-label",children:":"}),r.jsx("span",{className:"notes-text",children:Ce.notes})]})]})]},Ce._id))}):r.jsx("div",{className:"warning-box",children:"    "})]})]})]})]})})}),R&&r.jsx(Sy,{isOpen:R,onClose:()=>D(!1),orchestra:i,onSave:()=>{D(!1),n&&u(n)}}),X&&r.jsx(Md,{isOpen:X,onClose:()=>V(!1),rehearsal:U,orchestraId:n,onSave:()=>{V(!1),n&&x(n)}}),r.jsx(Cs,{isOpen:I,onClose:()=>$(!1),onConfirm:se,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:['       "',i.name,'"?']}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"}),r.jsx(Cs,{isOpen:te,onClose:()=>fe(!1),onConfirm:Ct,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"})]}):r.jsx("div",{className:"not-found-state",children:"  "})}function tN({rehearsal:n,orchestraName:l,onView:c,onEdit:i,onRemove:u,isToday:f=!1}){const h=(m,v)=>{const[x,E]=m.split(":").map(Number),[O,N]=v.split(":").map(Number),A=x*60+E;return O*60+N-A},p=m=>{const v=Math.floor(m/60),x=m%60;return v===0?`${x} `:v===1&&x===0?" ":v===1?` -${x} `:x===0?`${v} `:`${v}  -${x} `},y=h(n.startTime,n.endTime);return r.jsxs("div",{className:`rehearsal-preview ${f?"today-rehearsal":""}`,onClick:()=>c(n._id),children:[f&&r.jsx("div",{className:"today-badge",children:""}),r.jsxs("div",{className:"preview-header",children:[r.jsx("h4",{children:l}),r.jsxs("div",{className:"time-info",children:[r.jsxs("span",{className:"time-range",children:[r.jsx(El,{size:18}),n.startTime," - ",n.endTime]}),r.jsxs("span",{className:"duration",children:["(",p(y),")"]})]})]}),r.jsxs("div",{className:"preview-content",children:[r.jsxs("div",{className:"location-info",children:[r.jsx(Vr,{size:16}),r.jsx("span",{className:"location",children:n.location})]}),n.notes&&r.jsxs("div",{className:"notes-info",children:[r.jsx("span",{className:"notes-label",children:":"}),r.jsx("span",{className:"notes-text",children:n.notes})]})]}),r.jsx("div",{className:"preview-footer",children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:m=>{m.stopPropagation(),c(n._id)},"aria-label":"  ",children:r.jsx(Qr,{size:16})}),i&&r.jsx("button",{className:"action-btn edit",onClick:m=>{m.stopPropagation(),i(n._id)},"aria-label":" ",children:r.jsx(Ts,{size:16})}),u&&r.jsx("button",{className:"action-btn delete",onClick:m=>{m.stopPropagation(),u(n._id)},"aria-label":" ",children:r.jsx(Dc,{size:16})})]})})]})}function aN({rehearsals:n,isLoading:l,orchestras:c,onEdit:i,onView:u,onRemove:f}){const h=b.useMemo(()=>{if(!n.length)return[];const m=new Date().toISOString().split("T")[0],v=n.reduce((x,E)=>{const O=E.date;return x[O]||(x[O]={date:O,rehearsals:[],isToday:O===m}),x[O].rehearsals.push(E),x},{});return Object.values(v).forEach(x=>{x.rehearsals.sort((E,O)=>E.startTime.localeCompare(O.startTime))}),Object.values(v).sort((x,E)=>x.isToday&&!E.isToday?-1:!x.isToday&&E.isToday?1:new Date(x.date).getTime()-new Date(E.date).getTime())},[n]);if(l&&n.length===0)return r.jsx("div",{className:"loading-state",children:" ..."});if(n.length===0)return r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"   "}),r.jsx("p",{children:"        "})]});const p=(m,v)=>v?" ":new Date(m).toLocaleDateString("he-IL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),y=m=>{const v=c.find(x=>x._id===m);return v?v.name:"  "};return r.jsx("div",{className:"rehearsal-list-container",children:h.map(({date:m,rehearsals:v,isToday:x})=>r.jsxs("div",{className:`rehearsal-date-group ${x?"today-group":""}`,children:[r.jsxs("div",{className:"date-header",children:[r.jsx(We,{size:20}),r.jsx("h2",{children:p(m,x)}),r.jsxs("span",{className:"date-count",children:[v.length," "]})]}),r.jsx("div",{className:"rehearsal-grid",children:v.map(E=>r.jsx(tN,{rehearsal:E,orchestraName:y(E.groupId),onEdit:i,onView:u,onRemove:f,isToday:x},E._id))})]},m))})}function nN(){const{rehearsals:n,isLoading:l,error:c,loadRehearsals:i,removeRehearsal:u}=qc(),{orchestras:f,loadOrchestras:h}=Xn(),[p,y]=mb(),m=p.get("orchestraId"),v=p.get("fromDate"),[x,E]=b.useState(!1),[O,N]=b.useState(null),[A,T]=b.useState(!1),[C,R]=b.useState(null),[D,I]=b.useState(m),[$,Q]=b.useState(v),[ie,oe]=b.useState(""),W=ja(),X=Zt(),{user:V}=$n(),U=V==null?void 0:V.roles.includes(""),ce=V==null?void 0:V.roles.includes(""),te=X.pathname.includes("/rehearsals/")&&!X.pathname.endsWith("/rehearsals/");b.useEffect(()=>{h();const pe={};if(m&&(pe.groupId=m,I(m)),v)pe.fromDate=v,Q(v);else{const ye=new Date().toISOString().split("T")[0];pe.fromDate=ye,Q(ye)}i(pe)},[i,h,m,v]),b.useEffect(()=>{const pe=new URLSearchParams(p);D?pe.set("orchestraId",D):pe.delete("orchestraId"),y(pe)},[D,y]);const fe=b.useMemo(()=>{if(!ie.trim())return n;const pe=ie.toLowerCase();return n.filter(he=>{const ye=f.find(de=>de._id===he.groupId);return ye&&ye.name.toLowerCase().includes(pe)})},[n,ie,f]),Z=()=>{N(null),E(!0)},ne=()=>{E(!1),N(null)},ae=pe=>{const he=n.find(ye=>ye._id===pe)||null;N(he),E(!0)},xe=pe=>{W(`/rehearsals/${pe}`)},S=pe=>{n.find(ye=>ye._id===pe)&&(R(pe),T(!0))},M=async()=>{if(C)try{await u(C),R(null)}catch(pe){console.error("Failed to remove rehearsal:",pe)}T(!1)},Y=pe=>{const he=pe.target.value||null;I(he);const ye=new URLSearchParams(p);he?ye.set("orchestraId",he):ye.delete("orchestraId"),y(ye),i({groupId:he||void 0,fromDate:$||void 0})},k=pe=>{const he=pe.target.value||null;Q(he);const ye=new URLSearchParams(p);he?ye.set("fromDate",he):ye.delete("fromDate"),y(ye),i({groupId:D||void 0,fromDate:he||void 0})},H=()=>{I(null),Q(null),oe(""),y(new URLSearchParams),i({})},re=U||ce,ue=U||ce;return r.jsxs("div",{className:"app-container",children:[r.jsx(Bc,{}),r.jsxs("main",{className:"main-content",children:[!te&&r.jsxs("div",{className:"page-header",children:[r.jsx("div",{className:"page-title",children:r.jsxs("h1",{children:[r.jsx(We,{className:"title-icon"})," "]})}),r.jsx("div",{className:"search-action-container-rehearsal",children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("div",{className:"filter-dropdown",children:r.jsxs("select",{value:D||"",onChange:Y,className:"filter-select",children:[r.jsx("option",{value:"",children:" "}),f.map(pe=>r.jsx("option",{value:pe._id,children:pe.name},pe._id))]})}),r.jsx("div",{className:"filter-date",children:r.jsx("input",{type:"date",value:$||"",onChange:k,className:"date-picker"})}),(D||$||ie)&&r.jsx("button",{className:"btn secondary",onClick:H,children:""}),re&&r.jsx("button",{className:"btn-icon add-btn",onClick:Z,"aria-label":"  ",children:r.jsx(Gn,{className:"icon"})})]})})]}),c&&r.jsx("div",{className:"error-message",children:c}),!te&&r.jsx(aN,{rehearsals:fe,isLoading:l,onEdit:ue?ae:void 0,onView:xe,onRemove:U?S:void 0,orchestras:f}),r.jsx(Fr,{}),r.jsx(Cs,{isOpen:A,onClose:()=>T(!1),onConfirm:M,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"      ?"}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"}),x&&r.jsx(Md,{isOpen:x,onClose:ne,rehearsal:O,orchestraId:D||"",onSave:i})]}),!te&&!x&&r.jsx(Kr,{})]})}function cg(){var he,ye;const{rehearsalId:n}=Oc(),l=ja(),{user:c}=$n(),{selectedRehearsal:i,loadRehearsalById:u,removeRehearsal:f,updateAttendance:h,isLoading:p,error:y}=qc(),{loadOrchestraById:m}=Xn(),{getStudentsByIds:v}=Os(),[x,E]=b.useState(null),[O,N]=b.useState([]),[A,T]=b.useState(!1),[C,R]=b.useState(!1),[D,I]=b.useState(!1),[$,Q]=b.useState(!1),[ie,oe]=b.useState([]),[W,X]=b.useState([]),[V,U]=b.useState(!1),[ce,te]=b.useState(!1),[fe,Z]=b.useState(!1),ne=((he=c==null?void 0:c.roles)==null?void 0:he.includes(""))||!1,ae=((ye=c==null?void 0:c.roles)==null?void 0:ye.includes(""))||!1,xe=ne||ae,S=ne||ae;b.useEffect(()=>{n&&u(n)},[n,u]),b.useEffect(()=>{(async()=>{if(i!=null&&i.groupId){T(!0);try{await m(i.groupId);const se=Xn.getState();E(se.selectedOrchestra)}catch(se){console.error("Failed to load orchestra:",se)}finally{T(!1)}}})()},[i,m]),b.useEffect(()=>{(async()=>{if(x!=null&&x.memberIds&&x.memberIds.length>0){R(!0);try{const se=await v(x.memberIds);N(se)}catch(se){console.error("Failed to load students:",se)}finally{R(!1)}}else N([])})()},[x,v]),b.useEffect(()=>{i!=null&&i.attendance?(oe(i.attendance.present||[]),X(i.attendance.absent||[])):(oe([]),X([])),U(!1)},[i]);const M=de=>new Date(de).toLocaleDateString("he-IL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Y=de=>{let se=[...ie],Me=[...W];ie.includes(de)?(se=se.filter(ze=>ze!==de),Me.push(de)):(W.includes(de)&&(Me=Me.filter(ze=>ze!==de)),se.push(de)),oe(se),X(Me),U(!0),Z(!1)},k=de=>ie.includes(de),H=async()=>{if(!(!n||!i)){te(!0);try{await h(n,{present:ie,absent:W}),Z(!0),U(!1),await u(n)}catch(de){console.error("Failed to update attendance:",de)}finally{te(!1)}}},re=()=>{I(!0)},ue=()=>{x!=null&&x._id?l(`/rehearsals?orchestraId=${x._id}`):l("/rehearsals")},pe=async()=>{if(i!=null&&i._id)try{await f(i._id),l("/rehearsals")}catch(de){console.error("Failed to delete rehearsal:",de)}Q(!1)};return p?r.jsx("div",{className:"loading-state",children:"..."}):y?r.jsx("div",{className:"error-state",children:y}):i?r.jsxs("div",{className:"rehearsal-details",children:[r.jsx("div",{className:"rehearsal-details-page",children:r.jsx("div",{className:"rehearsal-card-container",children:r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"rehearsal-header",children:[r.jsx("button",{className:"back-button",onClick:ue,"aria-label":"",children:r.jsx(aa,{className:"lucide lucide-arrow-right"})}),r.jsxs("div",{className:"header-title",children:[r.jsx("h2",{children:"  "}),r.jsxs("div",{className:"date-display",children:[r.jsx(We,{size:18}),r.jsx("span",{children:M(i.date)})]})]}),r.jsx("div",{className:"header-actions",children:xe&&r.jsxs("button",{className:"action-btn edit",onClick:re,children:[r.jsx(Ts,{size:16}),""]})})]}),r.jsxs("div",{className:"orchestra-info-card",children:[r.jsx("h3",{children:A?"...":(x==null?void 0:x.name)||" "}),r.jsxs("div",{className:"rehearsal-details-row",children:[r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:":"}),r.jsx("span",{className:"detail-value",children:i.location})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:":"}),r.jsxs("span",{className:"detail-value",children:[i.startTime," - ",i.endTime]})]})]})]}),r.jsx("div",{className:"attendance-section",children:r.jsx("div",{className:"students-list-container",children:C?r.jsx("div",{className:"loading-students",children:"  ..."}):O.length>0?r.jsx("ul",{className:"students-list",children:O.map(de=>r.jsxs("li",{className:`student-item ${k(de._id)?"present":""}`,children:[r.jsxs("div",{className:"student-info",children:[r.jsx("div",{className:"student-name",children:de.personalInfo.fullName}),r.jsx("div",{className:"student-instrument",children:de.academicInfo.instrument})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:k(de._id),onChange:()=>Y(de._id)}),r.jsx("span",{className:"toggle-slider"})]})]},de._id))}):r.jsx("div",{className:"empty-students",children:"    "})})}),S&&r.jsxs("div",{className:"attendance-footer",children:[fe&&r.jsx("span",{className:"save-success",children:"  !"}),r.jsx("button",{className:"save-attendance-btn",onClick:H,disabled:!V||ce,children:ce?"...":" "})]})]})})}),D&&r.jsx(Md,{isOpen:D,onClose:()=>I(!1),rehearsal:i,orchestraId:i.groupId,onSave:()=>{I(!1),n&&u(n)}}),r.jsx(Cs,{isOpen:$,onClose:()=>Q(!1),onConfirm:pe,title:" ",message:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:['        "',M(i.date),'"?']}),r.jsx("p",{className:"text-sm text-muted",children:"    ."})]}),confirmText:"",cancelText:"",type:"danger"})]}):r.jsx("div",{className:"not-found-state",children:"  "})}const sN=new D1({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function lN(){const n=wc(c=>c.isAuthenticated);return wc(c=>c.isLoading)?r.jsx("div",{children:"Loading..."}):n?r.jsx(Fr,{}):r.jsx(jc,{to:"/login",replace:!0})}function rN(){const n=wc(l=>l.initialize);return b.useEffect(()=>{n()},[n]),r.jsx(z1,{client:sN,children:r.jsx(pS,{children:r.jsx(ob,{children:r.jsxs(B0,{children:[r.jsx(gt,{path:"/login",element:r.jsx(gS,{})}),r.jsx(gt,{path:"/event-registration",element:r.jsx(xS,{})}),r.jsxs(gt,{element:r.jsx(lN,{}),children:[r.jsx(gt,{path:"/dashboard",element:r.jsx(bS,{})}),r.jsxs(gt,{path:"/students",element:r.jsx(kS,{}),children:[r.jsx(gt,{path:":studentId",element:r.jsx(lg,{})}),r.jsx(gt,{path:"new",element:r.jsx(lg,{})})]}),r.jsxs(gt,{path:"/teachers",element:r.jsx(GS,{}),children:[r.jsx(gt,{path:":teacherId",element:r.jsx(rg,{})}),r.jsx(gt,{path:"new",element:r.jsx(rg,{})})]}),r.jsxs(gt,{path:"/orchestras",element:r.jsx(eN,{}),children:[r.jsx(gt,{path:":orchestraId",element:r.jsx(ig,{})}),r.jsx(gt,{path:"new",element:r.jsx(ig,{})})]}),r.jsxs(gt,{path:"/rehearsals",element:r.jsx(nN,{}),children:[r.jsx(gt,{path:":rehearsalId",element:r.jsx(cg,{})}),r.jsx(gt,{path:"new",element:r.jsx(cg,{})})]}),r.jsx(gt,{path:"/",element:r.jsx(jc,{to:"/dashboard",replace:!0})}),r.jsx(gt,{path:"*",element:r.jsx(jc,{to:"/dashboard",replace:!0})})]})]})})})})}Gx.createRoot(document.getElementById("root")).render(r.jsx(b.StrictMode,{children:r.jsx(rN,{})}));
