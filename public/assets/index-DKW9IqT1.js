var gp=n=>{throw TypeError(n)};var Zu=(n,l,i)=>l.has(n)||gp("Cannot "+i);var F=(n,l,i)=>(Zu(n,l,"read from private field"),i?i.call(n):l.get(n)),ze=(n,l,i)=>l.has(n)?gp("Cannot add the same private member more than once"):l instanceof WeakSet?l.add(n):l.set(n,i),Se=(n,l,i,c)=>(Zu(n,l,"write to private field"),c?c.call(n,i):l.set(n,i),i),ct=(n,l,i)=>(Zu(n,l,"access private method"),i);var uc=(n,l,i,c)=>({set _(u){Se(n,l,u,i)},get _(){return F(n,l,c)}});(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();function I0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ku={exports:{}},Dr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function k0(){if(yp)return Dr;yp=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(c,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:n,type:c,key:h,ref:u!==void 0?u:null,props:f}}return Dr.Fragment=l,Dr.jsx=i,Dr.jsxs=i,Dr}var vp;function B0(){return vp||(vp=1,Ku.exports=k0()),Ku.exports}var r=B0(),Ju={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function q0(){if(xp)return Oe;xp=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function C(j,M,Y){this.props=j,this.context=M,this.refs=E,this.updater=Y||A}C.prototype.isReactComponent={},C.prototype.setState=function(j,M){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,M,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function O(){}O.prototype=C.prototype;function R(j,M,Y){this.props=j,this.context=M,this.refs=E,this.updater=Y||A}var D=R.prototype=new O;D.constructor=R,N(D,C.prototype),D.isPureReactComponent=!0;var k=Array.isArray,X={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function ce(j,M,Y,U,q,oe){return Y=oe.ref,{$$typeof:n,type:j,key:M,ref:Y!==void 0?Y:null,props:oe}}function fe(j,M){return ce(j.type,M,void 0,void 0,void 0,j.props)}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function ae(j){var M={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Y){return M[Y]})}var te=/\/+/g;function H(j,M){return typeof j=="object"&&j!==null&&j.key!=null?ae(""+j.key):M.toString(36)}function ve(){}function he(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ve,ve):(j.status="pending",j.then(function(M){j.status==="pending"&&(j.status="fulfilled",j.value=M)},function(M){j.status==="pending"&&(j.status="rejected",j.reason=M)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ge(j,M,Y,U,q){var oe=typeof j;(oe==="undefined"||oe==="boolean")&&(j=null);var de=!1;if(j===null)de=!0;else switch(oe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(j.$$typeof){case n:case l:de=!0;break;case v:return de=j._init,ge(de(j._payload),M,Y,U,q)}}if(de)return q=q(j),de=U===""?"."+H(j,0):U,k(q)?(Y="",de!=null&&(Y=de.replace(te,"$&/")+"/"),ge(q,M,Y,"",function(ue){return ue})):q!=null&&(W(q)&&(q=fe(q,Y+(q.key==null||j&&j.key===q.key?"":(""+q.key).replace(te,"$&/")+"/")+de)),M.push(q)),1;de=0;var V=U===""?".":U+":";if(k(j))for(var ee=0;ee<j.length;ee++)U=j[ee],oe=V+H(U,ee),de+=ge(U,M,Y,oe,q);else if(ee=w(j),typeof ee=="function")for(j=ee.call(j),ee=0;!(U=j.next()).done;)U=U.value,oe=V+H(U,ee++),de+=ge(U,M,Y,oe,q);else if(oe==="object"){if(typeof j.then=="function")return ge(he(j),M,Y,U,q);throw M=String(j),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return de}function $(j,M,Y){if(j==null)return j;var U=[],q=0;return ge(j,U,"","",function(oe){return M.call(Y,oe,q++)}),U}function re(j){if(j._status===-1){var M=j._result;M=M(),M.then(function(Y){(j._status===0||j._status===-1)&&(j._status=1,j._result=Y)},function(Y){(j._status===0||j._status===-1)&&(j._status=2,j._result=Y)}),j._status===-1&&(j._status=0,j._result=M)}if(j._status===1)return j._result.default;throw j._result}var se=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function be(){}return Oe.Children={map:$,forEach:function(j,M,Y){$(j,function(){M.apply(this,arguments)},Y)},count:function(j){var M=0;return $(j,function(){M++}),M},toArray:function(j){return $(j,function(M){return M})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Oe.Component=C,Oe.Fragment=i,Oe.Profiler=u,Oe.PureComponent=R,Oe.StrictMode=c,Oe.Suspense=y,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Oe.act=function(){throw Error("act(...) is not supported in production builds of React.")},Oe.cache=function(j){return function(){return j.apply(null,arguments)}},Oe.cloneElement=function(j,M,Y){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var U=N({},j.props),q=j.key,oe=void 0;if(M!=null)for(de in M.ref!==void 0&&(oe=void 0),M.key!==void 0&&(q=""+M.key),M)!K.call(M,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&M.ref===void 0||(U[de]=M[de]);var de=arguments.length-2;if(de===1)U.children=Y;else if(1<de){for(var V=Array(de),ee=0;ee<de;ee++)V[ee]=arguments[ee+2];U.children=V}return ce(j.type,q,void 0,void 0,oe,U)},Oe.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:f,_context:j},j},Oe.createElement=function(j,M,Y){var U,q={},oe=null;if(M!=null)for(U in M.key!==void 0&&(oe=""+M.key),M)K.call(M,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(q[U]=M[U]);var de=arguments.length-2;if(de===1)q.children=Y;else if(1<de){for(var V=Array(de),ee=0;ee<de;ee++)V[ee]=arguments[ee+2];q.children=V}if(j&&j.defaultProps)for(U in de=j.defaultProps,de)q[U]===void 0&&(q[U]=de[U]);return ce(j,oe,void 0,void 0,null,q)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:g,render:j}},Oe.isValidElement=W,Oe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:re}},Oe.memo=function(j,M){return{$$typeof:p,type:j,compare:M===void 0?null:M}},Oe.startTransition=function(j){var M=X.T,Y={};X.T=Y;try{var U=j(),q=X.S;q!==null&&q(Y,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(be,se)}catch(oe){se(oe)}finally{X.T=M}},Oe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Oe.use=function(j){return X.H.use(j)},Oe.useActionState=function(j,M,Y){return X.H.useActionState(j,M,Y)},Oe.useCallback=function(j,M){return X.H.useCallback(j,M)},Oe.useContext=function(j){return X.H.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j,M){return X.H.useDeferredValue(j,M)},Oe.useEffect=function(j,M){return X.H.useEffect(j,M)},Oe.useId=function(){return X.H.useId()},Oe.useImperativeHandle=function(j,M,Y){return X.H.useImperativeHandle(j,M,Y)},Oe.useInsertionEffect=function(j,M){return X.H.useInsertionEffect(j,M)},Oe.useLayoutEffect=function(j,M){return X.H.useLayoutEffect(j,M)},Oe.useMemo=function(j,M){return X.H.useMemo(j,M)},Oe.useOptimistic=function(j,M){return X.H.useOptimistic(j,M)},Oe.useReducer=function(j,M,Y){return X.H.useReducer(j,M,Y)},Oe.useRef=function(j){return X.H.useRef(j)},Oe.useState=function(j){return X.H.useState(j)},Oe.useSyncExternalStore=function(j,M,Y){return X.H.useSyncExternalStore(j,M,Y)},Oe.useTransition=function(){return X.H.useTransition()},Oe.version="19.0.0",Oe}var bp;function xd(){return bp||(bp=1,Ju.exports=q0()),Ju.exports}var S=xd();const jp=I0(S);var Wu={exports:{}},_r={},Pu={exports:{}},ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function H0(){return Sp||(Sp=1,function(n){function l($,re){var se=$.length;$.push(re);e:for(;0<se;){var be=se-1>>>1,j=$[be];if(0<u(j,re))$[be]=re,$[se]=j,se=be;else break e}}function i($){return $.length===0?null:$[0]}function c($){if($.length===0)return null;var re=$[0],se=$.pop();if(se!==re){$[0]=se;e:for(var be=0,j=$.length,M=j>>>1;be<M;){var Y=2*(be+1)-1,U=$[Y],q=Y+1,oe=$[q];if(0>u(U,se))q<j&&0>u(oe,U)?($[be]=oe,$[q]=se,be=q):($[be]=U,$[Y]=se,be=Y);else if(q<j&&0>u(oe,se))$[be]=oe,$[q]=se,be=q;else break e}}return re}function u($,re){var se=$.sortIndex-re.sortIndex;return se!==0?se:$.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,g=h.now();n.unstable_now=function(){return h.now()-g}}var y=[],p=[],v=1,x=null,w=3,A=!1,N=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D($){for(var re=i(p);re!==null;){if(re.callback===null)c(p);else if(re.startTime<=$)c(p),re.sortIndex=re.expirationTime,l(y,re);else break;re=i(p)}}function k($){if(E=!1,D($),!N)if(i(y)!==null)N=!0,he();else{var re=i(p);re!==null&&ge(k,re.startTime-$)}}var X=!1,K=-1,ce=5,fe=-1;function W(){return!(n.unstable_now()-fe<ce)}function ae(){if(X){var $=n.unstable_now();fe=$;var re=!0;try{e:{N=!1,E&&(E=!1,O(K),K=-1),A=!0;var se=w;try{t:{for(D($),x=i(y);x!==null&&!(x.expirationTime>$&&W());){var be=x.callback;if(typeof be=="function"){x.callback=null,w=x.priorityLevel;var j=be(x.expirationTime<=$);if($=n.unstable_now(),typeof j=="function"){x.callback=j,D($),re=!0;break t}x===i(y)&&c(y),D($)}else c(y);x=i(y)}if(x!==null)re=!0;else{var M=i(p);M!==null&&ge(k,M.startTime-$),re=!1}}break e}finally{x=null,w=se,A=!1}re=void 0}}finally{re?te():X=!1}}}var te;if(typeof R=="function")te=function(){R(ae)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ve=H.port2;H.port1.onmessage=ae,te=function(){ve.postMessage(null)}}else te=function(){C(ae,0)};function he(){X||(X=!0,te())}function ge($,re){K=C(function(){$(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_continueExecution=function(){N||A||(N=!0,he())},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return i(y)},n.unstable_next=function($){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var se=w;w=re;try{return $()}finally{w=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=w;w=$;try{return re()}finally{w=se}},n.unstable_scheduleCallback=function($,re,se){var be=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?be+se:be):se=be,$){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=se+j,$={id:v++,callback:re,priorityLevel:$,startTime:se,expirationTime:j,sortIndex:-1},se>be?($.sortIndex=se,l(p,$),i(y)===null&&$===i(p)&&(E?(O(K),K=-1):E=!0,ge(k,se-be))):($.sortIndex=j,l(y,$),N||A||(N=!0,he())),$},n.unstable_shouldYield=W,n.unstable_wrapCallback=function($){var re=w;return function(){var se=w;w=re;try{return $.apply(this,arguments)}finally{w=se}}}}(ed)),ed}var Np;function Y0(){return Np||(Np=1,Pu.exports=H0()),Pu.exports}var td={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function F0(){if(Ep)return Mt;Ep=1;var n=xd();function l(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var c={d:{f:i,r:function(){throw Error(l(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:y,containerInfo:p,implementation:v}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Mt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(l(299));return f(y,p,null,v)},Mt.flushSync=function(y){var p=h.T,v=c.p;try{if(h.T=null,c.p=2,y)return y()}finally{h.T=p,c.p=v,c.d.f()}},Mt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,c.d.C(y,p))},Mt.prefetchDNS=function(y){typeof y=="string"&&c.d.D(y)},Mt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,x=g(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?c.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:A}):v==="script"&&c.d.X(y,{crossOrigin:x,integrity:w,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);c.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&c.d.M(y)},Mt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=g(v,p.crossOrigin);c.d.L(y,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=g(p.as,p.crossOrigin);c.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else c.d.m(y)},Mt.requestFormReset=function(y){c.d.r(y)},Mt.unstable_batchedUpdates=function(y,p){return y(p)},Mt.useFormState=function(y,p,v){return h.H.useFormState(y,p,v)},Mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Mt.version="19.0.0",Mt}var Tp;function Q0(){if(Tp)return td.exports;Tp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),td.exports=F0(),td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function X0(){if(wp)return _r;wp=1;var n=Y0(),l=xd(),i=Q0();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),k=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=X&&e[X]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case g:return"Portal";case v:return"Profiler";case p:return"StrictMode";case E:return"Suspense";case C:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case A:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:fe(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return fe(e(t))}catch{}}return null}var W=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=Object.assign,te,H;function ve(e){if(te===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);te=t&&t[1]||"",H=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+e+H}var he=!1;function ge(e,t){if(!e||he)return"";he=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(G){var B=G}Reflect.construct(e,[],P)}else{try{P.call()}catch(G){B=G}e.call(P.prototype)}}else{try{throw Error()}catch(G){B=G}(P=e())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),m=d[0],b=d[1];if(m&&b){var T=m.split(`
`),z=b.split(`
`);for(o=s=0;s<T.length&&!T[s].includes("DetermineComponentFrameRoot");)s++;for(;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;if(s===T.length||o===z.length)for(s=T.length-1,o=z.length-1;1<=s&&0<=o&&T[s]!==z[o];)o--;for(;1<=s&&0<=o;s--,o--)if(T[s]!==z[o]){if(s!==1||o!==1)do if(s--,o--,0>o||T[s]!==z[o]){var Z=`
`+T[s].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=s&&0<=o);break}}}finally{he=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ve(a):""}function $(e){switch(e.tag){case 26:case 27:case 5:return ve(e.type);case 16:return ve("Lazy");case 13:return ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function re(e){try{var t="";do t+=$(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function se(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function be(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j(e){if(se(e)!==e)throw Error(c(188))}function M(e){var t=e.alternate;if(!t){if(t=se(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return j(o),e;if(d===s)return j(o),t;d=d.sibling}throw Error(c(188))}if(a.return!==s.return)a=o,s=d;else{for(var m=!1,b=o.child;b;){if(b===a){m=!0,a=o,s=d;break}if(b===s){m=!0,s=o,a=d;break}b=b.sibling}if(!m){for(b=d.child;b;){if(b===a){m=!0,a=d,s=o;break}if(b===s){m=!0,s=d,a=o;break}b=b.sibling}if(!m)throw Error(c(189))}}if(a.alternate!==s)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function Y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Y(e),t!==null)return t;e=e.sibling}return null}var U=Array.isArray,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},de=[],V=-1;function ee(e){return{current:e}}function ue(e){0>V||(e.current=de[V],de[V]=null,V--)}function le(e,t){V++,de[V]=e.current,e.current=t}var ne=ee(null),Ee=ee(null),we=ee(null),bt=ee(null);function lt(e,t){switch(le(we,t),le(Ee,e),le(ne,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Xm(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Xm(e),t=Vm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ne),le(ne,t)}function xe(){ue(ne),ue(Ee),ue(we)}function Be(e){e.memoizedState!==null&&le(bt,e);var t=ne.current,a=Vm(t,e.type);t!==a&&(le(Ee,e),le(ne,a))}function Ye(e){Ee.current===e&&(ue(ne),ue(Ee)),bt.current===e&&(ue(bt),wr._currentValue=oe)}var ut=Object.prototype.hasOwnProperty,Dt=n.unstable_scheduleCallback,sa=n.unstable_cancelCallback,za=n.unstable_shouldYield,Re=n.unstable_requestPaint,Fe=n.unstable_now,Na=n.unstable_getCurrentPriorityLevel,la=n.unstable_ImmediatePriority,ie=n.unstable_UserBlockingPriority,Ne=n.unstable_NormalPriority,dt=n.unstable_LowPriority,Tt=n.unstable_IdlePriority,Ue=n.log,wt=n.unstable_setDisableYieldValue,rt=null,Ze=null;function ra(e){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(rt,e,void 0,(e.current.flags&128)===128)}catch{}}function ft(e){if(typeof Ue=="function"&&wt(e),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(rt,e)}catch{}}var ht=Math.clz32?Math.clz32:ai,Kn=Math.log,ti=Math.LN2;function ai(e){return e>>>=0,e===0?32:31-(Kn(e)/ti|0)|0}var Jn=128,Wn=4194304;function Ma(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pn(e,t){var a=e.pendingLanes;if(a===0)return 0;var s=0,o=e.suspendedLanes,d=e.pingedLanes,m=e.warmLanes;e=e.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~o,a!==0?s=Ma(a):(d&=b,d!==0?s=Ma(d):e||(m=b&~m,m!==0&&(s=Ma(m))))):(b=a&~o,b!==0?s=Ma(b):d!==0?s=Ma(d):e||(m=a&~m,m!==0&&(s=Ma(m)))),s===0?0:t!==0&&t!==s&&(t&o)===0&&(o=s&-s,m=t&-t,o>=m||o===32&&(m&4194176)!==0)?t:s}function pn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ty(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ud(){var e=Jn;return Jn<<=1,(Jn&4194176)===0&&(Jn=128),e}function Id(){var e=Wn;return Wn<<=1,(Wn&62914560)===0&&(Wn=4194304),e}function Fc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wy(e,t,a,s,o,d){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,T=e.expirationTimes,z=e.hiddenUpdates;for(a=m&~a;0<a;){var Z=31-ht(a),P=1<<Z;b[Z]=0,T[Z]=-1;var B=z[Z];if(B!==null)for(z[Z]=null,Z=0;Z<B.length;Z++){var G=B[Z];G!==null&&(G.lane&=-536870913)}a&=~P}s!==0&&kd(e,s,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function kd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ht(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194218}function Bd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-ht(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function qd(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hd(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:up(e.type))}function Cy(e,t){var a=q.p;try{return q.p=e,t()}finally{q.p=a}}var gn=Math.random().toString(36).slice(2),_t="__reactFiber$"+gn,Ht="__reactProps$"+gn,Ms="__reactContainer$"+gn,Qc="__reactEvents$"+gn,Oy="__reactListeners$"+gn,Ay="__reactHandles$"+gn,Yd="__reactResources$"+gn,kl="__reactMarker$"+gn;function Xc(e){delete e[_t],delete e[Ht],delete e[Qc],delete e[Oy],delete e[Ay]}function es(e){var t=e[_t];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ms]||a[_t]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Zm(e);e!==null;){if(a=e[_t])return a;e=Zm(e)}return t}e=a,a=e.parentNode}return null}function Ls(e){if(e=e[_t]||e[Ms]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Bl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Us(e){var t=e[Yd];return t||(t=e[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function jt(e){e[kl]=!0}var Fd=new Set,Qd={};function ts(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(Qd[e]=t,e=0;e<t.length;e++)Fd.add(t[e])}var Xa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xd={},Vd={};function Dy(e){return ut.call(Vd,e)?!0:ut.call(Xd,e)?!1:Ry.test(e)?Vd[e]=!0:(Xd[e]=!0,!1)}function ni(e,t,a){if(Dy(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function si(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Va(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function ia(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _y(e){var t=Gd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){s=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(m){s=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function li(e){e._valueTracker||(e._valueTracker=_y(e))}function $d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Gd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zy=/[\n"\\]/g;function ca(e){return e.replace(zy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vc(e,t,a,s,o,d,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ia(t)):e.value!==""+ia(t)&&(e.value=""+ia(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Gc(e,m,ia(t)):a!=null?Gc(e,m,ia(a)):s!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+ia(b):e.removeAttribute("name")}function Zd(e,t,a,s,o,d,m,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+ia(a):"",t=t!=null?""+ia(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function Gc(e,t,a){t==="number"&&ri(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ks(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+ia(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Kd(e,t,a){if(t!=null&&(t=""+ia(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ia(a):""}function Jd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(c(92));if(U(s)){if(1<s.length)throw Error(c(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=ia(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Bs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var My=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||My.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Pd(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Wd(e,o,s)}else for(var d in t)t.hasOwnProperty(d)&&Wd(e,d,t[d])}function $c(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ly=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(e){return Uy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Zc=null;function Kc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qs=null,Hs=null;function ef(e){var t=Ls(e);if(t&&(e=t.stateNode)){var a=e[Ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ca(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[Ht]||null;if(!o)throw Error(c(90));Vc(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&$d(s)}break e;case"textarea":Kd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ks(e,!!a.multiple,t,!1)}}}var Jc=!1;function tf(e,t,a){if(Jc)return e(t,a);Jc=!0;try{var s=e(t);return s}finally{if(Jc=!1,(qs!==null||Hs!==null)&&(Qi(),qs&&(t=qs,e=Hs,Hs=qs=null,ef(t),e)))for(t=0;t<e.length;t++)ef(e[t])}}function ql(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Ht]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var Wc=!1;if(Xa)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{Wc=!1}var yn=null,Pc=null,ci=null;function af(){if(ci)return ci;var e,t=Pc,a=t.length,s,o="value"in yn?yn.value:yn.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[d-s];s++);return ci=o.slice(e,1<s?1-s:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function nf(){return!1}function Yt(e){function t(a,s,o,d,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ui:nf,this.isPropagationStopped=nf,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),t}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Yt(as),Yl=ae({},as,{view:0,detail:0}),Iy=Yt(Yl),eo,to,Fl,fi=ae({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:no,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fl&&(Fl&&e.type==="mousemove"?(eo=e.screenX-Fl.screenX,to=e.screenY-Fl.screenY):to=eo=0,Fl=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),sf=Yt(fi),ky=ae({},fi,{dataTransfer:0}),By=Yt(ky),qy=ae({},Yl,{relatedTarget:0}),ao=Yt(qy),Hy=ae({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),Yy=Yt(Hy),Fy=ae({},as,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qy=Yt(Fy),Xy=ae({},as,{data:0}),lf=Yt(Xy),Vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$y[e])?!!t[e]:!1}function no(){return Zy}var Ky=ae({},Yl,{key:function(e){if(e.key){var t=Vy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:no,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jy=Yt(Ky),Wy=ae({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Yt(Wy),Py=ae({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:no}),ev=Yt(Py),tv=ae({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),av=Yt(tv),nv=ae({},fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=Yt(nv),lv=ae({},as,{newState:0,oldState:0}),rv=Yt(lv),iv=[9,13,27,32],so=Xa&&"CompositionEvent"in window,Ql=null;Xa&&"documentMode"in document&&(Ql=document.documentMode);var cv=Xa&&"TextEvent"in window&&!Ql,cf=Xa&&(!so||Ql&&8<Ql&&11>=Ql),of=" ",uf=!1;function df(e,t){switch(e){case"keyup":return iv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ff(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function ov(e,t){switch(e){case"compositionend":return ff(t);case"keypress":return t.which!==32?null:(uf=!0,of);case"textInput":return e=t.data,e===of&&uf?null:e;default:return null}}function uv(e,t){if(Ys)return e==="compositionend"||!so&&df(e,t)?(e=af(),ci=Pc=yn=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cf&&t.locale!=="ko"?null:t.data;default:return null}}var dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dv[e.type]:t==="textarea"}function mf(e,t,a,s){qs?Hs?Hs.push(s):Hs=[s]:qs=s,t=Zi(t,"onChange"),0<t.length&&(a=new di("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Xl=null,Vl=null;function fv(e){qm(e,0)}function hi(e){var t=Bl(e);if($d(t))return e}function pf(e,t){if(e==="change")return t}var gf=!1;if(Xa){var lo;if(Xa){var ro="oninput"in document;if(!ro){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),ro=typeof yf.oninput=="function"}lo=ro}else lo=!1;gf=lo&&(!document.documentMode||9<document.documentMode)}function vf(){Xl&&(Xl.detachEvent("onpropertychange",xf),Vl=Xl=null)}function xf(e){if(e.propertyName==="value"&&hi(Vl)){var t=[];mf(t,Vl,e,Kc(e)),tf(fv,t)}}function hv(e,t,a){e==="focusin"?(vf(),Xl=t,Vl=a,Xl.attachEvent("onpropertychange",xf)):e==="focusout"&&vf()}function mv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hi(Vl)}function pv(e,t){if(e==="click")return hi(t)}function gv(e,t){if(e==="input"||e==="change")return hi(t)}function yv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:yv;function Gl(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!ut.call(t,o)||!Kt(e[o],t[o]))return!1}return!0}function bf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jf(e,t){var a=bf(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bf(a)}}function Sf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ri(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ri(e.document)}return t}function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vv(e,t){var a=Nf(t);t=e.focusedElem;var s=e.selectionRange;if(a!==t&&t&&t.ownerDocument&&Sf(t.ownerDocument.documentElement,t)){if(s!==null&&io(t)){if(e=s.start,a=s.end,a===void 0&&(a=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(a,t.value.length);else if(a=(e=t.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var o=t.textContent.length,d=Math.min(s.start,o);s=s.end===void 0?d:Math.min(s.end,o),!a.extend&&d>s&&(o=s,s=d,d=o),o=jf(t,d);var m=jf(t,s);o&&m&&(a.rangeCount!==1||a.anchorNode!==o.node||a.anchorOffset!==o.offset||a.focusNode!==m.node||a.focusOffset!==m.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),a.removeAllRanges(),d>s?(a.addRange(e),a.extend(m.node,m.offset)):(e.setEnd(m.node,m.offset),a.addRange(e)))}}for(e=[],a=t;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)a=e[t],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var xv=Xa&&"documentMode"in document&&11>=document.documentMode,Fs=null,co=null,$l=null,oo=!1;function Ef(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;oo||Fs==null||Fs!==ri(s)||(s=Fs,"selectionStart"in s&&io(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),$l&&Gl($l,s)||($l=s,s=Zi(co,"onSelect"),0<s.length&&(t=new di("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Fs)))}function ns(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Qs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},uo={},Tf={};Xa&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ss(e){if(uo[e])return uo[e];if(!Qs[e])return e;var t=Qs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Tf)return uo[e]=t[a];return e}var wf=ss("animationend"),Cf=ss("animationiteration"),Of=ss("animationstart"),bv=ss("transitionrun"),jv=ss("transitionstart"),Sv=ss("transitioncancel"),Af=ss("transitionend"),Rf=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ea(e,t){Rf.set(e,t),ts(t,[e])}var oa=[],Xs=0,fo=0;function mi(){for(var e=Xs,t=fo=Xs=0;t<e;){var a=oa[t];oa[t++]=null;var s=oa[t];oa[t++]=null;var o=oa[t];oa[t++]=null;var d=oa[t];if(oa[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}d!==0&&_f(a,o,d)}}function pi(e,t,a,s){oa[Xs++]=e,oa[Xs++]=t,oa[Xs++]=a,oa[Xs++]=s,fo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ho(e,t,a,s){return pi(e,t,a,s),gi(e)}function vn(e,t){return pi(e,null,null,t),gi(e)}function _f(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;o&&t!==null&&e.tag===3&&(d=e.stateNode,o=31-ht(a),d=d.hiddenUpdates,e=d[o],e===null?d[o]=[t]:e.push(t),t.lane=a|536870912)}function gi(e){if(50<xr)throw xr=0,xu=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Vs={},zf=new WeakMap;function ua(e,t){if(typeof e=="object"&&e!==null){var a=zf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:re(t)},zf.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Gs=[],$s=0,yi=null,vi=0,da=[],fa=0,ls=null,Ga=1,$a="";function rs(e,t){Gs[$s++]=vi,Gs[$s++]=yi,yi=e,vi=t}function Mf(e,t,a){da[fa++]=Ga,da[fa++]=$a,da[fa++]=ls,ls=e;var s=Ga;e=$a;var o=32-ht(s)-1;s&=~(1<<o),a+=1;var d=32-ht(t)+o;if(30<d){var m=o-o%5;d=(s&(1<<m)-1).toString(32),s>>=m,o-=m,Ga=1<<32-ht(t)+o|a<<o|s,$a=d+e}else Ga=1<<d|a<<o|s,$a=e}function mo(e){e.return!==null&&(rs(e,1),Mf(e,1,0))}function po(e){for(;e===yi;)yi=Gs[--$s],Gs[$s]=null,vi=Gs[--$s],Gs[$s]=null;for(;e===ls;)ls=da[--fa],da[fa]=null,$a=da[--fa],da[fa]=null,Ga=da[--fa],da[fa]=null}var It=null,Ct=null,qe=!1,Ta=null,La=!1,go=Error(c(519));function is(e){var t=Error(c(418,""));throw Jl(ua(t,e)),go}function Lf(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[_t]=e,t[Ht]=s,a){case"dialog":Le("cancel",t),Le("close",t);break;case"iframe":case"object":case"embed":Le("load",t);break;case"video":case"audio":for(a=0;a<jr.length;a++)Le(jr[a],t);break;case"source":Le("error",t);break;case"img":case"image":case"link":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"input":Le("invalid",t),Zd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),li(t);break;case"select":Le("invalid",t);break;case"textarea":Le("invalid",t),Jd(t,s.value,s.defaultValue,s.children),li(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Qm(t.textContent,a)?(s.popover!=null&&(Le("beforetoggle",t),Le("toggle",t)),s.onScroll!=null&&Le("scroll",t),s.onScrollEnd!=null&&Le("scrollend",t),s.onClick!=null&&(t.onclick=Ki),t=!0):t=!1,t||is(e)}function Uf(e){for(It=e.return;It;)switch(It.tag){case 3:case 27:La=!0;return;case 5:case 13:La=!1;return;default:It=It.return}}function Zl(e){if(e!==It)return!1;if(!qe)return Uf(e),qe=!0,!1;var t=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Uu(e.type,e.memoizedProps)),a=!a),a&&(t=!0),t&&Ct&&is(e),Uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ct=Ca(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ct=null}}else Ct=It?Ca(e.stateNode.nextSibling):null;return!0}function Kl(){Ct=It=null,qe=!1}function Jl(e){Ta===null?Ta=[e]:Ta.push(e)}var Wl=Error(c(460)),If=Error(c(474)),yo={then:function(){}};function kf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xi(){}function Bf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(xi,xi),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Wl?Error(c(483)):e;default:if(typeof t.status=="string")t.then(xi,xi);else{if(e=Ge,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Wl?Error(c(483)):e}throw Pl=t,Wl}}var Pl=null;function qf(){if(Pl===null)throw Error(c(459));var e=Pl;return Pl=null,e}var Zs=null,er=0;function bi(e){var t=er;return er+=1,Zs===null&&(Zs=[]),Bf(Zs,e,t)}function tr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ji(e,t){throw t.$$typeof===f?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hf(e){var t=e._init;return t(e._payload)}function Yf(e){function t(L,_){if(e){var I=L.deletions;I===null?(L.deletions=[_],L.flags|=16):I.push(_)}}function a(L,_){if(!e)return null;for(;_!==null;)t(L,_),_=_.sibling;return null}function s(L){for(var _=new Map;L!==null;)L.key!==null?_.set(L.key,L):_.set(L.index,L),L=L.sibling;return _}function o(L,_){return L=Rn(L,_),L.index=0,L.sibling=null,L}function d(L,_,I){return L.index=I,e?(I=L.alternate,I!==null?(I=I.index,I<_?(L.flags|=33554434,_):I):(L.flags|=33554434,_)):(L.flags|=1048576,_)}function m(L){return e&&L.alternate===null&&(L.flags|=33554434),L}function b(L,_,I,J){return _===null||_.tag!==6?(_=du(I,L.mode,J),_.return=L,_):(_=o(_,I),_.return=L,_)}function T(L,_,I,J){var me=I.type;return me===y?Z(L,_,I.props.children,J,I.key):_!==null&&(_.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Hf(me)===_.type)?(_=o(_,I.props),tr(_,I),_.return=L,_):(_=Bi(I.type,I.key,I.props,null,L.mode,J),tr(_,I),_.return=L,_)}function z(L,_,I,J){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=fu(I,L.mode,J),_.return=L,_):(_=o(_,I.children||[]),_.return=L,_)}function Z(L,_,I,J,me){return _===null||_.tag!==7?(_=ys(I,L.mode,J,me),_.return=L,_):(_=o(_,I),_.return=L,_)}function P(L,_,I){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=du(""+_,L.mode,I),_.return=L,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case h:return I=Bi(_.type,_.key,_.props,null,L.mode,I),tr(I,_),I.return=L,I;case g:return _=fu(_,L.mode,I),_.return=L,_;case R:var J=_._init;return _=J(_._payload),P(L,_,I)}if(U(_)||K(_))return _=ys(_,L.mode,I,null),_.return=L,_;if(typeof _.then=="function")return P(L,bi(_),I);if(_.$$typeof===A)return P(L,Ui(L,_),I);ji(L,_)}return null}function B(L,_,I,J){var me=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return me!==null?null:b(L,_,""+I,J);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case h:return I.key===me?T(L,_,I,J):null;case g:return I.key===me?z(L,_,I,J):null;case R:return me=I._init,I=me(I._payload),B(L,_,I,J)}if(U(I)||K(I))return me!==null?null:Z(L,_,I,J,null);if(typeof I.then=="function")return B(L,_,bi(I),J);if(I.$$typeof===A)return B(L,_,Ui(L,I),J);ji(L,I)}return null}function G(L,_,I,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(I)||null,b(_,L,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return L=L.get(J.key===null?I:J.key)||null,T(_,L,J,me);case g:return L=L.get(J.key===null?I:J.key)||null,z(_,L,J,me);case R:var De=J._init;return J=De(J._payload),G(L,_,I,J,me)}if(U(J)||K(J))return L=L.get(I)||null,Z(_,L,J,me,null);if(typeof J.then=="function")return G(L,_,I,bi(J),me);if(J.$$typeof===A)return G(L,_,I,Ui(_,J),me);ji(_,J)}return null}function pe(L,_,I,J){for(var me=null,De=null,ye=_,je=_=0,Et=null;ye!==null&&je<I.length;je++){ye.index>je?(Et=ye,ye=null):Et=ye.sibling;var He=B(L,ye,I[je],J);if(He===null){ye===null&&(ye=Et);break}e&&ye&&He.alternate===null&&t(L,ye),_=d(He,_,je),De===null?me=He:De.sibling=He,De=He,ye=Et}if(je===I.length)return a(L,ye),qe&&rs(L,je),me;if(ye===null){for(;je<I.length;je++)ye=P(L,I[je],J),ye!==null&&(_=d(ye,_,je),De===null?me=ye:De.sibling=ye,De=ye);return qe&&rs(L,je),me}for(ye=s(ye);je<I.length;je++)Et=G(ye,L,je,I[je],J),Et!==null&&(e&&Et.alternate!==null&&ye.delete(Et.key===null?je:Et.key),_=d(Et,_,je),De===null?me=Et:De.sibling=Et,De=Et);return e&&ye.forEach(function(In){return t(L,In)}),qe&&rs(L,je),me}function Te(L,_,I,J){if(I==null)throw Error(c(151));for(var me=null,De=null,ye=_,je=_=0,Et=null,He=I.next();ye!==null&&!He.done;je++,He=I.next()){ye.index>je?(Et=ye,ye=null):Et=ye.sibling;var In=B(L,ye,He.value,J);if(In===null){ye===null&&(ye=Et);break}e&&ye&&In.alternate===null&&t(L,ye),_=d(In,_,je),De===null?me=In:De.sibling=In,De=In,ye=Et}if(He.done)return a(L,ye),qe&&rs(L,je),me;if(ye===null){for(;!He.done;je++,He=I.next())He=P(L,He.value,J),He!==null&&(_=d(He,_,je),De===null?me=He:De.sibling=He,De=He);return qe&&rs(L,je),me}for(ye=s(ye);!He.done;je++,He=I.next())He=G(ye,L,je,He.value,J),He!==null&&(e&&He.alternate!==null&&ye.delete(He.key===null?je:He.key),_=d(He,_,je),De===null?me=He:De.sibling=He,De=He);return e&&ye.forEach(function(U0){return t(L,U0)}),qe&&rs(L,je),me}function tt(L,_,I,J){if(typeof I=="object"&&I!==null&&I.type===y&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case h:e:{for(var me=I.key;_!==null;){if(_.key===me){if(me=I.type,me===y){if(_.tag===7){a(L,_.sibling),J=o(_,I.props.children),J.return=L,L=J;break e}}else if(_.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Hf(me)===_.type){a(L,_.sibling),J=o(_,I.props),tr(J,I),J.return=L,L=J;break e}a(L,_);break}else t(L,_);_=_.sibling}I.type===y?(J=ys(I.props.children,L.mode,J,I.key),J.return=L,L=J):(J=Bi(I.type,I.key,I.props,null,L.mode,J),tr(J,I),J.return=L,L=J)}return m(L);case g:e:{for(me=I.key;_!==null;){if(_.key===me)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){a(L,_.sibling),J=o(_,I.children||[]),J.return=L,L=J;break e}else{a(L,_);break}else t(L,_);_=_.sibling}J=fu(I,L.mode,J),J.return=L,L=J}return m(L);case R:return me=I._init,I=me(I._payload),tt(L,_,I,J)}if(U(I))return pe(L,_,I,J);if(K(I)){if(me=K(I),typeof me!="function")throw Error(c(150));return I=me.call(I),Te(L,_,I,J)}if(typeof I.then=="function")return tt(L,_,bi(I),J);if(I.$$typeof===A)return tt(L,_,Ui(L,I),J);ji(L,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,_!==null&&_.tag===6?(a(L,_.sibling),J=o(_,I),J.return=L,L=J):(a(L,_),J=du(I,L.mode,J),J.return=L,L=J),m(L)):a(L,_)}return function(L,_,I,J){try{er=0;var me=tt(L,_,I,J);return Zs=null,me}catch(ye){if(ye===Wl)throw ye;var De=ga(29,ye,null,L.mode);return De.lanes=J,De.return=L,De}finally{}}}var cs=Yf(!0),Ff=Yf(!1),Ks=ee(null),Si=ee(0);function Qf(e,t){e=ln,le(Si,e),le(Ks,t),ln=e|t.baseLanes}function vo(){le(Si,ln),le(Ks,Ks.current)}function xo(){ln=Si.current,ue(Ks),ue(Si)}var ha=ee(null),Ua=null;function xn(e){var t=e.alternate;le(yt,yt.current&1),le(ha,e),Ua===null&&(t===null||Ks.current!==null||t.memoizedState!==null)&&(Ua=e)}function Xf(e){if(e.tag===22){if(le(yt,yt.current),le(ha,e),Ua===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ua=e)}}else bn()}function bn(){le(yt,yt.current),le(ha,ha.current)}function Za(e){ue(ha),Ua===e&&(Ua=null),ue(yt)}var yt=ee(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Ev=n.unstable_scheduleCallback,Tv=n.unstable_NormalPriority,vt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bo(){return{controller:new Nv,data:new Map,refCount:0}}function ar(e){e.refCount--,e.refCount===0&&Ev(Tv,function(){e.controller.abort()})}var nr=null,jo=0,Js=0,Ws=null;function wv(e,t){if(nr===null){var a=nr=[];jo=0,Js=Cu(),Ws={status:"pending",value:void 0,then:function(s){a.push(s)}}}return jo++,t.then(Vf,Vf),t}function Vf(){if(--jo===0&&nr!==null){Ws!==null&&(Ws.status="fulfilled");var e=nr;nr=null,Js=0,Ws=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cv(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Gf=W.S;W.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&wv(e,t),Gf!==null&&Gf(e,t)};var os=ee(null);function So(){var e=os.current;return e!==null?e:Ge.pooledCache}function Ei(e,t){t===null?le(os,os.current):le(os,t.pool)}function $f(){var e=So();return e===null?null:{parent:vt._currentValue,pool:e}}var jn=0,Ae=null,Qe=null,mt=null,Ti=!1,Ps=!1,us=!1,wi=0,sr=0,el=null,Ov=0;function it(){throw Error(c(321))}function No(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Kt(e[a],t[a]))return!1;return!0}function Eo(e,t,a,s,o,d){return jn=d,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?ds:Sn,us=!1,d=a(s,o),us=!1,Ps&&(d=Kf(t,a,s,o)),Zf(e),d}function Zf(e){W.H=Ia;var t=Qe!==null&&Qe.next!==null;if(jn=0,mt=Qe=Ae=null,Ti=!1,sr=0,el=null,t)throw Error(c(300));e===null||St||(e=e.dependencies,e!==null&&Li(e)&&(St=!0))}function Kf(e,t,a,s){Ae=e;var o=0;do{if(Ps&&(el=null),sr=0,Ps=!1,25<=o)throw Error(c(301));if(o+=1,mt=Qe=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=fs,d=t(a,s)}while(Ps);return d}function Av(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?lr(t):t,e=e.useState()[0],(Qe!==null?Qe.memoizedState:null)!==e&&(Ae.flags|=1024),t}function To(){var e=wi!==0;return wi=0,e}function wo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Co(e){if(Ti){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ti=!1}jn=0,mt=Qe=Ae=null,Ps=!1,sr=wi=0,el=null}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ae.memoizedState=mt=e:mt=mt.next=e,mt}function pt(){if(Qe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=mt===null?Ae.memoizedState:mt.next;if(t!==null)mt=t,Qe=e;else{if(e===null)throw Ae.alternate===null?Error(c(467)):Error(c(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},mt===null?Ae.memoizedState=mt=e:mt=mt.next=e}return mt}var Ci;Ci=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function lr(e){var t=sr;return sr+=1,el===null&&(el=[]),e=Bf(el,e,t),t=Ae,(mt===null?t.memoizedState:mt.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?ds:Sn),e}function Oi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lr(e);if(e.$$typeof===A)return zt(e)}throw Error(c(438,String(e)))}function Oo(e){var t=null,a=Ae.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=Ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ci(),Ae.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=k;return t.index++,a}function Ka(e,t){return typeof t=="function"?t(e):t}function Ai(e){var t=pt();return Ao(t,Qe,e)}function Ao(e,t,a){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=a;var o=e.baseQueue,d=s.pending;if(d!==null){if(o!==null){var m=o.next;o.next=d.next,d.next=m}t.baseQueue=o=d,s.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var b=m=null,T=null,z=t,Z=!1;do{var P=z.lane&-536870913;if(P!==z.lane?(Ie&P)===P:(jn&P)===P){var B=z.revertLane;if(B===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),P===Js&&(Z=!0);else if((jn&B)===B){z=z.next,B===Js&&(Z=!0);continue}else P={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(b=T=P,m=d):T=T.next=P,Ae.lanes|=B,Dn|=B;P=z.action,us&&a(d,P),d=z.hasEagerState?z.eagerState:a(d,P)}else B={lane:P,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(b=T=B,m=d):T=T.next=B,Ae.lanes|=P,Dn|=P;z=z.next}while(z!==null&&z!==t);if(T===null?m=d:T.next=b,!Kt(d,e.memoizedState)&&(St=!0,Z&&(a=Ws,a!==null)))throw a;e.memoizedState=d,e.baseState=m,e.baseQueue=T,s.lastRenderedState=d}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ro(e){var t=pt(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do d=e(d,m.action),m=m.next;while(m!==o);Kt(d,t.memoizedState)||(St=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,s]}function Jf(e,t,a){var s=Ae,o=pt(),d=qe;if(d){if(a===void 0)throw Error(c(407));a=a()}else a=t();var m=!Kt((Qe||o).memoizedState,a);if(m&&(o.memoizedState=a,St=!0),o=o.queue,zo(eh.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||mt!==null&&mt.memoizedState.tag&1){if(s.flags|=2048,tl(9,Pf.bind(null,s,o,a,t),{destroy:void 0},null),Ge===null)throw Error(c(349));d||(jn&60)!==0||Wf(s,t,a)}return a}function Wf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ae.updateQueue,t===null?(t=Ci(),Ae.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Pf(e,t,a,s){t.value=a,t.getSnapshot=s,th(t)&&ah(e)}function eh(e,t,a){return a(function(){th(t)&&ah(e)})}function th(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Kt(e,a)}catch{return!0}}function ah(e){var t=vn(e,2);t!==null&&kt(t,e,2)}function Do(e){var t=Ft();if(typeof e=="function"){var a=e;if(e=a(),us){ft(!0);try{a()}finally{ft(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},t}function nh(e,t,a,s){return e.baseState=a,Ao(e,Qe,typeof s=="function"?s:Ka)}function Rv(e,t,a,s,o){if(_i(e))throw Error(c(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};W.T!==null?a(!0):d.isTransition=!1,s(d),a=t.pending,a===null?(d.next=t.pending=d,sh(t,d)):(d.next=a.next,t.pending=a.next=d)}}function sh(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var d=W.T,m={};W.T=m;try{var b=a(o,s),T=W.S;T!==null&&T(m,b),lh(e,t,b)}catch(z){_o(e,t,z)}finally{W.T=d}}else try{d=a(o,s),lh(e,t,d)}catch(z){_o(e,t,z)}}function lh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){rh(e,t,s)},function(s){return _o(e,t,s)}):rh(e,t,a)}function rh(e,t,a){t.status="fulfilled",t.value=a,ih(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,sh(e,a)))}function _o(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,ih(t),t=t.next;while(t!==s)}e.action=null}function ih(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ch(e,t){return t}function oh(e,t){if(qe){var a=Ge.formState;if(a!==null){e:{var s=Ae;if(qe){if(Ct){t:{for(var o=Ct,d=La;o.nodeType!==8;){if(!d){o=null;break t}if(o=Ca(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){Ct=Ca(o.nextSibling),s=o.data==="F!";break e}}is(s)}s=!1}s&&(t=a[0])}}return a=Ft(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ch,lastRenderedState:t},a.queue=s,a=Ch.bind(null,Ae,s),s.dispatch=a,s=Do(!1),d=ko.bind(null,Ae,!1,s.queue),s=Ft(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Rv.bind(null,Ae,o,d,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function uh(e){var t=pt();return dh(t,Qe,e)}function dh(e,t,a){t=Ao(e,t,ch)[0],e=Ai(Ka)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?lr(t):t;var s=pt(),o=s.queue,d=o.dispatch;return a!==s.memoizedState&&(Ae.flags|=2048,tl(9,Dv.bind(null,o,a),{destroy:void 0},null)),[t,d,e]}function Dv(e,t){e.action=t}function fh(e){var t=pt(),a=Qe;if(a!==null)return dh(t,a,e);pt(),t=t.memoizedState,a=pt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function tl(e,t,a,s){return e={tag:e,create:t,inst:a,deps:s,next:null},t=Ae.updateQueue,t===null&&(t=Ci(),Ae.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function hh(){return pt().memoizedState}function Ri(e,t,a,s){var o=Ft();Ae.flags|=e,o.memoizedState=tl(1|t,a,{destroy:void 0},s===void 0?null:s)}function Di(e,t,a,s){var o=pt();s=s===void 0?null:s;var d=o.memoizedState.inst;Qe!==null&&s!==null&&No(s,Qe.memoizedState.deps)?o.memoizedState=tl(t,a,d,s):(Ae.flags|=e,o.memoizedState=tl(1|t,a,d,s))}function mh(e,t){Ri(8390656,8,e,t)}function zo(e,t){Di(2048,8,e,t)}function ph(e,t){return Di(4,2,e,t)}function gh(e,t){return Di(4,4,e,t)}function yh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vh(e,t,a){a=a!=null?a.concat([e]):null,Di(4,4,yh.bind(null,t,e),a)}function Mo(){}function xh(e,t){var a=pt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&No(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function bh(e,t){var a=pt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&No(t,s[1]))return s[0];if(s=e(),us){ft(!0);try{e()}finally{ft(!1)}}return a.memoizedState=[s,t],s}function Lo(e,t,a){return a===void 0||(jn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Sm(),Ae.lanes|=e,Dn|=e,a)}function jh(e,t,a,s){return Kt(a,t)?a:Ks.current!==null?(e=Lo(e,a,s),Kt(e,t)||(St=!0),e):(jn&42)===0?(St=!0,e.memoizedState=a):(e=Sm(),Ae.lanes|=e,Dn|=e,t)}function Sh(e,t,a,s,o){var d=q.p;q.p=d!==0&&8>d?d:8;var m=W.T,b={};W.T=b,ko(e,!1,t,a);try{var T=o(),z=W.S;if(z!==null&&z(b,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var Z=Cv(T,s);rr(e,t,Z,ea(e))}else rr(e,t,s,ea(e))}catch(P){rr(e,t,{then:function(){},status:"rejected",reason:P},ea())}finally{q.p=d,W.T=m}}function _v(){}function Uo(e,t,a,s){if(e.tag!==5)throw Error(c(476));var o=Nh(e).queue;Sh(e,o,t,oe,a===null?_v:function(){return Eh(e),a(s)})}function Nh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:oe},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Eh(e){var t=Nh(e).next.queue;rr(e,t,{},ea())}function Io(){return zt(wr)}function Th(){return pt().memoizedState}function wh(){return pt().memoizedState}function zv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ea();e=Tn(a);var s=wn(t,e,a);s!==null&&(kt(s,t,a),or(s,t,a)),t={cache:bo()},e.payload=t;return}t=t.return}}function Mv(e,t,a){var s=ea();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_i(e)?Oh(t,a):(a=ho(e,t,a,s),a!==null&&(kt(a,e,s),Ah(a,t,s)))}function Ch(e,t,a){var s=ea();rr(e,t,a,s)}function rr(e,t,a,s){var o={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_i(e))Oh(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,b=d(m,a);if(o.hasEagerState=!0,o.eagerState=b,Kt(b,m))return pi(e,t,o,0),Ge===null&&mi(),!1}catch{}finally{}if(a=ho(e,t,o,s),a!==null)return kt(a,e,s),Ah(a,t,s),!0}return!1}function ko(e,t,a,s){if(s={lane:2,revertLane:Cu(),action:s,hasEagerState:!1,eagerState:null,next:null},_i(e)){if(t)throw Error(c(479))}else t=ho(e,a,s,2),t!==null&&kt(t,e,2)}function _i(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Oh(e,t){Ps=Ti=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ah(e,t,a){if((a&4194176)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Bd(e,a)}}var Ia={readContext:zt,use:Oi,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it};Ia.useCacheRefresh=it,Ia.useMemoCache=it,Ia.useHostTransitionStatus=it,Ia.useFormState=it,Ia.useActionState=it,Ia.useOptimistic=it;var ds={readContext:zt,use:Oi,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:mh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ri(4194308,4,yh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ri(4194308,4,e,t)},useInsertionEffect:function(e,t){Ri(4,2,e,t)},useMemo:function(e,t){var a=Ft();t=t===void 0?null:t;var s=e();if(us){ft(!0);try{e()}finally{ft(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Ft();if(a!==void 0){var o=a(t);if(us){ft(!0);try{a(t)}finally{ft(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Mv.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Do(e);var t=e.queue,a=Ch.bind(null,Ae,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Mo,useDeferredValue:function(e,t){var a=Ft();return Lo(a,e,t)},useTransition:function(){var e=Do(!1);return e=Sh.bind(null,Ae,e.queue,!0,!1),Ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=Ae,o=Ft();if(qe){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),Ge===null)throw Error(c(349));(Ie&60)!==0||Wf(s,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,mh(eh.bind(null,s,d,e),[e]),s.flags|=2048,tl(9,Pf.bind(null,s,d,a,t),{destroy:void 0},null),a},useId:function(){var e=Ft(),t=Ge.identifierPrefix;if(qe){var a=$a,s=Ga;a=(s&~(1<<32-ht(s)-1)).toString(32)+a,t=":"+t+"R"+a,a=wi++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Ov++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Ft().memoizedState=zv.bind(null,Ae)}};ds.useMemoCache=Oo,ds.useHostTransitionStatus=Io,ds.useFormState=oh,ds.useActionState=oh,ds.useOptimistic=function(e){var t=Ft();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ko.bind(null,Ae,!0,a),a.dispatch=t,[e,t]};var Sn={readContext:zt,use:Oi,useCallback:xh,useContext:zt,useEffect:zo,useImperativeHandle:vh,useInsertionEffect:ph,useLayoutEffect:gh,useMemo:bh,useReducer:Ai,useRef:hh,useState:function(){return Ai(Ka)},useDebugValue:Mo,useDeferredValue:function(e,t){var a=pt();return jh(a,Qe.memoizedState,e,t)},useTransition:function(){var e=Ai(Ka)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:lr(e),t]},useSyncExternalStore:Jf,useId:Th};Sn.useCacheRefresh=wh,Sn.useMemoCache=Oo,Sn.useHostTransitionStatus=Io,Sn.useFormState=uh,Sn.useActionState=uh,Sn.useOptimistic=function(e,t){var a=pt();return nh(a,Qe,e,t)};var fs={readContext:zt,use:Oi,useCallback:xh,useContext:zt,useEffect:zo,useImperativeHandle:vh,useInsertionEffect:ph,useLayoutEffect:gh,useMemo:bh,useReducer:Ro,useRef:hh,useState:function(){return Ro(Ka)},useDebugValue:Mo,useDeferredValue:function(e,t){var a=pt();return Qe===null?Lo(a,e,t):jh(a,Qe.memoizedState,e,t)},useTransition:function(){var e=Ro(Ka)[0],t=pt().memoizedState;return[typeof e=="boolean"?e:lr(e),t]},useSyncExternalStore:Jf,useId:Th};fs.useCacheRefresh=wh,fs.useMemoCache=Oo,fs.useHostTransitionStatus=Io,fs.useFormState=fh,fs.useActionState=fh,fs.useOptimistic=function(e,t){var a=pt();return Qe!==null?nh(a,Qe,e,t):(a.baseState=e,[e,a.queue.dispatch])};function Bo(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:ae({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var qo={isMounted:function(e){return(e=e._reactInternals)?se(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ea(),o=Tn(s);o.payload=t,a!=null&&(o.callback=a),t=wn(e,o,s),t!==null&&(kt(t,e,s),or(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ea(),o=Tn(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=wn(e,o,s),t!==null&&(kt(t,e,s),or(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ea(),s=Tn(a);s.tag=2,t!=null&&(s.callback=t),t=wn(e,s,a),t!==null&&(kt(t,e,a),or(t,e,a))}};function Rh(e,t,a,s,o,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,m):t.prototype&&t.prototype.isPureReactComponent?!Gl(a,s)||!Gl(o,d):!0}function Dh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function hs(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=ae({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var zi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _h(e){zi(e)}function zh(e){console.error(e)}function Mh(e){zi(e)}function Mi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Lh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ho(e,t,a){return a=Tn(a),a.tag=3,a.payload={element:null},a.callback=function(){Mi(e,t)},a}function Uh(e){return e=Tn(e),e.tag=3,e}function Ih(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=s.value;e.payload=function(){return o(d)},e.callback=function(){Lh(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Lh(t,a,s),typeof o!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function Lv(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&cr(t,a,o,!0),a=ha.current,a!==null){switch(a.tag){case 13:return Ua===null?Su():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===yo?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Eu(e,s,o)),!1;case 22:return a.flags|=65536,s===yo?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Eu(e,s,o)),!1}throw Error(c(435,a.tag))}return Eu(e,s,o),Su(),!1}if(qe)return t=ha.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==go&&(e=Error(c(422),{cause:s}),Jl(ua(e,a)))):(s!==go&&(t=Error(c(423),{cause:s}),Jl(ua(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=ua(s,a),o=Ho(e.stateNode,s,o),au(e,o),et!==4&&(et=2)),!1;var d=Error(c(520),{cause:s});if(d=ua(d,a),yr===null?yr=[d]:yr.push(d),et!==4&&(et=2),t===null)return!0;s=ua(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Ho(a.stateNode,s,e),au(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_n===null||!_n.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Uh(o),Ih(o,e,a,s),au(a,o),!1}a=a.return}while(a!==null);return!1}var kh=Error(c(461)),St=!1;function Ot(e,t,a,s){t.child=e===null?Ff(t,null,a,s):cs(t,e.child,a,s)}function Bh(e,t,a,s,o){a=a.render;var d=t.ref;if("ref"in s){var m={};for(var b in s)b!=="ref"&&(m[b]=s[b])}else m=s;return ps(t),s=Eo(e,t,a,m,d,o),b=To(),e!==null&&!St?(wo(e,t,o),Ja(e,t,o)):(qe&&b&&mo(t),t.flags|=1,Ot(e,t,s,o),t.child)}function qh(e,t,a,s,o){if(e===null){var d=a.type;return typeof d=="function"&&!uu(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Hh(e,t,d,s,o)):(e=Bi(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Ko(e,o)){var m=d.memoizedProps;if(a=a.compare,a=a!==null?a:Gl,a(m,s)&&e.ref===t.ref)return Ja(e,t,o)}return t.flags|=1,e=Rn(d,s),e.ref=t.ref,e.return=t,t.child=e}function Hh(e,t,a,s,o){if(e!==null){var d=e.memoizedProps;if(Gl(d,s)&&e.ref===t.ref)if(St=!1,t.pendingProps=s=d,Ko(e,o))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,Ja(e,t,o)}return Yo(e,t,a,s,o)}function Yh(e,t,a){var s=t.pendingProps,o=s.children,d=(t.stateNode._pendingVisibility&2)!==0,m=e!==null?e.memoizedState:null;if(ir(e,t),s.mode==="hidden"||d){if((t.flags&128)!==0){if(s=m!==null?m.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~s}else t.childLanes=0,t.child=null;return Fh(e,t,s,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ei(t,m!==null?m.cachePool:null),m!==null?Qf(t,m):vo(),Xf(t);else return t.lanes=t.childLanes=536870912,Fh(e,t,m!==null?m.baseLanes|a:a,a)}else m!==null?(Ei(t,m.cachePool),Qf(t,m),bn(),t.memoizedState=null):(e!==null&&Ei(t,null),vo(),bn());return Ot(e,t,o,a),t.child}function Fh(e,t,a,s){var o=So();return o=o===null?null:{parent:vt._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&Ei(t,null),vo(),Xf(t),e!==null&&cr(e,t,s,!0),null}function ir(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=2097664)}}function Yo(e,t,a,s,o){return ps(t),a=Eo(e,t,a,s,void 0,o),s=To(),e!==null&&!St?(wo(e,t,o),Ja(e,t,o)):(qe&&s&&mo(t),t.flags|=1,Ot(e,t,a,o),t.child)}function Qh(e,t,a,s,o,d){return ps(t),t.updateQueue=null,a=Kf(t,s,a,o),Zf(e),s=To(),e!==null&&!St?(wo(e,t,d),Ja(e,t,d)):(qe&&s&&mo(t),t.flags|=1,Ot(e,t,a,d),t.child)}function Xh(e,t,a,s,o){if(ps(t),t.stateNode===null){var d=Vs,m=a.contextType;typeof m=="object"&&m!==null&&(d=zt(m)),d=new a(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},eu(t),m=a.contextType,d.context=typeof m=="object"&&m!==null?zt(m):Vs,d.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Bo(t,a,m,s),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&qo.enqueueReplaceState(d,d.state,null),dr(t,s,d,o),ur(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var b=t.memoizedProps,T=hs(a,b);d.props=T;var z=d.context,Z=a.contextType;m=Vs,typeof Z=="object"&&Z!==null&&(m=zt(Z));var P=a.getDerivedStateFromProps;Z=typeof P=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||z!==m)&&Dh(t,d,s,m),En=!1;var B=t.memoizedState;d.state=B,dr(t,s,d,o),ur(),z=t.memoizedState,b||B!==z||En?(typeof P=="function"&&(Bo(t,a,P,s),z=t.memoizedState),(T=En||Rh(t,a,T,s,B,z,m))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=z),d.props=s,d.state=z,d.context=m,s=T):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,tu(e,t),m=t.memoizedProps,Z=hs(a,m),d.props=Z,P=t.pendingProps,B=d.context,z=a.contextType,T=Vs,typeof z=="object"&&z!==null&&(T=zt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==P||B!==T)&&Dh(t,d,s,T),En=!1,B=t.memoizedState,d.state=B,dr(t,s,d,o),ur();var G=t.memoizedState;m!==P||B!==G||En||e!==null&&e.dependencies!==null&&Li(e.dependencies)?(typeof b=="function"&&(Bo(t,a,b,s),G=t.memoizedState),(Z=En||Rh(t,a,Z,s,B,G,T)||e!==null&&e.dependencies!==null&&Li(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,G,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,G,T)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=G),d.props=s,d.state=G,d.context=T,s=Z):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,ir(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=cs(t,e.child,null,o),t.child=cs(t,null,a,o)):Ot(e,t,a,o),t.memoizedState=d.state,e=t.child):e=Ja(e,t,o),e}function Vh(e,t,a,s){return Kl(),t.flags|=256,Ot(e,t,a,s),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Qo(e){return{baseLanes:e,cachePool:$f()}}function Xo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ya),e}function Gh(e,t,a){var s=t.pendingProps,o=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(o?xn(t):bn(),qe){var b=Ct,T;if(T=b){e:{for(T=b,b=La;T.nodeType!==8;){if(!b){b=null;break e}if(T=Ca(T.nextSibling),T===null){b=null;break e}}b=T}b!==null?(t.memoizedState={dehydrated:b,treeContext:ls!==null?{id:Ga,overflow:$a}:null,retryLane:536870912},T=ga(18,null,null,0),T.stateNode=b,T.return=t,t.child=T,It=t,Ct=null,T=!0):T=!1}T||is(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?t.lanes=16:t.lanes=536870912,null;Za(t)}return b=s.children,s=s.fallback,o?(bn(),o=t.mode,b=Go({mode:"hidden",children:b},o),s=ys(s,o,a,null),b.return=t,s.return=t,b.sibling=s,t.child=b,o=t.child,o.memoizedState=Qo(a),o.childLanes=Xo(e,m,a),t.memoizedState=Fo,s):(xn(t),Vo(t,b))}if(T=e.memoizedState,T!==null&&(b=T.dehydrated,b!==null)){if(d)t.flags&256?(xn(t),t.flags&=-257,t=$o(e,t,a)):t.memoizedState!==null?(bn(),t.child=e.child,t.flags|=128,t=null):(bn(),o=s.fallback,b=t.mode,s=Go({mode:"visible",children:s.children},b),o=ys(o,b,a,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,cs(t,e.child,null,a),s=t.child,s.memoizedState=Qo(a),s.childLanes=Xo(e,m,a),t.memoizedState=Fo,t=o);else if(xn(t),b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var z=m.dgst;m=z,s=Error(c(419)),s.stack="",s.digest=m,Jl({value:s,source:null,stack:null}),t=$o(e,t,a)}else if(St||cr(e,t,a,!1),m=(a&e.childLanes)!==0,St||m){if(m=Ge,m!==null){if(s=a&-a,(s&42)!==0)s=1;else switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=64;break;case 268435456:s=134217728;break;default:s=0}if(s=(s&(m.suspendedLanes|a))!==0?0:s,s!==0&&s!==T.retryLane)throw T.retryLane=s,vn(e,s),kt(m,e,s),kh}b.data==="$?"||Su(),t=$o(e,t,a)}else b.data==="$?"?(t.flags|=128,t.child=e.child,t=Kv.bind(null,e),b._reactRetry=t,t=null):(e=T.treeContext,Ct=Ca(b.nextSibling),It=t,qe=!0,Ta=null,La=!1,e!==null&&(da[fa++]=Ga,da[fa++]=$a,da[fa++]=ls,Ga=e.id,$a=e.overflow,ls=t),t=Vo(t,s.children),t.flags|=4096);return t}return o?(bn(),o=s.fallback,b=t.mode,T=e.child,z=T.sibling,s=Rn(T,{mode:"hidden",children:s.children}),s.subtreeFlags=T.subtreeFlags&31457280,z!==null?o=Rn(z,o):(o=ys(o,b,a,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,b=e.child.memoizedState,b===null?b=Qo(a):(T=b.cachePool,T!==null?(z=vt._currentValue,T=T.parent!==z?{parent:z,pool:z}:T):T=$f(),b={baseLanes:b.baseLanes|a,cachePool:T}),o.memoizedState=b,o.childLanes=Xo(e,m,a),t.memoizedState=Fo,s):(xn(t),a=e.child,e=a.sibling,a=Rn(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Vo(e,t){return t=Go({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Go(e,t){return xm(e,t,0,null)}function $o(e,t,a){return cs(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $h(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Wo(e.return,t,a)}function Zo(e,t,a,s,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=a,d.tailMode=o)}function Zh(e,t,a){var s=t.pendingProps,o=s.revealOrder,d=s.tail;if(Ot(e,t,s.children,a),s=yt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$h(e,a,t);else if(e.tag===19)$h(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(le(yt,s),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Ni(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Zo(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ni(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Zo(t,!0,a,null,d);break;case"together":Zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ja(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(cr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=Rn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Rn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Li(e)))}function Uv(e,t,a){switch(t.tag){case 3:lt(t,t.stateNode.containerInfo),Nn(t,vt,e.memoizedState.cache),Kl();break;case 27:case 5:Be(t);break;case 4:lt(t,t.stateNode.containerInfo);break;case 10:Nn(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(xn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Gh(e,t,a):(xn(t),e=Ja(e,t,a),e!==null?e.sibling:null);xn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(cr(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Zh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(yt,yt.current),s)break;return null;case 22:case 23:return t.lanes=0,Yh(e,t,a);case 24:Nn(t,vt,e.memoizedState.cache)}return Ja(e,t,a)}function Kh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!Ko(e,a)&&(t.flags&128)===0)return St=!1,Uv(e,t,a);St=(e.flags&131072)!==0}else St=!1,qe&&(t.flags&1048576)!==0&&Mf(t,vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,o=s._init;if(s=o(s._payload),t.type=s,typeof s=="function")uu(s)?(e=hs(s,e),t.tag=1,t=Xh(null,t,s,e,a)):(t.tag=0,t=Yo(null,t,s,e,a));else{if(s!=null){if(o=s.$$typeof,o===N){t.tag=11,t=Bh(null,t,s,e,a);break e}else if(o===O){t.tag=14,t=qh(null,t,s,e,a);break e}}throw t=fe(s)||s,Error(c(306,t,""))}}return t;case 0:return Yo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=hs(s,t.pendingProps),Xh(e,t,s,o,a);case 3:e:{if(lt(t,t.stateNode.containerInfo),e===null)throw Error(c(387));var d=t.pendingProps;o=t.memoizedState,s=o.element,tu(e,t),dr(t,d,null,a);var m=t.memoizedState;if(d=m.cache,Nn(t,vt,d),d!==o.cache&&Po(t,[vt],a,!0),ur(),d=m.element,o.isDehydrated)if(o={element:d,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Vh(e,t,d,a);break e}else if(d!==s){s=ua(Error(c(424)),t),Jl(s),t=Vh(e,t,d,a);break e}else for(Ct=Ca(t.stateNode.containerInfo.firstChild),It=t,qe=!0,Ta=null,La=!0,a=Ff(t,null,d,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kl(),d===s){t=Ja(e,t,a);break e}Ot(e,t,d,a)}t=t.child}return t;case 26:return ir(e,t),e===null?(a=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=a:qe||(a=t.type,e=t.pendingProps,s=Ji(we.current).createElement(a),s[_t]=t,s[Ht]=e,At(s,a,e),jt(s),t.stateNode=s):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Be(t),e===null&&qe&&(s=t.stateNode=Km(t.type,t.pendingProps,we.current),It=t,La=!0,Ct=Ca(s.firstChild)),s=t.pendingProps.children,e!==null||qe?Ot(e,t,s,a):t.child=cs(t,null,s,a),ir(e,t),t.child;case 5:return e===null&&qe&&((o=s=Ct)&&(s=f0(s,t.type,t.pendingProps,La),s!==null?(t.stateNode=s,It=t,Ct=Ca(s.firstChild),La=!1,o=!0):o=!1),o||is(t)),Be(t),o=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,s=d.children,Uu(o,d)?s=null:m!==null&&Uu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Eo(e,t,Av,null,null,a),wr._currentValue=o),ir(e,t),Ot(e,t,s,a),t.child;case 6:return e===null&&qe&&((e=a=Ct)&&(a=h0(a,t.pendingProps,La),a!==null?(t.stateNode=a,It=t,Ct=null,e=!0):e=!1),e||is(t)),null;case 13:return Gh(e,t,a);case 4:return lt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=cs(t,null,s,a):Ot(e,t,s,a),t.child;case 11:return Bh(e,t,t.type,t.pendingProps,a);case 7:return Ot(e,t,t.pendingProps,a),t.child;case 8:return Ot(e,t,t.pendingProps.children,a),t.child;case 12:return Ot(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Nn(t,t.type,s.value),Ot(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,ps(t),o=zt(o),s=s(o),t.flags|=1,Ot(e,t,s,a),t.child;case 14:return qh(e,t,t.type,t.pendingProps,a);case 15:return Hh(e,t,t.type,t.pendingProps,a);case 19:return Zh(e,t,a);case 22:return Yh(e,t,a);case 24:return ps(t),s=zt(vt),e===null?(o=So(),o===null&&(o=Ge,d=bo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:s,cache:o},eu(t),Nn(t,vt,o)):((e.lanes&a)!==0&&(tu(e,t),dr(t,null,null,a),ur()),o=e.memoizedState,d=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Nn(t,vt,s)):(s=d.cache,Nn(t,vt,s),s!==o.cache&&Po(t,[vt],a,!0))),Ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}var Jo=ee(null),ms=null,Wa=null;function Nn(e,t,a){le(Jo,t._currentValue),t._currentValue=a}function Pa(e){e._currentValue=Jo.current,ue(Jo)}function Wo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Po(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var m=o.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=o;for(var T=0;T<t.length;T++)if(b.context===t[T]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Wo(d.return,a,e),s||(m=null);break e}d=b.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(c(341));m.lanes|=a,d=m.alternate,d!==null&&(d.lanes|=a),Wo(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function cr(e,t,a,s){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(c(387));if(m=m.memoizedProps,m!==null){var b=o.type;Kt(o.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(o===bt.current){if(m=o.alternate,m===null)throw Error(c(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(wr):e=[wr])}o=o.return}e!==null&&Po(t,e,a,s),t.flags|=262144}function Li(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ps(e){ms=e,Wa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zt(e){return Jh(ms,e)}function Ui(e,t){return ms===null&&ps(e),Jh(e,t)}function Jh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Wa===null){if(e===null)throw Error(c(308));Wa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wa=Wa.next=t;return a}var En=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wn(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(We&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=gi(e),_f(e,null,a),t}return pi(e,s,t,a),gi(e)}function or(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194176)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Bd(e,a)}}function au(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=m:d=d.next=m,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var nu=!1;function ur(){if(nu){var e=Ws;if(e!==null)throw e}}function dr(e,t,a,s){nu=!1;var o=e.updateQueue;En=!1;var d=o.firstBaseUpdate,m=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var T=b,z=T.next;T.next=null,m===null?d=z:m.next=z,m=T;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==m&&(b===null?Z.firstBaseUpdate=z:b.next=z,Z.lastBaseUpdate=T))}if(d!==null){var P=o.baseState;m=0,Z=z=T=null,b=d;do{var B=b.lane&-536870913,G=B!==b.lane;if(G?(Ie&B)===B:(s&B)===B){B!==0&&B===Js&&(nu=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=e,Te=b;B=t;var tt=a;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){P=pe.call(tt,P,B);break e}P=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,B=typeof pe=="function"?pe.call(tt,P,B):pe,B==null)break e;P=ae({},P,B);break e;case 2:En=!0}}B=b.callback,B!==null&&(e.flags|=64,G&&(e.flags|=8192),G=o.callbacks,G===null?o.callbacks=[B]:G.push(B))}else G={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(z=Z=G,T=P):Z=Z.next=G,m|=B;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;G=b,b=G.next,G.next=null,o.lastBaseUpdate=G,o.shared.pending=null}}while(!0);Z===null&&(T=P),o.baseState=T,o.firstBaseUpdate=z,o.lastBaseUpdate=Z,d===null&&(o.shared.lanes=0),Dn|=m,e.lanes=m,e.memoizedState=P}}function Wh(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Ph(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Wh(a[e],t)}function fr(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var d=a.create,m=a.inst;s=d(),m.destroy=s}a=a.next}while(a!==o)}}catch(b){Ve(t,t.return,b)}}function Cn(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&e)===e){var m=s.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,o=t;var T=a;try{b()}catch(z){Ve(o,T,z)}}}s=s.next}while(s!==d)}}catch(z){Ve(t,t.return,z)}}function em(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ph(t,a)}catch(s){Ve(e,e.return,s)}}}function tm(e,t,a){a.props=hs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ve(e,t,s)}}function gs(e,t){try{var a=e.ref;if(a!==null){var s=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=s;break;default:o=s}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(d){Ve(e,t,d)}}function Jt(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ve(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ve(e,t,o)}else a.current=null}function am(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ve(e,e.return,o)}}function nm(e,t,a){try{var s=e.stateNode;i0(s,e.type,a,t),s[Ht]=t}catch(o){Ve(e,e.return,o)}}function sm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ki));else if(s!==4&&s!==27&&(e=e.child,e!==null))for(lu(e,t,a),e=e.sibling;e!==null;)lu(e,t,a),e=e.sibling}function Ii(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&s!==27&&(e=e.child,e!==null))for(Ii(e,t,a),e=e.sibling;e!==null;)Ii(e,t,a),e=e.sibling}var en=!1,Pe=!1,ru=!1,lm=typeof WeakSet=="function"?WeakSet:Set,Nt=null,rm=!1;function Iv(e,t){if(e=e.containerInfo,Mu=nc,e=Nf(e),io(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var m=0,b=-1,T=-1,z=0,Z=0,P=e,B=null;t:for(;;){for(var G;P!==a||o!==0&&P.nodeType!==3||(b=m+o),P!==d||s!==0&&P.nodeType!==3||(T=m+s),P.nodeType===3&&(m+=P.nodeValue.length),(G=P.firstChild)!==null;)B=P,P=G;for(;;){if(P===e)break t;if(B===a&&++z===o&&(b=m),B===d&&++Z===s&&(T=m),(G=P.nextSibling)!==null)break;P=B,B=P.parentNode}P=G}a=b===-1||T===-1?null:{start:b,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lu={focusedElem:e,selectionRange:a},nc=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var pe=hs(a.type,o,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(pe,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(Te){Ve(a,a.return,Te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Bu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}return pe=rm,rm=!1,pe}function im(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:an(e,a),s&4&&fr(5,a);break;case 1:if(an(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(b){Ve(a,a.return,b)}else{var o=hs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ve(a,a.return,b)}}s&64&&em(a),s&512&&gs(a,a.return);break;case 3:if(an(e,a),s&64&&(s=a.updateQueue,s!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Ph(s,e)}catch(b){Ve(a,a.return,b)}}break;case 26:an(e,a),s&512&&gs(a,a.return);break;case 27:case 5:an(e,a),t===null&&s&4&&am(a),s&512&&gs(a,a.return);break;case 12:an(e,a);break;case 13:an(e,a),s&4&&um(e,a);break;case 22:if(o=a.memoizedState!==null||en,!o){t=t!==null&&t.memoizedState!==null||Pe;var d=en,m=Pe;en=o,(Pe=t)&&!m?On(e,a,(a.subtreeFlags&8772)!==0):an(e,a),en=d,Pe=m}s&512&&(a.memoizedProps.mode==="manual"?gs(a,a.return):Jt(a,a.return));break;default:an(e,a)}}function cm(e){var t=e.alternate;t!==null&&(e.alternate=null,cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gt=null,Wt=!1;function tn(e,t,a){for(a=a.child;a!==null;)om(e,t,a),a=a.sibling}function om(e,t,a){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(rt,a)}catch{}switch(a.tag){case 26:Pe||Jt(a,t),tn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Jt(a,t);var s=gt,o=Wt;for(gt=a.stateNode,tn(e,t,a),a=a.stateNode,t=a.attributes;t.length;)a.removeAttributeNode(t[0]);Xc(a),gt=s,Wt=o;break;case 5:Pe||Jt(a,t);case 6:o=gt;var d=Wt;if(gt=null,tn(e,t,a),gt=o,Wt=d,gt!==null)if(Wt)try{e=gt,s=a.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)}catch(m){Ve(a,t,m)}else try{gt.removeChild(a.stateNode)}catch(m){Ve(a,t,m)}break;case 18:gt!==null&&(Wt?(t=gt,a=a.stateNode,t.nodeType===8?ku(t.parentNode,a):t.nodeType===1&&ku(t,a),Rr(t)):ku(gt,a.stateNode));break;case 4:s=gt,o=Wt,gt=a.stateNode.containerInfo,Wt=!0,tn(e,t,a),gt=s,Wt=o;break;case 0:case 11:case 14:case 15:Pe||Cn(2,a,t),Pe||Cn(4,a,t),tn(e,t,a);break;case 1:Pe||(Jt(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&tm(a,t,s)),tn(e,t,a);break;case 21:tn(e,t,a);break;case 22:Pe||Jt(a,t),Pe=(s=Pe)||a.memoizedState!==null,tn(e,t,a),Pe=s;break;default:tn(e,t,a)}}function um(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rr(e)}catch(a){Ve(t,t.return,a)}}function kv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lm),t;default:throw Error(c(435,e.tag))}}function iu(e,t){var a=kv(e);t.forEach(function(s){var o=Jv.bind(null,e,s);a.has(s)||(a.add(s),s.then(o,o))})}function ma(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],d=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:case 5:gt=b.stateNode,Wt=!1;break e;case 3:gt=b.stateNode.containerInfo,Wt=!0;break e;case 4:gt=b.stateNode.containerInfo,Wt=!0;break e}b=b.return}if(gt===null)throw Error(c(160));om(d,m,o),gt=null,Wt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)dm(t,e),t=t.sibling}var wa=null;function dm(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ma(t,e),pa(e),s&4&&(Cn(3,e,e.return),fr(3,e),Cn(5,e,e.return));break;case 1:ma(t,e),pa(e),s&512&&(Pe||a===null||Jt(a,a.return)),s&64&&en&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=wa;if(ma(t,e),pa(e),s&512&&(Pe||a===null||Jt(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":d=o.getElementsByTagName("title")[0],(!d||d[kl]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(s),o.head.insertBefore(d,o.querySelector("head > title"))),At(d,s,a),d[_t]=e,jt(d),s=d;break e;case"link":var m=ap("link","href",o).get(s+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(d=m[b],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}d=o.createElement(s),At(d,s,a),o.head.appendChild(d);break;case"meta":if(m=ap("meta","content",o).get(s+(a.content||""))){for(b=0;b<m.length;b++)if(d=m[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}d=o.createElement(s),At(d,s,a),o.head.appendChild(d);break;default:throw Error(c(468,s))}d[_t]=e,jt(d),s=d}e.stateNode=s}else np(o,e.type,e.stateNode);else e.stateNode=tp(o,s,e.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?np(o,e.type,e.stateNode):tp(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&nm(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(s&4&&e.alternate===null){o=e.stateNode,d=e.memoizedProps;try{for(var T=o.firstChild;T;){var z=T.nextSibling,Z=T.nodeName;T[kl]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=z}for(var P=e.type,B=o.attributes;B.length;)o.removeAttributeNode(B[0]);At(o,P,d),o[_t]=e,o[Ht]=d}catch(pe){Ve(e,e.return,pe)}}case 5:if(ma(t,e),pa(e),s&512&&(Pe||a===null||Jt(a,a.return)),e.flags&32){o=e.stateNode;try{Bs(o,"")}catch(pe){Ve(e,e.return,pe)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,nm(e,o,a!==null?a.memoizedProps:o)),s&1024&&(ru=!0);break;case 6:if(ma(t,e),pa(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(pe){Ve(e,e.return,pe)}}break;case 3:if(ec=null,o=wa,wa=Wi(t.containerInfo),ma(t,e),wa=o,pa(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Rr(t.containerInfo)}catch(pe){Ve(e,e.return,pe)}ru&&(ru=!1,fm(e));break;case 4:s=wa,wa=Wi(e.stateNode.containerInfo),ma(t,e),pa(e),wa=s;break;case 12:ma(t,e),pa(e);break;case 13:ma(t,e),pa(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gu=Fe()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,iu(e,s)));break;case 22:if(s&512&&(Pe||a===null||Jt(a,a.return)),T=e.memoizedState!==null,z=a!==null&&a.memoizedState!==null,Z=en,P=Pe,en=Z||T,Pe=P||z,ma(t,e),Pe=P,en=Z,pa(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,s&8192&&(t._visibility=T?t._visibility&-2:t._visibility|1,T&&(t=en||Pe,a===null||z||t||al(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(a=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(a===null){z=a=t;try{if(o=z.stateNode,T)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{m=z.stateNode,b=z.memoizedProps.style;var G=b!=null&&b.hasOwnProperty("display")?b.display:null;m.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pe){Ve(z,z.return,pe)}}}else if(t.tag===6){if(a===null){z=t;try{z.stateNode.nodeValue=T?"":z.memoizedProps}catch(pe){Ve(z,z.return,pe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,iu(e,a))));break;case 19:ma(t,e),pa(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,iu(e,s)));break;case 21:break;default:ma(t,e),pa(e)}}function pa(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var a=e.return;a!==null;){if(sm(a)){var s=a;break e}a=a.return}throw Error(c(160))}switch(s.tag){case 27:var o=s.stateNode,d=su(e);Ii(e,d,o);break;case 5:var m=s.stateNode;s.flags&32&&(Bs(m,""),s.flags&=-33);var b=su(e);Ii(e,b,m);break;case 3:case 4:var T=s.stateNode.containerInfo,z=su(e);lu(e,z,T);break;default:throw Error(c(161))}}}catch(Z){Ve(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function an(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)im(e,t.alternate,t),t=t.sibling}function al(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Cn(4,t,t.return),al(t);break;case 1:Jt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&tm(t,t.return,a),al(t);break;case 26:case 27:case 5:Jt(t,t.return),al(t);break;case 22:Jt(t,t.return),t.memoizedState===null&&al(t);break;default:al(t)}e=e.sibling}}function On(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:On(o,d,a),fr(4,d);break;case 1:if(On(o,d,a),s=d,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(z){Ve(s,s.return,z)}if(s=d,o=s.updateQueue,o!==null){var b=s.stateNode;try{var T=o.shared.hiddenCallbacks;if(T!==null)for(o.shared.hiddenCallbacks=null,o=0;o<T.length;o++)Wh(T[o],b)}catch(z){Ve(s,s.return,z)}}a&&m&64&&em(d),gs(d,d.return);break;case 26:case 27:case 5:On(o,d,a),a&&s===null&&m&4&&am(d),gs(d,d.return);break;case 12:On(o,d,a);break;case 13:On(o,d,a),a&&m&4&&um(o,d);break;case 22:d.memoizedState===null&&On(o,d,a),gs(d,d.return);break;default:On(o,d,a)}t=t.sibling}}function cu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ar(a))}function ou(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ar(e))}function An(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hm(e,t,a,s),t=t.sibling}function hm(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:An(e,t,a,s),o&2048&&fr(9,t);break;case 3:An(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ar(e)));break;case 12:if(o&2048){An(e,t,a,s),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,b=d.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ve(t,t.return,T)}}else An(e,t,a,s);break;case 23:break;case 22:d=t.stateNode,t.memoizedState!==null?d._visibility&4?An(e,t,a,s):hr(e,t):d._visibility&4?An(e,t,a,s):(d._visibility|=4,nl(e,t,a,s,(t.subtreeFlags&10256)!==0)),o&2048&&cu(t.alternate,t);break;case 24:An(e,t,a,s),o&2048&&ou(t.alternate,t);break;default:An(e,t,a,s)}}function nl(e,t,a,s,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,m=t,b=a,T=s,z=m.flags;switch(m.tag){case 0:case 11:case 15:nl(d,m,b,T,o),fr(8,m);break;case 23:break;case 22:var Z=m.stateNode;m.memoizedState!==null?Z._visibility&4?nl(d,m,b,T,o):hr(d,m):(Z._visibility|=4,nl(d,m,b,T,o)),o&&z&2048&&cu(m.alternate,m);break;case 24:nl(d,m,b,T,o),o&&z&2048&&ou(m.alternate,m);break;default:nl(d,m,b,T,o)}t=t.sibling}}function hr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:hr(a,s),o&2048&&cu(s.alternate,s);break;case 24:hr(a,s),o&2048&&ou(s.alternate,s);break;default:hr(a,s)}t=t.sibling}}var mr=8192;function sl(e){if(e.subtreeFlags&mr)for(e=e.child;e!==null;)mm(e),e=e.sibling}function mm(e){switch(e.tag){case 26:sl(e),e.flags&mr&&e.memoizedState!==null&&w0(wa,e.memoizedState,e.memoizedProps);break;case 5:sl(e);break;case 3:case 4:var t=wa;wa=Wi(e.stateNode.containerInfo),sl(e),wa=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=mr,mr=16777216,sl(e),mr=t):sl(e));break;default:sl(e)}}function pm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Nt=s,ym(s,e)}pm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gm(e),e=e.sibling}function gm(e){switch(e.tag){case 0:case 11:case 15:pr(e),e.flags&2048&&Cn(9,e,e.return);break;case 3:pr(e);break;case 12:pr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,ki(e)):pr(e);break;default:pr(e)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Nt=s,ym(s,e)}pm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Cn(8,t,t.return),ki(t);break;case 22:a=t.stateNode,a._visibility&4&&(a._visibility&=-5,ki(t));break;default:ki(t)}e=e.sibling}}function ym(e,t){for(;Nt!==null;){var a=Nt;switch(a.tag){case 0:case 11:case 15:Cn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ar(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Nt=s;else e:for(a=e;Nt!==null;){s=Nt;var o=s.sibling,d=s.return;if(cm(s),s===a){Nt=null;break e}if(o!==null){o.return=d,Nt=o;break e}Nt=d}}}function Bv(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(e,t,a,s){return new Bv(e,t,a,s)}function uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var a=e.alternate;return a===null?(a=ga(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function vm(e,t){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Bi(e,t,a,s,o,d){var m=0;if(s=e,typeof e=="function")uu(e)&&(m=1);else if(typeof e=="string")m=E0(e,a,ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case y:return ys(a.children,o,d,t);case p:m=8,o|=24;break;case v:return e=ga(12,a,t,o|2),e.elementType=v,e.lanes=d,e;case E:return e=ga(13,a,t,o),e.elementType=E,e.lanes=d,e;case C:return e=ga(19,a,t,o),e.elementType=C,e.lanes=d,e;case D:return xm(a,o,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:case A:m=10;break e;case w:m=9;break e;case N:m=11;break e;case O:m=14;break e;case R:m=16,s=null;break e}m=29,a=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=ga(m,a,t,o),t.elementType=e,t.type=s,t.lanes=d,t}function ys(e,t,a,s){return e=ga(7,e,s,t),e.lanes=a,e}function xm(e,t,a,s){e=ga(22,e,s,t),e.elementType=D,e.lanes=a;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=o._current;if(d===null)throw Error(c(456));if((o._pendingVisibility&2)===0){var m=vn(d,2);m!==null&&(o._pendingVisibility|=2,kt(m,d,2))}},attach:function(){var d=o._current;if(d===null)throw Error(c(456));if((o._pendingVisibility&2)!==0){var m=vn(d,2);m!==null&&(o._pendingVisibility&=-3,kt(m,d,2))}}};return e.stateNode=o,e}function du(e,t,a){return e=ga(6,e,null,t),e.lanes=a,e}function fu(e,t,a){return t=ga(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nn(e){e.flags|=4}function bm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sp(t)){if(t=ha.current,t!==null&&((Ie&4194176)===Ie?Ua!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||t!==Ua))throw Pl=yo,If;e.flags|=8192}}function qi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Id():536870912,e.lanes|=t,rl|=t)}function gr(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&31457280,s|=o.flags&31457280,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function qv(e,t,a){var s=t.pendingProps;switch(po(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return Je(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Pa(vt),xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?nn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ta!==null&&(bu(Ta),Ta=null))),Je(t),null;case 26:return a=t.memoizedState,e===null?(nn(t),a!==null?(Je(t),bm(t,a)):(Je(t),t.flags&=-16777217)):a?a!==e.memoizedState?(nn(t),Je(t),bm(t,a)):(Je(t),t.flags&=-16777217):(e.memoizedProps!==s&&nn(t),Je(t),t.flags&=-16777217),null;case 27:Ye(t),a=we.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&nn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Je(t),null}e=ne.current,Zl(t)?Lf(t):(e=Km(o,s,a),t.stateNode=e,nn(t))}return Je(t),null;case 5:if(Ye(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&nn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Je(t),null}if(e=ne.current,Zl(t))Lf(t);else{switch(o=Ji(we.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?o.createElement(a,{is:s.is}):o.createElement(a)}}e[_t]=t,e[Ht]=s;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(At(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&nn(t)}}return Je(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&nn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=we.current,Zl(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=It,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[_t]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Qm(e.nodeValue,a)),e||is(t)}else e=Ji(e).createTextNode(s),e[_t]=t,t.stateNode=e}return Je(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Zl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(c(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(c(317));o[_t]=t}else Kl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),o=!1}else Ta!==null&&(bu(Ta),Ta=null),o=!0;if(!o)return t.flags&256?(Za(t),t):(Za(t),null)}if(Za(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool);var d=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),qi(t,t.updateQueue),Je(t),null;case 4:return xe(),e===null&&Du(t.stateNode.containerInfo),Je(t),null;case 10:return Pa(t.type),Je(t),null;case 19:if(ue(yt),o=t.memoizedState,o===null)return Je(t),null;if(s=(t.flags&128)!==0,d=o.rendering,d===null)if(s)gr(o,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ni(e),d!==null){for(t.flags|=128,gr(o,!1),e=d.updateQueue,t.updateQueue=e,qi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)vm(a,e),a=a.sibling;return le(yt,yt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>Hi&&(t.flags|=128,s=!0,gr(o,!1),t.lanes=4194304)}else{if(!s)if(e=Ni(d),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,qi(t,e),gr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!qe)return Je(t),null}else 2*Fe()-o.renderingStartTime>Hi&&a!==536870912&&(t.flags|=128,s=!0,gr(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,e=yt.current,le(yt,s?e&1|2:e&1),t):(Je(t),null);case 22:case 23:return Za(t),xo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),a=t.updateQueue,a!==null&&qi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&ue(os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Pa(vt),Je(t),null;case 25:return null}throw Error(c(156,t.tag))}function Hv(e,t){switch(po(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(vt),xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ye(t),null;case 13:if(Za(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Kl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(yt),null;case 4:return xe(),null;case 10:return Pa(t.type),null;case 22:case 23:return Za(t),xo(),e!==null&&ue(os),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pa(vt),null;case 25:return null;default:return null}}function jm(e,t){switch(po(t),t.tag){case 3:Pa(vt),xe();break;case 26:case 27:case 5:Ye(t);break;case 4:xe();break;case 13:Za(t);break;case 19:ue(yt);break;case 10:Pa(t.type);break;case 22:case 23:Za(t),xo(),e!==null&&ue(os);break;case 24:Pa(vt)}}var Yv={getCacheForType:function(e){var t=zt(vt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Fv=typeof WeakMap=="function"?WeakMap:Map,We=0,Ge=null,_e=null,Ie=0,$e=0,Pt=null,sn=!1,ll=!1,hu=!1,ln=0,et=0,Dn=0,vs=0,mu=0,ya=0,rl=0,yr=null,ka=null,pu=!1,gu=0,Hi=1/0,Yi=null,_n=null,Fi=!1,xs=null,vr=0,yu=0,vu=null,xr=0,xu=null;function ea(){if((We&2)!==0&&Ie!==0)return Ie&-Ie;if(W.T!==null){var e=Js;return e!==0?e:Cu()}return Hd()}function Sm(){ya===0&&(ya=(Ie&536870912)===0||qe?Ud():536870912);var e=ha.current;return e!==null&&(e.flags|=32),ya}function kt(e,t,a){(e===Ge&&$e===2||e.cancelPendingCommit!==null)&&(il(e,0),rn(e,Ie,ya,!1)),Il(e,a),((We&2)===0||e!==Ge)&&(e===Ge&&((We&2)===0&&(vs|=a),et===4&&rn(e,Ie,ya,!1)),Ba(e))}function Nm(e,t,a){if((We&6)!==0)throw Error(c(327));var s=!a&&(t&60)===0&&(t&e.expiredLanes)===0||pn(e,t),o=s?Vv(e,t):Nu(e,t,!0),d=s;do{if(o===0){ll&&!s&&rn(e,t,0,!1);break}else if(o===6)rn(e,t,0,!sn);else{if(a=e.current.alternate,d&&!Qv(a)){o=Nu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;o=yr;var T=b.current.memoizedState.isDehydrated;if(T&&(il(b,m).flags|=256),m=Nu(b,m,!1),m!==2){if(hu&&!T){b.errorRecoveryDisabledLanes|=d,vs|=d,o=4;break e}d=ka,ka=o,d!==null&&bu(d)}o=m}if(d=!1,o!==2)continue}}if(o===1){il(e,0),rn(e,t,0,!0);break}e:{switch(s=e,o){case 0:case 1:throw Error(c(345));case 4:if((t&4194176)===t){rn(s,t,ya,!sn);break e}break;case 2:ka=null;break;case 3:case 5:break;default:throw Error(c(329))}if(s.finishedWork=a,s.finishedLanes=t,(t&62914560)===t&&(d=gu+300-Fe(),10<d)){if(rn(s,t,ya,!sn),Pn(s,0)!==0)break e;s.timeoutHandle=Gm(Em.bind(null,s,a,ka,Yi,pu,t,ya,vs,rl,sn,2,-0,0),d);break e}Em(s,a,ka,Yi,pu,t,ya,vs,rl,sn,0,-0,0)}}break}while(!0);Ba(e)}function bu(e){ka===null?ka=e:ka.push.apply(ka,e)}function Em(e,t,a,s,o,d,m,b,T,z,Z,P,B){var G=t.subtreeFlags;if((G&8192||(G&16785408)===16785408)&&(Tr={stylesheets:null,count:0,unsuspend:T0},mm(t),t=C0(),t!==null)){e.cancelPendingCommit=t(Dm.bind(null,e,a,s,o,m,b,T,1,P,B)),rn(e,d,m,!z);return}Dm(e,a,s,o,m,b,T,Z,P,B)}function Qv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],d=o.getSnapshot;o=o.value;try{if(!Kt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t,a,s){t&=~mu,t&=~vs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var d=31-ht(o),m=1<<d;s[d]=-1,o&=~m}a!==0&&kd(e,a,t)}function Qi(){return(We&6)===0?(br(0),!1):!0}function ju(){if(_e!==null){if($e===0)var e=_e.return;else e=_e,Wa=ms=null,Co(e),Zs=null,er=0,e=_e;for(;e!==null;)jm(e.alternate,e),e=e.return;_e=null}}function il(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,o0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ju(),Ge=e,_e=a=Rn(e.current,null),Ie=t,$e=0,Pt=null,sn=!1,ll=pn(e,t),hu=!1,rl=ya=mu=vs=Dn=et=0,ka=yr=null,pu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-ht(s),d=1<<o;t|=e[o],s&=~d}return ln=t,mi(),a}function Tm(e,t){Ae=null,W.H=Ia,t===Wl?(t=qf(),$e=3):t===If?(t=qf(),$e=4):$e=t===kh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,_e===null&&(et=1,Mi(e,ua(t,e.current)))}function wm(){var e=W.H;return W.H=Ia,e===null?Ia:e}function Cm(){var e=W.A;return W.A=Yv,e}function Su(){et=4,sn||(Ie&4194176)!==Ie&&ha.current!==null||(ll=!0),(Dn&134217727)===0&&(vs&134217727)===0||Ge===null||rn(Ge,Ie,ya,!1)}function Nu(e,t,a){var s=We;We|=2;var o=wm(),d=Cm();(Ge!==e||Ie!==t)&&(Yi=null,il(e,t)),t=!1;var m=et;e:do try{if($e!==0&&_e!==null){var b=_e,T=Pt;switch($e){case 8:ju(),m=6;break e;case 3:case 2:case 6:ha.current===null&&(t=!0);var z=$e;if($e=0,Pt=null,cl(e,b,T,z),a&&ll){m=0;break e}break;default:z=$e,$e=0,Pt=null,cl(e,b,T,z)}}Xv(),m=et;break}catch(Z){Tm(e,Z)}while(!0);return t&&e.shellSuspendCounter++,Wa=ms=null,We=s,W.H=o,W.A=d,_e===null&&(Ge=null,Ie=0,mi()),m}function Xv(){for(;_e!==null;)Om(_e)}function Vv(e,t){var a=We;We|=2;var s=wm(),o=Cm();Ge!==e||Ie!==t?(Yi=null,Hi=Fe()+500,il(e,t)):ll=pn(e,t);e:do try{if($e!==0&&_e!==null){t=_e;var d=Pt;t:switch($e){case 1:$e=0,Pt=null,cl(e,t,d,1);break;case 2:if(kf(d)){$e=0,Pt=null,Am(t);break}t=function(){$e===2&&Ge===e&&($e=7),Ba(e)},d.then(t,t);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:kf(d)?($e=0,Pt=null,Am(t)):($e=0,Pt=null,cl(e,t,d,7));break;case 5:var m=null;switch(_e.tag){case 26:m=_e.memoizedState;case 5:case 27:var b=_e;if(!m||sp(m)){$e=0,Pt=null;var T=b.sibling;if(T!==null)_e=T;else{var z=b.return;z!==null?(_e=z,Xi(z)):_e=null}break t}}$e=0,Pt=null,cl(e,t,d,5);break;case 6:$e=0,Pt=null,cl(e,t,d,6);break;case 8:ju(),et=6;break e;default:throw Error(c(462))}}Gv();break}catch(Z){Tm(e,Z)}while(!0);return Wa=ms=null,W.H=s,W.A=o,We=a,_e!==null?0:(Ge=null,Ie=0,mi(),et)}function Gv(){for(;_e!==null&&!za();)Om(_e)}function Om(e){var t=Kh(e.alternate,e,ln);e.memoizedProps=e.pendingProps,t===null?Xi(e):_e=t}function Am(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Qh(a,t,t.pendingProps,t.type,void 0,Ie);break;case 11:t=Qh(a,t,t.pendingProps,t.type.render,t.ref,Ie);break;case 5:Co(t);default:jm(a,t),t=_e=vm(t,ln),t=Kh(a,t,ln)}e.memoizedProps=e.pendingProps,t===null?Xi(e):_e=t}function cl(e,t,a,s){Wa=ms=null,Co(t),Zs=null,er=0;var o=t.return;try{if(Lv(e,o,t,a,Ie)){et=1,Mi(e,ua(a,e.current)),_e=null;return}}catch(d){if(o!==null)throw _e=o,d;et=1,Mi(e,ua(a,e.current)),_e=null;return}t.flags&32768?(qe||s===1?e=!0:ll||(Ie&536870912)!==0?e=!1:(sn=e=!0,(s===2||s===3||s===6)&&(s=ha.current,s!==null&&s.tag===13&&(s.flags|=16384))),Rm(t,e)):Xi(t)}function Xi(e){var t=e;do{if((t.flags&32768)!==0){Rm(t,sn);return}e=t.return;var a=qv(t.alternate,t,ln);if(a!==null){_e=a;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);et===0&&(et=5)}function Rm(e,t){do{var a=Hv(e.alternate,e);if(a!==null){a.flags&=32767,_e=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){_e=e;return}_e=e=a}while(e!==null);et=6,_e=null}function Dm(e,t,a,s,o,d,m,b,T,z){var Z=W.T,P=q.p;try{q.p=2,W.T=null,$v(e,t,a,s,P,o,d,m,b,T,z)}finally{W.T=Z,q.p=P}}function $v(e,t,a,s,o,d,m,b){do ol();while(xs!==null);if((We&6)!==0)throw Error(c(327));var T=e.finishedWork;if(s=e.finishedLanes,T===null)return null;if(e.finishedWork=null,e.finishedLanes=0,T===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var z=T.lanes|T.childLanes;if(z|=fo,wy(e,s,z,d,m,b),e===Ge&&(_e=Ge=null,Ie=0),(T.subtreeFlags&10256)===0&&(T.flags&10256)===0||Fi||(Fi=!0,yu=z,vu=a,Wv(Ne,function(){return ol(),null})),a=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||a?(a=W.T,W.T=null,d=q.p,q.p=2,m=We,We|=4,Iv(e,T),dm(T,e),vv(Lu,e.containerInfo),nc=!!Mu,Lu=Mu=null,e.current=T,im(e,T.alternate,T),Re(),We=m,q.p=d,W.T=a):e.current=T,Fi?(Fi=!1,xs=e,vr=s):_m(e,z),z=e.pendingLanes,z===0&&(_n=null),ra(T.stateNode),Ba(e),t!==null)for(o=e.onRecoverableError,T=0;T<t.length;T++)z=t[T],o(z.value,{componentStack:z.stack});return(vr&3)!==0&&ol(),z=e.pendingLanes,(s&4194218)!==0&&(z&42)!==0?e===xu?xr++:(xr=0,xu=e):xr=0,br(0),null}function _m(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ar(t)))}function ol(){if(xs!==null){var e=xs,t=yu;yu=0;var a=qd(vr),s=W.T,o=q.p;try{if(q.p=32>a?32:a,W.T=null,xs===null)var d=!1;else{a=vu,vu=null;var m=xs,b=vr;if(xs=null,vr=0,(We&6)!==0)throw Error(c(331));var T=We;if(We|=4,gm(m.current),hm(m,m.current,b,a),We=T,br(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(rt,m)}catch{}d=!0}return d}finally{q.p=o,W.T=s,_m(e,t)}}return!1}function zm(e,t,a){t=ua(a,t),t=Ho(e.stateNode,t,2),e=wn(e,t,2),e!==null&&(Il(e,2),Ba(e))}function Ve(e,t,a){if(e.tag===3)zm(e,e,a);else for(;t!==null;){if(t.tag===3){zm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_n===null||!_n.has(s))){e=ua(a,e),a=Uh(2),s=wn(t,a,2),s!==null&&(Ih(a,s,t,e),Il(s,2),Ba(s));break}}t=t.return}}function Eu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Fv;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(hu=!0,o.add(a),e=Zv.bind(null,e,t,a),t.then(e,e))}function Zv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ge===e&&(Ie&a)===a&&(et===4||et===3&&(Ie&62914560)===Ie&&300>Fe()-gu?(We&2)===0&&il(e,0):mu|=a,rl===Ie&&(rl=0)),Ba(e)}function Mm(e,t){t===0&&(t=Id()),e=vn(e,t),e!==null&&(Il(e,t),Ba(e))}function Kv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Mm(e,a)}function Jv(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Mm(e,a)}function Wv(e,t){return Dt(e,t)}var Vi=null,ul=null,Tu=!1,Gi=!1,wu=!1,bs=0;function Ba(e){e!==ul&&e.next===null&&(ul===null?Vi=ul=e:ul=ul.next=e),Gi=!0,Tu||(Tu=!0,e0(Pv))}function br(e,t){if(!wu&&Gi){wu=!0;do for(var a=!1,s=Vi;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var d=0;else{var m=s.suspendedLanes,b=s.pingedLanes;d=(1<<31-ht(42|e)+1)-1,d&=o&~(m&~b),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Im(s,d))}else d=Ie,d=Pn(s,s===Ge?d:0),(d&3)===0||pn(s,d)||(a=!0,Im(s,d));s=s.next}while(a);wu=!1}}function Pv(){Gi=Tu=!1;var e=0;bs!==0&&(c0()&&(e=bs),bs=0);for(var t=Fe(),a=null,s=Vi;s!==null;){var o=s.next,d=Lm(s,t);d===0?(s.next=null,a===null?Vi=o:a.next=o,o===null&&(ul=a)):(a=s,(e!==0||(d&3)!==0)&&(Gi=!0)),s=o}br(e)}function Lm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-ht(d),b=1<<m,T=o[m];T===-1?((b&a)===0||(b&s)!==0)&&(o[m]=Ty(b,t)):T<=t&&(e.expiredLanes|=b),d&=~b}if(t=Ge,a=Ie,a=Pn(e,e===t?a:0),s=e.callbackNode,a===0||e===t&&$e===2||e.cancelPendingCommit!==null)return s!==null&&s!==null&&sa(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&sa(s),qd(a)){case 2:case 8:a=ie;break;case 32:a=Ne;break;case 268435456:a=Tt;break;default:a=Ne}return s=Um.bind(null,e),a=Dt(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&sa(s),e.callbackPriority=2,e.callbackNode=null,2}function Um(e,t){var a=e.callbackNode;if(ol()&&e.callbackNode!==a)return null;var s=Ie;return s=Pn(e,e===Ge?s:0),s===0?null:(Nm(e,s,t),Lm(e,Fe()),e.callbackNode!=null&&e.callbackNode===a?Um.bind(null,e):null)}function Im(e,t){if(ol())return null;Nm(e,t,!0)}function e0(e){u0(function(){(We&6)!==0?Dt(la,e):e()})}function Cu(){return bs===0&&(bs=Ud()),bs}function km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ii(""+e)}function Bm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function t0(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var d=km((o[Ht]||null).action),m=s.submitter;m&&(t=(t=m[Ht]||null)?km(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var b=new di("action","action",null,s,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(bs!==0){var T=m?Bm(o,m):new FormData(o);Uo(a,{pending:!0,data:T,method:o.method,action:d},null,T)}}else typeof d=="function"&&(b.preventDefault(),T=m?Bm(o,m):new FormData(o),Uo(a,{pending:!0,data:T,method:o.method,action:d},d,T))},currentTarget:o}]})}}for(var Ou=0;Ou<Df.length;Ou++){var Au=Df[Ou],a0=Au.toLowerCase(),n0=Au[0].toUpperCase()+Au.slice(1);Ea(a0,"on"+n0)}Ea(wf,"onAnimationEnd"),Ea(Cf,"onAnimationIteration"),Ea(Of,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(bv,"onTransitionRun"),Ea(jv,"onTransitionStart"),Ea(Sv,"onTransitionCancel"),Ea(Af,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jr));function qm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var m=s.length-1;0<=m;m--){var b=s[m],T=b.instance,z=b.currentTarget;if(b=b.listener,T!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=z;try{d(o)}catch(Z){zi(Z)}o.currentTarget=null,d=T}else for(m=0;m<s.length;m++){if(b=s[m],T=b.instance,z=b.currentTarget,b=b.listener,T!==d&&o.isPropagationStopped())break e;d=b,o.currentTarget=z;try{d(o)}catch(Z){zi(Z)}o.currentTarget=null,d=T}}}}function Le(e,t){var a=t[Qc];a===void 0&&(a=t[Qc]=new Set);var s=e+"__bubble";a.has(s)||(Hm(t,e,2,!1),a.add(s))}function Ru(e,t,a){var s=0;t&&(s|=4),Hm(a,e,s,t)}var $i="_reactListening"+Math.random().toString(36).slice(2);function Du(e){if(!e[$i]){e[$i]=!0,Fd.forEach(function(a){a!=="selectionchange"&&(s0.has(a)||Ru(a,!1,e),Ru(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$i]||(t[$i]=!0,Ru("selectionchange",!1,t))}}function Hm(e,t,a,s){switch(up(t)){case 2:var o=R0;break;case 8:o=D0;break;default:o=Qu}a=o.bind(null,t,a,e),o=void 0,!Wc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function _u(e,t,a,s,o){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var b=s.stateNode.containerInfo;if(b===o||b.nodeType===8&&b.parentNode===o)break;if(m===4)for(m=s.return;m!==null;){var T=m.tag;if((T===3||T===4)&&(T=m.stateNode.containerInfo,T===o||T.nodeType===8&&T.parentNode===o))return;m=m.return}for(;b!==null;){if(m=es(b),m===null)return;if(T=m.tag,T===5||T===6||T===26||T===27){s=d=m;continue e}b=b.parentNode}}s=s.return}tf(function(){var z=d,Z=Kc(a),P=[];e:{var B=Rf.get(e);if(B!==void 0){var G=di,pe=e;switch(e){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":G=Jy;break;case"focusin":pe="focus",G=ao;break;case"focusout":pe="blur",G=ao;break;case"beforeblur":case"afterblur":G=ao;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=By;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ev;break;case wf:case Cf:case Of:G=Yy;break;case Af:G=av;break;case"scroll":case"scrollend":G=Iy;break;case"wheel":G=sv;break;case"copy":case"cut":case"paste":G=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=rf;break;case"toggle":case"beforetoggle":G=rv}var Te=(t&4)!==0,tt=!Te&&(e==="scroll"||e==="scrollend"),L=Te?B!==null?B+"Capture":null:B;Te=[];for(var _=z,I;_!==null;){var J=_;if(I=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||I===null||L===null||(J=ql(_,L),J!=null&&Te.push(Sr(_,J,I))),tt)break;_=_.return}0<Te.length&&(B=new G(B,pe,null,a,Z),P.push({event:B,listeners:Te}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",B&&a!==Zc&&(pe=a.relatedTarget||a.fromElement)&&(es(pe)||pe[Ms]))break e;if((G||B)&&(B=Z.window===Z?Z:(B=Z.ownerDocument)?B.defaultView||B.parentWindow:window,G?(pe=a.relatedTarget||a.toElement,G=z,pe=pe?es(pe):null,pe!==null&&(tt=se(pe),Te=pe.tag,pe!==tt||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):(G=null,pe=z),G!==pe)){if(Te=sf,J="onMouseLeave",L="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(Te=rf,J="onPointerLeave",L="onPointerEnter",_="pointer"),tt=G==null?B:Bl(G),I=pe==null?B:Bl(pe),B=new Te(J,_+"leave",G,a,Z),B.target=tt,B.relatedTarget=I,J=null,es(Z)===z&&(Te=new Te(L,_+"enter",pe,a,Z),Te.target=I,Te.relatedTarget=tt,J=Te),tt=J,G&&pe)t:{for(Te=G,L=pe,_=0,I=Te;I;I=dl(I))_++;for(I=0,J=L;J;J=dl(J))I++;for(;0<_-I;)Te=dl(Te),_--;for(;0<I-_;)L=dl(L),I--;for(;_--;){if(Te===L||L!==null&&Te===L.alternate)break t;Te=dl(Te),L=dl(L)}Te=null}else Te=null;G!==null&&Ym(P,B,G,Te,!1),pe!==null&&tt!==null&&Ym(P,tt,pe,Te,!0)}}e:{if(B=z?Bl(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var me=pf;else if(hf(B))if(gf)me=gv;else{me=mv;var De=hv}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&$c(z.elementType)&&(me=pf):me=pv;if(me&&(me=me(e,z))){mf(P,me,a,Z);break e}De&&De(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Gc(B,"number",B.value)}switch(De=z?Bl(z):window,e){case"focusin":(hf(De)||De.contentEditable==="true")&&(Fs=De,co=z,$l=null);break;case"focusout":$l=co=Fs=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":oo=!1,Ef(P,a,Z);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":Ef(P,a,Z)}var ye;if(so)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ys?df(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(cf&&a.locale!=="ko"&&(Ys||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ys&&(ye=af()):(yn=Z,Pc="value"in yn?yn.value:yn.textContent,Ys=!0)),De=Zi(z,je),0<De.length&&(je=new lf(je,e,null,a,Z),P.push({event:je,listeners:De}),ye?je.data=ye:(ye=ff(a),ye!==null&&(je.data=ye)))),(ye=cv?ov(e,a):uv(e,a))&&(je=Zi(z,"onBeforeInput"),0<je.length&&(De=new lf("onBeforeInput","beforeinput",null,a,Z),P.push({event:De,listeners:je}),De.data=ye)),t0(P,e,z,a,Z)}qm(P,t)})}function Sr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Zi(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,d=o.stateNode;o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=ql(e,a),o!=null&&s.unshift(Sr(e,o,d)),o=ql(e,t),o!=null&&s.push(Sr(e,o,d))),e=e.return}return s}function dl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ym(e,t,a,s,o){for(var d=t._reactName,m=[];a!==null&&a!==s;){var b=a,T=b.alternate,z=b.stateNode;if(b=b.tag,T!==null&&T===s)break;b!==5&&b!==26&&b!==27||z===null||(T=z,o?(z=ql(a,d),z!=null&&m.unshift(Sr(a,z,T))):o||(z=ql(a,d),z!=null&&m.push(Sr(a,z,T)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var l0=/\r\n?/g,r0=/\u0000|\uFFFD/g;function Fm(e){return(typeof e=="string"?e:""+e).replace(l0,`
`).replace(r0,"")}function Qm(e,t){return t=Fm(t),Fm(e)===t}function Ki(){}function Xe(e,t,a,s,o,d){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Bs(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Bs(e,""+s);break;case"className":si(e,"class",s);break;case"tabIndex":si(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":si(e,a,s);break;case"style":Pd(e,s,d);break;case"data":if(t!=="object"){si(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ii(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Xe(e,t,"name",o.name,o,null),Xe(e,t,"formEncType",o.formEncType,o,null),Xe(e,t,"formMethod",o.formMethod,o,null),Xe(e,t,"formTarget",o.formTarget,o,null)):(Xe(e,t,"encType",o.encType,o,null),Xe(e,t,"method",o.method,o,null),Xe(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=ii(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Ki);break;case"onScroll":s!=null&&Le("scroll",e);break;case"onScrollEnd":s!=null&&Le("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=ii(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Le("beforetoggle",e),Le("toggle",e),ni(e,"popover",s);break;case"xlinkActuate":Va(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Va(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Va(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Va(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Va(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Va(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Va(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Va(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Va(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ni(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ly.get(a)||a,ni(e,a,s))}}function zu(e,t,a,s,o,d){switch(a){case"style":Pd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Bs(e,s):(typeof s=="number"||typeof s=="bigint")&&Bs(e,""+s);break;case"onScroll":s!=null&&Le("scroll",e);break;case"onScrollEnd":s!=null&&Le("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[Ht]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof s=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):ni(e,a,s)}}}function At(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",e),Le("load",e);var s=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var m=a[d];if(m!=null)switch(d){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Xe(e,t,d,m,a,null)}}o&&Xe(e,t,"srcSet",a.srcSet,a,null),s&&Xe(e,t,"src",a.src,a,null);return;case"input":Le("invalid",e);var b=d=m=o=null,T=null,z=null;for(s in a)if(a.hasOwnProperty(s)){var Z=a[s];if(Z!=null)switch(s){case"name":o=Z;break;case"type":m=Z;break;case"checked":T=Z;break;case"defaultChecked":z=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(c(137,t));break;default:Xe(e,t,s,Z,a,null)}}Zd(e,d,b,T,z,m,o,!1),li(e);return;case"select":Le("invalid",e),s=m=d=null;for(o in a)if(a.hasOwnProperty(o)&&(b=a[o],b!=null))switch(o){case"value":d=b;break;case"defaultValue":m=b;break;case"multiple":s=b;default:Xe(e,t,o,b,a,null)}t=d,a=m,e.multiple=!!s,t!=null?ks(e,!!s,t,!1):a!=null&&ks(e,!!s,a,!0);return;case"textarea":Le("invalid",e),d=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":s=b;break;case"defaultValue":o=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(c(91));break;default:Xe(e,t,m,b,a,null)}Jd(e,s,o,d),li(e);return;case"option":for(T in a)if(a.hasOwnProperty(T)&&(s=a[T],s!=null))switch(T){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Xe(e,t,T,s,a,null)}return;case"dialog":Le("cancel",e),Le("close",e);break;case"iframe":case"object":Le("load",e);break;case"video":case"audio":for(s=0;s<jr.length;s++)Le(jr[s],e);break;case"image":Le("error",e),Le("load",e);break;case"details":Le("toggle",e);break;case"embed":case"source":case"link":Le("error",e),Le("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(s=a[z],s!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Xe(e,t,z,s,a,null)}return;default:if($c(t)){for(Z in a)a.hasOwnProperty(Z)&&(s=a[Z],s!==void 0&&zu(e,t,Z,s,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(s=a[b],s!=null&&Xe(e,t,b,s,a,null))}function i0(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,m=null,b=null,T=null,z=null,Z=null;for(G in a){var P=a[G];if(a.hasOwnProperty(G)&&P!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":T=P;default:s.hasOwnProperty(G)||Xe(e,t,G,null,s,P)}}for(var B in s){var G=s[B];if(P=a[B],s.hasOwnProperty(B)&&(G!=null||P!=null))switch(B){case"type":d=G;break;case"name":o=G;break;case"checked":z=G;break;case"defaultChecked":Z=G;break;case"value":m=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:G!==P&&Xe(e,t,B,G,s,P)}}Vc(e,m,b,T,z,Z,d,o);return;case"select":G=m=b=B=null;for(d in a)if(T=a[d],a.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":G=T;default:s.hasOwnProperty(d)||Xe(e,t,d,null,s,T)}for(o in s)if(d=s[o],T=a[o],s.hasOwnProperty(o)&&(d!=null||T!=null))switch(o){case"value":B=d;break;case"defaultValue":b=d;break;case"multiple":m=d;default:d!==T&&Xe(e,t,o,d,s,T)}t=b,a=m,s=G,B!=null?ks(e,!!a,B,!1):!!s!=!!a&&(t!=null?ks(e,!!a,t,!0):ks(e,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(b in a)if(o=a[b],a.hasOwnProperty(b)&&o!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Xe(e,t,b,null,s,o)}for(m in s)if(o=s[m],d=a[m],s.hasOwnProperty(m)&&(o!=null||d!=null))switch(m){case"value":B=o;break;case"defaultValue":G=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(c(91));break;default:o!==d&&Xe(e,t,m,o,s,d)}Kd(e,B,G);return;case"option":for(var pe in a)if(B=a[pe],a.hasOwnProperty(pe)&&B!=null&&!s.hasOwnProperty(pe))switch(pe){case"selected":e.selected=!1;break;default:Xe(e,t,pe,null,s,B)}for(T in s)if(B=s[T],G=a[T],s.hasOwnProperty(T)&&B!==G&&(B!=null||G!=null))switch(T){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xe(e,t,T,B,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)B=a[Te],a.hasOwnProperty(Te)&&B!=null&&!s.hasOwnProperty(Te)&&Xe(e,t,Te,null,s,B);for(z in s)if(B=s[z],G=a[z],s.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(c(137,t));break;default:Xe(e,t,z,B,s,G)}return;default:if($c(t)){for(var tt in a)B=a[tt],a.hasOwnProperty(tt)&&B!==void 0&&!s.hasOwnProperty(tt)&&zu(e,t,tt,void 0,s,B);for(Z in s)B=s[Z],G=a[Z],!s.hasOwnProperty(Z)||B===G||B===void 0&&G===void 0||zu(e,t,Z,B,s,G);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!s.hasOwnProperty(L)&&Xe(e,t,L,null,s,B);for(P in s)B=s[P],G=a[P],!s.hasOwnProperty(P)||B===G||B==null&&G==null||Xe(e,t,P,B,s,G)}var Mu=null,Lu=null;function Ji(e){return e.nodeType===9?e:e.ownerDocument}function Xm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Uu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=null;function c0(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var Gm=typeof setTimeout=="function"?setTimeout:void 0,o0=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,u0=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(e){return $m.resolve(null).then(e).catch(d0)}:Gm;function d0(e){setTimeout(function(){throw e})}function ku(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(s===0){e.removeChild(o),Rr(t);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=o}while(a);Rr(t)}function Bu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bu(a),Xc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function f0(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[kl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ca(e.nextSibling),e===null)break}return null}function h0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ca(e.nextSibling),e===null))return null;return e}function Ca(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Km(e,t,a){switch(t=Ji(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}var va=new Map,Jm=new Set;function Wi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var cn=q.d;q.d={f:m0,r:p0,D:g0,C:y0,L:v0,m:x0,X:j0,S:b0,M:S0};function m0(){var e=cn.f(),t=Qi();return e||t}function p0(e){var t=Ls(e);t!==null&&t.tag===5&&t.type==="form"?Eh(t):cn.r(e)}var fl=typeof document>"u"?null:document;function Wm(e,t,a){var s=fl;if(s&&typeof t=="string"&&t){var o=ca(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Jm.has(o)||(Jm.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),At(t,"link",e),jt(t),s.head.appendChild(t)))}}function g0(e){cn.D(e),Wm("dns-prefetch",e,null)}function y0(e,t){cn.C(e,t),Wm("preconnect",e,t)}function v0(e,t,a){cn.L(e,t,a);var s=fl;if(s&&e&&t){var o='link[rel="preload"][as="'+ca(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+ca(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+ca(a.imageSizes)+'"]')):o+='[href="'+ca(e)+'"]';var d=o;switch(t){case"style":d=hl(e);break;case"script":d=ml(e)}va.has(d)||(e=ae({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),va.set(d,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Nr(d))||t==="script"&&s.querySelector(Er(d))||(t=s.createElement("link"),At(t,"link",e),jt(t),s.head.appendChild(t)))}}function x0(e,t){cn.m(e,t);var a=fl;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+ca(s)+'"][href="'+ca(e)+'"]',d=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ml(e)}if(!va.has(d)&&(e=ae({rel:"modulepreload",href:e},t),va.set(d,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Er(d)))return}s=a.createElement("link"),At(s,"link",e),jt(s),a.head.appendChild(s)}}}function b0(e,t,a){cn.S(e,t,a);var s=fl;if(s&&e){var o=Us(s).hoistableStyles,d=hl(e);t=t||"default";var m=o.get(d);if(!m){var b={loading:0,preload:null};if(m=s.querySelector(Nr(d)))b.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},a),(a=va.get(d))&&qu(e,a);var T=m=s.createElement("link");jt(T),At(T,"link",e),T._p=new Promise(function(z,Z){T.onload=z,T.onerror=Z}),T.addEventListener("load",function(){b.loading|=1}),T.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pi(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:b},o.set(d,m)}}}function j0(e,t){cn.X(e,t);var a=fl;if(a&&e){var s=Us(a).hoistableScripts,o=ml(e),d=s.get(o);d||(d=a.querySelector(Er(o)),d||(e=ae({src:e,async:!0},t),(t=va.get(o))&&Hu(e,t),d=a.createElement("script"),jt(d),At(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function S0(e,t){cn.M(e,t);var a=fl;if(a&&e){var s=Us(a).hoistableScripts,o=ml(e),d=s.get(o);d||(d=a.querySelector(Er(o)),d||(e=ae({src:e,async:!0,type:"module"},t),(t=va.get(o))&&Hu(e,t),d=a.createElement("script"),jt(d),At(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(o,d))}}function Pm(e,t,a,s){var o=(o=we.current)?Wi(o):null;if(!o)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=hl(a.href),a=Us(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=hl(a.href);var d=Us(o).hoistableStyles,m=d.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=o.querySelector(Nr(e)))&&!d._p&&(m.instance=d,m.state.loading=5),va.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},va.set(e,a),d||N0(o,e,a,m.state))),t&&s===null)throw Error(c(528,""));return m}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ml(a),a=Us(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function hl(e){return'href="'+ca(e)+'"'}function Nr(e){return'link[rel="stylesheet"]['+e+"]"}function ep(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function N0(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),At(t,"link",a),jt(t),e.head.appendChild(t))}function ml(e){return'[src="'+ca(e)+'"]'}function Er(e){return"script[async]"+e}function tp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+ca(a.href)+'"]');if(s)return t.instance=s,jt(s),s;var o=ae({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),jt(s),At(s,"style",o),Pi(s,a.precedence,e),t.instance=s;case"stylesheet":o=hl(a.href);var d=e.querySelector(Nr(o));if(d)return t.state.loading|=4,t.instance=d,jt(d),d;s=ep(a),(o=va.get(o))&&qu(s,o),d=(e.ownerDocument||e).createElement("link"),jt(d);var m=d;return m._p=new Promise(function(b,T){m.onload=b,m.onerror=T}),At(d,"link",s),t.state.loading|=4,Pi(d,a.precedence,e),t.instance=d;case"script":return d=ml(a.src),(o=e.querySelector(Er(d)))?(t.instance=o,jt(o),o):(s=a,(o=va.get(d))&&(s=ae({},a),Hu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),jt(o),At(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Pi(s,a.precedence,e));return t.instance}function Pi(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,d=o,m=0;m<s.length;m++){var b=s[m];if(b.dataset.precedence===t)d=b;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ec=null;function ap(e,t,a){if(ec===null){var s=new Map,o=ec=new Map;o.set(a,s)}else o=ec,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[kl]||d[_t]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var b=s.get(m);b?b.push(d):s.set(m,[d])}}return s}function np(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function E0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function sp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Tr=null;function T0(){}function w0(e,t,a){if(Tr===null)throw Error(c(475));var s=Tr;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=hl(a.href),d=e.querySelector(Nr(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=tc.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=d,jt(d);return}d=e.ownerDocument||e,a=ep(a),(o=va.get(o))&&qu(a,o),d=d.createElement("link"),jt(d);var m=d;m._p=new Promise(function(b,T){m.onload=b,m.onerror=T}),At(d,"link",a),t.instance=d}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=tc.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function C0(){if(Tr===null)throw Error(c(475));var e=Tr;return e.stylesheets&&e.count===0&&Yu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function tc(){if(this.count--,this.count===0){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function Yu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,t.forEach(O0,e),ac=null,tc.call(e))}function O0(e,t){if(!(t.state.loading&4)){var a=ac.get(e);if(a)var s=a.get(null);else{a=new Map,ac.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var m=o[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),d=a.get(m)||s,d===s&&a.set(null,o),a.set(m,o),this.count++,s=tc.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var wr={$$typeof:A,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function A0(e,t,a,s,o,d,m,b){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.hiddenUpdates=Fc(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function lp(e,t,a,s,o,d,m,b,T,z,Z,P){return e=new A0(e,t,a,m,b,T,z,P),t=1,d===!0&&(t|=24),d=ga(3,null,null,t),e.current=d,d.stateNode=e,t=bo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:t},eu(d),e}function rp(e){return e?(e=Vs,e):Vs}function ip(e,t,a,s,o,d){o=rp(o),s.context===null?s.context=o:s.pendingContext=o,s=Tn(t),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=wn(e,s,t),a!==null&&(kt(a,e,t),or(a,e,t))}function cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Fu(e,t){cp(e,t),(e=e.alternate)&&cp(e,t)}function op(e){if(e.tag===13){var t=vn(e,67108864);t!==null&&kt(t,e,67108864),Fu(e,67108864)}}var nc=!0;function R0(e,t,a,s){var o=W.T;W.T=null;var d=q.p;try{q.p=2,Qu(e,t,a,s)}finally{q.p=d,W.T=o}}function D0(e,t,a,s){var o=W.T;W.T=null;var d=q.p;try{q.p=8,Qu(e,t,a,s)}finally{q.p=d,W.T=o}}function Qu(e,t,a,s){if(nc){var o=Xu(s);if(o===null)_u(e,t,s,sc,a),dp(e,s);else if(z0(o,e,t,a,s))s.stopPropagation();else if(dp(e,s),t&4&&-1<_0.indexOf(e)){for(;o!==null;){var d=Ls(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=Ma(d.pendingLanes);if(m!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var T=1<<31-ht(m);b.entanglements[1]|=T,m&=~T}Ba(d),(We&6)===0&&(Hi=Fe()+500,br(0))}}break;case 13:b=vn(d,2),b!==null&&kt(b,d,2),Qi(),Fu(d,2)}if(d=Xu(s),d===null&&_u(e,t,s,sc,a),d===o)break;o=d}o!==null&&s.stopPropagation()}else _u(e,t,s,null,a)}}function Xu(e){return e=Kc(e),Vu(e)}var sc=null;function Vu(e){if(sc=null,e=es(e),e!==null){var t=se(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=be(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sc=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Na()){case la:return 2;case ie:return 8;case Ne:case dt:return 32;case Tt:return 268435456;default:return 32}default:return 32}}var Gu=!1,zn=null,Mn=null,Ln=null,Cr=new Map,Or=new Map,Un=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dp(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(t.pointerId)}}function Ar(e,t,a,s,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[o]},t!==null&&(t=Ls(t),t!==null&&op(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function z0(e,t,a,s,o){switch(t){case"focusin":return zn=Ar(zn,e,t,a,s,o),!0;case"dragenter":return Mn=Ar(Mn,e,t,a,s,o),!0;case"mouseover":return Ln=Ar(Ln,e,t,a,s,o),!0;case"pointerover":var d=o.pointerId;return Cr.set(d,Ar(Cr.get(d)||null,e,t,a,s,o)),!0;case"gotpointercapture":return d=o.pointerId,Or.set(d,Ar(Or.get(d)||null,e,t,a,s,o)),!0}return!1}function fp(e){var t=es(e.target);if(t!==null){var a=se(t);if(a!==null){if(t=a.tag,t===13){if(t=be(a),t!==null){e.blockedOn=t,Cy(e.priority,function(){if(a.tag===13){var s=ea(),o=vn(a,s);o!==null&&kt(o,a,s),Fu(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Xu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Zc=s,a.target.dispatchEvent(s),Zc=null}else return t=Ls(a),t!==null&&op(t),e.blockedOn=a,!1;t.shift()}return!0}function hp(e,t,a){lc(e)&&a.delete(t)}function M0(){Gu=!1,zn!==null&&lc(zn)&&(zn=null),Mn!==null&&lc(Mn)&&(Mn=null),Ln!==null&&lc(Ln)&&(Ln=null),Cr.forEach(hp),Or.forEach(hp)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,Gu||(Gu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,M0)))}var ic=null;function mp(e){ic!==e&&(ic=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ic===e&&(ic=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(Vu(s||a)===null)continue;break}var d=Ls(a);d!==null&&(e.splice(t,3),t-=3,Uo(d,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function Rr(e){function t(T){return rc(T,e)}zn!==null&&rc(zn,e),Mn!==null&&rc(Mn,e),Ln!==null&&rc(Ln,e),Cr.forEach(t),Or.forEach(t);for(var a=0;a<Un.length;a++){var s=Un[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Un.length&&(a=Un[0],a.blockedOn===null);)fp(a),a.blockedOn===null&&Un.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],d=a[s+1],m=o[Ht]||null;if(typeof d=="function")m||mp(a);else if(m){var b=null;if(d&&d.hasAttribute("formAction")){if(o=d,m=d[Ht]||null)b=m.formAction;else if(Vu(o)!==null)continue}else b=m.action;typeof b=="function"?a[s+1]=b:(a.splice(s,3),s-=3),mp(a)}}}function $u(e){this._internalRoot=e}cc.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,s=ea();ip(a,s,e,t,null,null)},cc.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&ol(),ip(e.current,2,null,e,null,null),Qi(),t[Ms]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Un.length&&t!==0&&t<Un[a].priority;a++);Un.splice(a,0,e),a===0&&fp(e)}};var pp=l.version;if(pp!=="19.0.0")throw Error(c(527,pp,"19.0.0"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=M(t),e=e!==null?Y(e):null,e=e===null?null:e.stateNode,e};var L0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:W,findFiberByHostInstance:es,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{rt=oc.inject(L0),Ze=oc}catch{}}return _r.createRoot=function(e,t){if(!u(e))throw Error(c(299));var a=!1,s="",o=_h,d=zh,m=Mh,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=lp(e,1,!1,null,null,a,s,o,d,m,b,null),e[Ms]=t.current,Du(e.nodeType===8?e.parentNode:e),new $u(t)},_r.hydrateRoot=function(e,t,a){if(!u(e))throw Error(c(299));var s=!1,o="",d=_h,m=zh,b=Mh,T=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),t=lp(e,1,!0,t,a??null,s,o,d,m,b,T,z),t.context=rp(null),a=t.current,s=ea(),o=Tn(s),o.callback=null,wn(a,o,s),t.current.lanes=s,Il(t,s),Ba(t),e[Ms]=t.current,Du(e),new cc(t)},_r.version="19.0.0",_r}var Cp;function V0(){if(Cp)return Wu.exports;Cp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),Wu.exports=X0(),Wu.exports}var G0=V0(),zr={},Op;function $0(){if(Op)return zr;Op=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.parse=h,zr.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,l=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,f=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,A){const N=new f,E=w.length;if(E<2)return N;const C=(A==null?void 0:A.decode)||v;let O=0;do{const R=w.indexOf("=",O);if(R===-1)break;const D=w.indexOf(";",O),k=D===-1?E:D;if(R>k){O=w.lastIndexOf(";",R-1)+1;continue}const X=g(w,O,R),K=y(w,R,X),ce=w.slice(X,K);if(N[ce]===void 0){let fe=g(w,R+1,k),W=y(w,k,fe);const ae=C(w.slice(fe,W));N[ce]=ae}O=k+1}while(O<E);return N}function g(w,A,N){do{const E=w.charCodeAt(A);if(E!==32&&E!==9)return A}while(++A<N);return N}function y(w,A,N){for(;A>N;){const E=w.charCodeAt(--A);if(E!==32&&E!==9)return A+1}return N}function p(w,A,N){const E=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const C=E(A);if(!l.test(C))throw new TypeError(`argument val is invalid: ${A}`);let O=w+"="+C;if(!N)return O;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);O+="; Max-Age="+N.maxAge}if(N.domain){if(!i.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);O+="; Domain="+N.domain}if(N.path){if(!c.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);O+="; Path="+N.path}if(N.expires){if(!x(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);O+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(O+="; HttpOnly"),N.secure&&(O+="; Secure"),N.partitioned&&(O+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return O}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return u.call(w)==="[object Date]"}return zr}$0();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ap="popstate";function Z0(n={}){function l(c,u){let{pathname:f,search:h,hash:g}=c.location;return cd("",{pathname:f,search:h,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(c,u){return typeof u=="string"?u:Ir(u)}return J0(l,i,null,n)}function Ke(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function ba(n,l){if(!n){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function K0(){return Math.random().toString(36).substring(2,10)}function Rp(n,l){return{usr:n.state,key:n.key,idx:l}}function cd(n,l,i=null,c){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof l=="string"?Al(l):l,state:i,key:l&&l.key||c||K0()}}function Ir({pathname:n="/",search:l="",hash:i=""}){return l&&l!=="?"&&(n+=l.charAt(0)==="?"?l:"?"+l),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Al(n){let l={};if(n){let i=n.indexOf("#");i>=0&&(l.hash=n.substring(i),n=n.substring(0,i));let c=n.indexOf("?");c>=0&&(l.search=n.substring(c),n=n.substring(0,c)),n&&(l.pathname=n)}return l}function J0(n,l,i,c={}){let{window:u=document.defaultView,v5Compat:f=!1}=c,h=u.history,g="POP",y=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function x(){g="POP";let C=v(),O=C==null?null:C-p;p=C,y&&y({action:g,location:E.location,delta:O})}function w(C,O){g="PUSH";let R=cd(E.location,C,O);p=v()+1;let D=Rp(R,p),k=E.createHref(R);try{h.pushState(D,"",k)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;u.location.assign(k)}f&&y&&y({action:g,location:E.location,delta:1})}function A(C,O){g="REPLACE";let R=cd(E.location,C,O);p=v();let D=Rp(R,p),k=E.createHref(R);h.replaceState(D,"",k),f&&y&&y({action:g,location:E.location,delta:0})}function N(C){let O=u.location.origin!=="null"?u.location.origin:u.location.href,R=typeof C=="string"?C:Ir(C);return R=R.replace(/ $/,"%20"),Ke(O,`No window.location.(origin|href) available to create URL for href: ${R}`),new URL(R,O)}let E={get action(){return g},get location(){return n(u,h)},listen(C){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(Ap,x),y=C,()=>{u.removeEventListener(Ap,x),y=null}},createHref(C){return l(u,C)},createURL:N,encodeLocation(C){let O=N(C);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:A,go(C){return h.go(C)}};return E}function bg(n,l,i="/"){return W0(n,l,i,!1)}function W0(n,l,i,c){let u=typeof l=="string"?Al(l):l,f=mn(u.pathname||"/",i);if(f==null)return null;let h=jg(n);P0(h);let g=null;for(let y=0;g==null&&y<h.length;++y){let p=ux(f);g=cx(h[y],p,c)}return g}function jg(n,l=[],i=[],c=""){let u=(f,h,g)=>{let y={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};y.relativePath.startsWith("/")&&(Ke(y.relativePath.startsWith(c),`Absolute route path "${y.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(c.length));let p=fn([c,y.relativePath]),v=i.concat(y);f.children&&f.children.length>0&&(Ke(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),jg(f.children,l,v,p)),!(f.path==null&&!f.index)&&l.push({path:p,score:rx(p,f.index),routesMeta:v})};return n.forEach((f,h)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,h);else for(let y of Sg(f.path))u(f,h,y)}),l}function Sg(n){let l=n.split("/");if(l.length===0)return[];let[i,...c]=l,u=i.endsWith("?"),f=i.replace(/\?$/,"");if(c.length===0)return u?[f,""]:[f];let h=Sg(c.join("/")),g=[];return g.push(...h.map(y=>y===""?f:[f,y].join("/"))),u&&g.push(...h),g.map(y=>n.startsWith("/")&&y===""?"/":y)}function P0(n){n.sort((l,i)=>l.score!==i.score?i.score-l.score:ix(l.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}var ex=/^:[\w-]+$/,tx=3,ax=2,nx=1,sx=10,lx=-2,Dp=n=>n==="*";function rx(n,l){let i=n.split("/"),c=i.length;return i.some(Dp)&&(c+=lx),l&&(c+=ax),i.filter(u=>!Dp(u)).reduce((u,f)=>u+(ex.test(f)?tx:f===""?nx:sx),c)}function ix(n,l){return n.length===l.length&&n.slice(0,-1).every((c,u)=>c===l[u])?n[n.length-1]-l[l.length-1]:0}function cx(n,l,i=!1){let{routesMeta:c}=n,u={},f="/",h=[];for(let g=0;g<c.length;++g){let y=c[g],p=g===c.length-1,v=f==="/"?l:l.slice(f.length)||"/",x=Nc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),w=y.route;if(!x&&p&&i&&!c[c.length-1].route.index&&(x=Nc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:fn([f,x.pathname]),pathnameBase:mx(fn([f,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(f=fn([f,x.pathnameBase]))}return h}function Nc(n,l){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,c]=ox(n.path,n.caseSensitive,n.end),u=l.match(i);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:c.reduce((p,{paramName:v,isOptional:x},w)=>{if(v==="*"){let N=g[w]||"";h=f.slice(0,f.length-N.length).replace(/(.)\/+$/,"$1")}const A=g[w];return x&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:n}}function ox(n,l=!1,i=!0){ba(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let c=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,y)=>(c.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(c.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,l?void 0:"i"),c]}function ux(n){try{return n.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return ba(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),n}}function mn(n,l){if(l==="/")return n;if(!n.toLowerCase().startsWith(l.toLowerCase()))return null;let i=l.endsWith("/")?l.length-1:l.length,c=n.charAt(i);return c&&c!=="/"?null:n.slice(i)||"/"}function dx(n,l="/"){let{pathname:i,search:c="",hash:u=""}=typeof n=="string"?Al(n):n;return{pathname:i?i.startsWith("/")?i:fx(i,l):l,search:px(c),hash:gx(u)}}function fx(n,l){let i=l.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function ad(n,l,i,c){return`Cannot include a '${n}' character in a manually specified \`to.${l}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hx(n){return n.filter((l,i)=>i===0||l.route.path&&l.route.path.length>0)}function bd(n){let l=hx(n);return l.map((i,c)=>c===l.length-1?i.pathname:i.pathnameBase)}function jd(n,l,i,c=!1){let u;typeof n=="string"?u=Al(n):(u={...n},Ke(!u.pathname||!u.pathname.includes("?"),ad("?","pathname","search",u)),Ke(!u.pathname||!u.pathname.includes("#"),ad("#","pathname","hash",u)),Ke(!u.search||!u.search.includes("#"),ad("#","search","hash",u)));let f=n===""||u.pathname==="",h=f?"/":u.pathname,g;if(h==null)g=i;else{let x=l.length-1;if(!c&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),x-=1;u.pathname=w.join("/")}g=x>=0?l[x]:"/"}let y=dx(u,g),p=h&&h!=="/"&&h.endsWith("/"),v=(f||h===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var fn=n=>n.join("/").replace(/\/\/+/g,"/"),mx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),px=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ng=["POST","PUT","PATCH","DELETE"];new Set(Ng);var vx=["GET",...Ng];new Set(vx);var Rl=S.createContext(null);Rl.displayName="DataRouter";var Rc=S.createContext(null);Rc.displayName="DataRouterState";var Eg=S.createContext({isTransitioning:!1});Eg.displayName="ViewTransition";var xx=S.createContext(new Map);xx.displayName="Fetchers";var bx=S.createContext(null);bx.displayName="Await";var Da=S.createContext(null);Da.displayName="Navigation";var Xr=S.createContext(null);Xr.displayName="Location";var ja=S.createContext({outlet:null,matches:[],isDataRoute:!1});ja.displayName="Route";var Sd=S.createContext(null);Sd.displayName="RouteError";function jx(n,{relative:l}={}){Ke(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:c}=S.useContext(Da),{hash:u,pathname:f,search:h}=Vr(n,{relative:l}),g=f;return i!=="/"&&(g=f==="/"?i:fn([i,f])),c.createHref({pathname:g,search:h,hash:u})}function Dl(){return S.useContext(Xr)!=null}function Zt(){return Ke(Dl(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Xr).location}var Tg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wg(n){S.useContext(Da).static||S.useLayoutEffect(n)}function Sa(){let{isDataRoute:n}=S.useContext(ja);return n?Ux():Sx()}function Sx(){Ke(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Rl),{basename:l,navigator:i}=S.useContext(Da),{matches:c}=S.useContext(ja),{pathname:u}=Zt(),f=JSON.stringify(bd(c)),h=S.useRef(!1);return wg(()=>{h.current=!0}),S.useCallback((y,p={})=>{if(ba(h.current,Tg),!h.current)return;if(typeof y=="number"){i.go(y);return}let v=jd(y,JSON.parse(f),u,p.relative==="path");n==null&&l!=="/"&&(v.pathname=v.pathname==="/"?l:fn([l,v.pathname])),(p.replace?i.replace:i.push)(v,p.state,p)},[l,i,f,u,n])}var Nx=S.createContext(null);function Ex(n){let l=S.useContext(ja).outlet;return l&&S.createElement(Nx.Provider,{value:n},l)}function Dc(){let{matches:n}=S.useContext(ja),l=n[n.length-1];return l?l.params:{}}function Vr(n,{relative:l}={}){let{matches:i}=S.useContext(ja),{pathname:c}=Zt(),u=JSON.stringify(bd(i));return S.useMemo(()=>jd(n,JSON.parse(u),c,l==="path"),[n,u,c,l])}function Tx(n,l){return Cg(n,l)}function Cg(n,l,i,c){var R;Ke(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:f}=S.useContext(Da),{matches:h}=S.useContext(ja),g=h[h.length-1],y=g?g.params:{},p=g?g.pathname:"/",v=g?g.pathnameBase:"/",x=g&&g.route;{let D=x&&x.path||"";Og(p,!x||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let w=Zt(),A;if(l){let D=typeof l=="string"?Al(l):l;Ke(v==="/"||((R=D.pathname)==null?void 0:R.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),A=D}else A=w;let N=A.pathname||"/",E=N;if(v!=="/"){let D=v.replace(/^\//,"").split("/");E="/"+N.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=!f&&i&&i.matches&&i.matches.length>0?i.matches:bg(n,{pathname:E});ba(x||C!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),ba(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Rx(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},y,D.params),pathname:fn([v,u.encodeLocation?u.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:fn([v,u.encodeLocation?u.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,i,c);return l&&O?S.createElement(Xr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function wx(){let n=Lx(),l=yx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,c="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:c},f={padding:"2px 4px",backgroundColor:c},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:f},"ErrorBoundary")," or"," ",S.createElement("code",{style:f},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},l),i?S.createElement("pre",{style:u},i):null,h)}var Cx=S.createElement(wx,null),Ox=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,l){return l.location!==n.location||l.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:l.error,location:l.location,revalidation:n.revalidation||l.revalidation}}componentDidCatch(n,l){console.error("React Router caught the following error during render",n,l)}render(){return this.state.error!==void 0?S.createElement(ja.Provider,{value:this.props.routeContext},S.createElement(Sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ax({routeContext:n,match:l,children:i}){let c=S.useContext(Rl);return c&&c.static&&c.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=l.route.id),S.createElement(ja.Provider,{value:n},i)}function Rx(n,l=[],i=null,c=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(l.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let u=n,f=i==null?void 0:i.errors;if(f!=null){let y=u.findIndex(p=>p.route.id&&(f==null?void 0:f[p.route.id])!==void 0);Ke(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,g=-1;if(i)for(let y=0;y<u.length;y++){let p=u[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=y),p.route.id){let{loaderData:v,errors:x}=i,w=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){h=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,p,v)=>{let x,w=!1,A=null,N=null;i&&(x=f&&p.route.id?f[p.route.id]:void 0,A=p.route.errorElement||Cx,h&&(g<0&&v===0?(Og("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):g===v&&(w=!0,N=p.route.hydrateFallbackElement||null)));let E=l.concat(u.slice(0,v+1)),C=()=>{let O;return x?O=A:w?O=N:p.route.Component?O=S.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=y,S.createElement(Ax,{match:p,routeContext:{outlet:y,matches:E,isDataRoute:i!=null},children:O})};return i&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?S.createElement(Ox,{location:i.location,revalidation:i.revalidation,component:A,error:x,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}function Nd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dx(n){let l=S.useContext(Rl);return Ke(l,Nd(n)),l}function _x(n){let l=S.useContext(Rc);return Ke(l,Nd(n)),l}function zx(n){let l=S.useContext(ja);return Ke(l,Nd(n)),l}function Ed(n){let l=zx(n),i=l.matches[l.matches.length-1];return Ke(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function Mx(){return Ed("useRouteId")}function Lx(){var c;let n=S.useContext(Sd),l=_x("useRouteError"),i=Ed("useRouteError");return n!==void 0?n:(c=l.errors)==null?void 0:c[i]}function Ux(){let{router:n}=Dx("useNavigate"),l=Ed("useNavigate"),i=S.useRef(!1);return wg(()=>{i.current=!0}),S.useCallback(async(u,f={})=>{ba(i.current,Tg),i.current&&(typeof u=="number"?n.navigate(u):await n.navigate(u,{fromRouteId:l,...f}))},[n,l])}var _p={};function Og(n,l,i){!l&&!_p[n]&&(_p[n]=!0,ba(!1,i))}S.memo(Ix);function Ix({routes:n,future:l,state:i}){return Cg(n,void 0,i,l)}function Ec({to:n,replace:l,state:i,relative:c}){Ke(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=S.useContext(Da);ba(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=S.useContext(ja),{pathname:h}=Zt(),g=Sa(),y=jd(n,bd(f),h,c==="path"),p=JSON.stringify(y);return S.useEffect(()=>{g(JSON.parse(p),{replace:l,state:i,relative:c})},[g,p,c,l,i]),null}function Gr(n){return Ex(n.context)}function xt(n){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kx({basename:n="/",children:l=null,location:i,navigationType:c="POP",navigator:u,static:f=!1}){Ke(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),g=S.useMemo(()=>({basename:h,navigator:u,static:f,future:{}}),[h,u,f]);typeof i=="string"&&(i=Al(i));let{pathname:y="/",search:p="",hash:v="",state:x=null,key:w="default"}=i,A=S.useMemo(()=>{let N=mn(y,h);return N==null?null:{location:{pathname:N,search:p,hash:v,state:x,key:w},navigationType:c}},[h,y,p,v,x,w,c]);return ba(A!=null,`<Router basename="${h}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:S.createElement(Da.Provider,{value:g},S.createElement(Xr.Provider,{children:l,value:A}))}function Bx({children:n,location:l}){return Tx(od(n),l)}function od(n,l=[]){let i=[];return S.Children.forEach(n,(c,u)=>{if(!S.isValidElement(c))return;let f=[...l,u];if(c.type===S.Fragment){i.push.apply(i,od(c.props.children,f));return}Ke(c.type===xt,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!c.props.index||!c.props.children,"An index route cannot have child routes.");let h={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(h.children=od(c.props.children,f)),i.push(h)}),i}var gc="get",yc="application/x-www-form-urlencoded";function _c(n){return n!=null&&typeof n.tagName=="string"}function qx(n){return _c(n)&&n.tagName.toLowerCase()==="button"}function Hx(n){return _c(n)&&n.tagName.toLowerCase()==="form"}function Yx(n){return _c(n)&&n.tagName.toLowerCase()==="input"}function Fx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Qx(n,l){return n.button===0&&(!l||l==="_self")&&!Fx(n)}function ud(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((l,i)=>{let c=n[i];return l.concat(Array.isArray(c)?c.map(u=>[i,u]):[[i,c]])},[]))}function Xx(n,l){let i=ud(n);return l&&l.forEach((c,u)=>{i.has(u)||l.getAll(u).forEach(f=>{i.append(u,f)})}),i}var dc=null;function Vx(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var Gx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(n){return n!=null&&!Gx.has(n)?(ba(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):n}function $x(n,l){let i,c,u,f,h;if(Hx(n)){let g=n.getAttribute("action");c=g?mn(g,l):null,i=n.getAttribute("method")||gc,u=nd(n.getAttribute("enctype"))||yc,f=new FormData(n)}else if(qx(n)||Yx(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||g.getAttribute("action");if(c=y?mn(y,l):null,i=n.getAttribute("formmethod")||g.getAttribute("method")||gc,u=nd(n.getAttribute("formenctype"))||nd(g.getAttribute("enctype"))||yc,f=new FormData(g,n),!Vx()){let{name:p,type:v,value:x}=n;if(v==="image"){let w=p?`${p}.`:"";f.append(`${w}x`,"0"),f.append(`${w}y`,"0")}else p&&f.append(p,x)}}else{if(_c(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=gc,c=null,u=yc,h=n}return f&&u==="text/plain"&&(h=f,f=void 0),{action:c,method:i.toLowerCase(),encType:u,formData:f,body:h}}function Td(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}async function Zx(n,l){if(n.id in l)return l[n.id];try{let i=await import(n.module);return l[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Jx(n,l,i){let c=await Promise.all(n.map(async u=>{let f=l.routes[u.route.id];if(f){let h=await Zx(f,i);return h.links?h.links():[]}return[]}));return tb(c.flat(1).filter(Kx).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function zp(n,l,i,c,u,f){let h=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>{var v;return i[p].pathname!==y.pathname||((v=i[p].route.path)==null?void 0:v.endsWith("*"))&&i[p].params["*"]!==y.params["*"]};return f==="assets"?l.filter((y,p)=>h(y,p)||g(y,p)):f==="data"?l.filter((y,p)=>{var x;let v=c.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(h(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((x=i[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Wx(n,l,{includeHydrateFallback:i}={}){return Px(n.map(c=>{let u=l.routes[c.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function Px(n){return[...new Set(n)]}function eb(n){let l={},i=Object.keys(n).sort();for(let c of i)l[c]=n[c];return l}function tb(n,l){let i=new Set;return new Set(l),n.reduce((c,u)=>{let f=JSON.stringify(eb(u));return i.has(f)||(i.add(f),c.push({key:f,link:u})),c},[])}function ab(n,l){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname="_root.data":l&&mn(i.pathname,l)==="/"?i.pathname=`${l.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Ag(){let n=S.useContext(Rl);return Td(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nb(){let n=S.useContext(Rc);return Td(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wd=S.createContext(void 0);wd.displayName="FrameworkContext";function Rg(){let n=S.useContext(wd);return Td(n,"You must render this element inside a <HydratedRouter> element"),n}function sb(n,l){let i=S.useContext(wd),[c,u]=S.useState(!1),[f,h]=S.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=l,w=S.useRef(null);S.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let E=O=>{O.forEach(R=>{h(R.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[n]),S.useEffect(()=>{if(c){let E=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(E)}}},[c]);let A=()=>{u(!0)},N=()=>{u(!1),h(!1)};return i?n!=="intent"?[f,w,{}]:[f,w,{onFocus:Mr(g,A),onBlur:Mr(y,N),onMouseEnter:Mr(p,A),onMouseLeave:Mr(v,N),onTouchStart:Mr(x,A)}]:[!1,w,{}]}function Mr(n,l){return i=>{n&&n(i),i.defaultPrevented||l(i)}}function lb({page:n,...l}){let{router:i}=Ag(),c=S.useMemo(()=>bg(i.routes,n,i.basename),[i.routes,n,i.basename]);return c?S.createElement(ib,{page:n,matches:c,...l}):null}function rb(n){let{manifest:l,routeModules:i}=Rg(),[c,u]=S.useState([]);return S.useEffect(()=>{let f=!1;return Jx(n,l,i).then(h=>{f||u(h)}),()=>{f=!0}},[n,l,i]),c}function ib({page:n,matches:l,...i}){let c=Zt(),{manifest:u,routeModules:f}=Rg(),{basename:h}=Ag(),{loaderData:g,matches:y}=nb(),p=S.useMemo(()=>zp(n,l,y,u,c,"data"),[n,l,y,u,c]),v=S.useMemo(()=>zp(n,l,y,u,c,"assets"),[n,l,y,u,c]),x=S.useMemo(()=>{if(n===c.pathname+c.search+c.hash)return[];let N=new Set,E=!1;if(l.forEach(O=>{var D;let R=u.routes[O.route.id];!R||!R.hasLoader||(!p.some(k=>k.route.id===O.route.id)&&O.route.id in g&&((D=f[O.route.id])!=null&&D.shouldRevalidate)||R.hasClientLoader?E=!0:N.add(O.route.id))}),N.size===0)return[];let C=ab(n,h);return E&&N.size>0&&C.searchParams.set("_routes",l.filter(O=>N.has(O.route.id)).map(O=>O.route.id).join(",")),[C.pathname+C.search]},[h,g,c,u,p,l,n,f]),w=S.useMemo(()=>Wx(v,u),[v,u]),A=rb(v);return S.createElement(S.Fragment,null,x.map(N=>S.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),w.map(N=>S.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),A.map(({key:N,link:E})=>S.createElement("link",{key:N,...E})))}function cb(...n){return l=>{n.forEach(i=>{typeof i=="function"?i(l):i!=null&&(i.current=l)})}}var Dg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dg&&(window.__reactRouterVersion="7.4.0")}catch{}function ob({basename:n,children:l,window:i}){let c=S.useRef();c.current==null&&(c.current=Z0({window:i,v5Compat:!0}));let u=c.current,[f,h]=S.useState({action:u.action,location:u.location}),g=S.useCallback(y=>{S.startTransition(()=>h(y))},[h]);return S.useLayoutEffect(()=>u.listen(g),[u,g]),S.createElement(kx,{basename:n,children:l,location:f.location,navigationType:f.action,navigator:u})}var _g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kr=S.forwardRef(function({onClick:l,discover:i="render",prefetch:c="none",relative:u,reloadDocument:f,replace:h,state:g,target:y,to:p,preventScrollReset:v,viewTransition:x,...w},A){let{basename:N}=S.useContext(Da),E=typeof p=="string"&&_g.test(p),C,O=!1;if(typeof p=="string"&&E&&(C=p,Dg))try{let W=new URL(window.location.href),ae=p.startsWith("//")?new URL(W.protocol+p):new URL(p),te=mn(ae.pathname,N);ae.origin===W.origin&&te!=null?p=te+ae.search+ae.hash:O=!0}catch{ba(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=jx(p,{relative:u}),[D,k,X]=sb(c,w),K=hb(p,{replace:h,state:g,target:y,preventScrollReset:v,relative:u,viewTransition:x});function ce(W){l&&l(W),W.defaultPrevented||K(W)}let fe=S.createElement("a",{...w,...X,href:C||R,onClick:O||f?l:ce,ref:cb(A,k),target:y,"data-discover":!E&&i==="render"?"true":void 0});return D&&!E?S.createElement(S.Fragment,null,fe,S.createElement(lb,{page:R})):fe});kr.displayName="Link";var ub=S.forwardRef(function({"aria-current":l="page",caseSensitive:i=!1,className:c="",end:u=!1,style:f,to:h,viewTransition:g,children:y,...p},v){let x=Vr(h,{relative:p.relative}),w=Zt(),A=S.useContext(Rc),{navigator:N,basename:E}=S.useContext(Da),C=A!=null&&xb(x)&&g===!0,O=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,R=w.pathname,D=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(R=R.toLowerCase(),D=D?D.toLowerCase():null,O=O.toLowerCase()),D&&E&&(D=mn(D,E)||D);const k=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let X=R===O||!u&&R.startsWith(O)&&R.charAt(k)==="/",K=D!=null&&(D===O||!u&&D.startsWith(O)&&D.charAt(O.length)==="/"),ce={isActive:X,isPending:K,isTransitioning:C},fe=X?l:void 0,W;typeof c=="function"?W=c(ce):W=[c,X?"active":null,K?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ae=typeof f=="function"?f(ce):f;return S.createElement(kr,{...p,"aria-current":fe,className:W,ref:v,style:ae,to:h,viewTransition:g},typeof y=="function"?y(ce):y)});ub.displayName="NavLink";var db=S.forwardRef(({discover:n="render",fetcherKey:l,navigate:i,reloadDocument:c,replace:u,state:f,method:h=gc,action:g,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:x,...w},A)=>{let N=yb(),E=vb(g,{relative:p}),C=h.toLowerCase()==="get"?"get":"post",O=typeof g=="string"&&_g.test(g),R=D=>{if(y&&y(D),D.defaultPrevented)return;D.preventDefault();let k=D.nativeEvent.submitter,X=(k==null?void 0:k.getAttribute("formmethod"))||h;N(k||D.currentTarget,{fetcherKey:l,method:X,navigate:i,replace:u,state:f,relative:p,preventScrollReset:v,viewTransition:x})};return S.createElement("form",{ref:A,method:C,action:E,onSubmit:c?y:R,...w,"data-discover":!O&&n==="render"?"true":void 0})});db.displayName="Form";function fb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zg(n){let l=S.useContext(Rl);return Ke(l,fb(n)),l}function hb(n,{target:l,replace:i,state:c,preventScrollReset:u,relative:f,viewTransition:h}={}){let g=Sa(),y=Zt(),p=Vr(n,{relative:f});return S.useCallback(v=>{if(Qx(v,l)){v.preventDefault();let x=i!==void 0?i:Ir(y)===Ir(p);g(n,{replace:x,state:c,preventScrollReset:u,relative:f,viewTransition:h})}},[y,g,p,i,c,l,n,u,f,h])}function mb(n){ba(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let l=S.useRef(ud(n)),i=S.useRef(!1),c=Zt(),u=S.useMemo(()=>Xx(c.search,i.current?null:l.current),[c.search]),f=Sa(),h=S.useCallback((g,y)=>{const p=ud(typeof g=="function"?g(u):g);i.current=!0,f("?"+p,y)},[f,u]);return[u,h]}var pb=0,gb=()=>`__${String(++pb)}__`;function yb(){let{router:n}=zg("useSubmit"),{basename:l}=S.useContext(Da),i=Mx();return S.useCallback(async(c,u={})=>{let{action:f,method:h,encType:g,formData:y,body:p}=$x(c,l);if(u.navigate===!1){let v=u.fetcherKey||gb();await n.fetch(v,i,u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||h,formEncType:u.encType||g,flushSync:u.flushSync})}else await n.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||h,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:i,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,l,i])}function vb(n,{relative:l}={}){let{basename:i}=S.useContext(Da),c=S.useContext(ja);Ke(c,"useFormAction must be used inside a RouteContext");let[u]=c.matches.slice(-1),f={...Vr(n||".",{relative:l})},h=Zt();if(n==null){f.search=h.search;let g=new URLSearchParams(f.search),y=g.getAll("index");if(y.some(v=>v==="")){g.delete("index"),y.filter(x=>x).forEach(x=>g.append("index",x));let v=g.toString();f.search=v?`?${v}`:""}}return(!n||n===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:fn([i,f.pathname])),Ir(f)}function xb(n,l={}){let i=S.useContext(Eg);Ke(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=zg("useViewTransitionState"),u=Vr(n,{relative:l.relative});if(!i.isTransitioning)return!1;let f=mn(i.currentLocation.pathname,c)||i.currentLocation.pathname,h=mn(i.nextLocation.pathname,c)||i.nextLocation.pathname;return Nc(u.pathname,h)!=null||Nc(u.pathname,f)!=null}new TextEncoder;/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mg=(...n)=>n.filter((l,i,c)=>!!l&&l.trim()!==""&&c.indexOf(l)===i).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=S.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:u="",children:f,iconNode:h,...g},y)=>S.createElement("svg",{ref:y,...jb,width:l,height:l,stroke:n,strokeWidth:c?Number(i)*24/Number(l):i,className:Mg("lucide",u),...g},[...h.map(([p,v])=>S.createElement(p,v)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(n,l)=>{const i=S.forwardRef(({className:c,...u},f)=>S.createElement(Sb,{ref:f,iconNode:l,className:Mg(`lucide-${bb(n)}`,c),...u}));return i.displayName=`${n}`,i};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ta=ke("ArrowLeft",Nb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Lg=ke("Award",Eb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ug=ke("BookOpen",Tb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],st=ke("Calendar",wb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mp=ke("Check",Cb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vt=ke("ChevronDown",Ob);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gt=ke("ChevronUp",Ab);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Db=ke("CircleAlert",Rb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Br=ke("Clock",_b);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Lp=ke("Copy",zb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Lb=ke("EyeOff",Mb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$r=ke("Eye",Ub);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cd=ke("Funnel",Ib);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ig=ke("GraduationCap",kb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qb=ke("House",Bb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yb=ke("Lock",Hb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Qb=ke("LogOut",Fb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Cs=ke("Mail",Xb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zr=ke("MapPin",Vb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],$b=ke("MessageSquare",Gb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],kg=ke("Moon",Zb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],qt=ke("Music",Kb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],qr=ke("Phone",Jb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_l=ke("Plus",Wb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yl=ke("RefreshCw",Pb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],t1=ke("Repeat",e1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Tc=ke("Search",a1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Up=ke("Send",n1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],As=ke("SquarePen",s1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Bg=ke("Sun",l1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zc=ke("Trash2",r1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qa=ke("User",i1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Kr=ke("Users",c1);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aa=ke("X",o1);var Jr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mc=typeof window>"u"||"Deno"in globalThis;function Oa(){}function u1(n,l){return typeof n=="function"?n(l):n}function d1(n){return typeof n=="number"&&n>=0&&n!==1/0}function f1(n,l){return Math.max(n+(l||0)-Date.now(),0)}function Ip(n,l){return typeof n=="function"?n(l):n}function h1(n,l){return typeof n=="function"?n(l):n}function kp(n,l){const{type:i="all",exact:c,fetchStatus:u,predicate:f,queryKey:h,stale:g}=n;if(h){if(c){if(l.queryHash!==Od(h,l.options))return!1}else if(!Hr(l.queryKey,h))return!1}if(i!=="all"){const y=l.isActive();if(i==="active"&&!y||i==="inactive"&&y)return!1}return!(typeof g=="boolean"&&l.isStale()!==g||u&&u!==l.state.fetchStatus||f&&!f(l))}function Bp(n,l){const{exact:i,status:c,predicate:u,mutationKey:f}=n;if(f){if(!l.options.mutationKey)return!1;if(i){if(Rs(l.options.mutationKey)!==Rs(f))return!1}else if(!Hr(l.options.mutationKey,f))return!1}return!(c&&l.state.status!==c||u&&!u(l))}function Od(n,l){return((l==null?void 0:l.queryKeyHashFn)||Rs)(n)}function Rs(n){return JSON.stringify(n,(l,i)=>dd(i)?Object.keys(i).sort().reduce((c,u)=>(c[u]=i[u],c),{}):i)}function Hr(n,l){return n===l?!0:typeof n!=typeof l?!1:n&&l&&typeof n=="object"&&typeof l=="object"?!Object.keys(l).some(i=>!Hr(n[i],l[i])):!1}function qg(n,l){if(n===l)return n;const i=qp(n)&&qp(l);if(i||dd(n)&&dd(l)){const c=i?n:Object.keys(n),u=c.length,f=i?l:Object.keys(l),h=f.length,g=i?[]:{};let y=0;for(let p=0;p<h;p++){const v=i?p:f[p];(!i&&c.includes(v)||i)&&n[v]===void 0&&l[v]===void 0?(g[v]=void 0,y++):(g[v]=qg(n[v],l[v]),g[v]===n[v]&&n[v]!==void 0&&y++)}return u===h&&y===u?n:g}return l}function m1(n,l){if(!l||Object.keys(n).length!==Object.keys(l).length)return!1;for(const i in n)if(n[i]!==l[i])return!1;return!0}function qp(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function dd(n){if(!Hp(n))return!1;const l=n.constructor;if(l===void 0)return!0;const i=l.prototype;return!(!Hp(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Hp(n){return Object.prototype.toString.call(n)==="[object Object]"}function p1(n){return new Promise(l=>{setTimeout(l,n)})}function g1(n,l,i){return typeof i.structuralSharing=="function"?i.structuralSharing(n,l):i.structuralSharing!==!1?qg(n,l):l}function y1(n,l,i=0){const c=[...n,l];return i&&c.length>i?c.slice(1):c}function v1(n,l,i=0){const c=[l,...n];return i&&c.length>i?c.slice(0,-1):c}var Ad=Symbol();function Hg(n,l){return!n.queryFn&&(l!=null&&l.initialPromise)?()=>l.initialPromise:!n.queryFn||n.queryFn===Ad?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Ss,Hn,xl,dg,x1=(dg=class extends Jr{constructor(){super();ze(this,Ss);ze(this,Hn);ze(this,xl);Se(this,xl,l=>{if(!Mc&&window.addEventListener){const i=()=>l();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){F(this,Hn)||this.setEventListener(F(this,xl))}onUnsubscribe(){var l;this.hasListeners()||((l=F(this,Hn))==null||l.call(this),Se(this,Hn,void 0))}setEventListener(l){var i;Se(this,xl,l),(i=F(this,Hn))==null||i.call(this),Se(this,Hn,l(c=>{typeof c=="boolean"?this.setFocused(c):this.onFocus()}))}setFocused(l){F(this,Ss)!==l&&(Se(this,Ss,l),this.onFocus())}onFocus(){const l=this.isFocused();this.listeners.forEach(i=>{i(l)})}isFocused(){var l;return typeof F(this,Ss)=="boolean"?F(this,Ss):((l=globalThis.document)==null?void 0:l.visibilityState)!=="hidden"}},Ss=new WeakMap,Hn=new WeakMap,xl=new WeakMap,dg),Yg=new x1,bl,Yn,jl,fg,b1=(fg=class extends Jr{constructor(){super();ze(this,bl,!0);ze(this,Yn);ze(this,jl);Se(this,jl,l=>{if(!Mc&&window.addEventListener){const i=()=>l(!0),c=()=>l(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",c,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",c)}}})}onSubscribe(){F(this,Yn)||this.setEventListener(F(this,jl))}onUnsubscribe(){var l;this.hasListeners()||((l=F(this,Yn))==null||l.call(this),Se(this,Yn,void 0))}setEventListener(l){var i;Se(this,jl,l),(i=F(this,Yn))==null||i.call(this),Se(this,Yn,l(this.setOnline.bind(this)))}setOnline(l){F(this,bl)!==l&&(Se(this,bl,l),this.listeners.forEach(c=>{c(l)}))}isOnline(){return F(this,bl)}},bl=new WeakMap,Yn=new WeakMap,jl=new WeakMap,fg),wc=new b1;function j1(){let n,l;const i=new Promise((u,f)=>{n=u,l=f});i.status="pending",i.catch(()=>{});function c(u){Object.assign(i,u),delete i.resolve,delete i.reject}return i.resolve=u=>{c({status:"fulfilled",value:u}),n(u)},i.reject=u=>{c({status:"rejected",reason:u}),l(u)},i}function S1(n){return Math.min(1e3*2**n,3e4)}function Fg(n){return(n??"online")==="online"?wc.isOnline():!0}var Qg=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function sd(n){return n instanceof Qg}function Xg(n){let l=!1,i=0,c=!1,u;const f=j1(),h=E=>{var C;c||(w(new Qg(E)),(C=n.abort)==null||C.call(n))},g=()=>{l=!0},y=()=>{l=!1},p=()=>Yg.isFocused()&&(n.networkMode==="always"||wc.isOnline())&&n.canRun(),v=()=>Fg(n.networkMode)&&n.canRun(),x=E=>{var C;c||(c=!0,(C=n.onSuccess)==null||C.call(n,E),u==null||u(),f.resolve(E))},w=E=>{var C;c||(c=!0,(C=n.onError)==null||C.call(n,E),u==null||u(),f.reject(E))},A=()=>new Promise(E=>{var C;u=O=>{(c||p())&&E(O)},(C=n.onPause)==null||C.call(n)}).then(()=>{var E;u=void 0,c||(E=n.onContinue)==null||E.call(n)}),N=()=>{if(c)return;let E;const C=i===0?n.initialPromise:void 0;try{E=C??n.fn()}catch(O){E=Promise.reject(O)}Promise.resolve(E).then(x).catch(O=>{var K;if(c)return;const R=n.retry??(Mc?0:3),D=n.retryDelay??S1,k=typeof D=="function"?D(i,O):D,X=R===!0||typeof R=="number"&&i<R||typeof R=="function"&&R(i,O);if(l||!X){w(O);return}i++,(K=n.onFail)==null||K.call(n,i,O),p1(k).then(()=>p()?void 0:A()).then(()=>{l?w(O):N()})})};return{promise:f,cancel:h,continue:()=>(u==null||u(),f),cancelRetry:g,continueRetry:y,canStart:v,start:()=>(v()?N():A().then(N),f)}}function N1(){let n=[],l=0,i=g=>{g()},c=g=>{g()},u=g=>setTimeout(g,0);const f=g=>{l?n.push(g):u(()=>{i(g)})},h=()=>{const g=n;n=[],g.length&&u(()=>{c(()=>{g.forEach(y=>{i(y)})})})};return{batch:g=>{let y;l++;try{y=g()}finally{l--,l||h()}return y},batchCalls:g=>(...y)=>{f(()=>{g(...y)})},schedule:f,setNotifyFunction:g=>{i=g},setBatchNotifyFunction:g=>{c=g},setScheduler:g=>{u=g}}}var Rt=N1(),Ns,hg,Vg=(hg=class{constructor(){ze(this,Ns)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),d1(this.gcTime)&&Se(this,Ns,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Mc?1/0:5*60*1e3))}clearGcTimeout(){F(this,Ns)&&(clearTimeout(F(this,Ns)),Se(this,Ns,void 0))}},Ns=new WeakMap,hg),Sl,Nl,xa,Es,Lt,Fr,Ts,Aa,on,mg,E1=(mg=class extends Vg{constructor(l){super();ze(this,Aa);ze(this,Sl);ze(this,Nl);ze(this,xa);ze(this,Es);ze(this,Lt);ze(this,Fr);ze(this,Ts);Se(this,Ts,!1),Se(this,Fr,l.defaultOptions),this.setOptions(l.options),this.observers=[],Se(this,Es,l.client),Se(this,xa,F(this,Es).getQueryCache()),this.queryKey=l.queryKey,this.queryHash=l.queryHash,Se(this,Sl,w1(this.options)),this.state=l.state??F(this,Sl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var l;return(l=F(this,Lt))==null?void 0:l.promise}setOptions(l){this.options={...F(this,Fr),...l},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,xa).remove(this)}setData(l,i){const c=g1(this.state.data,l,this.options);return ct(this,Aa,on).call(this,{data:c,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),c}setState(l,i){ct(this,Aa,on).call(this,{type:"setState",state:l,setStateOptions:i})}cancel(l){var c,u;const i=(c=F(this,Lt))==null?void 0:c.promise;return(u=F(this,Lt))==null||u.cancel(l),i?i.then(Oa).catch(Oa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Sl))}isActive(){return this.observers.some(l=>h1(l.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ad||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(l=>l.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(l=0){return this.state.isInvalidated||this.state.data===void 0||!f1(this.state.dataUpdatedAt,l)}onFocus(){var i;const l=this.observers.find(c=>c.shouldFetchOnWindowFocus());l==null||l.refetch({cancelRefetch:!1}),(i=F(this,Lt))==null||i.continue()}onOnline(){var i;const l=this.observers.find(c=>c.shouldFetchOnReconnect());l==null||l.refetch({cancelRefetch:!1}),(i=F(this,Lt))==null||i.continue()}addObserver(l){this.observers.includes(l)||(this.observers.push(l),this.clearGcTimeout(),F(this,xa).notify({type:"observerAdded",query:this,observer:l}))}removeObserver(l){this.observers.includes(l)&&(this.observers=this.observers.filter(i=>i!==l),this.observers.length||(F(this,Lt)&&(F(this,Ts)?F(this,Lt).cancel({revert:!0}):F(this,Lt).cancelRetry()),this.scheduleGc()),F(this,xa).notify({type:"observerRemoved",query:this,observer:l}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,Aa,on).call(this,{type:"invalidate"})}fetch(l,i){var y,p,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(F(this,Lt))return F(this,Lt).continueRetry(),F(this,Lt).promise}if(l&&this.setOptions(l),!this.options.queryFn){const x=this.observers.find(w=>w.options.queryFn);x&&this.setOptions(x.options)}const c=new AbortController,u=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(Se(this,Ts,!0),c.signal)})},f=()=>{const x=Hg(this.options,i),w={client:F(this,Es),queryKey:this.queryKey,meta:this.meta};return u(w),Se(this,Ts,!1),this.options.persister?this.options.persister(x,w,this):x(w)},h={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:F(this,Es),state:this.state,fetchFn:f};u(h),(y=this.options.behavior)==null||y.onFetch(h,this),Se(this,Nl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=h.fetchOptions)==null?void 0:p.meta))&&ct(this,Aa,on).call(this,{type:"fetch",meta:(v=h.fetchOptions)==null?void 0:v.meta});const g=x=>{var w,A,N,E;sd(x)&&x.silent||ct(this,Aa,on).call(this,{type:"error",error:x}),sd(x)||((A=(w=F(this,xa).config).onError)==null||A.call(w,x,this),(E=(N=F(this,xa).config).onSettled)==null||E.call(N,this.state.data,x,this)),this.scheduleGc()};return Se(this,Lt,Xg({initialPromise:i==null?void 0:i.initialPromise,fn:h.fetchFn,abort:c.abort.bind(c),onSuccess:x=>{var w,A,N,E;if(x===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(x)}catch(C){g(C);return}(A=(w=F(this,xa).config).onSuccess)==null||A.call(w,x,this),(E=(N=F(this,xa).config).onSettled)==null||E.call(N,x,this.state.error,this),this.scheduleGc()},onError:g,onFail:(x,w)=>{ct(this,Aa,on).call(this,{type:"failed",failureCount:x,error:w})},onPause:()=>{ct(this,Aa,on).call(this,{type:"pause"})},onContinue:()=>{ct(this,Aa,on).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),F(this,Lt).start()}},Sl=new WeakMap,Nl=new WeakMap,xa=new WeakMap,Es=new WeakMap,Lt=new WeakMap,Fr=new WeakMap,Ts=new WeakMap,Aa=new WeakSet,on=function(l){const i=c=>{switch(l.type){case"failed":return{...c,fetchFailureCount:l.failureCount,fetchFailureReason:l.error};case"pause":return{...c,fetchStatus:"paused"};case"continue":return{...c,fetchStatus:"fetching"};case"fetch":return{...c,...T1(c.data,this.options),fetchMeta:l.meta??null};case"success":return{...c,data:l.data,dataUpdateCount:c.dataUpdateCount+1,dataUpdatedAt:l.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!l.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=l.error;return sd(u)&&u.revert&&F(this,Nl)?{...F(this,Nl),fetchStatus:"idle"}:{...c,error:u,errorUpdateCount:c.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:c.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...c,isInvalidated:!0};case"setState":return{...c,...l.state}}};this.state=i(this.state),Rt.batch(()=>{this.observers.forEach(c=>{c.onQueryUpdate()}),F(this,xa).notify({query:this,type:"updated",action:l})})},mg);function T1(n,l){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fg(l.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function w1(n){const l=typeof n.initialData=="function"?n.initialData():n.initialData,i=l!==void 0,c=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:l,dataUpdateCount:0,dataUpdatedAt:i?c??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var Ha,pg,C1=(pg=class extends Jr{constructor(l={}){super();ze(this,Ha);this.config=l,Se(this,Ha,new Map)}build(l,i,c){const u=i.queryKey,f=i.queryHash??Od(u,i);let h=this.get(f);return h||(h=new E1({client:l,queryKey:u,queryHash:f,options:l.defaultQueryOptions(i),state:c,defaultOptions:l.getQueryDefaults(u)}),this.add(h)),h}add(l){F(this,Ha).has(l.queryHash)||(F(this,Ha).set(l.queryHash,l),this.notify({type:"added",query:l}))}remove(l){const i=F(this,Ha).get(l.queryHash);i&&(l.destroy(),i===l&&F(this,Ha).delete(l.queryHash),this.notify({type:"removed",query:l}))}clear(){Rt.batch(()=>{this.getAll().forEach(l=>{this.remove(l)})})}get(l){return F(this,Ha).get(l)}getAll(){return[...F(this,Ha).values()]}find(l){const i={exact:!0,...l};return this.getAll().find(c=>kp(i,c))}findAll(l={}){const i=this.getAll();return Object.keys(l).length>0?i.filter(c=>kp(l,c)):i}notify(l){Rt.batch(()=>{this.listeners.forEach(i=>{i(l)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(l=>{l.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(l=>{l.onOnline()})})}},Ha=new WeakMap,pg),Ya,Bt,ws,Fa,Bn,gg,O1=(gg=class extends Vg{constructor(l){super();ze(this,Fa);ze(this,Ya);ze(this,Bt);ze(this,ws);this.mutationId=l.mutationId,Se(this,Bt,l.mutationCache),Se(this,Ya,[]),this.state=l.state||Gg(),this.setOptions(l.options),this.scheduleGc()}setOptions(l){this.options=l,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(l){F(this,Ya).includes(l)||(F(this,Ya).push(l),this.clearGcTimeout(),F(this,Bt).notify({type:"observerAdded",mutation:this,observer:l}))}removeObserver(l){Se(this,Ya,F(this,Ya).filter(i=>i!==l)),this.scheduleGc(),F(this,Bt).notify({type:"observerRemoved",mutation:this,observer:l})}optionalRemove(){F(this,Ya).length||(this.state.status==="pending"?this.scheduleGc():F(this,Bt).remove(this))}continue(){var l;return((l=F(this,ws))==null?void 0:l.continue())??this.execute(this.state.variables)}async execute(l){var u,f,h,g,y,p,v,x,w,A,N,E,C,O,R,D,k,X,K,ce;Se(this,ws,Xg({fn:()=>this.options.mutationFn?this.options.mutationFn(l):Promise.reject(new Error("No mutationFn found")),onFail:(fe,W)=>{ct(this,Fa,Bn).call(this,{type:"failed",failureCount:fe,error:W})},onPause:()=>{ct(this,Fa,Bn).call(this,{type:"pause"})},onContinue:()=>{ct(this,Fa,Bn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Bt).canRun(this)}));const i=this.state.status==="pending",c=!F(this,ws).canStart();try{if(!i){ct(this,Fa,Bn).call(this,{type:"pending",variables:l,isPaused:c}),await((f=(u=F(this,Bt).config).onMutate)==null?void 0:f.call(u,l,this));const W=await((g=(h=this.options).onMutate)==null?void 0:g.call(h,l));W!==this.state.context&&ct(this,Fa,Bn).call(this,{type:"pending",context:W,variables:l,isPaused:c})}const fe=await F(this,ws).start();return await((p=(y=F(this,Bt).config).onSuccess)==null?void 0:p.call(y,fe,l,this.state.context,this)),await((x=(v=this.options).onSuccess)==null?void 0:x.call(v,fe,l,this.state.context)),await((A=(w=F(this,Bt).config).onSettled)==null?void 0:A.call(w,fe,null,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,fe,null,l,this.state.context)),ct(this,Fa,Bn).call(this,{type:"success",data:fe}),fe}catch(fe){try{throw await((O=(C=F(this,Bt).config).onError)==null?void 0:O.call(C,fe,l,this.state.context,this)),await((D=(R=this.options).onError)==null?void 0:D.call(R,fe,l,this.state.context)),await((X=(k=F(this,Bt).config).onSettled)==null?void 0:X.call(k,void 0,fe,this.state.variables,this.state.context,this)),await((ce=(K=this.options).onSettled)==null?void 0:ce.call(K,void 0,fe,l,this.state.context)),fe}finally{ct(this,Fa,Bn).call(this,{type:"error",error:fe})}}finally{F(this,Bt).runNext(this)}}},Ya=new WeakMap,Bt=new WeakMap,ws=new WeakMap,Fa=new WeakSet,Bn=function(l){const i=c=>{switch(l.type){case"failed":return{...c,failureCount:l.failureCount,failureReason:l.error};case"pause":return{...c,isPaused:!0};case"continue":return{...c,isPaused:!1};case"pending":return{...c,context:l.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:l.isPaused,status:"pending",variables:l.variables,submittedAt:Date.now()};case"success":return{...c,data:l.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...c,data:void 0,error:l.error,failureCount:c.failureCount+1,failureReason:l.error,isPaused:!1,status:"error"}}};this.state=i(this.state),Rt.batch(()=>{F(this,Ya).forEach(c=>{c.onMutationUpdate(l)}),F(this,Bt).notify({mutation:this,type:"updated",action:l})})},gg);function Gg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,Ra,Qr,yg,A1=(yg=class extends Jr{constructor(l={}){super();ze(this,un);ze(this,Ra);ze(this,Qr);this.config=l,Se(this,un,new Set),Se(this,Ra,new Map),Se(this,Qr,0)}build(l,i,c){const u=new O1({mutationCache:this,mutationId:++uc(this,Qr)._,options:l.defaultMutationOptions(i),state:c});return this.add(u),u}add(l){F(this,un).add(l);const i=fc(l);if(typeof i=="string"){const c=F(this,Ra).get(i);c?c.push(l):F(this,Ra).set(i,[l])}this.notify({type:"added",mutation:l})}remove(l){if(F(this,un).delete(l)){const i=fc(l);if(typeof i=="string"){const c=F(this,Ra).get(i);if(c)if(c.length>1){const u=c.indexOf(l);u!==-1&&c.splice(u,1)}else c[0]===l&&F(this,Ra).delete(i)}}this.notify({type:"removed",mutation:l})}canRun(l){const i=fc(l);if(typeof i=="string"){const c=F(this,Ra).get(i),u=c==null?void 0:c.find(f=>f.state.status==="pending");return!u||u===l}else return!0}runNext(l){var c;const i=fc(l);if(typeof i=="string"){const u=(c=F(this,Ra).get(i))==null?void 0:c.find(f=>f!==l&&f.state.isPaused);return(u==null?void 0:u.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rt.batch(()=>{F(this,un).forEach(l=>{this.notify({type:"removed",mutation:l})}),F(this,un).clear(),F(this,Ra).clear()})}getAll(){return Array.from(F(this,un))}find(l){const i={exact:!0,...l};return this.getAll().find(c=>Bp(i,c))}findAll(l={}){return this.getAll().filter(i=>Bp(l,i))}notify(l){Rt.batch(()=>{this.listeners.forEach(i=>{i(l)})})}resumePausedMutations(){const l=this.getAll().filter(i=>i.state.isPaused);return Rt.batch(()=>Promise.all(l.map(i=>i.continue().catch(Oa))))}},un=new WeakMap,Ra=new WeakMap,Qr=new WeakMap,yg);function fc(n){var l;return(l=n.options.scope)==null?void 0:l.id}function Yp(n){return{onFetch:(l,i)=>{var v,x,w,A,N;const c=l.options,u=(w=(x=(v=l.fetchOptions)==null?void 0:v.meta)==null?void 0:x.fetchMore)==null?void 0:w.direction,f=((A=l.state.data)==null?void 0:A.pages)||[],h=((N=l.state.data)==null?void 0:N.pageParams)||[];let g={pages:[],pageParams:[]},y=0;const p=async()=>{let E=!1;const C=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(l.signal.aborted?E=!0:l.signal.addEventListener("abort",()=>{E=!0}),l.signal)})},O=Hg(l.options,l.fetchOptions),R=async(D,k,X)=>{if(E)return Promise.reject();if(k==null&&D.pages.length)return Promise.resolve(D);const K={client:l.client,queryKey:l.queryKey,pageParam:k,direction:X?"backward":"forward",meta:l.options.meta};C(K);const ce=await O(K),{maxPages:fe}=l.options,W=X?v1:y1;return{pages:W(D.pages,ce,fe),pageParams:W(D.pageParams,k,fe)}};if(u&&f.length){const D=u==="backward",k=D?R1:Fp,X={pages:f,pageParams:h},K=k(c,X);g=await R(X,K,D)}else{const D=n??f.length;do{const k=y===0?h[0]??c.initialPageParam:Fp(c,g);if(y>0&&k==null)break;g=await R(g,k),y++}while(y<D)}return g};l.options.persister?l.fetchFn=()=>{var E,C;return(C=(E=l.options).persister)==null?void 0:C.call(E,p,{client:l.client,queryKey:l.queryKey,meta:l.options.meta,signal:l.signal},i)}:l.fetchFn=p}}}function Fp(n,{pages:l,pageParams:i}){const c=l.length-1;return l.length>0?n.getNextPageParam(l[c],l,i[c],i):void 0}function R1(n,{pages:l,pageParams:i}){var c;return l.length>0?(c=n.getPreviousPageParam)==null?void 0:c.call(n,l[0],l,i[0],i):void 0}var at,Fn,Qn,El,Tl,Xn,wl,Cl,vg,D1=(vg=class{constructor(n={}){ze(this,at);ze(this,Fn);ze(this,Qn);ze(this,El);ze(this,Tl);ze(this,Xn);ze(this,wl);ze(this,Cl);Se(this,at,n.queryCache||new C1),Se(this,Fn,n.mutationCache||new A1),Se(this,Qn,n.defaultOptions||{}),Se(this,El,new Map),Se(this,Tl,new Map),Se(this,Xn,0)}mount(){uc(this,Xn)._++,F(this,Xn)===1&&(Se(this,wl,Yg.subscribe(async n=>{n&&(await this.resumePausedMutations(),F(this,at).onFocus())})),Se(this,Cl,wc.subscribe(async n=>{n&&(await this.resumePausedMutations(),F(this,at).onOnline())})))}unmount(){var n,l;uc(this,Xn)._--,F(this,Xn)===0&&((n=F(this,wl))==null||n.call(this),Se(this,wl,void 0),(l=F(this,Cl))==null||l.call(this),Se(this,Cl,void 0))}isFetching(n){return F(this,at).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return F(this,Fn).findAll({...n,status:"pending"}).length}getQueryData(n){var i;const l=this.defaultQueryOptions({queryKey:n});return(i=F(this,at).get(l.queryHash))==null?void 0:i.state.data}ensureQueryData(n){const l=this.defaultQueryOptions(n),i=F(this,at).build(this,l),c=i.state.data;return c===void 0?this.fetchQuery(n):(n.revalidateIfStale&&i.isStaleByTime(Ip(l.staleTime,i))&&this.prefetchQuery(l),Promise.resolve(c))}getQueriesData(n){return F(this,at).findAll(n).map(({queryKey:l,state:i})=>{const c=i.data;return[l,c]})}setQueryData(n,l,i){const c=this.defaultQueryOptions({queryKey:n}),u=F(this,at).get(c.queryHash),f=u==null?void 0:u.state.data,h=u1(l,f);if(h!==void 0)return F(this,at).build(this,c).setData(h,{...i,manual:!0})}setQueriesData(n,l,i){return Rt.batch(()=>F(this,at).findAll(n).map(({queryKey:c})=>[c,this.setQueryData(c,l,i)]))}getQueryState(n){var i;const l=this.defaultQueryOptions({queryKey:n});return(i=F(this,at).get(l.queryHash))==null?void 0:i.state}removeQueries(n){const l=F(this,at);Rt.batch(()=>{l.findAll(n).forEach(i=>{l.remove(i)})})}resetQueries(n,l){const i=F(this,at);return Rt.batch(()=>(i.findAll(n).forEach(c=>{c.reset()}),this.refetchQueries({type:"active",...n},l)))}cancelQueries(n,l={}){const i={revert:!0,...l},c=Rt.batch(()=>F(this,at).findAll(n).map(u=>u.cancel(i)));return Promise.all(c).then(Oa).catch(Oa)}invalidateQueries(n,l={}){return Rt.batch(()=>(F(this,at).findAll(n).forEach(i=>{i.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},l)))}refetchQueries(n,l={}){const i={...l,cancelRefetch:l.cancelRefetch??!0},c=Rt.batch(()=>F(this,at).findAll(n).filter(u=>!u.isDisabled()).map(u=>{let f=u.fetch(void 0,i);return i.throwOnError||(f=f.catch(Oa)),u.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(c).then(Oa)}fetchQuery(n){const l=this.defaultQueryOptions(n);l.retry===void 0&&(l.retry=!1);const i=F(this,at).build(this,l);return i.isStaleByTime(Ip(l.staleTime,i))?i.fetch(l):Promise.resolve(i.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Oa).catch(Oa)}fetchInfiniteQuery(n){return n.behavior=Yp(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Oa).catch(Oa)}ensureInfiniteQueryData(n){return n.behavior=Yp(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return wc.isOnline()?F(this,Fn).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,at)}getMutationCache(){return F(this,Fn)}getDefaultOptions(){return F(this,Qn)}setDefaultOptions(n){Se(this,Qn,n)}setQueryDefaults(n,l){F(this,El).set(Rs(n),{queryKey:n,defaultOptions:l})}getQueryDefaults(n){const l=[...F(this,El).values()],i={};return l.forEach(c=>{Hr(n,c.queryKey)&&Object.assign(i,c.defaultOptions)}),i}setMutationDefaults(n,l){F(this,Tl).set(Rs(n),{mutationKey:n,defaultOptions:l})}getMutationDefaults(n){const l=[...F(this,Tl).values()],i={};return l.forEach(c=>{Hr(n,c.mutationKey)&&Object.assign(i,c.defaultOptions)}),i}defaultQueryOptions(n){if(n._defaulted)return n;const l={...F(this,Qn).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return l.queryHash||(l.queryHash=Od(l.queryKey,l)),l.refetchOnReconnect===void 0&&(l.refetchOnReconnect=l.networkMode!=="always"),l.throwOnError===void 0&&(l.throwOnError=!!l.suspense),!l.networkMode&&l.persister&&(l.networkMode="offlineFirst"),l.queryFn===Ad&&(l.enabled=!1),l}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...F(this,Qn).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){F(this,at).clear(),F(this,Fn).clear()}},at=new WeakMap,Fn=new WeakMap,Qn=new WeakMap,El=new WeakMap,Tl=new WeakMap,Xn=new WeakMap,wl=new WeakMap,Cl=new WeakMap,vg),Vn,Gn,Qt,dn,hn,vc,fd,xg,_1=(xg=class extends Jr{constructor(i,c){super();ze(this,hn);ze(this,Vn);ze(this,Gn);ze(this,Qt);ze(this,dn);Se(this,Vn,i),this.setOptions(c),this.bindMethods(),ct(this,hn,vc).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){var u;const c=this.options;this.options=F(this,Vn).defaultMutationOptions(i),m1(this.options,c)||F(this,Vn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Qt),observer:this}),c!=null&&c.mutationKey&&this.options.mutationKey&&Rs(c.mutationKey)!==Rs(this.options.mutationKey)?this.reset():((u=F(this,Qt))==null?void 0:u.state.status)==="pending"&&F(this,Qt).setOptions(this.options)}onUnsubscribe(){var i;this.hasListeners()||(i=F(this,Qt))==null||i.removeObserver(this)}onMutationUpdate(i){ct(this,hn,vc).call(this),ct(this,hn,fd).call(this,i)}getCurrentResult(){return F(this,Gn)}reset(){var i;(i=F(this,Qt))==null||i.removeObserver(this),Se(this,Qt,void 0),ct(this,hn,vc).call(this),ct(this,hn,fd).call(this)}mutate(i,c){var u;return Se(this,dn,c),(u=F(this,Qt))==null||u.removeObserver(this),Se(this,Qt,F(this,Vn).getMutationCache().build(F(this,Vn),this.options)),F(this,Qt).addObserver(this),F(this,Qt).execute(i)}},Vn=new WeakMap,Gn=new WeakMap,Qt=new WeakMap,dn=new WeakMap,hn=new WeakSet,vc=function(){var c;const i=((c=F(this,Qt))==null?void 0:c.state)??Gg();Se(this,Gn,{...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset})},fd=function(i){Rt.batch(()=>{var c,u,f,h,g,y,p,v;if(F(this,dn)&&this.hasListeners()){const x=F(this,Gn).variables,w=F(this,Gn).context;(i==null?void 0:i.type)==="success"?((u=(c=F(this,dn)).onSuccess)==null||u.call(c,i.data,x,w),(h=(f=F(this,dn)).onSettled)==null||h.call(f,i.data,null,x,w)):(i==null?void 0:i.type)==="error"&&((y=(g=F(this,dn)).onError)==null||y.call(g,i.error,x,w),(v=(p=F(this,dn)).onSettled)==null||v.call(p,void 0,i.error,x,w))}this.listeners.forEach(x=>{x(F(this,Gn))})})},xg),$g=S.createContext(void 0),Zg=n=>{const l=S.useContext($g);if(!l)throw new Error("No QueryClient set, use QueryClientProvider to set one");return l},z1=({client:n,children:l})=>(S.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),r.jsx($g.Provider,{value:n,children:l}));function M1(n,l){return typeof n=="function"?n(...l):!!n}function L1(){}function Qp(n,l){const i=Zg(),[c]=S.useState(()=>new _1(i,n));S.useEffect(()=>{c.setOptions(n)},[c,n]);const u=S.useSyncExternalStore(S.useCallback(h=>c.subscribe(Rt.batchCalls(h)),[c]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f=S.useCallback((h,g)=>{c.mutate(h,g).catch(L1)},[c]);if(u.error&&M1(c.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:f,mutateAsync:u.mutate}}const Xp=n=>{let l;const i=new Set,c=(p,v)=>{const x=typeof p=="function"?p(l):p;if(!Object.is(x,l)){const w=l;l=v??(typeof x!="object"||x===null)?x:Object.assign({},l,x),i.forEach(A=>A(l,w))}},u=()=>l,g={setState:c,getState:u,getInitialState:()=>y,subscribe:p=>(i.add(p),()=>i.delete(p))},y=l=n(c,u,g);return g},U1=n=>n?Xp(n):Xp,I1=n=>n;function k1(n,l=I1){const i=jp.useSyncExternalStore(n.subscribe,()=>l(n.getState()),()=>l(n.getInitialState()));return jp.useDebugValue(i),i}const Vp=n=>{const l=U1(n),i=c=>k1(l,c);return Object.assign(i,l),i},zl=n=>n?Vp(n):Vp;function Kg(n,l){return function(){return n.apply(l,arguments)}}const{toString:B1}=Object.prototype,{getPrototypeOf:Rd}=Object,Lc=(n=>l=>{const i=B1.call(l);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),_a=n=>(n=n.toLowerCase(),l=>Lc(l)===n),Uc=n=>l=>typeof l===n,{isArray:Ml}=Array,Yr=Uc("undefined");function q1(n){return n!==null&&!Yr(n)&&n.constructor!==null&&!Yr(n.constructor)&&na(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Jg=_a("ArrayBuffer");function H1(n){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(n):l=n&&n.buffer&&Jg(n.buffer),l}const Y1=Uc("string"),na=Uc("function"),Wg=Uc("number"),Ic=n=>n!==null&&typeof n=="object",F1=n=>n===!0||n===!1,xc=n=>{if(Lc(n)!=="object")return!1;const l=Rd(n);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Q1=_a("Date"),X1=_a("File"),V1=_a("Blob"),G1=_a("FileList"),$1=n=>Ic(n)&&na(n.pipe),Z1=n=>{let l;return n&&(typeof FormData=="function"&&n instanceof FormData||na(n.append)&&((l=Lc(n))==="formdata"||l==="object"&&na(n.toString)&&n.toString()==="[object FormData]"))},K1=_a("URLSearchParams"),[J1,W1,P1,ej]=["ReadableStream","Request","Response","Headers"].map(_a),tj=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wr(n,l,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let c,u;if(typeof n!="object"&&(n=[n]),Ml(n))for(c=0,u=n.length;c<u;c++)l.call(null,n[c],c,n);else{const f=i?Object.getOwnPropertyNames(n):Object.keys(n),h=f.length;let g;for(c=0;c<h;c++)g=f[c],l.call(null,n[g],g,n)}}function Pg(n,l){l=l.toLowerCase();const i=Object.keys(n);let c=i.length,u;for(;c-- >0;)if(u=i[c],l===u.toLowerCase())return u;return null}const js=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ey=n=>!Yr(n)&&n!==js;function hd(){const{caseless:n}=ey(this)&&this||{},l={},i=(c,u)=>{const f=n&&Pg(l,u)||u;xc(l[f])&&xc(c)?l[f]=hd(l[f],c):xc(c)?l[f]=hd({},c):Ml(c)?l[f]=c.slice():l[f]=c};for(let c=0,u=arguments.length;c<u;c++)arguments[c]&&Wr(arguments[c],i);return l}const aj=(n,l,i,{allOwnKeys:c}={})=>(Wr(l,(u,f)=>{i&&na(u)?n[f]=Kg(u,i):n[f]=u},{allOwnKeys:c}),n),nj=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),sj=(n,l,i,c)=>{n.prototype=Object.create(l.prototype,c),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:l.prototype}),i&&Object.assign(n.prototype,i)},lj=(n,l,i,c)=>{let u,f,h;const g={};if(l=l||{},n==null)return l;do{for(u=Object.getOwnPropertyNames(n),f=u.length;f-- >0;)h=u[f],(!c||c(h,n,l))&&!g[h]&&(l[h]=n[h],g[h]=!0);n=i!==!1&&Rd(n)}while(n&&(!i||i(n,l))&&n!==Object.prototype);return l},rj=(n,l,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=l.length;const c=n.indexOf(l,i);return c!==-1&&c===i},ij=n=>{if(!n)return null;if(Ml(n))return n;let l=n.length;if(!Wg(l))return null;const i=new Array(l);for(;l-- >0;)i[l]=n[l];return i},cj=(n=>l=>n&&l instanceof n)(typeof Uint8Array<"u"&&Rd(Uint8Array)),oj=(n,l)=>{const c=(n&&n[Symbol.iterator]).call(n);let u;for(;(u=c.next())&&!u.done;){const f=u.value;l.call(n,f[0],f[1])}},uj=(n,l)=>{let i;const c=[];for(;(i=n.exec(l))!==null;)c.push(i);return c},dj=_a("HTMLFormElement"),fj=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,c,u){return c.toUpperCase()+u}),Gp=(({hasOwnProperty:n})=>(l,i)=>n.call(l,i))(Object.prototype),hj=_a("RegExp"),ty=(n,l)=>{const i=Object.getOwnPropertyDescriptors(n),c={};Wr(i,(u,f)=>{let h;(h=l(u,f,n))!==!1&&(c[f]=h||u)}),Object.defineProperties(n,c)},mj=n=>{ty(n,(l,i)=>{if(na(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const c=n[i];if(na(c)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},pj=(n,l)=>{const i={},c=u=>{u.forEach(f=>{i[f]=!0})};return Ml(n)?c(n):c(String(n).split(l)),i},gj=()=>{},yj=(n,l)=>n!=null&&Number.isFinite(n=+n)?n:l;function vj(n){return!!(n&&na(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const xj=n=>{const l=new Array(10),i=(c,u)=>{if(Ic(c)){if(l.indexOf(c)>=0)return;if(!("toJSON"in c)){l[u]=c;const f=Ml(c)?[]:{};return Wr(c,(h,g)=>{const y=i(h,u+1);!Yr(y)&&(f[g]=y)}),l[u]=void 0,f}}return c};return i(n,0)},bj=_a("AsyncFunction"),jj=n=>n&&(Ic(n)||na(n))&&na(n.then)&&na(n.catch),ay=((n,l)=>n?setImmediate:l?((i,c)=>(js.addEventListener("message",({source:u,data:f})=>{u===js&&f===i&&c.length&&c.shift()()},!1),u=>{c.push(u),js.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",na(js.postMessage)),Sj=typeof queueMicrotask<"u"?queueMicrotask.bind(js):typeof process<"u"&&process.nextTick||ay,Q={isArray:Ml,isArrayBuffer:Jg,isBuffer:q1,isFormData:Z1,isArrayBufferView:H1,isString:Y1,isNumber:Wg,isBoolean:F1,isObject:Ic,isPlainObject:xc,isReadableStream:J1,isRequest:W1,isResponse:P1,isHeaders:ej,isUndefined:Yr,isDate:Q1,isFile:X1,isBlob:V1,isRegExp:hj,isFunction:na,isStream:$1,isURLSearchParams:K1,isTypedArray:cj,isFileList:G1,forEach:Wr,merge:hd,extend:aj,trim:tj,stripBOM:nj,inherits:sj,toFlatObject:lj,kindOf:Lc,kindOfTest:_a,endsWith:rj,toArray:ij,forEachEntry:oj,matchAll:uj,isHTMLForm:dj,hasOwnProperty:Gp,hasOwnProp:Gp,reduceDescriptors:ty,freezeMethods:mj,toObjectSet:pj,toCamelCase:fj,noop:gj,toFiniteNumber:yj,findKey:Pg,global:js,isContextDefined:ey,isSpecCompliantForm:vj,toJSONObject:xj,isAsyncFn:bj,isThenable:jj,setImmediate:ay,asap:Sj};function Ce(n,l,i,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",l&&(this.code=l),i&&(this.config=i),c&&(this.request=c),u&&(this.response=u,this.status=u.status?u.status:null)}Q.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const ny=Ce.prototype,sy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{sy[n]={value:n}});Object.defineProperties(Ce,sy);Object.defineProperty(ny,"isAxiosError",{value:!0});Ce.from=(n,l,i,c,u,f)=>{const h=Object.create(ny);return Q.toFlatObject(n,h,function(y){return y!==Error.prototype},g=>g!=="isAxiosError"),Ce.call(h,n.message,l,i,c,u),h.cause=n,h.name=n.name,f&&Object.assign(h,f),h};const Nj=null;function md(n){return Q.isPlainObject(n)||Q.isArray(n)}function ly(n){return Q.endsWith(n,"[]")?n.slice(0,-2):n}function $p(n,l,i){return n?n.concat(l).map(function(u,f){return u=ly(u),!i&&f?"["+u+"]":u}).join(i?".":""):l}function Ej(n){return Q.isArray(n)&&!n.some(md)}const Tj=Q.toFlatObject(Q,{},null,function(l){return/^is[A-Z]/.test(l)});function kc(n,l,i){if(!Q.isObject(n))throw new TypeError("target must be an object");l=l||new FormData,i=Q.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,C){return!Q.isUndefined(C[E])});const c=i.metaTokens,u=i.visitor||v,f=i.dots,h=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(l);if(!Q.isFunction(u))throw new TypeError("visitor must be a function");function p(N){if(N===null)return"";if(Q.isDate(N))return N.toISOString();if(!y&&Q.isBlob(N))throw new Ce("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(N)||Q.isTypedArray(N)?y&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,E,C){let O=N;if(N&&!C&&typeof N=="object"){if(Q.endsWith(E,"{}"))E=c?E:E.slice(0,-2),N=JSON.stringify(N);else if(Q.isArray(N)&&Ej(N)||(Q.isFileList(N)||Q.endsWith(E,"[]"))&&(O=Q.toArray(N)))return E=ly(E),O.forEach(function(D,k){!(Q.isUndefined(D)||D===null)&&l.append(h===!0?$p([E],k,f):h===null?E:E+"[]",p(D))}),!1}return md(N)?!0:(l.append($p(C,E,f),p(N)),!1)}const x=[],w=Object.assign(Tj,{defaultVisitor:v,convertValue:p,isVisitable:md});function A(N,E){if(!Q.isUndefined(N)){if(x.indexOf(N)!==-1)throw Error("Circular reference detected in "+E.join("."));x.push(N),Q.forEach(N,function(O,R){(!(Q.isUndefined(O)||O===null)&&u.call(l,O,Q.isString(R)?R.trim():R,E,w))===!0&&A(O,E?E.concat(R):[R])}),x.pop()}}if(!Q.isObject(n))throw new TypeError("data must be an object");return A(n),l}function Zp(n){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(c){return l[c]})}function Dd(n,l){this._pairs=[],n&&kc(n,this,l)}const ry=Dd.prototype;ry.append=function(l,i){this._pairs.push([l,i])};ry.toString=function(l){const i=l?function(c){return l.call(this,c,Zp)}:Zp;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function wj(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iy(n,l,i){if(!l)return n;const c=i&&i.encode||wj;Q.isFunction(i)&&(i={serialize:i});const u=i&&i.serialize;let f;if(u?f=u(l,i):f=Q.isURLSearchParams(l)?l.toString():new Dd(l,i).toString(c),f){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+f}return n}class Kp{constructor(){this.handlers=[]}use(l,i,c){return this.handlers.push({fulfilled:l,rejected:i,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){Q.forEach(this.handlers,function(c){c!==null&&l(c)})}}const cy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cj=typeof URLSearchParams<"u"?URLSearchParams:Dd,Oj=typeof FormData<"u"?FormData:null,Aj=typeof Blob<"u"?Blob:null,Rj={isBrowser:!0,classes:{URLSearchParams:Cj,FormData:Oj,Blob:Aj},protocols:["http","https","file","blob","url","data"]},_d=typeof window<"u"&&typeof document<"u",pd=typeof navigator=="object"&&navigator||void 0,Dj=_d&&(!pd||["ReactNative","NativeScript","NS"].indexOf(pd.product)<0),_j=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zj=_d&&window.location.href||"http://localhost",Mj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_d,hasStandardBrowserEnv:Dj,hasStandardBrowserWebWorkerEnv:_j,navigator:pd,origin:zj},Symbol.toStringTag,{value:"Module"})),Ut={...Mj,...Rj};function Lj(n,l){return kc(n,new Ut.classes.URLSearchParams,Object.assign({visitor:function(i,c,u,f){return Ut.isNode&&Q.isBuffer(i)?(this.append(c,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},l))}function Uj(n){return Q.matchAll(/\w+|\[(\w*)]/g,n).map(l=>l[0]==="[]"?"":l[1]||l[0])}function Ij(n){const l={},i=Object.keys(n);let c;const u=i.length;let f;for(c=0;c<u;c++)f=i[c],l[f]=n[f];return l}function oy(n){function l(i,c,u,f){let h=i[f++];if(h==="__proto__")return!0;const g=Number.isFinite(+h),y=f>=i.length;return h=!h&&Q.isArray(u)?u.length:h,y?(Q.hasOwnProp(u,h)?u[h]=[u[h],c]:u[h]=c,!g):((!u[h]||!Q.isObject(u[h]))&&(u[h]=[]),l(i,c,u[h],f)&&Q.isArray(u[h])&&(u[h]=Ij(u[h])),!g)}if(Q.isFormData(n)&&Q.isFunction(n.entries)){const i={};return Q.forEachEntry(n,(c,u)=>{l(Uj(c),u,i,0)}),i}return null}function kj(n,l,i){if(Q.isString(n))try{return(l||JSON.parse)(n),Q.trim(n)}catch(c){if(c.name!=="SyntaxError")throw c}return(i||JSON.stringify)(n)}const Pr={transitional:cy,adapter:["xhr","http","fetch"],transformRequest:[function(l,i){const c=i.getContentType()||"",u=c.indexOf("application/json")>-1,f=Q.isObject(l);if(f&&Q.isHTMLForm(l)&&(l=new FormData(l)),Q.isFormData(l))return u?JSON.stringify(oy(l)):l;if(Q.isArrayBuffer(l)||Q.isBuffer(l)||Q.isStream(l)||Q.isFile(l)||Q.isBlob(l)||Q.isReadableStream(l))return l;if(Q.isArrayBufferView(l))return l.buffer;if(Q.isURLSearchParams(l))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let g;if(f){if(c.indexOf("application/x-www-form-urlencoded")>-1)return Lj(l,this.formSerializer).toString();if((g=Q.isFileList(l))||c.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return kc(g?{"files[]":l}:l,y&&new y,this.formSerializer)}}return f||u?(i.setContentType("application/json",!1),kj(l)):l}],transformResponse:[function(l){const i=this.transitional||Pr.transitional,c=i&&i.forcedJSONParsing,u=this.responseType==="json";if(Q.isResponse(l)||Q.isReadableStream(l))return l;if(l&&Q.isString(l)&&(c&&!this.responseType||u)){const h=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(l)}catch(g){if(h)throw g.name==="SyntaxError"?Ce.from(g,Ce.ERR_BAD_RESPONSE,this,null,this.response):g}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ut.classes.FormData,Blob:Ut.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],n=>{Pr.headers[n]={}});const Bj=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qj=n=>{const l={};let i,c,u;return n&&n.split(`
`).forEach(function(h){u=h.indexOf(":"),i=h.substring(0,u).trim().toLowerCase(),c=h.substring(u+1).trim(),!(!i||l[i]&&Bj[i])&&(i==="set-cookie"?l[i]?l[i].push(c):l[i]=[c]:l[i]=l[i]?l[i]+", "+c:c)}),l},Jp=Symbol("internals");function Lr(n){return n&&String(n).trim().toLowerCase()}function bc(n){return n===!1||n==null?n:Q.isArray(n)?n.map(bc):String(n)}function Hj(n){const l=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=i.exec(n);)l[c[1]]=c[2];return l}const Yj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ld(n,l,i,c,u){if(Q.isFunction(c))return c.call(this,l,i);if(u&&(l=i),!!Q.isString(l)){if(Q.isString(c))return l.indexOf(c)!==-1;if(Q.isRegExp(c))return c.test(l)}}function Fj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,i,c)=>i.toUpperCase()+c)}function Qj(n,l){const i=Q.toCamelCase(" "+l);["get","set","has"].forEach(c=>{Object.defineProperty(n,c+i,{value:function(u,f,h){return this[c].call(this,l,u,f,h)},configurable:!0})})}let $t=class{constructor(l){l&&this.set(l)}set(l,i,c){const u=this;function f(g,y,p){const v=Lr(y);if(!v)throw new Error("header name must be a non-empty string");const x=Q.findKey(u,v);(!x||u[x]===void 0||p===!0||p===void 0&&u[x]!==!1)&&(u[x||y]=bc(g))}const h=(g,y)=>Q.forEach(g,(p,v)=>f(p,v,y));if(Q.isPlainObject(l)||l instanceof this.constructor)h(l,i);else if(Q.isString(l)&&(l=l.trim())&&!Yj(l))h(qj(l),i);else if(Q.isHeaders(l))for(const[g,y]of l.entries())f(y,g,c);else l!=null&&f(i,l,c);return this}get(l,i){if(l=Lr(l),l){const c=Q.findKey(this,l);if(c){const u=this[c];if(!i)return u;if(i===!0)return Hj(u);if(Q.isFunction(i))return i.call(this,u,c);if(Q.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,i){if(l=Lr(l),l){const c=Q.findKey(this,l);return!!(c&&this[c]!==void 0&&(!i||ld(this,this[c],c,i)))}return!1}delete(l,i){const c=this;let u=!1;function f(h){if(h=Lr(h),h){const g=Q.findKey(c,h);g&&(!i||ld(c,c[g],g,i))&&(delete c[g],u=!0)}}return Q.isArray(l)?l.forEach(f):f(l),u}clear(l){const i=Object.keys(this);let c=i.length,u=!1;for(;c--;){const f=i[c];(!l||ld(this,this[f],f,l,!0))&&(delete this[f],u=!0)}return u}normalize(l){const i=this,c={};return Q.forEach(this,(u,f)=>{const h=Q.findKey(c,f);if(h){i[h]=bc(u),delete i[f];return}const g=l?Fj(f):String(f).trim();g!==f&&delete i[f],i[g]=bc(u),c[g]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const i=Object.create(null);return Q.forEach(this,(c,u)=>{c!=null&&c!==!1&&(i[u]=l&&Q.isArray(c)?c.join(", "):c)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,i])=>l+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...i){const c=new this(l);return i.forEach(u=>c.set(u)),c}static accessor(l){const c=(this[Jp]=this[Jp]={accessors:{}}).accessors,u=this.prototype;function f(h){const g=Lr(h);c[g]||(Qj(u,h),c[g]=!0)}return Q.isArray(l)?l.forEach(f):f(l),this}};$t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors($t.prototype,({value:n},l)=>{let i=l[0].toUpperCase()+l.slice(1);return{get:()=>n,set(c){this[i]=c}}});Q.freezeMethods($t);function rd(n,l){const i=this||Pr,c=l||i,u=$t.from(c.headers);let f=c.data;return Q.forEach(n,function(g){f=g.call(i,f,u.normalize(),l?l.status:void 0)}),u.normalize(),f}function uy(n){return!!(n&&n.__CANCEL__)}function Ll(n,l,i){Ce.call(this,n??"canceled",Ce.ERR_CANCELED,l,i),this.name="CanceledError"}Q.inherits(Ll,Ce,{__CANCEL__:!0});function dy(n,l,i){const c=i.config.validateStatus;!i.status||!c||c(i.status)?n(i):l(new Ce("Request failed with status code "+i.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Xj(n){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return l&&l[1]||""}function Vj(n,l){n=n||10;const i=new Array(n),c=new Array(n);let u=0,f=0,h;return l=l!==void 0?l:1e3,function(y){const p=Date.now(),v=c[f];h||(h=p),i[u]=y,c[u]=p;let x=f,w=0;for(;x!==u;)w+=i[x++],x=x%n;if(u=(u+1)%n,u===f&&(f=(f+1)%n),p-h<l)return;const A=v&&p-v;return A?Math.round(w*1e3/A):void 0}}function Gj(n,l){let i=0,c=1e3/l,u,f;const h=(p,v=Date.now())=>{i=v,u=null,f&&(clearTimeout(f),f=null),n.apply(null,p)};return[(...p)=>{const v=Date.now(),x=v-i;x>=c?h(p,v):(u=p,f||(f=setTimeout(()=>{f=null,h(u)},c-x)))},()=>u&&h(u)]}const Cc=(n,l,i=3)=>{let c=0;const u=Vj(50,250);return Gj(f=>{const h=f.loaded,g=f.lengthComputable?f.total:void 0,y=h-c,p=u(y),v=h<=g;c=h;const x={loaded:h,total:g,progress:g?h/g:void 0,bytes:y,rate:p||void 0,estimated:p&&g&&v?(g-h)/p:void 0,event:f,lengthComputable:g!=null,[l?"download":"upload"]:!0};n(x)},i)},Wp=(n,l)=>{const i=n!=null;return[c=>l[0]({lengthComputable:i,total:n,loaded:c}),l[1]]},Pp=n=>(...l)=>Q.asap(()=>n(...l)),$j=Ut.hasStandardBrowserEnv?((n,l)=>i=>(i=new URL(i,Ut.origin),n.protocol===i.protocol&&n.host===i.host&&(l||n.port===i.port)))(new URL(Ut.origin),Ut.navigator&&/(msie|trident)/i.test(Ut.navigator.userAgent)):()=>!0,Zj=Ut.hasStandardBrowserEnv?{write(n,l,i,c,u,f){const h=[n+"="+encodeURIComponent(l)];Q.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),Q.isString(c)&&h.push("path="+c),Q.isString(u)&&h.push("domain="+u),f===!0&&h.push("secure"),document.cookie=h.join("; ")},read(n){const l=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kj(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Jj(n,l){return l?n.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):n}function fy(n,l,i){let c=!Kj(l);return n&&(c||i==!1)?Jj(n,l):l}const eg=n=>n instanceof $t?{...n}:n;function Ds(n,l){l=l||{};const i={};function c(p,v,x,w){return Q.isPlainObject(p)&&Q.isPlainObject(v)?Q.merge.call({caseless:w},p,v):Q.isPlainObject(v)?Q.merge({},v):Q.isArray(v)?v.slice():v}function u(p,v,x,w){if(Q.isUndefined(v)){if(!Q.isUndefined(p))return c(void 0,p,x,w)}else return c(p,v,x,w)}function f(p,v){if(!Q.isUndefined(v))return c(void 0,v)}function h(p,v){if(Q.isUndefined(v)){if(!Q.isUndefined(p))return c(void 0,p)}else return c(void 0,v)}function g(p,v,x){if(x in l)return c(p,v);if(x in n)return c(void 0,p)}const y={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:g,headers:(p,v,x)=>u(eg(p),eg(v),x,!0)};return Q.forEach(Object.keys(Object.assign({},n,l)),function(v){const x=y[v]||u,w=x(n[v],l[v],v);Q.isUndefined(w)&&x!==g||(i[v]=w)}),i}const hy=n=>{const l=Ds({},n);let{data:i,withXSRFToken:c,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:g}=l;l.headers=h=$t.from(h),l.url=iy(fy(l.baseURL,l.url,l.allowAbsoluteUrls),n.params,n.paramsSerializer),g&&h.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let y;if(Q.isFormData(i)){if(Ut.hasStandardBrowserEnv||Ut.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((y=h.getContentType())!==!1){const[p,...v]=y?y.split(";").map(x=>x.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",...v].join("; "))}}if(Ut.hasStandardBrowserEnv&&(c&&Q.isFunction(c)&&(c=c(l)),c||c!==!1&&$j(l.url))){const p=u&&f&&Zj.read(f);p&&h.set(u,p)}return l},Wj=typeof XMLHttpRequest<"u",Pj=Wj&&function(n){return new Promise(function(i,c){const u=hy(n);let f=u.data;const h=$t.from(u.headers).normalize();let{responseType:g,onUploadProgress:y,onDownloadProgress:p}=u,v,x,w,A,N;function E(){A&&A(),N&&N(),u.cancelToken&&u.cancelToken.unsubscribe(v),u.signal&&u.signal.removeEventListener("abort",v)}let C=new XMLHttpRequest;C.open(u.method.toUpperCase(),u.url,!0),C.timeout=u.timeout;function O(){if(!C)return;const D=$t.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),X={data:!g||g==="text"||g==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:D,config:n,request:C};dy(function(ce){i(ce),E()},function(ce){c(ce),E()},X),C=null}"onloadend"in C?C.onloadend=O:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(O)},C.onabort=function(){C&&(c(new Ce("Request aborted",Ce.ECONNABORTED,n,C)),C=null)},C.onerror=function(){c(new Ce("Network Error",Ce.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let k=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const X=u.transitional||cy;u.timeoutErrorMessage&&(k=u.timeoutErrorMessage),c(new Ce(k,X.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,n,C)),C=null},f===void 0&&h.setContentType(null),"setRequestHeader"in C&&Q.forEach(h.toJSON(),function(k,X){C.setRequestHeader(X,k)}),Q.isUndefined(u.withCredentials)||(C.withCredentials=!!u.withCredentials),g&&g!=="json"&&(C.responseType=u.responseType),p&&([w,N]=Cc(p,!0),C.addEventListener("progress",w)),y&&C.upload&&([x,A]=Cc(y),C.upload.addEventListener("progress",x),C.upload.addEventListener("loadend",A)),(u.cancelToken||u.signal)&&(v=D=>{C&&(c(!D||D.type?new Ll(null,n,C):D),C.abort(),C=null)},u.cancelToken&&u.cancelToken.subscribe(v),u.signal&&(u.signal.aborted?v():u.signal.addEventListener("abort",v)));const R=Xj(u.url);if(R&&Ut.protocols.indexOf(R)===-1){c(new Ce("Unsupported protocol "+R+":",Ce.ERR_BAD_REQUEST,n));return}C.send(f||null)})},eS=(n,l)=>{const{length:i}=n=n?n.filter(Boolean):[];if(l||i){let c=new AbortController,u;const f=function(p){if(!u){u=!0,g();const v=p instanceof Error?p:this.reason;c.abort(v instanceof Ce?v:new Ll(v instanceof Error?v.message:v))}};let h=l&&setTimeout(()=>{h=null,f(new Ce(`timeout ${l} of ms exceeded`,Ce.ETIMEDOUT))},l);const g=()=>{n&&(h&&clearTimeout(h),h=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(f):p.removeEventListener("abort",f)}),n=null)};n.forEach(p=>p.addEventListener("abort",f));const{signal:y}=c;return y.unsubscribe=()=>Q.asap(g),y}},tS=function*(n,l){let i=n.byteLength;if(i<l){yield n;return}let c=0,u;for(;c<i;)u=c+l,yield n.slice(c,u),c=u},aS=async function*(n,l){for await(const i of nS(n))yield*tS(i,l)},nS=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const l=n.getReader();try{for(;;){const{done:i,value:c}=await l.read();if(i)break;yield c}}finally{await l.cancel()}},tg=(n,l,i,c)=>{const u=aS(n,l);let f=0,h,g=y=>{h||(h=!0,c&&c(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await u.next();if(p){g(),y.close();return}let x=v.byteLength;if(i){let w=f+=x;i(w)}y.enqueue(new Uint8Array(v))}catch(p){throw g(p),p}},cancel(y){return g(y),u.return()}},{highWaterMark:2})},Bc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",my=Bc&&typeof ReadableStream=="function",sS=Bc&&(typeof TextEncoder=="function"?(n=>l=>n.encode(l))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),py=(n,...l)=>{try{return!!n(...l)}catch{return!1}},lS=my&&py(()=>{let n=!1;const l=new Request(Ut.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!l}),ag=64*1024,gd=my&&py(()=>Q.isReadableStream(new Response("").body)),Oc={stream:gd&&(n=>n.body)};Bc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(l=>{!Oc[l]&&(Oc[l]=Q.isFunction(n[l])?i=>i[l]():(i,c)=>{throw new Ce(`Response type '${l}' is not supported`,Ce.ERR_NOT_SUPPORT,c)})})})(new Response);const rS=async n=>{if(n==null)return 0;if(Q.isBlob(n))return n.size;if(Q.isSpecCompliantForm(n))return(await new Request(Ut.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(n)||Q.isArrayBuffer(n))return n.byteLength;if(Q.isURLSearchParams(n)&&(n=n+""),Q.isString(n))return(await sS(n)).byteLength},iS=async(n,l)=>{const i=Q.toFiniteNumber(n.getContentLength());return i??rS(l)},cS=Bc&&(async n=>{let{url:l,method:i,data:c,signal:u,cancelToken:f,timeout:h,onDownloadProgress:g,onUploadProgress:y,responseType:p,headers:v,withCredentials:x="same-origin",fetchOptions:w}=hy(n);p=p?(p+"").toLowerCase():"text";let A=eS([u,f&&f.toAbortSignal()],h),N;const E=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let C;try{if(y&&lS&&i!=="get"&&i!=="head"&&(C=await iS(v,c))!==0){let X=new Request(l,{method:"POST",body:c,duplex:"half"}),K;if(Q.isFormData(c)&&(K=X.headers.get("content-type"))&&v.setContentType(K),X.body){const[ce,fe]=Wp(C,Cc(Pp(y)));c=tg(X.body,ag,ce,fe)}}Q.isString(x)||(x=x?"include":"omit");const O="credentials"in Request.prototype;N=new Request(l,{...w,signal:A,method:i.toUpperCase(),headers:v.normalize().toJSON(),body:c,duplex:"half",credentials:O?x:void 0});let R=await fetch(N);const D=gd&&(p==="stream"||p==="response");if(gd&&(g||D&&E)){const X={};["status","statusText","headers"].forEach(W=>{X[W]=R[W]});const K=Q.toFiniteNumber(R.headers.get("content-length")),[ce,fe]=g&&Wp(K,Cc(Pp(g),!0))||[];R=new Response(tg(R.body,ag,ce,()=>{fe&&fe(),E&&E()}),X)}p=p||"text";let k=await Oc[Q.findKey(Oc,p)||"text"](R,n);return!D&&E&&E(),await new Promise((X,K)=>{dy(X,K,{data:k,headers:$t.from(R.headers),status:R.status,statusText:R.statusText,config:n,request:N})})}catch(O){throw E&&E(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,n,N),{cause:O.cause||O}):Ce.from(O,O&&O.code,n,N)}}),yd={http:Nj,xhr:Pj,fetch:cS};Q.forEach(yd,(n,l)=>{if(n){try{Object.defineProperty(n,"name",{value:l})}catch{}Object.defineProperty(n,"adapterName",{value:l})}});const ng=n=>`- ${n}`,oS=n=>Q.isFunction(n)||n===null||n===!1,gy={getAdapter:n=>{n=Q.isArray(n)?n:[n];const{length:l}=n;let i,c;const u={};for(let f=0;f<l;f++){i=n[f];let h;if(c=i,!oS(i)&&(c=yd[(h=String(i)).toLowerCase()],c===void 0))throw new Ce(`Unknown adapter '${h}'`);if(c)break;u[h||"#"+f]=c}if(!c){const f=Object.entries(u).map(([g,y])=>`adapter ${g} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=l?f.length>1?`since :
`+f.map(ng).join(`
`):" "+ng(f[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c},adapters:yd};function id(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ll(null,n)}function sg(n){return id(n),n.headers=$t.from(n.headers),n.data=rd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),gy.getAdapter(n.adapter||Pr.adapter)(n).then(function(c){return id(n),c.data=rd.call(n,n.transformResponse,c),c.headers=$t.from(c.headers),c},function(c){return uy(c)||(id(n),c&&c.response&&(c.response.data=rd.call(n,n.transformResponse,c.response),c.response.headers=$t.from(c.response.headers))),Promise.reject(c)})}const yy="1.8.4",qc={};["object","boolean","number","function","string","symbol"].forEach((n,l)=>{qc[n]=function(c){return typeof c===n||"a"+(l<1?"n ":" ")+n}});const lg={};qc.transitional=function(l,i,c){function u(f,h){return"[Axios v"+yy+"] Transitional option '"+f+"'"+h+(c?". "+c:"")}return(f,h,g)=>{if(l===!1)throw new Ce(u(h," has been removed"+(i?" in "+i:"")),Ce.ERR_DEPRECATED);return i&&!lg[h]&&(lg[h]=!0,console.warn(u(h," has been deprecated since v"+i+" and will be removed in the near future"))),l?l(f,h,g):!0}};qc.spelling=function(l){return(i,c)=>(console.warn(`${c} is likely a misspelling of ${l}`),!0)};function uS(n,l,i){if(typeof n!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const c=Object.keys(n);let u=c.length;for(;u-- >0;){const f=c[u],h=l[f];if(h){const g=n[f],y=g===void 0||h(g,f,n);if(y!==!0)throw new Ce("option "+f+" must be "+y,Ce.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ce("Unknown option "+f,Ce.ERR_BAD_OPTION)}}const jc={assertOptions:uS,validators:qc},qa=jc.validators;let Os=class{constructor(l){this.defaults=l,this.interceptors={request:new Kp,response:new Kp}}async request(l,i){try{return await this._request(l,i)}catch(c){if(c instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{c.stack?f&&!String(c.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+f):c.stack=f}catch{}}throw c}}_request(l,i){typeof l=="string"?(i=i||{},i.url=l):i=l||{},i=Ds(this.defaults,i);const{transitional:c,paramsSerializer:u,headers:f}=i;c!==void 0&&jc.assertOptions(c,{silentJSONParsing:qa.transitional(qa.boolean),forcedJSONParsing:qa.transitional(qa.boolean),clarifyTimeoutError:qa.transitional(qa.boolean)},!1),u!=null&&(Q.isFunction(u)?i.paramsSerializer={serialize:u}:jc.assertOptions(u,{encode:qa.function,serialize:qa.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),jc.assertOptions(i,{baseUrl:qa.spelling("baseURL"),withXsrfToken:qa.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=f&&Q.merge(f.common,f[i.method]);f&&Q.forEach(["delete","get","head","post","put","patch","common"],N=>{delete f[N]}),i.headers=$t.concat(h,f);const g=[];let y=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(i)===!1||(y=y&&E.synchronous,g.unshift(E.fulfilled,E.rejected))});const p=[];this.interceptors.response.forEach(function(E){p.push(E.fulfilled,E.rejected)});let v,x=0,w;if(!y){const N=[sg.bind(this),void 0];for(N.unshift.apply(N,g),N.push.apply(N,p),w=N.length,v=Promise.resolve(i);x<w;)v=v.then(N[x++],N[x++]);return v}w=g.length;let A=i;for(x=0;x<w;){const N=g[x++],E=g[x++];try{A=N(A)}catch(C){E.call(this,C);break}}try{v=sg.call(this,A)}catch(N){return Promise.reject(N)}for(x=0,w=p.length;x<w;)v=v.then(p[x++],p[x++]);return v}getUri(l){l=Ds(this.defaults,l);const i=fy(l.baseURL,l.url,l.allowAbsoluteUrls);return iy(i,l.params,l.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(l){Os.prototype[l]=function(i,c){return this.request(Ds(c||{},{method:l,url:i,data:(c||{}).data}))}});Q.forEach(["post","put","patch"],function(l){function i(c){return function(f,h,g){return this.request(Ds(g||{},{method:l,headers:c?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}Os.prototype[l]=i(),Os.prototype[l+"Form"]=i(!0)});let dS=class vy{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const c=this;this.promise.then(u=>{if(!c._listeners)return;let f=c._listeners.length;for(;f-- >0;)c._listeners[f](u);c._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(g=>{c.subscribe(g),f=g}).then(u);return h.cancel=function(){c.unsubscribe(f)},h},l(function(f,h,g){c.reason||(c.reason=new Ll(f,h,g),i(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const i=this._listeners.indexOf(l);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const l=new AbortController,i=c=>{l.abort(c)};return this.subscribe(i),l.signal.unsubscribe=()=>this.unsubscribe(i),l.signal}static source(){let l;return{token:new vy(function(u){l=u}),cancel:l}}};function fS(n){return function(i){return n.apply(null,i)}}function hS(n){return Q.isObject(n)&&n.isAxiosError===!0}const vd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(vd).forEach(([n,l])=>{vd[l]=n});function xy(n){const l=new Os(n),i=Kg(Os.prototype.request,l);return Q.extend(i,Os.prototype,l,{allOwnKeys:!0}),Q.extend(i,l,null,{allOwnKeys:!0}),i.create=function(u){return xy(Ds(n,u))},i}const ot=xy(Pr);ot.Axios=Os;ot.CanceledError=Ll;ot.CancelToken=dS;ot.isCancel=uy;ot.VERSION=yy;ot.toFormData=kc;ot.AxiosError=Ce;ot.Cancel=ot.CanceledError;ot.all=function(l){return Promise.all(l)};ot.spread=fS;ot.isAxiosError=hS;ot.mergeConfig=Ds;ot.AxiosHeaders=$t;ot.formToJSON=n=>oy(Q.isHTMLForm(n)?new FormData(n):n);ot.getAdapter=gy.getAdapter;ot.HttpStatusCode=vd;ot.default=ot;const{Axios:aN,AxiosError:nN,CanceledError:sN,isCancel:lN,CancelToken:rN,VERSION:iN,all:cN,Cancel:oN,isAxiosError:uN,spread:dN,toFormData:fN,AxiosHeaders:hN,HttpStatusCode:mN,formToJSON:pN,getAdapter:gN,mergeConfig:yN}=ot,mS="/api/",Ur=ot.create({baseURL:mS,withCredentials:!0,timeout:15e3});Ur.interceptors.request.use(n=>{const l=localStorage.getItem("accessToken");return l&&(n.headers.Authorization=`Bearer ${l}`),n},n=>Promise.reject(n));Ur.interceptors.response.use(n=>n,async n=>{var i;const l=n.config;if(!l||l._retry)return Promise.reject(n);if(((i=n.response)==null?void 0:i.status)===401)try{l._retry=!0;const c=await Ur.post("/auth/refresh"),{accessToken:u}=c.data;return localStorage.setItem("accessToken",u),l.headers.Authorization=`Bearer ${u}`,Ur(l)}catch(c){return localStorage.removeItem("accessToken"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(c)}return Promise.reject(n)});const Me={async get(n,l=null,i={}){return hc("GET",n,null,l,i)},async post(n,l=null,i={}){return hc("POST",n,l,null,i)},async put(n,l=null,i={}){return hc("PUT",n,l,null,i)},async delete(n,l=null,i={}){return hc("DELETE",n,l,null,i)}};async function hc(n,l,i=null,c=null,u={}){var f;try{return(await Ur({method:n,url:l,data:i,params:c,...u})).data}catch(h){if(console.error(`Error ${n} ${l}:`,h),h.response){const g=((f=h.response.data)==null?void 0:f.error)||"Server error";throw new Error(g)}else throw h.request?new Error("Network error - no response received"):new Error("Error setting up the request")}}const Ac=zl(n=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,initialize:()=>{const l=localStorage.getItem("user"),i=localStorage.getItem("accessToken");if(l&&i)try{const c=JSON.parse(l);n({user:c,isAuthenticated:!0})}catch{localStorage.removeItem("user"),localStorage.removeItem("accessToken")}},login:async(l,i)=>{n({isLoading:!0,error:null});try{const c=await Me.post("auth/login",{email:l,password:i});return localStorage.setItem("accessToken",c.accessToken),localStorage.setItem("user",JSON.stringify(c.teacher)),n({user:c.teacher,isAuthenticated:!0,isLoading:!1}),c.teacher}catch(c){const u=c instanceof Error?c.message:"Login failed";throw n({error:u,isLoading:!1}),c}},logout:async()=>{n({isLoading:!0});try{await Me.post("auth/logout")}catch(l){console.error("Logout failed:",l)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("user"),n({user:null,isAuthenticated:!1,isLoading:!1})}},clearError:()=>{n({error:null})}}));function Zn(){var E;const n=Zg(),l=Sa(),{user:i,isAuthenticated:c,isLoading:u,error:f,login:h,logout:g,clearError:y}=Ac(),p=Qp({mutationFn:C=>h(C.email,C.password),onSuccess:()=>{n.invalidateQueries({queryKey:["user"]}),l("/dashboard")}}),v=Qp({mutationFn:()=>g(),onSuccess:()=>{n.clear(),l("/login")}});function x(C,O){return y(),p.mutate({email:C,password:O})}function w(){return v.mutate()}const A=u||p.isPending||v.isPending,N=f||((E=p.error)==null?void 0:E.message)||void 0;return{user:i,isAuthenticated:c,isLoading:A,error:N,login:x,logout:w,clearError:y}}const by=S.createContext(void 0);function pS({children:n}){const[l,i]=S.useState(()=>{const u=localStorage.getItem("theme");return u||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});S.useEffect(()=>{document.documentElement.setAttribute("data-theme",l),localStorage.setItem("theme",l)},[l]),S.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),f=h=>{localStorage.getItem("theme")||i(h.matches?"dark":"light")};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[]);const c=()=>{i(u=>u==="light"?"dark":"light")};return r.jsx(by.Provider,{value:{theme:l,toggleTheme:c},children:n})}function jy(){const n=S.useContext(by);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}function gS(){const[n,l]=S.useState(""),[i,c]=S.useState(""),{login:u,isAuthenticated:f,isLoading:h,error:g,clearError:y}=Zn(),{theme:p,toggleTheme:v}=jy();if(f)return r.jsx(Ec,{to:"/dashboard",replace:!0});function x(N){N.preventDefault(),!(!n||!i)&&u(n,i)}function w(N){y(),l(N.target.value)}function A(N){y(),c(N.target.value)}return r.jsx("div",{className:"login-page",children:r.jsxs("div",{className:"login-form",children:[r.jsx("button",{className:"theme-toggle",onClick:v,"aria-label":"Toggle theme",children:p==="dark"?r.jsx(Bg,{className:"icon"}):r.jsx(kg,{className:"icon"})}),r.jsx("h1",{children:"התחברות"}),g&&r.jsx("div",{className:"error-message",children:g}),r.jsxs("form",{className:"form-section",onSubmit:x,children:[r.jsxs("div",{className:"input-container",children:[r.jsx("input",{type:"email",id:"email",className:n?"has-value":"",placeholder:"",autoComplete:"off",required:!0,value:n,onChange:w}),r.jsx("label",{htmlFor:"email",children:"מייל"}),r.jsx(Cs,{className:"input-icon"})]}),r.jsxs("div",{className:"input-container",children:[r.jsx("input",{type:"password",id:"password",className:i?"has-value":"",placeholder:"",required:!0,value:i,onChange:A}),r.jsx("label",{htmlFor:"password",children:"סיסמה"}),r.jsx(Yb,{className:"input-icon"})]}),r.jsx("button",{className:"btn",type:"submit",disabled:h,children:h?"מתחבר...":"התחבר"}),r.jsxs("div",{className:"forgot-password",children:[r.jsx("p",{children:"שכחת סיסמה?"}),r.jsx("a",{href:"#",children:"לחץ כאן"})]})]})]})})}const yS=["Workshop","Seminar","Conference","Networking Event","Other"],vS=["Morning (9AM - 12PM)","Afternoon (1PM - 4PM)","Evening (5PM - 8PM)"];function xS(){const[n,l]=S.useState({firstName:"",lastName:"",email:"",phone:"",topic:"",preferredSlot:""}),[i,c]=S.useState(!1),u=h=>{const{name:g,value:y}=h.target;l(p=>({...p,[g]:y}))},f=async h=>{h.preventDefault(),c(!0);try{await new Promise(g=>setTimeout(g,1e3)),l({firstName:"",lastName:"",email:"",phone:"",topic:"",preferredSlot:""}),alert("Registration successful!")}catch{alert("Registration failed. Please try again.")}finally{c(!1)}};return r.jsx("div",{className:"event-registration-page",children:r.jsxs("div",{className:"glass-form",children:[r.jsx("h2",{children:"Event Registration"}),r.jsx("p",{children:"Register with us to get more details."}),r.jsxs("form",{onSubmit:f,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Name"}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",name:"firstName",value:n.firstName,onChange:u,placeholder:"First",required:!0})}),r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:u,placeholder:"Last",required:!0})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Email"}),r.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,placeholder:"email@example.com",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:u,placeholder:"+1 (555) 000-0000"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Topic"}),r.jsxs("select",{name:"topic",value:n.topic,onChange:u,required:!0,children:[r.jsx("option",{value:"",children:"Select a topic"}),yS.map(h=>r.jsx("option",{value:h,children:h},h))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Preferred Slot"}),r.jsxs("select",{name:"preferredSlot",value:n.preferredSlot,onChange:u,required:!0,children:[r.jsx("option",{value:"",children:"Select a time"}),vS.map(h=>r.jsx("option",{value:h,children:h},h))]})]})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"submit",className:"btn-submit",disabled:i,children:i?"Submitting...":"Sign me up"})})]})]})})}function ei(){const l=Zt().pathname,[i,c]=S.useState(!1),[u,f]=S.useState(!0),h=S.useRef(null),g=S.useRef(0),y=S.useRef(!1);S.useEffect(()=>{c(!0);const v=()=>{y.current||(window.requestAnimationFrame(()=>{const x=window.scrollY,w=Math.abs(x-g.current);x>g.current&&w>10&&x>5?f(!1):x<g.current&&w>5&&f(!0),g.current=x,y.current=!1}),y.current=!0)};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[u]),S.useEffect(()=>()=>{var x;const v=document.getElementById("scroll-test-content");v&&((x=v.parentNode)==null||x.removeChild(v))},[]);const p=[{path:"/teachers",label:"מורים",icon:Ig},{path:"/students",label:"תלמידים",icon:Kr},{path:"/dashboard",label:"בית",icon:qb,isHome:!0},{path:"/orchestras",label:"תזמורות",icon:qt},{path:"/rehearsals",label:"לוח חזרות",icon:st}];return r.jsx("nav",{ref:h,className:`bottom-nav ${i?"mounted":""}`,style:{transform:u?"translateX(-50%) translateY(0)":"translateX(-50%) translateY(120px)",opacity:u?1:0,transition:"transform 0.3s ease, opacity 0.3s ease",pointerEvents:u?"auto":"none"},children:r.jsx("div",{className:"nav-items",children:p.map(v=>{const x=l===v.path||v.path==="/dashboard"&&l==="/"||v.path!=="/dashboard"&&l.startsWith(v.path);return r.jsxs(kr,{to:v.path,className:`nav-item ${x?"active":""} ${v.isHome?"home":""}`,"aria-label":v.label,children:[r.jsx(v.icon,{className:"nav-icon",strokeWidth:v.isHome?2.5:2}),!v.isHome&&r.jsx("span",{className:"nav-label",children:v.label})]},v.path)})})})}function bS(){return r.jsxs("div",{className:"dashboard-container",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx(ei,{})]})}const nt={async getStudents(n={}){return Me.get("student",n)},async getStudentById(n){return Me.get(`student/${n}`)},async getStudentsByIds(n){return!n||n.length===0?[]:(await this.getStudents()).filter(i=>n.includes(i._id))},async getStudentsByOrchestraId(n){return this.getStudents({orchestraId:n})},async getStudentsByTeacherId(n){return this.getStudents({teacherId:n})},async addStudent(n){return Me.post("student",n)},async updateStudent(n,l){const{_id:i,createdAt:c,updatedAt:u,...f}=l;return Me.put(`student/${n}`,f)},async removeStudent(n){return Me.delete(`student/${n}`)},async getStudentAttendanceStats(n,l){try{return Me.get(`orchestra/${n}/student/${l}/attendance`)}catch(i){return console.error("Failed to get student attendance stats:",i),{attendanceRate:0,attended:0,totalRehearsals:0,recentHistory:[],message:"Failed to load attendance data"}}}},zs=zl((n,l)=>({students:[],selectedStudent:null,filterBy:{},isLoading:!1,error:null,loadStudents:async(i={})=>{n({isLoading:!0,error:null});try{const c={...l().filterBy,...i},u=await nt.getStudents(c);n({students:u,filterBy:c,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load students";n({error:u,isLoading:!1}),console.error("Error loading students:",c)}},loadStudentById:async i=>{n({isLoading:!0,error:null});try{const c=await nt.getStudentById(i);n({selectedStudent:c,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load student";n({error:u,isLoading:!1}),console.error("Error loading student:",c)}},saveStudent:async i=>{n({isLoading:!0,error:null});try{let c;if(i._id){const u=i._id;c=await nt.updateStudent(u,i);const f=l().students.map(h=>h._id===c._id?c:h);n({students:f,selectedStudent:c,isLoading:!1})}else c=await nt.addStudent(i),n({students:[...l().students,c],selectedStudent:c,isLoading:!1});return c}catch(c){const u=c instanceof Error?c.message:"Failed to save student";throw n({error:u,isLoading:!1}),console.error("Error saving student:",c),c}},removeStudent:async i=>{var c;n({isLoading:!0,error:null});try{await nt.removeStudent(i),n({students:l().students.filter(u=>u._id!==i),selectedStudent:((c=l().selectedStudent)==null?void 0:c._id)===i?null:l().selectedStudent,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove student";throw n({error:f,isLoading:!1}),console.error("Error removing student:",u),u}},getStudentsByIds:async i=>{if(!i||i.length===0)return[];n({isLoading:!0,error:null});try{const u=l().students,f=u.map(p=>p._id),h=i.filter(p=>!f.includes(p));let g=[...u];if(h.length>0){const p=await nt.getStudentsByIds(h);g=[...u],p.forEach(v=>{g.some(x=>x._id===v._id)||g.push(v)}),n({students:g})}const y=g.filter(p=>i.includes(p._id));return n({isLoading:!1}),y}catch(c){const u=c instanceof Error?c.message:"Failed to load students by IDs";return n({error:u,isLoading:!1}),console.error("Error loading students by IDs:",c),[]}},setFilter:i=>{n({filterBy:{...l().filterBy,...i}})},clearSelectedStudent:()=>{n({selectedStudent:null})},clearError:()=>{n({error:null})}}));function jS({student:n,onView:l,onEdit:i,onRemove:c}){var w,A,N,E,C;const u=O=>{const R=["var(--stage-1)","var(--stage-2)","var(--stage-3)","var(--stage-4)","var(--stage-5)","var(--stage-6)","var(--stage-7)","var(--stage-8)"];return R[O-1]||R[0]},f=O=>{switch(O){case"עבר/ה":return"var(--success)";case"לא עבר/ה":return"var(--danger)";default:return"var(--text-muted)"}},h=O=>O.split(" ").map(R=>R[0]).join("").toUpperCase().substring(0,2),g=O=>O===0?"ללא תזמורת":O===1?"תזמורת אחת":`${O} תזמורות`,p=((w=n.enrollments)==null?void 0:w.orchestraIds)&&n.enrollments.orchestraIds.length>0?n.enrollments.orchestraIds.length:0,v=((N=(A=n.academicInfo.tests)==null?void 0:A.technicalTest)==null?void 0:N.status)||"לא נבחן",x=((C=(E=n.academicInfo.tests)==null?void 0:E.stageTest)==null?void 0:C.status)||"לא נבחן";return r.jsxs("div",{className:"student-preview",onClick:()=>l(n._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"preview-header",children:[r.jsxs("div",{className:"header-right-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:u(n.academicInfo.currentStage)},children:h(n.personalInfo.fullName)})}),r.jsxs("div",{className:"student-info",children:[r.jsx("h3",{className:"student-name",children:n.personalInfo.fullName}),r.jsxs("div",{className:"student-subject",children:[r.jsx(qt,{size:14}),r.jsx("span",{children:n.academicInfo.instrument})]})]})]}),r.jsxs("div",{className:"badges-container",children:[r.jsx("div",{className:"stage-badge",style:{backgroundColor:u(n.academicInfo.currentStage)},children:r.jsxs("span",{children:["שלב ",n.academicInfo.currentStage]})}),r.jsx("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:r.jsxs("span",{children:["כיתה ",n.academicInfo.class]})})]})]}),r.jsxs("div",{className:"preview-content",children:[r.jsx("div",{className:"info-row",children:r.jsxs("div",{className:"info-item",children:[r.jsx(Lg,{size:16}),r.jsx("span",{children:g(p)})]})}),r.jsxs("div",{className:"tests-section",children:[r.jsxs("div",{className:"test-item",children:[r.jsx("div",{className:"test-label",children:"מבחן טכני:"}),r.jsx("div",{className:"test-status",style:{color:f(v)},children:v})]}),r.jsxs("div",{className:"test-item",children:[r.jsx("div",{className:"test-label",children:"מבחן שלב:"}),r.jsx("div",{className:"test-status",style:{color:f(x)},children:x})]})]})]}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:O=>{O.stopPropagation(),l(n._id)},"aria-label":"הצג פרטי תלמיד",children:r.jsx($r,{size:16})}),r.jsx("button",{className:"action-btn edit",onClick:O=>{O.stopPropagation(),i(n._id)},"aria-label":"ערוך תלמיד",children:r.jsx(As,{size:16})}),c&&r.jsx("button",{className:"action-btn delete",onClick:O=>{O.stopPropagation(),c(n._id)},"aria-label":"מחק תלמיד",children:r.jsx(zc,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(st,{size:14}),r.jsx("span",{children:new Date(n.createdAt).toLocaleDateString("he-IL")})]})]})]})}function SS({students:n,isLoading:l,onEdit:i,onView:c,onRemove:u}){return l&&n.length===0?r.jsx("div",{className:"loading-state",children:"טוען תלמידים..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"לא נמצאו תלמידים להצגה"}),r.jsx("p",{children:"נסה לשנות את מסנני החיפוש או להוסיף תלמידים חדשים"})]}):r.jsx("div",{className:"student-grid",children:n.map(f=>r.jsx(jS,{student:f,onEdit:i,onView:c||i,onRemove:u},f._id))})}const NS="/assets/logo-reKfKP0d.png";function Hc(){const[n,l]=S.useState(!1),{user:i,logout:c}=Zn(),{theme:u,toggleTheme:f}=jy(),h=S.useRef(null);S.useEffect(()=>{function v(x){h.current&&!h.current.contains(x.target)&&l(!1)}return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);function g(){c()}function y(){l(v=>!v)}const p=i!=null&&i.fullName?i.fullName.split(" ").map(v=>v[0]).join("").substring(0,2).toUpperCase():"U";return r.jsx("header",{className:"header",children:r.jsxs("div",{className:"header-container",children:[r.jsxs("div",{className:"right-section",style:{display:"flex",alignItems:"center"},children:[i&&r.jsxs("div",{className:"user-container",ref:h,children:[r.jsx("div",{className:"avatar-wrapper",onClick:y,children:r.jsx("div",{className:"avatar-circle",children:i.avatarUrl?r.jsx("img",{src:i.avatarUrl,alt:"Avatar",className:"user-avatar"}):r.jsx("div",{className:"avatar-placeholder",children:p})})}),n&&r.jsxs("div",{className:"dropdown-menu",children:[r.jsxs("div",{className:"user-info",children:[r.jsx("div",{className:"user-name",children:i.fullName}),r.jsx("div",{className:"user-email",children:i.email})]}),r.jsxs(kr,{to:"/profile",className:"dropdown-item",children:[r.jsx(Qa,{className:"dropdown-icon",strokeWidth:2}),r.jsx("span",{children:"פרופיל אישי"})]}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs("button",{className:"dropdown-item logout-btn",onClick:g,children:[r.jsx(Qb,{className:"dropdown-icon",strokeWidth:2}),r.jsx("span",{children:"התנתק"})]})]})]}),r.jsx("button",{className:"theme-toggle",onClick:f,"aria-label":"Toggle theme",children:u==="dark"?r.jsx(Bg,{className:"icon"}):r.jsx(kg,{className:"icon"})})]}),r.jsx("div",{className:"logo-container",children:r.jsx(kr,{to:"/dashboard",className:"logo-link",children:r.jsx("img",{src:NS,alt:"Logo",className:"logo-image"})})})]})})}function zd({onSearch:n,placeholder:l="חיפוש...",className:i=""}){const[c,u]=S.useState(""),f=g=>{const y=g.target.value;u(y),n(y)},h=()=>{u(""),n("")};return r.jsx("div",{className:`search-bar-container ${i}`,children:r.jsxs("div",{className:"search-bar",children:[r.jsx(Tc,{className:"search-icon",size:18}),r.jsx("input",{type:"text",value:c,onChange:f,placeholder:l,className:"search-input"}),c&&r.jsx("button",{className:"clear-button",onClick:h,children:r.jsx(aa,{size:16})})]})})}function Md(n,l){const[i,c]=S.useState(""),u=Array.isArray(n)?n:[],[f,h]=S.useState(u);S.useEffect(()=>{console.log("useSearchbar entities update:",{isArray:Array.isArray(n),length:Array.isArray(n)?n.length:"n/a",type:typeof n}),i?g(i):h(u)},[n,i]);const g=p=>{if(!p){h(u);return}const v=p.toLowerCase(),x=u.filter(w=>{try{const A=typeof l=="function"?l(w):l.map(N=>{const E=w[N];return E?String(E):""});return Array.isArray(A)?A.some(N=>typeof N!="string"?(console.error("Expected field value to be a string but got:",typeof N),!1):N.toLowerCase().includes(v)):(console.error("Expected fieldsToSearch to be an array but got:",typeof A),!1)}catch(A){return console.error("Error filtering entity:",A),!1}});h(x)},y=p=>{c(p),g(p)};return{filteredEntities:Array.isArray(f)?f:[],handleSearch:y,searchQuery:i}}function Sy(n){const l={};if(n.personalInfo&&(l.personalInfo={...n.personalInfo}),n.roles&&(console.log("Including roles for update:",n.roles),l.roles=Array.isArray(n.roles)?[...n.roles]:[]),n.professionalInfo&&(l.professionalInfo={...n.professionalInfo}),n.isActive!==void 0&&(l.isActive=n.isActive),n.conducting&&(l.conducting={orchestraIds:Array.isArray(n.conducting.orchestraIds)?[...n.conducting.orchestraIds]:[]}),n.ensemblesIds&&(l.ensemblesIds=Array.isArray(n.ensemblesIds)?[...n.ensemblesIds]:[]),n.schoolYears&&(l.schoolYears=[...n.schoolYears]),n.teaching&&(l.teaching={},Array.isArray(n.teaching.studentIds)&&(l.teaching.studentIds=[...n.teaching.studentIds]),n.teaching.schedule&&n.teaching.schedule.length>0)){const i=n.teaching.schedule.filter(c=>c.studentId&&c.day&&c.time&&typeof c.duration=="number"&&[30,45,60].includes(c.duration));i.length>0&&(l.teaching.schedule=i.map(c=>({studentId:c.studentId,day:c.day,time:c.time,duration:c.duration})))}return console.log("Prepared teacher data for update:",JSON.stringify(l,null,2)),l}function ES(n){var i;const l=Sy(n);return n.credentials&&(l.credentials={email:((i=n.personalInfo)==null?void 0:i.email)||n.credentials.email||"",password:n.credentials.password||""}),l}const Xt={async getTeachers(n={}){return Me.get("teacher",n)},async getTeacherById(n){return Me.get(`teacher/${n}`)},async getTeachersByIds(n){return!n||n.length===0?[]:(await this.getTeachers()).filter(i=>n.includes(i._id))},async getTeachersByRole(n){return Me.get(`teacher/role/${n}`)},async getTeachersByOrchestraId(n){return this.getTeachers({orchestraId:n})},async getTeachersByStudentId(n){return this.getTeachers({studentId:n})},async addTeacher(n){const l=ES(n);return console.log("Creating new teacher with data:",l),Me.post("teacher",l)},async updateTeacher(n,l){const i=Sy(l);return console.log("Updating teacher with prepared data:",i),Me.put(`teacher/${n}`,i)},async removeTeacher(n){return Me.delete(`teacher/${n}`)},async updateTeacherSchedule(n,l){return Me.post(`teacher/${n}/schedule`,l)},async addOrchestra(n,l){return Me.post(`teacher/${n}/orchestra`,{orchestraId:l})},async removeOrchestra(n,l){return Me.delete(`teacher/${n}/orchestra/${l}`)}},Ul=zl(n=>({schoolYears:[],currentSchoolYear:null,isLoading:!1,error:null,loadSchoolYears:async()=>{n({isLoading:!0,error:null});try{const l=await Me.get("school-year");n({schoolYears:l,isLoading:!1})}catch(l){const i=l instanceof Error?l.message:"Failed to load school years";n({error:i,isLoading:!1}),console.error("Error loading school years:",l)}},loadCurrentSchoolYear:async()=>{n({isLoading:!0,error:null});try{const l=await Me.get("school-year/current");n({currentSchoolYear:l,isLoading:!1})}catch(l){const i=l instanceof Error?l.message:"Failed to load current school year";n({error:i,isLoading:!1}),console.error("Error loading current school year:",l)}}})),mc=["א","ב","ג","ד","ה","ו","ז","ח","ט","י","יא","יב","אחר"],TS=[1,2,3,4,5,6,7,8],pc=["חצוצרה","חליל צד","קלרינט","קרן יער","בריטון","טרומבון","סקסופון"],rg=["לא נבחן","עבר/ה","לא עבר/ה"],wS=["ראשון","שני","שלישי","רביעי","חמישי","שישי"],CS=[30,45,60];function Ny({isOpen:n,onClose:l,student:i,onStudentCreated:c,newTeacherInfo:u}){var ae,te,H,ve,he,ge,$,re,se,be,j,M,Y,U,q,oe,de;const{saveStudent:f,isLoading:h,error:g,clearError:y,loadStudents:p}=zs(),{currentSchoolYear:v}=Ul(),[x,w]=S.useState([]),[A,N]=S.useState(!1),[E,C]=S.useState({personalInfo:{fullName:"",phone:"",age:void 0,address:"",parentName:"",parentPhone:"",parentEmail:"",studentEmail:""},academicInfo:{instrument:pc[0],currentStage:1,class:mc[0],tests:{stageTest:{status:"לא נבחן",lastTestDate:void 0,nextTestDate:void 0,notes:""},technicalTest:{status:"לא נבחן",lastTestDate:void 0,nextTestDate:void 0,notes:""}}},enrollments:{orchestraIds:[],ensembleIds:[],schoolYears:[]},teacherIds:[],isActive:!0});S.useEffect(()=>{(async()=>{N(!0);try{const ee=await Xt.getTeachers({isActive:!0});w(ee)}catch(ee){console.error("Failed to fetch teachers:",ee)}finally{N(!1)}})()},[]);const[O,R]=S.useState({});S.useEffect(()=>{var V,ee,ue,le,ne,Ee,we,bt,lt,xe,Be,Ye,ut,Dt,sa,za,Re,Fe,Na,la,ie,Ne,dt,Tt,Ue,wt,rt,Ze,ra,ft,ht,Kn,ti,ai,Jn,Wn,Ma,Pn,pn;i!=null&&i._id?C({_id:i._id,personalInfo:{fullName:((V=i.personalInfo)==null?void 0:V.fullName)||"",phone:(ee=i.personalInfo)==null?void 0:ee.phone,age:(ue=i.personalInfo)==null?void 0:ue.age,address:(le=i.personalInfo)==null?void 0:le.address,parentName:(ne=i.personalInfo)==null?void 0:ne.parentName,parentPhone:(Ee=i.personalInfo)==null?void 0:Ee.parentPhone,parentEmail:(we=i.personalInfo)==null?void 0:we.parentEmail,studentEmail:(bt=i.personalInfo)==null?void 0:bt.studentEmail},academicInfo:{instrument:((lt=i.academicInfo)==null?void 0:lt.instrument)||pc[0],currentStage:((xe=i.academicInfo)==null?void 0:xe.currentStage)||1,class:((Be=i.academicInfo)==null?void 0:Be.class)||mc[0],tests:{stageTest:{status:((Dt=(ut=(Ye=i.academicInfo)==null?void 0:Ye.tests)==null?void 0:ut.stageTest)==null?void 0:Dt.status)||"לא נבחן",lastTestDate:(Re=(za=(sa=i.academicInfo)==null?void 0:sa.tests)==null?void 0:za.stageTest)==null?void 0:Re.lastTestDate,nextTestDate:(la=(Na=(Fe=i.academicInfo)==null?void 0:Fe.tests)==null?void 0:Na.stageTest)==null?void 0:la.nextTestDate,notes:((dt=(Ne=(ie=i.academicInfo)==null?void 0:ie.tests)==null?void 0:Ne.stageTest)==null?void 0:dt.notes)||""},technicalTest:{status:((wt=(Ue=(Tt=i.academicInfo)==null?void 0:Tt.tests)==null?void 0:Ue.technicalTest)==null?void 0:wt.status)||"לא נבחן",lastTestDate:(ra=(Ze=(rt=i.academicInfo)==null?void 0:rt.tests)==null?void 0:Ze.technicalTest)==null?void 0:ra.lastTestDate,nextTestDate:(Kn=(ht=(ft=i.academicInfo)==null?void 0:ft.tests)==null?void 0:ht.technicalTest)==null?void 0:Kn.nextTestDate,notes:((Jn=(ai=(ti=i.academicInfo)==null?void 0:ti.tests)==null?void 0:ai.technicalTest)==null?void 0:Jn.notes)||""}}},enrollments:{orchestraIds:((Wn=i.enrollments)==null?void 0:Wn.orchestraIds)||[],ensembleIds:((Ma=i.enrollments)==null?void 0:Ma.ensembleIds)||[],schoolYears:((Pn=i.enrollments)==null?void 0:Pn.schoolYears)||[]},teacherIds:i.teacherIds||[],teacherId:(pn=i.teacherIds)==null?void 0:pn[0],isActive:i.isActive!==!1}):C({personalInfo:{fullName:"",phone:"",age:void 0,address:"",parentName:"",parentPhone:"",parentEmail:"",studentEmail:""},academicInfo:{instrument:pc[0],currentStage:1,class:mc[0],tests:{stageTest:{status:"לא נבחן",lastTestDate:void 0,nextTestDate:void 0,notes:""},technicalTest:{status:"לא נבחן",lastTestDate:void 0,nextTestDate:void 0,notes:""}}},enrollments:{orchestraIds:[],ensembleIds:[],schoolYears:v?[{schoolYearId:v._id,isActive:!0}]:[]},teacherIds:[],teacherId:u?"new-teacher":void 0,lessonDay:"",lessonTime:"",lessonDuration:45,isActive:!0}),R({}),y==null||y()},[i,n,y,v,u]);const D=V=>{const{name:ee,value:ue,type:le}=V.target;C({...E,personalInfo:{...E.personalInfo,[ee]:le==="number"?ue?parseInt(ue):void 0:ue}}),O[`personalInfo.${ee}`]&&R({...O,[`personalInfo.${ee}`]:""})},k=V=>{const{name:ee,value:ue,type:le}=V.target;C({...E,academicInfo:{...E.academicInfo,[ee]:le==="number"?ue?parseInt(ue):1:ue}}),O[`academicInfo.${ee}`]&&R({...O,[`academicInfo.${ee}`]:""})},X=(V,ee,ue)=>{var le,ne,Ee;C({...E,academicInfo:{...E.academicInfo,tests:{...(le=E.academicInfo)==null?void 0:le.tests,[V]:{...(Ee=(ne=E.academicInfo)==null?void 0:ne.tests)==null?void 0:Ee[V],[ee]:ue}}}})},K=V=>{const ee=V.target.value;if(!ee){C({...E,teacherId:void 0,lessonDay:void 0,lessonTime:void 0,lessonDuration:45});return}const ue=x.find(le=>le._id===ee);ue&&C({...E,teacherId:ue._id,lessonDay:"",lessonTime:"",lessonDuration:45})},ce=V=>{const{name:ee,value:ue}=V.target;if(ee==="lessonDay")C({...E,lessonDay:ue});else if(ee==="lessonTime")C({...E,lessonTime:ue});else if(ee==="lessonDuration"){const le=parseInt(ue);C({...E,lessonDuration:le})}},fe=()=>{var ee,ue,le,ne,Ee,we,bt,lt;const V={};return(ee=E.personalInfo)!=null&&ee.fullName||(V["personalInfo.fullName"]="שם מלא הוא שדה חובה"),(ue=E.personalInfo)!=null&&ue.phone&&!/^05\d{8}$/.test(E.personalInfo.phone)&&(V["personalInfo.phone"]="מספר טלפון לא תקין (צריך להתחיל ב-05 ולכלול 10 ספרות)"),(le=E.personalInfo)!=null&&le.parentPhone&&!/^05\d{8}$/.test(E.personalInfo.parentPhone)&&(V["personalInfo.parentPhone"]="מספר טלפון הורה לא תקין (צריך להתחיל ב-05 ולכלול 10 ספרות)"),(ne=E.personalInfo)!=null&&ne.parentEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E.personalInfo.parentEmail)&&(V["personalInfo.parentEmail"]="כתובת אימייל הורה לא תקינה"),(Ee=E.personalInfo)!=null&&Ee.studentEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E.personalInfo.studentEmail)&&(V["personalInfo.studentEmail"]="כתובת אימייל תלמיד לא תקינה"),(we=E.academicInfo)!=null&&we.instrument||(V["academicInfo.instrument"]="כלי נגינה הוא שדה חובה"),(bt=E.academicInfo)!=null&&bt.currentStage||(V["academicInfo.currentStage"]="שלב נוכחי הוא שדה חובה"),(lt=E.academicInfo)!=null&&lt.class||(V["academicInfo.class"]="כיתה היא שדה חובה"),R(V),Object.keys(V).length===0},W=async V=>{if(V.preventDefault(),!!fe())try{const{teacherId:ee,lessonDay:ue,lessonTime:le,lessonDuration:ne,...Ee}=E,we=Ee._id,{_id:bt,...lt}=Ee,xe=ee==="new-teacher"?void 0:ee,Be={...lt,teacherIds:xe?[xe]:[],personalInfo:{...E.personalInfo,parentName:E.personalInfo.parentName||"לא צוין",parentPhone:E.personalInfo.parentPhone||"0500000000",parentEmail:E.personalInfo.parentEmail||"parent@example.com",studentEmail:E.personalInfo.studentEmail||"student@example.com"},enrollments:{orchestraIds:E.enrollments.orchestraIds,ensembleIds:E.enrollments.ensembleIds,schoolYears:E.enrollments.schoolYears}};let Ye;if(we)Ye=await nt.updateStudent(we,Be),await p();else if(Ye=await f(Be),c){c({...Ye,_newTeacherAssociation:ee==="new-teacher"});return}xe&&ue&&le&&ne&&await Xt.updateTeacherSchedule(xe,{studentId:Ye._id,lessonDay:ue,lessonTime:le,lessonDuration:ne,isActive:!0}),l()}catch(ee){console.error("Error saving student:",ee)}};return n?r.jsxs("div",{className:"student-form",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"סגור",children:r.jsx(aa,{size:20})}),r.jsx("h2",{children:i!=null&&i._id?"עריכת תלמיד":"הוספת תלמיד חדש"}),g&&r.jsx("div",{className:"error-message",children:g}),r.jsxs("form",{onSubmit:W,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"פרטים אישיים"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fullName",children:"שם מלא *"}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:((ae=E.personalInfo)==null?void 0:ae.fullName)||"",onChange:D,className:O["personalInfo.fullName"]?"is-invalid":"",required:!0}),O["personalInfo.fullName"]&&r.jsx("div",{className:"form-error",children:O["personalInfo.fullName"]})]})}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"טלפון"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:((te=E.personalInfo)==null?void 0:te.phone)||"",onChange:D,className:O["personalInfo.phone"]?"is-invalid":"",placeholder:"05XXXXXXXX"}),O["personalInfo.phone"]&&r.jsx("div",{className:"form-error",children:O["personalInfo.phone"]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"address",children:"כתובת"}),r.jsx("input",{type:"text",id:"address",name:"address",value:((H=E.personalInfo)==null?void 0:H.address)||"",onChange:D})]})]}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"age",children:"גיל"}),r.jsx("input",{type:"number",id:"age",name:"age",value:((ve=E.personalInfo)==null?void 0:ve.age)||"",onChange:D,min:"6",max:"99"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"class",children:"כיתה *"}),r.jsx("select",{id:"class",name:"class",value:((he=E.academicInfo)==null?void 0:he.class)||"",onChange:k,required:!0,children:mc.map(V=>r.jsx("option",{value:V,children:V},V))})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"studentEmail",children:"אימייל תלמיד"}),r.jsx("input",{type:"email",id:"studentEmail",name:"studentEmail",value:((ge=E.personalInfo)==null?void 0:ge.studentEmail)||"",onChange:D,className:O["personalInfo.studentEmail"]?"is-invalid":""}),O["personalInfo.studentEmail"]&&r.jsx("div",{className:"form-error",children:O["personalInfo.studentEmail"]})]})}),r.jsx("h4",{children:"פרטי הורה"}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentName",children:"שם הורה"}),r.jsx("input",{type:"text",id:"parentName",name:"parentName",value:(($=E.personalInfo)==null?void 0:$.parentName)||"",onChange:D})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentPhone",children:"טלפון הורה"}),r.jsx("input",{type:"tel",id:"parentPhone",name:"parentPhone",value:((re=E.personalInfo)==null?void 0:re.parentPhone)||"",onChange:D,className:O["personalInfo.parentPhone"]?"is-invalid":"",placeholder:"05XXXXXXXX"}),O["personalInfo.parentPhone"]&&r.jsx("div",{className:"form-error",children:O["personalInfo.parentPhone"]})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentEmail",children:"אימייל הורה"}),r.jsx("input",{type:"email",id:"parentEmail",name:"parentEmail",value:((se=E.personalInfo)==null?void 0:se.parentEmail)||"",onChange:D,className:O["personalInfo.parentEmail"]?"is-invalid":""}),O["personalInfo.parentEmail"]&&r.jsx("div",{className:"form-error",children:O["personalInfo.parentEmail"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"מידע אקדמי"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"instrument",children:"כלי נגינה *"}),r.jsx("select",{id:"instrument",name:"instrument",value:((be=E.academicInfo)==null?void 0:be.instrument)||"",onChange:k,required:!0,children:pc.map(V=>r.jsx("option",{value:V,children:V},V))})]})}),r.jsxs("div",{className:"form-row three-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"currentStage",children:"שלב נוכחי *"}),r.jsx("select",{id:"currentStage",name:"currentStage",value:((j=E.academicInfo)==null?void 0:j.currentStage)||1,onChange:k,required:!0,children:TS.map(V=>r.jsx("option",{value:V,children:V},V))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"technicalTestStatus",children:"מבחן טכני"}),r.jsx("select",{id:"technicalTestStatus",name:"technicalTestStatus",value:((U=(Y=(M=E.academicInfo)==null?void 0:M.tests)==null?void 0:Y.technicalTest)==null?void 0:U.status)||"לא נבחן",onChange:V=>X("technicalTest","status",V.target.value),children:rg.map(V=>r.jsx("option",{value:V,children:V},V))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stageTestStatus",children:"מבחן שלב"}),r.jsx("select",{id:"stageTestStatus",name:"stageTestStatus",value:((de=(oe=(q=E.academicInfo)==null?void 0:q.tests)==null?void 0:oe.stageTest)==null?void 0:de.status)||"לא נבחן",onChange:V=>X("stageTest","status",V.target.value),children:rg.map(V=>r.jsx("option",{value:V,children:V},V))})]})]})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"שיוך מורה"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"teacher",children:"מורה מלמד"}),r.jsxs("select",{id:"teacher",name:"teacher",value:E.teacherId||"",onChange:K,disabled:A,children:[r.jsx("option",{value:"",children:"בחר מורה"}),u&&r.jsxs("option",{value:"new-teacher",children:[u.fullName," ",u.instrument?`(${u.instrument})`:""," ","(המורה החדש)"]}),x.map(V=>{var ee;return r.jsxs("option",{value:V._id,children:[V.personalInfo.fullName," ",(ee=V.professionalInfo)!=null&&ee.instrument?`(${V.professionalInfo.instrument})`:""]},V._id)})]}),A&&r.jsx("div",{children:"טוען מורים..."})]})}),E.teacherId&&r.jsxs(r.Fragment,{children:[r.jsx("h4",{children:"מועד שיעור"}),r.jsxs("div",{className:"form-row lesson-schedule",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"lessonDay",children:"יום"}),r.jsxs("select",{id:"lessonDay",name:"lessonDay",value:E.lessonDay||"",onChange:ce,children:[r.jsx("option",{value:"",children:"בחר יום"}),wS.map(V=>r.jsx("option",{value:V,children:V},V))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"lessonTime",children:"שעה"}),r.jsx("input",{type:"time",id:"lessonTime",name:"lessonTime",value:E.lessonTime||"",onChange:ce})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"lessonDuration",children:"משך שיעור (דקות)"}),r.jsx("select",{id:"lessonDuration",name:"lessonDuration",value:E.lessonDuration||45,onChange:ce,children:CS.map(V=>r.jsx("option",{value:V,children:V},V))})]})]})]})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:h,children:h?"שומר...":i!=null&&i._id?"עדכון":"הוספה"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:"ביטול"})]})]})]})]}):null}function _s({isOpen:n,onClose:l,onConfirm:i,title:c,message:u,confirmText:f="אישור",cancelText:h="ביטול",type:g="danger"}){if(!n)return null;const y=()=>{i(),l()};return r.jsxs("div",{className:"confirm-dialog",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"dialog-content",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"סגור",children:r.jsx(aa,{size:20})}),r.jsx("h3",{className:`dialog-title ${g}`,children:c}),r.jsx("div",{className:"dialog-message",children:u}),r.jsxs("div",{className:"dialog-actions",children:[r.jsx("button",{type:"button",className:`btn ${g}`,onClick:y,children:f}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:h})]})]})]})}function OS(){const{students:n,isLoading:l,error:i,loadStudents:c,removeStudent:u}=zs(),{loadCurrentSchoolYear:f}=Ul(),[h,g]=S.useState(!1),[y,p]=S.useState(null),[v,x]=S.useState(!1),[w,A]=S.useState(null),N=he=>[he.personalInfo.fullName,he.academicInfo.instrument,he.academicInfo.class,he.personalInfo.parentName||"",he.personalInfo.studentEmail||""],{filteredEntities:E,handleSearch:C}=Md(n,N),O=Sa(),R=Zt(),{user:D}=Zn(),k=D==null?void 0:D.roles.includes("מנהל"),X=R.pathname.includes("/students/")&&!R.pathname.endsWith("/students/");S.useEffect(()=>{c(),f()},[c,f]);const K=()=>{p(null),g(!0)},ce=()=>{g(!1),p(null)},fe=he=>{const ge=n.find($=>$._id===he)||null;p(ge),g(!0)},W=he=>{O(`/students/${he}`)},ae=he=>{n.find($=>$._id===he)&&(A(he),x(!0))},te=async()=>{if(w)try{await u(w),A(null)}catch(he){console.error("Failed to remove student:",he)}},H=()=>{alert("Open filter dialog")},ve=k||(D==null?void 0:D.roles.includes("מורה"));return r.jsxs("div",{className:"app-container",children:[r.jsx(Hc,{}),r.jsxs("main",{className:"main-content",children:[!X&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(zd,{onSearch:C,placeholder:"חיפוש תלמידים..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:H,"aria-label":"סנן תלמידים",children:r.jsx(Cd,{className:"icon"})}),ve&&r.jsx("button",{className:"btn-icon add-btn",onClick:K,"aria-label":"הוספת תלמיד חדש",children:r.jsx(_l,{className:"icon"})})]})]})}),i&&r.jsx("div",{className:"error-message",children:i}),!X&&r.jsx(SS,{students:E,isLoading:l,onEdit:fe,onView:W,onRemove:k?ae:void 0}),r.jsx(Gr,{context:{loadStudents:c}}),r.jsx(Ny,{isOpen:h,onClose:ce,student:y||void 0}),r.jsx(_s,{isOpen:v,onClose:()=>x(!1),onConfirm:te,title:"מחיקת תלמיד",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק את התלמיד?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"})]}),!X&&!h&&r.jsx(ei,{})]})}const qn={async getOrchestras(n={}){return Me.get("orchestra",n)},async getOrchestraById(n){return Me.get(`orchestra/${n}`)},async getOrchestrasByIds(n){return!n||n.length===0?[]:(await this.getOrchestras()).filter(i=>n.includes(i._id))},async getOrchestrasByConductorId(n){return this.getOrchestras({conductorId:n})},async getOrchestrasByStudentId(n){return this.getOrchestras({memberIds:n})},async addOrchestra(n){return Me.post("orchestra",n)},async updateOrchestra(n,l){const{_id:i,...c}=l;return Me.put(`orchestra/${n}`,c)},async removeOrchestra(n){return Me.delete(`orchestra/${n}`)},async addMember(n,l){try{const i=await Me.post(`orchestra/${n}/members`,{studentId:l}),c=await nt.getStudentById(l);return c.enrollments.orchestraIds.includes(n)||await nt.updateStudent(l,{enrollments:{...c.enrollments,orchestraIds:[...c.enrollments.orchestraIds,n]}}),i}catch(i){throw console.error("Error adding member to orchestra:",i),i}},async removeMember(n,l){try{const i=await Me.delete(`orchestra/${n}/members/${l}`),c=await nt.getStudentById(l);return await nt.updateStudent(l,{enrollments:{...c.enrollments,orchestraIds:c.enrollments.orchestraIds.filter(u=>u!==n)}}),i}catch(i){throw console.error("Error removing member from orchestra:",i),i}},async updateMembers(n,l,i=[]){try{const c=await this.updateOrchestra(n,{memberIds:l}),u=l.filter(h=>!i.includes(h)),f=i.filter(h=>!l.includes(h));for(const h of u){const g=await nt.getStudentById(h);g.enrollments.orchestraIds.includes(n)||await nt.updateStudent(h,{enrollments:{...g.enrollments,orchestraIds:[...g.enrollments.orchestraIds,n]}})}for(const h of f){const g=await nt.getStudentById(h);await nt.updateStudent(h,{enrollments:{...g.enrollments,orchestraIds:g.enrollments.orchestraIds.filter(y=>y!==n)}})}return c}catch(c){throw console.error("Error updating orchestra members:",c),c}},async getRehearsalAttendance(n,l){return Me.get(`orchestra/${n}/rehearsals/${l}/attendance`)},async updateRehearsalAttendance(n,l,i){return Me.put(`orchestra/${n}/rehearsals/${l}/attendance`,i)},async getStudentAttendanceStats(n,l){return Me.get(`orchestra/${n}/student/${l}/attendance`)},async syncOrchestraMembers(n){try{const l=await this.getOrchestraById(n),u=(await nt.getStudents()).filter(g=>g.enrollments.orchestraIds.includes(n)).map(g=>g._id),f=u.filter(g=>!l.memberIds.includes(g)),h=l.memberIds.filter(g=>!u.includes(g));if(f.length>0){const g=[...l.memberIds,...f];await this.updateOrchestra(n,{memberIds:g})}for(const g of h){const y=await nt.getStudentById(g);await nt.updateStudent(g,{enrollments:{...y.enrollments,orchestraIds:y.enrollments.orchestraIds.filter(p=>p!==n)}})}}catch(l){throw console.error("Error syncing orchestra members:",l),l}},getOrchestraTypeDisplay(n){return{תזמורת:"תזמורת",הרכב:"הרכב"}[n]||n},getValidOrchestraTypes(){return["תזמורת","הרכב"]},getValidOrchestraNames(){return["תזמורת מתחילים נשיפה","תזמורת עתודה נשיפה","תזמורת צעירה נשיפה","תזמורת יצוגית נשיפה","תזמורת סימפונית"]}};function ig(){var ge,$,re,se,be,j,M,Y,U,q,oe,de,V,ee,ue,le,ne,Ee,we,bt,lt;const{studentId:n}=Dc(),{selectedStudent:l,loadStudentById:i,isLoading:c,error:u}=zs(),[f,h]=S.useState(!1),[g,y]=S.useState(null),[p,v]=S.useState(null),[x,w]=S.useState(!1),[A,N]=S.useState([]),[E,C]=S.useState(!1),[O,R]=S.useState(!1),D=Sa(),[k,X]=S.useState({teacher:!1,orchestras:!1,tests:!1,attendance:!1,personalInfo:!1,parentInfo:!1}),K=xe=>{X(Be=>({...Be,[xe]:!Be[xe]}))};S.useEffect(()=>{n&&i(n)},[n,i]),S.useEffect(()=>{var xe;(xe=l==null?void 0:l.teacherIds)!=null&&xe.length&&(w(!0),(async()=>{var Ye;try{const ut=await Xt.getTeacherById(l.teacherIds[0]);v({id:ut._id,name:ut.personalInfo.fullName,instrument:(Ye=ut.professionalInfo)==null?void 0:Ye.instrument})}catch(ut){console.error("Failed to fetch teacher data:",ut)}finally{w(!1)}})())},[l]),S.useEffect(()=>{var xe;(xe=l==null?void 0:l.enrollments)!=null&&xe.orchestraIds&&l.enrollments.orchestraIds.length>0&&(C(!0),(async()=>{try{const Ye=l.enrollments.orchestraIds,ut=await qn.getOrchestrasByIds(Ye);N(ut)}catch(Ye){console.error("Failed to fetch orchestra data:",Ye)}finally{C(!1)}})())},[l]),S.useEffect(()=>{var xe,Be;l&&((Be=(xe=l.enrollments)==null?void 0:xe.orchestraIds)==null?void 0:Be.length)>0&&k.attendance&&(R(!0),(async()=>{const ut=l.enrollments.orchestraIds[0];try{const Dt=await nt.getStudentAttendanceStats(ut,l._id);y(Dt)}catch(Dt){console.error("Failed to fetch attendance stats:",Dt),y({attendanceRate:0,attended:0,totalRehearsals:0,recentHistory:[],message:"Failed to load attendance data"})}finally{R(!1)}})())},[l,k.attendance]);const ce=()=>{h(!f)},fe=()=>{D("/students")},W=xe=>{D(`/teachers/${xe}`)},ae=xe=>{D(`/orchestras/${xe}`)},te=xe=>xe?new Date(xe).toLocaleDateString("he-IL"):"לא זמין";if(c)return r.jsxs("div",{className:"loading-state",children:[r.jsx(yl,{className:"loading-icon",size:28}),r.jsx("p",{children:"טוען פרטי תלמיד..."})]});if(u||!l)return r.jsxs("div",{className:"error-state",children:[r.jsx("p",{children:u||"לא ניתן לטעון את פרטי התלמיד"}),r.jsx("button",{onClick:fe,className:"btn primary",children:"חזרה לרשימת התלמידים"})]});const H=l,ve=xe=>xe.split(" ").map(Be=>Be[0]).join("").toUpperCase().substring(0,2),he=xe=>{const Be=["var(--stage-1)","var(--stage-2)","var(--stage-3)","var(--stage-4)","var(--stage-5)","var(--stage-6)","var(--stage-7)","var(--stage-8)"];return Be[xe-1]||Be[0]};return r.jsx("div",{className:"student-details-content",children:r.jsx("div",{className:"student-details-page",children:r.jsx("div",{className:"student-card-container",children:r.jsxs("div",{className:`card-content ${f?"flipped":""}`,children:[r.jsxs("div",{className:"card-side card-front",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"student-identity",children:[r.jsx("div",{className:"avatar",style:{backgroundColor:he(H.academicInfo.currentStage)},children:ve(H.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"student-name",children:H.personalInfo.fullName}),r.jsxs("div",{className:"instrument",children:[r.jsx(qt,{size:14}),r.jsx("span",{children:H.academicInfo.instrument})]})]})]}),r.jsxs("div",{className:"header-badges",children:[r.jsxs("div",{className:"stage-badge",style:{backgroundColor:he(H.academicInfo.currentStage)},children:["שלב ",H.academicInfo.currentStage]}),r.jsxs("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:["כיתה ",H.academicInfo.class]}),r.jsx("button",{className:"back-button",onClick:fe,"aria-label":"חזרה",children:r.jsx(ta,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${k.teacher?"active":""}`,onClick:()=>K("teacher"),children:[r.jsx(Qa,{size:16}),r.jsx("span",{children:"מורה"}),k.teacher?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),k.teacher&&r.jsx("div",{className:"section-content",children:x?r.jsxs("div",{className:"loading-section",children:[r.jsx(yl,{size:16,className:"loading-icon"}),r.jsx("span",{children:"טוען פרטי מורה..."})]}):p?r.jsxs("div",{className:"teacher-info clickable",onClick:()=>W(p.id),children:[r.jsx(Qa,{size:14}),r.jsx("span",{children:p.name})]}):r.jsx("div",{className:"no-teacher-warning",children:"לא הוקצה מורה לתלמיד"})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${k.orchestras?"active":""}`,onClick:()=>K("orchestras"),children:[r.jsx(qt,{size:16}),r.jsx("span",{children:"תזמורות"}),k.orchestras?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),k.orchestras&&r.jsx("div",{className:"section-content",children:(($=(ge=H.enrollments)==null?void 0:ge.orchestraIds)==null?void 0:$.length)>0?E?r.jsxs("div",{className:"loading-section",children:[r.jsx(yl,{size:16,className:"loading-icon"}),r.jsx("span",{children:"טוען נתוני תזמורת..."})]}):r.jsx("div",{className:"orchestras-grid",children:A.map(xe=>r.jsx("div",{className:"orchestra-card clickable",onClick:()=>ae(xe._id),children:r.jsx("span",{children:xe.name})},xe._id))}):r.jsx("div",{className:"no-orchestra-warning",children:"התלמיד אינו משתתף בתזמורות"})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${k.tests?"active":""}`,onClick:()=>K("tests"),children:[r.jsx(Lg,{size:16}),r.jsx("span",{children:"מבחנים"}),k.tests?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),k.tests&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"tests-grid",children:[r.jsxs("div",{className:"test-card",children:[r.jsxs("div",{className:"test-header",children:[r.jsx("h3",{children:"מבחן טכני"}),r.jsx("span",{className:`test-status ${((se=(re=H.academicInfo.tests)==null?void 0:re.technicalTest)==null?void 0:se.status)==="עבר/ה"?"passed":((j=(be=H.academicInfo.tests)==null?void 0:be.technicalTest)==null?void 0:j.status)==="לא עבר/ה"?"failed":""}`,children:((Y=(M=H.academicInfo.tests)==null?void 0:M.technicalTest)==null?void 0:Y.status)||"לא נבחן"})]}),((q=(U=H.academicInfo.tests)==null?void 0:U.technicalTest)==null?void 0:q.lastTestDate)&&r.jsxs("div",{className:"test-date",children:[r.jsx(st,{size:12}),r.jsx("span",{children:te(H.academicInfo.tests.technicalTest.lastTestDate)})]})]}),r.jsxs("div",{className:"test-card",children:[r.jsxs("div",{className:"test-header",children:[r.jsx("h3",{children:"מבחן שלב"}),r.jsx("span",{className:`test-status ${((de=(oe=H.academicInfo.tests)==null?void 0:oe.stageTest)==null?void 0:de.status)==="עבר/ה"?"passed":((ee=(V=H.academicInfo.tests)==null?void 0:V.stageTest)==null?void 0:ee.status)==="לא עבר/ה"?"failed":""}`,children:((le=(ue=H.academicInfo.tests)==null?void 0:ue.stageTest)==null?void 0:le.status)||"לא נבחן"})]}),((Ee=(ne=H.academicInfo.tests)==null?void 0:ne.stageTest)==null?void 0:Ee.lastTestDate)&&r.jsxs("div",{className:"test-date",children:[r.jsx(st,{size:12}),r.jsx("span",{children:te(H.academicInfo.tests.stageTest.lastTestDate)})]})]})]})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${k.attendance?"active":""}`,onClick:()=>K("attendance"),children:[r.jsx(st,{size:16}),r.jsx("span",{children:"נוכחות"}),k.attendance?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),k.attendance&&r.jsx("div",{className:"section-content",children:((bt=(we=H.enrollments)==null?void 0:we.orchestraIds)==null?void 0:bt.length)>0?r.jsx("div",{className:"attendance-container",children:O?r.jsxs("div",{className:"loading-attendance",children:[r.jsx(yl,{size:16,className:"loading-icon"}),r.jsx("span",{children:"טוען נתוני נוכחות..."})]}):g?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"attendance-summary",children:[r.jsxs("div",{className:"attendance-stat",children:[r.jsx("span",{className:"stat-label",children:"שיעור נוכחות"}),r.jsxs("div",{className:"attendance-rate",children:[Math.round(g.attendanceRate),"%"]})]}),r.jsxs("div",{className:"attendance-stat",children:[r.jsx("span",{className:"stat-label",children:"נוכח"}),r.jsxs("div",{className:"attendance-count",children:[g.attended," /"," ",g.totalRehearsals]})]})]}),((lt=g.recentHistory)==null?void 0:lt.length)>0?r.jsxs("div",{className:"attendance-history",children:[r.jsx("h3",{className:"history-title",children:"היסטוריית נוכחות אחרונה"}),r.jsx("div",{className:"history-entries",children:g.recentHistory.map((xe,Be)=>r.jsxs("div",{className:"history-entry",children:[r.jsx("div",{className:`status-indicator ${xe.status==="הגיע/ה"?"present":"absent"}`}),r.jsx("span",{className:"history-date",children:te(xe.date)}),r.jsx("span",{className:`history-status ${xe.status==="הגיע/ה"?"present":"absent"}`,children:xe.status})]},Be))})]}):r.jsx("div",{className:"no-attendance-history",children:"אין היסטוריית נוכחות זמינה"}),g.message&&r.jsx("div",{className:"attendance-message warning",children:g.message})]}):r.jsx("div",{className:"no-attendance-data",children:"אין נתוני נוכחות זמינים"})}):r.jsx("div",{className:"no-orchestra-warning",children:"אין נתוני נוכחות עבור תלמיד שאינו משתתף בתזמורות"})})]})]}),r.jsx("button",{className:"flip-button",onClick:ce,children:f?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג מידע אקדמי"}),r.jsx(ta,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג פרטים אישיים"}),r.jsx(ta,{size:14})]})})]}),r.jsxs("div",{className:"card-side card-back",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"student-identity",children:[r.jsx("div",{className:"avatar",style:{backgroundColor:he(H.academicInfo.currentStage)},children:ve(H.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"student-name",children:H.personalInfo.fullName}),r.jsxs("div",{className:"instrument",children:[r.jsx(qt,{size:14}),r.jsx("span",{children:H.academicInfo.instrument})]})]})]}),r.jsxs("div",{className:"header-badges",children:[r.jsxs("div",{className:"stage-badge",style:{backgroundColor:he(H.academicInfo.currentStage)},children:["שלב ",H.academicInfo.currentStage]}),r.jsxs("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:["כיתה ",H.academicInfo.class]})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${k.personalInfo?"active":""}`,onClick:()=>K("personalInfo"),children:[r.jsx(Qa,{size:16}),r.jsx("span",{children:"פרטים אישיים"}),k.personalInfo?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),k.personalInfo&&(H.personalInfo.phone||H.personalInfo.address||H.personalInfo.studentEmail||H.createdAt||H.academicInfo.class)?r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[H.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(qr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"טלפון"}),r.jsx("span",{className:"info-value",children:H.personalInfo.phone})]})]}),H.personalInfo.address&&r.jsxs("div",{className:"info-item",children:[r.jsx(Zr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"כתובת"}),r.jsx("span",{className:"info-value",children:H.personalInfo.address})]})]}),H.personalInfo.studentEmail&&r.jsxs("div",{className:"info-item",children:[r.jsx(Cs,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"אימייל"}),r.jsx("span",{className:"info-value",children:H.personalInfo.studentEmail})]})]}),H.createdAt&&r.jsxs("div",{className:"info-item",children:[r.jsx(st,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"תאריך הצטרפות"}),r.jsx("span",{className:"info-value",children:te(H.createdAt)})]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(Ug,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"כיתה"}),r.jsx("span",{className:"info-value",children:H.academicInfo.class})]})]})]})}):k.personalInfo?r.jsx("div",{className:"section-content",children:r.jsx("div",{className:"no-data-message",children:"אין פרטים אישיים"})}):null]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${k.parentInfo?"active":""}`,onClick:()=>K("parentInfo"),children:[r.jsx(Qa,{size:16}),r.jsx("span",{children:"פרטי הורה"}),k.parentInfo?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),k.parentInfo&&(H.personalInfo.parentName&&H.personalInfo.parentName!=="לא צוין"||H.personalInfo.parentPhone&&H.personalInfo.parentPhone!=="לא צוין"&&H.personalInfo.parentPhone!=="0500000000"||H.personalInfo.parentEmail&&H.personalInfo.parentEmail!=="לא צוין"&&H.personalInfo.parentEmail!=="parent@example.com")?r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[H.personalInfo.parentName&&H.personalInfo.parentName!=="לא צוין"&&r.jsxs("div",{className:"info-item",children:[r.jsx(Qa,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"שם הורה"}),r.jsx("span",{className:"info-value",children:H.personalInfo.parentName})]})]}),H.personalInfo.parentPhone&&H.personalInfo.parentPhone!=="לא צוין"&&H.personalInfo.parentPhone!=="0500000000"&&r.jsxs("div",{className:"info-item",children:[r.jsx(qr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"טלפון הורה"}),r.jsx("span",{className:"info-value",children:H.personalInfo.parentPhone})]})]}),H.personalInfo.parentEmail&&H.personalInfo.parentEmail!=="לא צוין"&&H.personalInfo.parentEmail!=="parent@example.com"&&r.jsxs("div",{className:"info-item",children:[r.jsx(Cs,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"אימייל הורה"}),r.jsx("span",{className:"info-value",children:H.personalInfo.parentEmail})]})]})]})}):k.parentInfo?r.jsx("div",{className:"section-content",children:r.jsx("div",{className:"no-data-message",children:"אין פרטי הורה"})}):null]})]}),r.jsx("button",{className:"flip-button",onClick:ce,children:f?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג מידע אקדמי"}),r.jsx(ta,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג פרטים אישיים"}),r.jsx(ta,{size:14})]})})]})]})})})})}const Ol=zl((n,l)=>({teachers:[],selectedTeacher:null,filterBy:{},isLoading:!1,error:null,loadTeachers:async(i={})=>{n({isLoading:!0,error:null});try{const c={...l().filterBy,...i};console.log("Fetching teachers with filter:",c);const u=await Xt.getTeachers(c);console.log("Teachers API response:",{type:typeof u,isArray:Array.isArray(u),length:u&&Array.isArray(u)?u.length:"n/a"});const f=Array.isArray(u)?u:[];n({teachers:f,filterBy:c,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load teachers";n({error:u,isLoading:!1,teachers:[]}),console.error("Error loading teachers:",c)}},loadTeacherById:async i=>{n({isLoading:!0,error:null});try{const c=await Xt.getTeacherById(i);n({selectedTeacher:c,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load teacher";n({error:u,isLoading:!1}),console.error("Error loading teacher:",c)}},saveTeacher:async(i,c)=>{n({isLoading:!0,error:null});try{let u;if(c){console.log(`Updating teacher ${c} with:`,i),u=await Xt.updateTeacher(c,i);const f=l().teachers,h=Array.isArray(f)?f.map(g=>g._id===u._id?u:g):[u];n({teachers:h,selectedTeacher:u,isLoading:!1})}else{console.log("Creating new teacher:",i),u=await Xt.addTeacher(i);const f=l().teachers,h=Array.isArray(f)?[...f,u]:[u];n({teachers:h,selectedTeacher:u,isLoading:!1})}return u}catch(u){const f=u instanceof Error?u.message:"Failed to save teacher";throw n({error:f,isLoading:!1}),console.error("Error saving teacher:",u),u}},removeTeacher:async i=>{var c;n({isLoading:!0,error:null});try{await Xt.removeTeacher(i);const u=l().teachers;if(!Array.isArray(u)){n({teachers:[],isLoading:!1});return}n({teachers:u.filter(f=>f._id!==i),selectedTeacher:((c=l().selectedTeacher)==null?void 0:c._id)===i?null:l().selectedTeacher,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove teacher";throw n({error:f,isLoading:!1}),console.error("Error removing teacher:",u),u}},setFilter:i=>{n({filterBy:{...l().filterBy,...i}})},clearSelectedTeacher:()=>{n({selectedTeacher:null})},clearError:()=>{n({error:null})},updateTeacherSchedule:async(i,c)=>{var u;n({isLoading:!0,error:null});try{const f=await Xt.updateTeacherSchedule(i,c);((u=l().selectedTeacher)==null?void 0:u._id)===i&&n({selectedTeacher:f});const h=l().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const g=h.map(y=>y._id===i?f:y);n({teachers:g,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to update teacher schedule";throw n({error:h,isLoading:!1}),console.error("Error updating teacher schedule:",f),f}},assignStudentToTeacher:async(i,c)=>{var u,f,h,g;n({isLoading:!0,error:null});try{const y=l().selectedTeacher,p=((u=y==null?void 0:y.teaching)==null?void 0:u.studentIds)||[];Array.isArray(p)||console.error("Expected studentIds to be an array but got:",typeof p);const v=await Xt.updateTeacher(i,{teaching:{studentIds:[...Array.isArray(p)?p:[],c],schedule:((h=(f=l().selectedTeacher)==null?void 0:f.teaching)==null?void 0:h.schedule)||[]}});((g=l().selectedTeacher)==null?void 0:g._id)===i&&n({selectedTeacher:v});const x=l().teachers;if(!Array.isArray(x)){n({teachers:[v],isLoading:!1});return}const w=x.map(A=>A._id===i?v:A);n({teachers:w,isLoading:!1})}catch(y){const p=y instanceof Error?y.message:"Failed to assign student to teacher";throw n({error:p,isLoading:!1}),console.error("Error assigning student to teacher:",y),y}},removeStudentFromTeacher:async(i,c)=>{var u;n({isLoading:!0,error:null});try{const f=l().selectedTeacher;if(!f||!f.teaching)throw new Error("Teacher not found or no teaching data");const h=f.teaching.studentIds;if(!Array.isArray(h))throw console.error("Expected studentIds to be an array but got:",typeof h),new Error("Invalid student data structure");const g=h.filter(x=>x!==c),y=await Xt.updateTeacher(i,{teaching:{...f.teaching,studentIds:g}});((u=l().selectedTeacher)==null?void 0:u._id)===i&&n({selectedTeacher:y});const p=l().teachers;if(!Array.isArray(p)){n({teachers:[y],isLoading:!1});return}const v=p.map(x=>x._id===i?y:x);n({teachers:v,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to remove student from teacher";throw n({error:h,isLoading:!1}),console.error("Error removing student from teacher:",f),f}},assignOrchestraToTeacher:async(i,c)=>{var u;n({isLoading:!0,error:null});try{const f=await Xt.addOrchestra(i,c);((u=l().selectedTeacher)==null?void 0:u._id)===i&&n({selectedTeacher:f});const h=l().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const g=h.map(y=>y._id===i?f:y);n({teachers:g,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to assign orchestra to teacher";throw n({error:h,isLoading:!1}),console.error("Error assigning orchestra to teacher:",f),f}},removeOrchestraFromTeacher:async(i,c)=>{var u;n({isLoading:!0,error:null});try{const f=await Xt.removeOrchestra(i,c);((u=l().selectedTeacher)==null?void 0:u._id)===i&&n({selectedTeacher:f});const h=l().teachers;if(!Array.isArray(h)){n({teachers:[f],isLoading:!1});return}const g=h.map(y=>y._id===i?f:y);n({teachers:g,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to remove orchestra from teacher";throw n({error:h,isLoading:!1}),console.error("Error removing orchestra from teacher:",f),f}}})),AS=n=>{let l=n.replace(/\D/g,"");return l.startsWith("0")&&(l=`972${l.substring(1)}`),l},RS=(n,l="")=>{const i=AS(n),c=encodeURIComponent(l),u=`https://wa.me/${i}?text=${c}`;window.open(u,"_blank")};function DS({teacher:n,onView:l,onEdit:i,onRemove:c}){var x,w,A;const u=N=>N.split(" ").map(E=>E[0]).join("").toUpperCase().substring(0,2),f=N=>({מורה:"#4D55CC",מנצח:"#28A745","מדריך הרכב":"#FFC107",מנהל:"#DC3545"})[N]||"#6c757d",h=N=>N===0?"אין תלמידים":N===1?"תלמיד אחד":`${N} תלמידים`,g=(N,E)=>{N.stopPropagation(),RS(E)},p=((x=n.teaching)==null?void 0:x.studentIds)&&n.teaching.studentIds.length>0&&n.teaching?n.teaching.studentIds.length:0,v=n.roles&&n.roles.length>0?n.roles[0]:"מורה";return r.jsxs("div",{className:"teacher-preview",onClick:()=>l(n._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"preview-header",children:[r.jsxs("div",{className:"teacher-header-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:f(v)},children:u(n.personalInfo.fullName)})}),r.jsxs("div",{className:"teacher-info",children:[r.jsx("h3",{className:"teacher-name",children:n.personalInfo.fullName}),r.jsx("div",{className:"teacher-subject",children:(w=n.professionalInfo)!=null&&w.instrument?r.jsxs(r.Fragment,{children:[r.jsx(qt,{size:14}),r.jsx("span",{children:n.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Ig,{size:14}),r.jsx("span",{children:v})]})})]})]}),r.jsx("div",{className:"badges-container",children:n.roles&&n.roles.map(N=>r.jsx("div",{className:"role-badge",style:{backgroundColor:f(N)},children:r.jsx("span",{children:N})},N))})]}),r.jsx("div",{className:"preview-content",children:r.jsxs("div",{className:"info-row",children:[n.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(qr,{size:16}),r.jsx("span",{className:"clickable-phone",onClick:N=>n.personalInfo.phone&&g(N,n.personalInfo.phone),title:"לחץ לפתיחת שיחה בוואטסאפ",children:n.personalInfo.phone})]}),n.personalInfo.email&&r.jsxs("div",{className:"info-item",children:[r.jsx(Cs,{size:16}),r.jsx("span",{children:n.personalInfo.email})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(Kr,{size:16}),r.jsx("span",{children:h(p)})]}),((A=n.conducting)==null?void 0:A.orchestraIds)&&n.conducting.orchestraIds.length>0&&r.jsxs("div",{className:"info-item",children:[r.jsx(qt,{size:16}),r.jsx("span",{children:n.conducting.orchestraIds.length===1?"מנצח על תזמורת אחת":`מנצח על ${n.conducting.orchestraIds.length} תזמורות`})]})]})}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:N=>{N.stopPropagation(),l(n._id)},"aria-label":"הצג פרטי מורה",children:r.jsx($r,{size:16})}),r.jsx("button",{className:"action-btn edit",onClick:N=>{N.stopPropagation(),i(n._id)},"aria-label":"ערוך מורה",children:r.jsx(As,{size:16})}),c&&r.jsx("button",{className:"action-btn delete",onClick:N=>{N.stopPropagation(),c(n._id)},"aria-label":"מחק מורה",children:r.jsx(zc,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(st,{size:14}),r.jsx("span",{children:new Date(n.createdAt||Date.now()).toLocaleDateString("he-IL")})]})]})]})}function _S({teachers:n,isLoading:l,onEdit:i,onView:c,onRemove:u}){return Array.isArray(n)?l&&n.length===0?r.jsx("div",{className:"loading-state",children:"טוען מורים..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"לא נמצאו מורים להצגה"}),r.jsx("p",{children:"נסה לשנות את מסנני החיפוש או להוסיף מורים חדשים"})]}):r.jsx("div",{className:"teacher-grid",children:n.map(f=>r.jsx(DS,{teacher:f,onEdit:i,onView:c||i,onRemove:u},f._id))}):(console.error("Expected teachers to be an array but got:",typeof n,n),r.jsx("div",{className:"error-state",children:"שגיאה בטעינת נתונים"}))}const zS=["מורה","מנצח","מדריך הרכב","מנהל","מורה תאוריה"],Sc=["חצוצרה","חליל צד","קלרינט","קרן יער","בריטון","טרומבון","סקסופון","אבוב"],vl=["ראשון","שני","שלישי","רביעי","חמישי","שישי"],MS=[30,45,60],LS=({initialTeacher:n,onClose:l,onSave:i})=>{const{saveTeacher:c,isLoading:u,error:f,clearError:h}=Ol(),{currentSchoolYear:g}=Ul(),[y,p]=S.useState([]),[v,x]=S.useState(!1),[w,A]=S.useState(!1),[N,E]=S.useState({personalInfo:{fullName:"",phone:"",email:"",address:""},roles:["מורה"],professionalInfo:{instrument:Sc[0],isActive:!0},teaching:{studentIds:[],schedule:[]},conducting:{orchestraIds:[]},ensemblesIds:[],schoolYears:[],credentials:{email:"",password:""},isActive:!0}),[C,O]=S.useState([]),[R,D]=S.useState({}),[k,X]=S.useState(!1),[K,ce]=S.useState(!1),fe=!(n!=null&&n._id);S.useEffect(()=>{const j=()=>{A(window.innerWidth<768)};return j(),window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j)}},[]),S.useEffect(()=>{(async()=>{x(!0);try{const M=await qn.getOrchestras({isActive:!0});p(M)}catch(M){console.error("Failed to load orchestras:",M)}finally{x(!1)}})()},[]),S.useEffect(()=>{C.length>0&&(console.log("Updating formData schedule from scheduleItems:",C),E(j=>({...j,teaching:{...j.teaching,schedule:[...C]}})))},[C]),S.useEffect(()=>{var j,M,Y,U,q,oe,de,V,ee,ue,le;if(n!=null&&n._id){if((j=n.teaching)!=null&&j.schedule&&Array.isArray(n.teaching.schedule)){const ne=n.teaching.schedule.filter(Ee=>Ee&&Ee.studentId).map(Ee=>({studentId:Ee.studentId,day:Ee.day||vl[0],time:Ee.time||"08:00",duration:Ee.duration||45,isActive:Ee.isActive!==!1}));console.log("Setting initial schedule items:",ne),O(ne)}E({_id:n._id,personalInfo:{fullName:((M=n.personalInfo)==null?void 0:M.fullName)||"",phone:((Y=n.personalInfo)==null?void 0:Y.phone)||"",email:((U=n.personalInfo)==null?void 0:U.email)||"",address:((q=n.personalInfo)==null?void 0:q.address)||""},roles:n.roles||["מורה"],professionalInfo:{instrument:((oe=n.professionalInfo)==null?void 0:oe.instrument)||Sc[0],isActive:((de=n.professionalInfo)==null?void 0:de.isActive)!==!1},teaching:{studentIds:((V=n.teaching)==null?void 0:V.studentIds)||[],schedule:((ee=n.teaching)==null?void 0:ee.schedule)||[]},conducting:{orchestraIds:((ue=n.conducting)==null?void 0:ue.orchestraIds)||[]},ensemblesIds:n.ensemblesIds||[],schoolYears:n.schoolYears||[],credentials:{email:((le=n.personalInfo)==null?void 0:le.email)||"",password:""},isActive:n.isActive!==!1})}else E({personalInfo:{fullName:"",phone:"",email:"",address:""},roles:["מורה"],professionalInfo:{instrument:Sc[0],isActive:!0},teaching:{studentIds:[],schedule:[]},conducting:{orchestraIds:[]},ensemblesIds:[],schoolYears:g?[{schoolYearId:g._id,isActive:!0}]:[],credentials:{email:"",password:""},isActive:!0}),O([]);D({}),h==null||h()},[n,h,g]);const W=S.useCallback(j=>{const{name:M,value:Y}=j.target;E(U=>{const q={...U.personalInfo,[M]:Y},oe={...U.credentials,email:M==="email"?Y:U.credentials.email};return{...U,personalInfo:q,credentials:oe}}),D(U=>{if(U[`personalInfo.${M}`]){const q={...U};return delete q[`personalInfo.${M}`],q}return U})},[]),ae=S.useCallback(j=>{const{name:M,value:Y}=j.target;E(U=>({...U,professionalInfo:{...U.professionalInfo,[M]:Y}})),D(U=>{if(U[`professionalInfo.${M}`]){const q={...U};return delete q[`professionalInfo.${M}`],q}return U})},[]),te=S.useCallback(j=>{const{value:M,checked:Y}=j.target;E(U=>{let q=[...U.roles];return Y?q.includes(M)||q.push(M):(q=q.filter(oe=>oe!==M),q.length===0&&(q=["מורה"])),{...U,roles:q}}),D(U=>{if(U.roles){const q={...U};return delete q.roles,q}return U})},[]),H=S.useCallback(j=>{const{name:M,value:Y}=j.target;E(U=>({...U,credentials:{...U.credentials,[M]:Y}})),D(U=>{if(U[`credentials.${M}`]){const q={...U};return delete q[`credentials.${M}`],q}return U})},[]),ve=S.useCallback(j=>{const M=Array.from(j.target.selectedOptions).map(Y=>Y.value);E(Y=>({...Y,conducting:{...Y.conducting,orchestraIds:M}})),D(Y=>{if(Y["conducting.orchestraIds"]){const U={...Y};return delete U["conducting.orchestraIds"],U}return Y})},[]),he=S.useCallback((j,M,Y)=>{console.log(`Updating schedule for student ${j}, ${M} = ${Y}`),O(U=>{const q=U.findIndex(de=>de.studentId===j);if(q===-1){const de={studentId:j,day:M==="day"?Y:vl[0],time:M==="time"?Y:"08:00",duration:M==="duration"?Y:45,isActive:!0};return console.log(`Created new schedule item for student ${j}:`,de),[...U,de]}const oe=[...U];return oe[q]={...oe[q],[M]:Y},console.log("Updated schedule item:",oe[q]),oe})},[]),ge=S.useCallback(j=>{const M=C.find(U=>U.studentId===j);if(M){console.log(`Schedule item already exists for student ${j}:`,M);return}const Y={studentId:j,day:vl[0],time:"08:00",duration:45,isActive:!0};console.log(`Creating new schedule item for student ${j}:`,Y),O(U=>[...U,Y])},[C]),$=S.useCallback(j=>{console.log(`Removing schedule item for student ${j}`),O(M=>M.filter(Y=>Y.studentId!==j))},[]),re=S.useCallback(j=>{console.log("Updating student IDs:",j),E(M=>({...M,teaching:{...M.teaching,studentIds:j}}))},[]),se=S.useCallback(()=>{var Y,U,q,oe,de;const j={};return(Y=N.personalInfo)!=null&&Y.fullName||(j["personalInfo.fullName"]="שם מלא הוא שדה חובה"),(U=N.personalInfo)!=null&&U.phone?/^05\d{8}$/.test(N.personalInfo.phone)||(j["personalInfo.phone"]="מספר טלפון לא תקין (צריך להתחיל ב-05 ולכלול 10 ספרות)"):j["personalInfo.phone"]="טלפון הוא שדה חובה",(q=N.personalInfo)!=null&&q.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.personalInfo.email)||(j["personalInfo.email"]='כתובת דוא"ל לא תקינה'):j["personalInfo.email"]='דוא"ל הוא שדה חובה',(oe=N.personalInfo)!=null&&oe.address||(j["personalInfo.address"]="כתובת היא שדה חובה"),N.roles.includes("מורה")&&!((de=N.professionalInfo)!=null&&de.instrument)&&(j["professionalInfo.instrument"]="כלי נגינה הוא שדה חובה למורה"),N.roles.length===0&&(j.roles="יש לבחור לפחות תפקיד אחד"),fe&&(N.credentials.password||(j["credentials.password"]="סיסמה היא שדה חובה"),N.personalInfo.email!==N.credentials.email&&(j["credentials.email"]='דוא"ל בהרשאות חייב להתאים לדוא"ל בפרטים אישיים')),D(j),Object.keys(j).length===0},[N,fe]),be=S.useCallback(async j=>{var M;if(j.preventDefault(),console.log("Submit triggered"),!se())return console.log("Validation failed"),!1;ce(!0);try{const Y=N._id,U=C.map(de=>({studentId:de.studentId,day:de.day||vl[0],time:de.time||"08:00",duration:de.duration||45,isActive:de.isActive!==!1})),q={...N,teaching:{...N.teaching,schedule:U}};console.log("Submitting with schedule:",U);let oe;if(Y)oe={personalInfo:q.personalInfo,roles:q.roles,professionalInfo:q.professionalInfo,isActive:q.isActive},q.teaching&&q.teaching.studentIds.length>0&&(oe.teaching={studentIds:q.teaching.studentIds},U.length>0&&(oe.teaching.schedule=U)),q.conducting&&q.conducting.orchestraIds.length>0&&(oe.conducting={orchestraIds:q.conducting.orchestraIds}),q.ensemblesIds&&q.ensemblesIds.length>0&&(oe.ensemblesIds=q.ensemblesIds),console.log("Final update data to be sent:",oe);else{const{_id:de,...V}=q;oe=V}return g&&!((M=oe.schoolYears)!=null&&M.some(de=>de.schoolYearId===g._id))&&(oe.schoolYears=[...oe.schoolYears||[],{schoolYearId:g._id,isActive:!0}]),Y?await c(oe,Y):await c(oe),i&&i(),l(),!0}catch(Y){console.error("Error saving teacher:",Y);const U=Y instanceof Error?Y.message:"שגיאה לא ידועה בשמירת המורה";return console.error("Error message:",U),D(q=>({...q,form:U})),!1}finally{ce(!1)}},[N,C,se,c,i,l,g]);return{formData:N,scheduleItems:C,errors:R,isLoading:u,isSubmitting:K,orchestras:y,loadingOrchestras:v,error:f,showPassword:k,isMobile:w,isNewTeacher:fe,setFormData:E,setScheduleItems:O,setShowPassword:X,handlePersonalInfoChange:W,handleProfessionalInfoChange:ae,handleRolesChange:te,handleCredentialsChange:H,handleOrchestraChange:ve,handleScheduleChange:he,addScheduleItem:ge,removeScheduleItem:$,updateStudentIds:re,validateForm:se,handleSubmit:be}},US=({initialStudentIds:n=[],onStudentIdsChange:l,onAddScheduleItem:i,onRemoveScheduleItem:c})=>{const[u,f]=S.useState([]),[h,g]=S.useState([]),[y,p]=S.useState(!1),[v,x]=S.useState(!1),[w,A]=S.useState("");S.useEffect(()=>{(async()=>{p(!0);try{const D=await nt.getStudents({isActive:!0});console.log(`Loaded ${D.length} students for selection`),f(D)}catch(D){console.error("Failed to load students:",D)}finally{p(!1)}})()},[]),S.useEffect(()=>{(async()=>{if(n.length>0){console.log("Loading selected students for IDs:",n),p(!0);try{const D=await nt.getStudentsByIds(n);console.log("Loaded selected students:",D),g(D)}catch(D){console.error("Failed to load selected students:",D)}finally{p(!1)}}else g([])})()},[n]);const N=S.useCallback(R=>{A(R)},[]),E=S.useCallback(()=>w.trim()?u.filter(R=>h.some(k=>k._id===R._id)?!1:[R.personalInfo.fullName,R.academicInfo.instrument,R.academicInfo.class].some(k=>k.toLowerCase().includes(w.toLowerCase()))).slice(0,10):[],[w,u,h]),C=S.useCallback(R=>{if(h.some(k=>k._id===R._id)){console.log(`Student ${R._id} already selected, skipping`);return}console.log(`Adding student ${R._id} to selection`),g(k=>[...k,R]);const D=[...h.map(k=>k._id),R._id];l(D),console.log(`Creating schedule for student ${R._id}`),i(R._id),A(""),x(!1)},[h,l,i]),O=S.useCallback(R=>{console.log(`Removing student ${R} from selection`),g(k=>k.filter(X=>X._id!==R));const D=h.filter(k=>k._id!==R).map(k=>k._id);l(D),console.log(`Removing schedule for student ${R}`),c(R)},[h,l,c]);return{students:u,selectedStudents:h,loadingStudents:y,showStudentSearch:v,searchQuery:w,setShowStudentSearch:x,handleStudentSearch:N,getFilteredStudents:E,handleAddStudent:C,handleRemoveStudent:O}};function IS({isOpen:n,onClose:l,teacher:i,onSave:c,onAddNewStudent:u,newlyCreatedStudent:f}){var de,V,ee,ue,le;const{formData:h,scheduleItems:g,errors:y,isLoading:p,isSubmitting:v,orchestras:x,loadingOrchestras:w,error:A,showPassword:N,isMobile:E,isNewTeacher:C,setShowPassword:O,handlePersonalInfoChange:R,handleProfessionalInfoChange:D,handleRolesChange:k,handleCredentialsChange:X,handleOrchestraChange:K,handleScheduleChange:ce,addScheduleItem:fe,removeScheduleItem:W,updateStudentIds:ae,handleSubmit:te}=LS({initialTeacher:i||null,onClose:l,onSave:c}),{selectedStudents:H,loadingStudents:ve,showStudentSearch:he,searchQuery:ge,setShowStudentSearch:$,handleStudentSearch:re,getFilteredStudents:se,handleAddStudent:be,handleRemoveStudent:j}=US({initialStudentIds:h.teaching.studentIds,onStudentIdsChange:ae,onAddScheduleItem:fe,onRemoveScheduleItem:W});S.useEffect(()=>{f&&(console.log("Adding newly created student:",f),be(f))},[f,be]);const M=h.roles.includes("מנצח"),Y=h.roles.includes("מורה"),U=()=>{const ne={fullName:h.personalInfo.fullName,instrument:h.professionalInfo.instrument};console.log("Requesting to add new student with teacher info:",ne),u&&u(ne)},q=se(),oe=ne=>g.find(Ee=>Ee.studentId===ne)||{studentId:ne,day:vl[0],time:"08:00",duration:45,isActive:!0};return n?r.jsxs("div",{className:"teacher-form",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"סגור",children:r.jsx(aa,{size:20})}),r.jsx("h2",{children:i!=null&&i._id?"עריכת מורה":"הוספת מורה חדש"}),A&&r.jsx("div",{className:"error-message",children:A}),y.form&&r.jsx("div",{className:"error-message",children:y.form}),r.jsxs("form",{onSubmit:te,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"פרטים אישיים"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fullName",children:"שם מלא *"}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:((de=h.personalInfo)==null?void 0:de.fullName)||"",onChange:R,className:y["personalInfo.fullName"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.fullName"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.fullName"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"טלפון *"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:((V=h.personalInfo)==null?void 0:V.phone)||"",onChange:R,className:y["personalInfo.phone"]?"is-invalid":"",placeholder:"05XXXXXXXX",required:!0,disabled:v}),y["personalInfo.phone"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.phone"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",children:'דוא"ל *'}),r.jsx("input",{type:"email",id:"email",name:"email",value:((ee=h.personalInfo)==null?void 0:ee.email)||"",onChange:R,className:y["personalInfo.email"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.email"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.email"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"address",children:"כתובת *"}),r.jsx("input",{type:"text",id:"address",name:"address",value:((ue=h.personalInfo)==null?void 0:ue.address)||"",onChange:R,className:y["personalInfo.address"]?"is-invalid":"",required:!0,disabled:v}),y["personalInfo.address"]&&r.jsx("div",{className:"form-error",children:y["personalInfo.address"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"מידע מקצועי"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"תפקידים *"}),r.jsx("div",{className:"checkbox-group",children:zS.map(ne=>r.jsxs("div",{className:"checkbox-item",children:[r.jsx("input",{type:"checkbox",id:`role-${ne}`,name:"roles",value:ne,checked:h.roles.includes(ne),onChange:k,disabled:v}),r.jsx("label",{htmlFor:`role-${ne}`,children:ne})]},ne))}),y.roles&&r.jsx("div",{className:"form-error",children:y.roles})]})}),Y&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"instrument",children:"כלי נגינה (למורה) *"}),r.jsxs("select",{id:"instrument",name:"instrument",value:((le=h.professionalInfo)==null?void 0:le.instrument)||"",onChange:D,className:y["professionalInfo.instrument"]?"is-invalid":"",required:Y,disabled:v,children:[r.jsx("option",{value:"",disabled:!0,children:"בחר כלי נגינה"}),Sc.map(ne=>r.jsx("option",{value:ne,children:ne},ne))]}),y["professionalInfo.instrument"]&&r.jsx("div",{className:"form-error",children:y["professionalInfo.instrument"]})]})}),M&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"orchestras",children:"תזמורות (למנצח)"}),r.jsx("select",{id:"orchestras",name:"orchestraIds",multiple:!0,value:h.conducting.orchestraIds||[],onChange:K,className:y["conducting.orchestraIds"]?"is-invalid":"",disabled:v||w,children:w?r.jsx("option",{disabled:!0,children:"טוען תזמורות..."}):x.length>0?x.map(ne=>r.jsx("option",{value:ne._id,children:ne.name},ne._id)):r.jsx("option",{disabled:!0,children:"אין תזמורות זמינות"})}),r.jsx("small",{className:"select-hint",children:E?"לחץ והחזק על מספר אפשרויות לבחירה מרובה":"ניתן לבחור מספר תזמורות (לחיצה על CTRL + לחיצה על תזמורת)"}),y["conducting.orchestraIds"]&&r.jsx("div",{className:"form-error",children:y["conducting.orchestraIds"]})]})})]}),Y&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"תלמידים"}),H.length>0&&r.jsxs("div",{className:"selected-students",children:[r.jsx("h4",{children:"תלמידים שהוקצו למורה"}),H.map(ne=>{const Ee=oe(ne._id);return r.jsxs("div",{className:"student-schedule-item",children:[r.jsxs("div",{className:"student-info",children:[r.jsx("div",{className:"student-name",children:ne.personalInfo.fullName}),r.jsxs("div",{className:"student-details",children:[r.jsx("span",{children:ne.academicInfo.instrument}),r.jsxs("span",{children:["כיתה ",ne.academicInfo.class]}),r.jsxs("span",{children:["שלב ",ne.academicInfo.currentStage]})]}),r.jsx("button",{type:"button",className:"remove-student-btn",onClick:()=>j(ne._id),"aria-label":"הסר תלמיד",disabled:v,children:r.jsx(aa,{size:16})})]}),r.jsxs("div",{className:"schedule-fields",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`day-${ne._id}`,children:"יום"}),r.jsx("select",{id:`day-${ne._id}`,value:Ee.day,onChange:we=>ce(ne._id,"day",we.target.value),disabled:v,children:vl.map(we=>r.jsx("option",{value:we,children:we},we))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`time-${ne._id}`,children:"שעה"}),r.jsx("input",{type:"time",id:`time-${ne._id}`,value:Ee.time,onChange:we=>ce(ne._id,"time",we.target.value),disabled:v})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`duration-${ne._id}`,children:"משך (דקות)"}),r.jsx("select",{id:`duration-${ne._id}`,value:Ee.duration,onChange:we=>ce(ne._id,"duration",Number(we.target.value)),disabled:v,children:MS.map(we=>r.jsx("option",{value:we,children:we},we))})]})]})]},ne._id)})]}),r.jsx("div",{className:"student-actions",children:he?r.jsxs("div",{className:"student-search-container",children:[r.jsxs("div",{className:"search-header",children:[r.jsx("h4",{children:"חיפוש תלמידים"}),r.jsx("button",{type:"button",className:"btn",onClick:()=>$(!1),disabled:v,children:r.jsx(aa,{size:16})})]}),r.jsxs("div",{className:"search-box",children:[r.jsx(Tc,{size:16}),r.jsx("input",{type:"text",placeholder:"חפש תלמיד לפי שם, כלי או כיתה...",value:ge,onChange:ne=>re(ne.target.value),disabled:v})]}),r.jsx("div",{className:"search-results",children:ve?r.jsx("div",{className:"loading-message",children:"טוען תלמידים..."}):q.length===0?r.jsx("div",{className:"no-results",children:"לא נמצאו תלמידים"}):r.jsx("div",{className:"student-list",children:q.map(ne=>r.jsxs("div",{className:"student-search-item",onClick:()=>!v&&be(ne),style:{cursor:v?"not-allowed":"pointer"},children:[r.jsx("div",{className:"student-name",children:ne.personalInfo.fullName}),r.jsxs("div",{className:"student-details",children:[r.jsx("span",{children:ne.academicInfo.instrument}),r.jsxs("span",{children:["כיתה ",ne.academicInfo.class]})]})]},ne._id))})})]}):r.jsxs("div",{className:"student-action-buttons",children:[r.jsxs("button",{type:"button",className:"btn primary",onClick:()=>$(!0),disabled:v,children:[r.jsx(Tc,{size:16}),r.jsx("span",{children:"חיפוש תלמידים קיימים"})]}),r.jsxs("button",{type:"button",className:"btn primary",onClick:U,disabled:v,children:[r.jsx(_l,{size:16}),r.jsx("span",{children:"הוספת תלמיד חדש"})]})]})})]}),C&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"הרשאות"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"cred-email",children:'דוא"ל (להתחברות) *'}),r.jsx("input",{type:"email",id:"cred-email",name:"email",value:h.credentials.email,onChange:X,className:y["credentials.email"]?"is-invalid":"",disabled:!0}),y["credentials.email"]&&r.jsx("div",{className:"form-error",children:y["credentials.email"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",children:"סיסמה *"}),r.jsxs("div",{className:"password-input-container",children:[r.jsx("input",{type:N?"text":"password",id:"password",name:"password",value:h.credentials.password,onChange:X,className:y["credentials.password"]?"is-invalid":"",required:!0,disabled:v}),r.jsx("button",{type:"button",className:"toggle-password-btn",onClick:()=>O(!N),"aria-label":N?"הסתר סיסמה":"הצג סיסמה",disabled:v,children:N?r.jsx(Lb,{size:16}):r.jsx($r,{size:16})})]}),y["credentials.password"]&&r.jsx("div",{className:"form-error",children:y["credentials.password"]})]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:p||v,children:p||v?"שומר...":i!=null&&i._id?"עדכון":"הוספה"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,disabled:v,children:"ביטול"})]})]})]})]}):null}function kS(){const{teachers:n,isLoading:l,error:i,loadTeachers:c,removeTeacher:u,clearSelectedTeacher:f}=Ol(),[h,g]=S.useState(!1),[y,p]=S.useState(!1),[v,x]=S.useState(null),[w,A]=S.useState(!1),[N,E]=S.useState(null),[C,O]=S.useState(null),[R,D]=S.useState(null),k=U=>{var q;return[U.personalInfo.fullName,((q=U.professionalInfo)==null?void 0:q.instrument)||"",U.personalInfo.email||"",U.personalInfo.phone||""]},{filteredEntities:X,handleSearch:K}=Md(n,k),ce=Sa(),fe=Zt(),{user:W}=Zn(),ae=W==null?void 0:W.roles.includes("מנהל"),te=fe.pathname.includes("/teachers/")&&!fe.pathname.endsWith("/teachers/");S.useEffect(()=>{c()},[c]);const H=()=>{x(null),f(),g(!0)},ve=()=>{g(!1),x(null)},he=U=>{U&&D({fullName:U.fullName,instrument:U.instrument}),p(!0)},ge=()=>{p(!1)},$=U=>{O(U),p(!1),g(!0)},re=U=>{const q=n.find(oe=>oe._id===U)||null;x(q),g(!0)},se=U=>{ce(`/teachers/${U}`)},be=U=>{n.find(oe=>oe._id===U)&&(E(U),A(!0))},j=async()=>{if(N)try{await u(N),E(null),A(!1)}catch(U){console.error("Failed to remove teacher:",U)}},M=()=>{alert("Open filter dialog")},Y=ae;return r.jsxs("div",{className:"app-container",children:[r.jsx(Hc,{}),r.jsxs("main",{className:"main-content",children:[!te&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(zd,{onSearch:K,placeholder:"חיפוש מורים..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:M,"aria-label":"סנן מורים",children:r.jsx(Cd,{className:"icon"})}),Y&&r.jsx("button",{className:"btn-icon add-btn",onClick:H,"aria-label":"הוספת מורה חדש",children:r.jsx(_l,{className:"icon"})})]})]})}),i&&r.jsx("div",{className:"error-message",children:i}),!te&&r.jsx(_S,{teachers:X,isLoading:l,onEdit:re,onView:se,onRemove:ae?be:void 0}),r.jsx(Gr,{context:{loadTeachers:c}}),r.jsx(_s,{isOpen:w,onClose:()=>A(!1),onConfirm:j,title:"מחיקת מורה",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק את המורה?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"}),r.jsx(IS,{isOpen:h,onClose:ve,teacher:v||void 0,onSave:()=>{console.log("onSave executing in parent component"),g(!1),c()},onAddNewStudent:he,newlyCreatedStudent:C}),r.jsx(Ny,{isOpen:y,onClose:ge,onStudentCreated:$,newTeacherInfo:R})]}),!te&&!h&&r.jsx(ei,{})]})}function cg(){var Dt,sa,za,Re,Fe,Na,la;const{teacherId:n}=Dc(),[l,i]=S.useState(null),[c,u]=S.useState(!1),[f,h]=S.useState(null),[g,y]=S.useState(!1),[p,v]=S.useState([]),[x,w]=S.useState([]),[A,N]=S.useState(!1),[E,C]=S.useState([]),[O,R]=S.useState(!1),[D,k]=S.useState(null),[X,K]=S.useState({subject:"",message:""}),[ce,fe]=S.useState({message:""}),[W,ae]=S.useState(!1),[te,H]=S.useState({students:!0,orchestras:!0,schedule:!1,personalInfo:!0,professionalInfo:!0}),ve=Sa();S.useEffect(()=>{n&&he(n)},[n]);const he=async ie=>{var Ne,dt,Tt;u(!0),h(null);try{const Ue=await Xt.getTeacherById(ie);console.log("Teacher data loaded:",Ue),i(Ue);const wt=((Ne=Ue.teaching)==null?void 0:Ne.schedule)||[];if(console.log("Teacher schedule data:",wt),Array.isArray(wt)&&wt.length>0){const rt=wt.filter(Ze=>Ze.isActive!==!1).map(Ze=>({...Ze,studentName:`תלמיד ${Ze.studentId.slice(-6)}`,instrument:""}));C(rt)}else C([]);(dt=Ue.teaching)!=null&&dt.studentIds&&Ue.teaching.studentIds.length>0&&ge(Ue.teaching.studentIds,Ue.teaching.schedule),(Tt=Ue.conducting)!=null&&Tt.orchestraIds&&Ue.conducting.orchestraIds.length>0&&(N(!0),await $(Ue.conducting.orchestraIds))}catch(Ue){console.error("Failed to load teacher:",Ue),h(Ue instanceof Error?Ue.message:"שגיאה בטעינת פרטי המורה")}finally{u(!1)}},ge=async(ie,Ne=[])=>{try{if(!ie||!Array.isArray(ie)||ie.length===0){console.log("No student IDs provided");return}console.log("Loading students for IDs:",ie);const dt=await nt.getStudentsByIds(ie);console.log("Loaded student data:",dt),v(dt.map(Ue=>({_id:Ue._id,fullName:Ue.personalInfo.fullName||"תלמיד ללא שם",instrument:Ue.academicInfo.instrument||""})));const Tt={};if(dt.forEach(Ue=>{var wt,rt;if(Ue&&Ue._id){const Ze=[Ue._id,Ue._id.toString(),Ue._id.toString().replace(/"/g,"")],ra={name:((wt=Ue.personalInfo)==null?void 0:wt.fullName)||"תלמיד ללא שם",instrument:((rt=Ue.academicInfo)==null?void 0:rt.instrument)||""};Ze.forEach(ft=>{Tt[ft.toString()]=ra})}}),console.log("Enhanced student map:",Tt),Array.isArray(Ne)&&Ne.length>0){console.log("Processing schedule items with student data");const Ue=Ne.filter(wt=>wt.isActive!==!1).map(wt=>{const rt=wt.studentId,Ze=[rt,rt.toString(),rt.toString().replace(/"/g,"")];let ra=null;for(const ft of Ze)if(Tt[ft.toString()]){ra=Tt[ft.toString()],console.log(`Found student match for ID ${rt} using format ${ft}`);break}if(!ra){const ft=rt.toString().replace(/"/g,""),ht=Object.keys(Tt).find(Kn=>Kn.includes(ft)||ft.includes(Kn));ht&&(ra=Tt[ht],console.log(`Found partial match for ID ${rt} via key ${ht}`))}return{...wt,studentName:ra?ra.name:`תלמיד ${rt.toString().slice(-6)}`}});console.log("New schedule items after mapping to student names:",Ue),C(Ue)}}catch(dt){console.error("Failed to load students:",dt)}},$=async ie=>{try{const Ne=await qn.getOrchestrasByIds(ie);w(Ne)}catch(Ne){console.error("Failed to load orchestras:",Ne)}finally{N(!1)}},re=ie=>{H(Ne=>({...Ne,[ie]:!Ne[ie]}))},se=()=>{y(!g)},be=()=>{ve("/teachers")},j=ie=>{ve(`/students/${ie}`)},M=ie=>{ve(`/orchestras/${ie}`)},Y=()=>{R(!0),k(null)},U=()=>{R(!1),k(null),K({subject:"",message:""}),fe({message:""}),ae(!1)},q=ie=>{k(ie)},oe=ie=>{const{name:Ne,value:dt}=ie.target;K(Tt=>({...Tt,[Ne]:dt}))},de=ie=>{fe({message:ie.target.value})},V=()=>{if(!(l!=null&&l.personalInfo.email))return;const ie=`mailto:${l.personalInfo.email}?subject=${encodeURIComponent(X.subject)}&body=${encodeURIComponent(X.message)}`;window.open(ie),U()},ee=ie=>ie.startsWith("0")?`972${ie.substring(1)}`:ie,ue=()=>{if(!(l!=null&&l.personalInfo.phone))return;const Ne=`https://wa.me/${ee(l.personalInfo.phone)}?text=${encodeURIComponent(ce.message)}`;window.open(Ne),U()},le=ie=>{navigator.clipboard.writeText(ie),ae(!0),setTimeout(()=>ae(!1),2e3)},ne=ie=>ie?new Date(ie).toLocaleDateString("he-IL"):"לא זמין",Ee=ie=>ie&&ie.includes(":")?ie:ie||"08:00",we=ie=>({ראשון:"#4D55CC",שני:"#28A745",שלישי:"#FFC107",רביעי:"#6f42c1",חמישי:"#fd7e14",שישי:"#20c997",שבת:"#e83e8c"})[ie]||"#6c757d";if(c)return r.jsxs("div",{className:"loading-state",children:[r.jsx(yl,{className:"loading-icon",size:28}),r.jsx("p",{children:"טוען פרטי מורה..."})]});if(f||!l)return r.jsxs("div",{className:"error-state",children:[r.jsx("p",{children:f||"לא ניתן לטעון את פרטי המורה"}),r.jsx("button",{onClick:be,className:"btn primary",children:"חזרה לרשימת המורים"})]});const bt=n&&((Dt=l.teaching)==null?void 0:Dt.schedule)&&Array.isArray(l.teaching.schedule)&&l.teaching.schedule.length>0,lt=ie=>ie.split(" ").map(Ne=>Ne[0]).join("").toUpperCase().substring(0,2),xe=ie=>({מורה:"#4D55CC",מנצח:"#28A745","מדריך הרכב":"#FFC107",מנהל:"#DC3545"})[ie]||"#6c757d",Be=l.roles&&l.roles.length>0?l.roles[0]:"מורה",Ye=E.reduce((ie,Ne)=>(ie[Ne.day]||(ie[Ne.day]=[]),ie[Ne.day].push(Ne),ie),{}),ut=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"];return Object.keys(Ye).forEach(ie=>{Ye[ie].sort((Ne,dt)=>!Ne.time||!dt.time?0:Ne.time.localeCompare(dt.time))}),console.log("Rendering with schedule data:",{hasSchedule:bt,numScheduleItems:E.length,scheduleByDay:Ye,teacherSchedule:(sa=l.teaching)==null?void 0:sa.schedule}),r.jsx("div",{className:"teacher-details-content",children:r.jsxs("div",{className:"teacher-details-page",children:[r.jsx("div",{className:"teacher-card-container",children:r.jsxs("div",{className:`card-content ${g?"flipped":""}`,children:[r.jsxs("div",{className:"card-side card-front",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"teacher-identity",children:[r.jsx("div",{className:"avatar avatar-clickable",style:{backgroundColor:xe(Be)},onClick:Y,children:lt(l.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"teacher-name",children:l.personalInfo.fullName}),r.jsx("div",{className:"instrument",children:(za=l.professionalInfo)!=null&&za.instrument?r.jsxs(r.Fragment,{children:[r.jsx(qt,{size:14}),r.jsx("span",{children:l.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Qa,{size:14}),r.jsx("span",{children:Be})]})})]})]}),r.jsxs("div",{className:"header-badges",children:[l.roles&&l.roles.map(ie=>r.jsx("div",{className:"role-badge",style:{backgroundColor:xe(ie)},children:ie},ie)),r.jsx("button",{className:"back-button",onClick:be,"aria-label":"חזרה",children:r.jsx(ta,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[((Re=l.teaching)==null?void 0:Re.studentIds)&&l.teaching.studentIds.length>0&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${te.students?"active":""}`,onClick:()=>re("students"),children:[r.jsx(Kr,{size:16}),r.jsxs("span",{children:["תלמידים (",l.teaching.studentIds.length,")"]}),te.students?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),te.students&&r.jsx("div",{className:"section-content",children:r.jsx("div",{className:"students-grid",children:p.map(ie=>r.jsxs("div",{className:"student-card clickable",onClick:()=>j(ie._id),children:[r.jsx("div",{className:"student-avatar",children:lt(ie.fullName)}),r.jsx("div",{className:"student-info",children:r.jsx("span",{className:"student-name",children:ie.fullName})})]},ie._id))})})]}),((Fe=l.conducting)==null?void 0:Fe.orchestraIds)&&l.conducting.orchestraIds.length>0&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${te.orchestras?"active":""}`,onClick:()=>re("orchestras"),children:[r.jsx(qt,{size:16}),r.jsxs("span",{children:["מנצח על תזמורות (",l.conducting.orchestraIds.length,")"]}),te.orchestras?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),te.orchestras&&r.jsx("div",{className:"section-content",children:A?r.jsxs("div",{className:"loading-section",children:[r.jsx(yl,{size:16,className:"loading-icon"}),r.jsx("span",{children:"טוען נתוני תזמורת..."})]}):x.length>0?r.jsx("div",{className:"orchestras-grid",children:x.map(ie=>r.jsx("div",{className:"orchestra-card clickable",onClick:()=>M(ie._id),children:r.jsx("span",{children:ie.name})},ie._id))}):r.jsx("div",{className:"no-orchestra-message",children:"לא נמצאו פרטי תזמורות"})})]}),l.roles.includes("מורה")&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${te.schedule?"active":""}`,onClick:()=>re("schedule"),children:[r.jsx(st,{size:16}),r.jsxs("span",{children:["מערכת שעות (",E.length,")"]}),te.schedule?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),te.schedule&&r.jsx("div",{className:"section-content",children:E.length>0?r.jsxs("div",{className:"weekly-schedule",children:[ut.filter(ie=>Ye[ie]).map(ie=>r.jsxs("div",{className:"schedule-day-group",children:[r.jsxs("div",{className:"day-header",style:{backgroundColor:we(ie),color:"white",padding:"6px 10px",borderRadius:"4px",marginBottom:"8px",marginTop:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(st,{size:14}),r.jsxs("span",{children:["יום ",ie]})]}),r.jsx("div",{className:"day-schedule-items",children:Ye[ie].map((Ne,dt)=>r.jsxs("div",{className:"schedule-item-card",style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",marginBottom:"8px",backgroundColor:"var(--bg-secondary, #f8f9fa)",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[r.jsxs("div",{className:"schedule-item-header",style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("div",{className:"student-name",style:{fontWeight:"bold"},children:Ne.studentName}),r.jsxs("div",{className:"time-display",style:{display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx(Br,{size:14}),r.jsx("span",{children:Ee(Ne.time)}),r.jsxs("span",{children:["(",Ne.duration," דקות)"]})]})]}),Ne.instrument&&r.jsxs("div",{className:"instrument-display",style:{fontSize:"0.85rem",marginTop:"4px",color:"var(--text-secondary, #6c757d)"},children:[r.jsx(qt,{size:12,style:{marginLeft:"4px"}}),r.jsx("span",{children:Ne.instrument})]})]},`${Ne.studentId}-${dt}`))})]},ie)),Object.keys(Ye).length===0&&r.jsx("div",{className:"no-schedule-message",style:{textAlign:"center",padding:"20px"},children:r.jsx("p",{children:"אין כרגע שיעורים במערכת"})})]}):r.jsx("div",{className:"no-schedule-message",style:{textAlign:"center",padding:"20px"},children:r.jsx("p",{children:"אין כרגע שיעורים במערכת"})})})]})]}),r.jsx("button",{className:"flip-button",onClick:se,children:g?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג מידע מקצועי"}),r.jsx(ta,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג פרטים אישיים"}),r.jsx(ta,{size:14})]})})]}),r.jsxs("div",{className:"card-side card-back",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"teacher-identity",children:[r.jsx("div",{className:"avatar avatar-clickable",style:{backgroundColor:xe(Be)},onClick:Y,children:lt(l.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"teacher-name",children:l.personalInfo.fullName}),r.jsx("div",{className:"instrument",children:(Na=l.professionalInfo)!=null&&Na.instrument?r.jsxs(r.Fragment,{children:[r.jsx(qt,{size:14}),r.jsx("span",{children:l.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Qa,{size:14}),r.jsx("span",{children:Be})]})})]})]}),r.jsxs("div",{className:"header-badges",children:[l.roles&&l.roles.map(ie=>r.jsx("div",{className:"role-badge",style:{backgroundColor:xe(ie)},children:ie},ie)),r.jsx("button",{className:"back-button",onClick:be,"aria-label":"חזרה",children:r.jsx(ta,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${te.personalInfo?"active":""}`,onClick:()=>re("personalInfo"),children:[r.jsx(Qa,{size:16}),r.jsx("span",{children:"פרטים אישיים"}),te.personalInfo?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),te.personalInfo&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[l.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(qr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"טלפון"}),r.jsx("span",{className:"info-value",children:l.personalInfo.phone})]})]}),l.personalInfo.address&&r.jsxs("div",{className:"info-item",children:[r.jsx(Zr,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"כתובת"}),r.jsx("span",{className:"info-value",children:l.personalInfo.address})]})]}),l.personalInfo.email&&r.jsxs("div",{className:"info-item",children:[r.jsx(Cs,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"אימייל"}),r.jsx("span",{className:"info-value",children:l.personalInfo.email})]})]}),l.createdAt&&r.jsxs("div",{className:"info-item",children:[r.jsx(st,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"תאריך הצטרפות"}),r.jsx("span",{className:"info-value",children:ne(l.createdAt)})]})]})]})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${te.professionalInfo?"active":""}`,onClick:()=>re("professionalInfo"),children:[r.jsx(Ug,{size:16}),r.jsx("span",{children:"מידע מקצועי"}),te.professionalInfo?r.jsx(Gt,{size:18,className:"toggle-icon"}):r.jsx(Vt,{size:18,className:"toggle-icon"})]}),te.professionalInfo&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[((la=l.professionalInfo)==null?void 0:la.instrument)&&r.jsxs("div",{className:"info-item",children:[r.jsx(qt,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"כלי נגינה"}),r.jsx("span",{className:"info-value",children:l.professionalInfo.instrument})]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(st,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"תאריך הצטרפות"}),r.jsx("span",{className:"info-value",children:ne(l.createdAt||"")})]})]})]})})]})]}),r.jsx("button",{className:"flip-button",onClick:se,children:g?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג מידע מקצועי"}),r.jsx(ta,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג פרטים אישיים"}),r.jsx(ta,{size:14})]})})]})]})}),O&&r.jsx("div",{className:"communication-modal-overlay",onClick:U,children:r.jsxs("div",{className:"communication-modal",onClick:ie=>ie.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsxs("h3",{children:["יצירת קשר עם ",l.personalInfo.fullName]}),r.jsx("button",{className:"close-btn",onClick:U,children:r.jsx(aa,{size:18})})]}),!D&&r.jsxs("div",{className:"comm-method-selection",children:[r.jsxs("div",{className:"comm-details",children:[l.personalInfo.phone&&r.jsxs("div",{className:"contact-info-item",children:[r.jsx(qr,{size:16}),r.jsx("span",{children:l.personalInfo.phone}),r.jsx("button",{className:"copy-btn",onClick:()=>le(l.personalInfo.phone||""),"aria-label":"העתק מספר טלפון",children:W?r.jsx(Mp,{size:16}):r.jsx(Lp,{size:16})})]}),l.personalInfo.email&&r.jsxs("div",{className:"contact-info-item",children:[r.jsx(Cs,{size:16}),r.jsx("span",{children:l.personalInfo.email}),r.jsx("button",{className:"copy-btn",onClick:()=>le(l.personalInfo.email||""),"aria-label":"העתק כתובת אימייל",children:W?r.jsx(Mp,{size:16}):r.jsx(Lp,{size:16})})]})]}),r.jsxs("div",{className:"method-buttons",children:[l.personalInfo.email&&r.jsxs("button",{className:"method-btn email-btn",onClick:()=>q("email"),children:[r.jsx(Cs,{size:20}),r.jsx("span",{children:"שלח אימייל"})]}),l.personalInfo.phone&&r.jsxs("button",{className:"method-btn whatsapp-btn",onClick:()=>q("whatsapp"),children:[r.jsx($b,{size:20}),r.jsx("span",{children:"שלח הודעת WhatsApp"})]})]})]}),D==="email"&&r.jsxs("div",{className:"email-form",children:[r.jsx("button",{className:"back-to-methods",onClick:()=>k(null),children:"← חזרה"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"subject",children:"נושא"}),r.jsx("input",{type:"text",id:"subject",name:"subject",value:X.subject,onChange:oe,placeholder:"נושא ההודעה"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"message",children:"תוכן ההודעה"}),r.jsx("textarea",{id:"message",name:"message",value:X.message,onChange:oe,placeholder:"הקלד את תוכן ההודעה כאן...",rows:6})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"cancel-btn",onClick:U,children:"ביטול"}),r.jsxs("button",{className:"send-btn",onClick:V,disabled:!X.subject||!X.message,children:[r.jsx(Up,{size:16}),r.jsx("span",{children:"שלח אימייל"})]})]})]}),D==="whatsapp"&&r.jsxs("div",{className:"whatsapp-form",children:[r.jsx("button",{className:"back-to-methods",onClick:()=>k(null),children:"← חזרה"}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"whatsapp-message",children:"הודעה ל-WhatsApp"}),r.jsx("textarea",{id:"whatsapp-message",value:ce.message,onChange:de,placeholder:"הקלד את תוכן ההודעה כאן...",rows:6})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{className:"cancel-btn",onClick:U,children:"ביטול"}),r.jsxs("button",{className:"send-btn",onClick:ue,disabled:!ce.message,children:[r.jsx(Up,{size:16}),r.jsx("span",{children:"שלח הודעת WhatsApp"})]})]})]})]})})]})})}const $n=zl((n,l)=>({orchestras:[],selectedOrchestra:null,filterBy:{},isLoading:!1,error:null,loadOrchestras:async(i={})=>{n({isLoading:!0,error:null});try{const c={...l().filterBy,...i},u=await qn.getOrchestras(c);n({orchestras:u,filterBy:c,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load orchestras";n({error:u,isLoading:!1}),console.error("Error loading orchestras:",c)}},loadOrchestraById:async i=>{n({isLoading:!0,error:null});try{const c=await qn.getOrchestraById(i);n({selectedOrchestra:c,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load orchestra";n({error:u,isLoading:!1}),console.error("Error loading orchestra:",c)}},saveOrchestra:async i=>{n({isLoading:!0,error:null});try{let c;if(i._id){c=await qn.updateOrchestra(i._id,i);const u=l().orchestras.map(f=>f._id===c._id?c:f);n({orchestras:u,selectedOrchestra:c,isLoading:!1})}else c=await qn.addOrchestra(i),n({orchestras:[...l().orchestras,c],selectedOrchestra:c,isLoading:!1});return c}catch(c){const u=c instanceof Error?c.message:"Failed to save orchestra";throw n({error:u,isLoading:!1}),console.error("Error saving orchestra:",c),c}},removeOrchestra:async i=>{var c;n({isLoading:!0,error:null});try{await qn.removeOrchestra(i),n({orchestras:l().orchestras.filter(u=>u._id!==i),selectedOrchestra:((c=l().selectedOrchestra)==null?void 0:c._id)===i?null:l().selectedOrchestra,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove orchestra";throw n({error:f,isLoading:!1}),console.error("Error removing orchestra:",u),u}},setFilter:i=>{n({filterBy:{...l().filterBy,...i}})},clearSelectedOrchestra:()=>{n({selectedOrchestra:null})},clearError:()=>{n({error:null})}}));function BS({orchestra:n,onView:l,onEdit:i,onRemove:c}){const u=x=>({הרכב:"#4D55CC",תזמורת:"#28A745"})[x]||"#6c757d",f=x=>x===0?"0 תלמידים":x===1?"תלמיד אחד":`${x} תלמידים`,h=x=>x?x===1?"חזרה אחת":`${x} חזרות`:"אין חזרות",g=n.memberIds&&n.memberIds.length>0,y=n.rehearsalIds&&n.rehearsalIds.length>0,p=g?n.memberIds.length:0,v=y?n.rehearsalIds.length:0;return r.jsxs("div",{className:"orchestra-preview",onClick:()=>l(n._id),style:{cursor:"pointer"},children:[r.jsx("div",{className:"preview-header",children:r.jsxs("div",{className:"orchestra-header-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:u(n.type)},children:r.jsx(qt,{size:20})})}),r.jsxs("div",{className:"orchestra-info",children:[r.jsx("h3",{className:"orchestra-name",children:n.name}),r.jsxs("div",{className:"orchestra-type",children:[r.jsx(Kr,{size:14}),r.jsx("span",{children:f(p)})]})]})]})}),r.jsx("div",{className:"preview-content",children:r.jsx("div",{className:"info-row",children:r.jsxs("div",{className:"info-item",children:[r.jsx(st,{size:16}),r.jsx("span",{children:h(v)})]})})}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:x=>{x.stopPropagation(),l(n._id)},"aria-label":"הצג פרטי תזמורת",children:r.jsx($r,{size:16})}),i&&r.jsx("button",{className:"action-btn edit",onClick:x=>{x.stopPropagation(),i(n._id)},"aria-label":"ערוך תזמורת",children:r.jsx(As,{size:16})}),c&&r.jsx("button",{className:"action-btn delete",onClick:x=>{x.stopPropagation(),c(n._id)},"aria-label":"מחק תזמורת",children:r.jsx(zc,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(st,{size:14}),r.jsx("span",{children:new Date(n.createdAt||Date.now()).toLocaleDateString("he-IL")})]})]})]})}function qS({orchestras:n,isLoading:l,onEdit:i,onView:c,onRemove:u}){return l&&n.length===0?r.jsx("div",{className:"loading-state",children:"טוען תזמורות..."}):n.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"לא נמצאו תזמורות להצגה"}),r.jsx("p",{children:"נסה לשנות את מסנני החיפוש או להוסיף תזמורות חדשות"})]}):r.jsx("div",{className:"orchestra-grid",children:n.map(f=>r.jsx(BS,{orchestra:f,onEdit:i,onView:c,onRemove:u},f._id))})}const HS=({initialOrchestra:n,onClose:l,onSave:i})=>{const{saveOrchestra:c,isLoading:u,error:f,clearError:h}=$n(),{currentSchoolYear:g}=Ul(),{loadTeachers:y}=Ol(),{students:p,saveStudent:v}=zs(),[x,w]=S.useState({_id:void 0,name:"",type:"תזמורת",conductorId:"",memberIds:[],rehearsalIds:[],schoolYearId:"",location:"חדר 1",isActive:!0}),[A,N]=S.useState([]),[E,C]=S.useState(!1),[O,R]=S.useState({}),[D,k]=S.useState(!1),X=x.type==="תזמורת";S.useEffect(()=>{D||(n!=null&&n._id?w({_id:n._id,name:n.name||"",type:n.type||"תזמורת",conductorId:n.conductorId||"",memberIds:n.memberIds||[],rehearsalIds:n.rehearsalIds||[],schoolYearId:n.schoolYearId||(g==null?void 0:g._id)||"",location:n.location||"חדר 1",isActive:n.isActive!==!1}):w({_id:void 0,name:"",type:"תזמורת",conductorId:"",memberIds:[],rehearsalIds:[],schoolYearId:(g==null?void 0:g._id)||"",location:"חדר 1",isActive:!0}),R({}),h==null||h())},[n,g,h,D]),S.useEffect(()=>{if(D)return;(async()=>{C(!0);try{const te=x.type==="תזמורת"?"מנצח":"מדריך הרכב",H=await y({role:te,isActive:!0});if(Array.isArray(H))N(H);else{const he=Ol.getState().teachers.filter(ge=>ge.roles.includes(te));N(he)}}catch(te){console.error("Failed to load conductors:",te)}finally{C(!1)}})()},[x.type,y,D]);const K=ae=>{if(D)return;const{name:te,value:H,dataset:ve}=ae.target;if(te==="type"){const he={...x,type:H,conductorId:""};if(x.name){const ge=x.type==="תזמורת"?"תזמורת":"הרכב",$=H==="תזמורת"?"תזמורת":"הרכב";x.name.includes(ge)&&(he.name=x.name.replace(ge,$))}w(he)}else w(te==="memberIds"?he=>({...he,memberIds:Array.isArray(H)?H:he.memberIds}):he=>({...he,[te]:H}));ve!=null&&ve.error?R(he=>{if(ve!=null&&ve.error){const ge={...he};return ge[te]=ve.error,ge}return he}):O[te]&&R(he=>{const ge={...he};return delete ge[te],ge})},ce=()=>{const ae={};return x.name||(ae.name=X?"שם התזמורת הוא שדה חובה":"שם ההרכב הוא שדה חובה"),x.type||(ae.type="סוג הוא שדה חובה"),x.conductorId||(ae.conductorId=X?"יש לבחור מנצח":"יש לבחור מדריך הרכב"),x.location||(ae.location="יש לבחור מקום"),x.schoolYearId||(ae.schoolYearId="שנת לימודים היא שדה חובה"),R(ae),Object.keys(ae).length===0},fe=async ae=>{if(ae.preventDefault(),D||!ce())return!1;k(!0);try{console.log("Submitting orchestra form with data:",x);const te=await c(x);return console.log("Orchestra saved successfully:",te),await W(te),i&&i(),l(),!0}catch(te){return console.error("Error saving orchestra:",te),!1}finally{k(!1)}},W=async ae=>{const te=ae._id,H=(n==null?void 0:n.memberIds)||[],ve=x.memberIds;try{const he=ve.filter($=>!H.includes($)),ge=H.filter($=>!ve.includes($));console.log("Updating student references:",{adding:he.length,removing:ge.length});for(const $ of he){const re=p.find(se=>se._id===$);re&&!re.enrollments.orchestraIds.includes(te)&&await v({_id:re._id,enrollments:{...re.enrollments,orchestraIds:[...re.enrollments.orchestraIds,te]}})}for(const $ of ge){const re=p.find(se=>se._id===$);re&&await v({_id:re._id,enrollments:{...re.enrollments,orchestraIds:re.enrollments.orchestraIds.filter(se=>se!==te)}})}}catch(he){console.error("Error updating student references:",he)}};return{formData:x,conductors:A,errors:O,isLoading:u,isSubmitting:D,isLoadingConductors:E,error:f,isOrchestra:X,handleInputChange:K,handleSubmit:fe,setFormData:w,validateForm:ce}},YS=({initialMemberIds:n=[],onMemberIdsChange:l})=>{const{students:i,loadStudents:c}=zs(),[u,f]=S.useState([]),[h,g]=S.useState(""),[y,p]=S.useState(!1),[v,x]=S.useState(!1),w=S.useRef(null),A=S.useRef(""),N=S.useRef(!1);S.useEffect(()=>{i.length===0&&c({isActive:!0})},[]),S.useEffect(()=>{const k=JSON.stringify(n.sort());if(i.length>0&&(A.current!==k||!N.current))if(A.current=k,N.current=!0,n.length>0){x(!0);const X=i.filter(K=>n.includes(K._id));f(X),x(!1)}else f([])},[n,i]);const E=S.useCallback(k=>{g(k.target.value),p(k.target.value.length>0)},[]),C=S.useCallback(()=>h?i.filter(k=>k.personalInfo.fullName.includes(h)&&!u.some(X=>X._id===k._id)).slice(0,10):[],[h,i,u]),O=S.useCallback(k=>{f(X=>{const K=[...X,k];return l&&l(K.map(ce=>ce._id)),K}),g(""),p(!1)},[l]),R=S.useCallback(k=>{f(X=>{const K=X.filter(ce=>ce._id!==k);return l&&l(K.map(ce=>ce._id)),K})},[l]),D=S.useCallback(()=>u.map(k=>k._id),[u]);return{selectedMembers:u,searchQuery:h,isSearchOpen:y,isLoading:v,searchRef:w,handleSearchChange:E,getFilteredStudents:C,handleAddMember:O,handleRemoveMember:R,getMemberIds:D}},FS=({name:n,existingNames:l,type:i,originalName:c,isSubmitting:u=!1})=>{const[f,h]=S.useState({isValid:!0,message:null}),g=S.useRef("");return S.useEffect(()=>{if(u){f.isValid||h({isValid:!0,message:null});return}const y=`${n}|${JSON.stringify(l)}|${i}|${c||""}`;if(g.current===y)return;if(g.current=y,!n||n.trim()===""){(!f.isValid||f.message!==null)&&h({isValid:!0,message:null});return}if(c&&c===n){(!f.isValid||f.message!==null)&&h({isValid:!0,message:null});return}const p=n.trim().toLowerCase(),v=c?l.filter(A=>A.toLowerCase()!==c.toLowerCase()):l;let x={isValid:!0,message:null};const w=v.find(A=>A.toLowerCase()===p);if(w)x={isValid:!1,message:`שם זהה כבר קיים: "${w}"`};else{const A=p.replace(/\s+/g,""),N=v.find(E=>E.toLowerCase().replace(/\s+/g,"")===A);N?x={isValid:!1,message:`שם דומה כבר קיים (הבדלי רווחים): "${N}"`}:p.length<2&&(x={isValid:!1,message:"שם חייב להכיל לפחות 2 תווים"})}(x.isValid!==f.isValid||x.message!==f.message)&&h(x)},[n,l,i,c,u,f]),f},QS=["הרכב","תזמורת"],gl=["אולם ערן","סטודיו קאמרי 1","סטודיו קאמרי 2","אולפן הקלטות","חדר חזרות 1","חדר חזרות 2","חדר מחשבים","חדר 1","חדר 2","חדר חזרות","חדר 5","חדר 6","חדר 7","חדר 8","חדר 9","חדר 10","חדר 11","חדר 12","חדר 13","חדר 14","חדר 15","חדר 16","חדר 17","חדר 18","חדר 19","חדר 20","חדר 21","חדר 22","חדר 23","חדר 24","חדר 25","חדר 26"];function Ey({isOpen:n,onClose:l,orchestra:i,onSave:c}){const{orchestras:u}=$n(),f=u.map(H=>H.name),{formData:h,conductors:g,errors:y,isLoading:p,isSubmitting:v,isLoadingConductors:x,error:w,handleInputChange:A,handleSubmit:N,isOrchestra:E}=HS({initialOrchestra:i,onClose:l,onSave:c}),C=FS({name:h.name,existingNames:f,type:h.type,originalName:i==null?void 0:i.name,isSubmitting:v}),{selectedMembers:O,searchQuery:R,isSearchOpen:D,isLoading:k,searchRef:X,handleSearchChange:K,getFilteredStudents:ce,handleAddMember:fe,handleRemoveMember:W}=YS({initialMemberIds:(i==null?void 0:i.memberIds)||[],onMemberIdsChange:H=>{A({target:{name:"memberIds",value:H}})}}),ae=H=>{if(H.preventDefault(),!C.isValid&&C.message){A({target:{name:"name",value:h.name,dataset:{error:C.message}}});return}N(H)};if(!n)return null;const te=ce();return r.jsxs("div",{className:"orchestra-form",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"סגור",children:r.jsx(aa,{size:20})}),r.jsx("h2",{children:i!=null&&i._id?E?"עריכת תזמורת":"עריכת הרכב":E?"הוספת תזמורת חדשה":"הוספת הרכב חדש"}),w&&r.jsx("div",{className:"error-message",children:w}),r.jsxs("form",{onSubmit:ae,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:E?"פרטי תזמורת":"פרטי הרכב"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"type",children:"סוג *"}),r.jsxs("select",{id:"type",name:"type",value:h.type,onChange:A,className:y.type?"is-invalid":"",required:!0,disabled:v,children:[r.jsx("option",{value:"",children:"בחר סוג"}),QS.map(H=>r.jsx("option",{value:H,children:H},H))]}),y.type&&r.jsx("div",{className:"form-error",children:y.type})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:E?"שם התזמורת *":"שם ההרכב *"}),r.jsxs("div",{className:"name-input-container",children:[r.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:A,className:y.name||!C.isValid&&!v?"is-invalid":"",placeholder:E?"הכנס שם תזמורת...":"הכנס שם הרכב...",required:!0,disabled:v}),!C.isValid&&C.message&&!y.name&&!v&&r.jsxs("div",{className:"name-validation-warning",children:[r.jsx(Db,{size:16}),r.jsx("span",{children:C.message})]})]}),y.name&&r.jsx("div",{className:"form-error",children:y.name})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"location",children:"מקום *"}),r.jsxs("select",{id:"location",name:"location",value:h.location,onChange:A,className:y.location?"is-invalid":"",required:!0,disabled:v,children:[r.jsx("option",{value:"",children:"בחר מקום"}),gl.map(H=>r.jsx("option",{value:H,children:H},H))]}),y.location&&r.jsx("div",{className:"form-error",children:y.location})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"conductorId",children:E?"מנצח *":"מדריך הרכב *"}),r.jsxs("select",{id:"conductorId",name:"conductorId",value:h.conductorId,onChange:A,className:y.conductorId?"is-invalid":"",required:!0,disabled:x||v,children:[r.jsx("option",{value:"",children:E?"בחר מנצח":"בחר מדריך הרכב"}),g.map(H=>r.jsx("option",{value:H._id,children:H.personalInfo.fullName},H._id))]}),x&&r.jsx("div",{className:"loading-text",children:E?"טוען מנצחים...":"טוען מדריכים..."}),y.conductorId&&r.jsx("div",{className:"form-error",children:y.conductorId})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:E?"תלמידים (חברי התזמורת)":"תלמידים (חברי ההרכב)"}),r.jsxs("div",{ref:X,className:"search-container",children:[r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(Tc,{className:"search-icon",size:16}),r.jsx("input",{type:"text",value:R,onChange:K,placeholder:"חפש תלמידים להוספה...",className:"search-input",onClick:()=>R.length>0,disabled:v})]}),D&&te.length>0&&!v&&r.jsx("div",{className:"search-results-dropdown",children:te.map(H=>r.jsxs("div",{className:"search-result-item",onClick:()=>fe(H),children:[r.jsx(Qa,{size:16,className:"student-icon"}),r.jsx("span",{children:H.personalInfo.fullName}),r.jsx("span",{className:"student-instrument",children:H.academicInfo.instrument})]},H._id))})]}),r.jsx("div",{className:"selected-members-list",children:k?r.jsx("div",{className:"loading-text",children:"טוען תלמידים..."}):O.length>0?O.map(H=>r.jsxs("div",{className:"member-badge",children:[r.jsx("span",{children:H.personalInfo.fullName}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>W(H._id),"aria-label":`הסר את ${H.personalInfo.fullName}`,disabled:v,children:r.jsx(aa,{size:14})})]},H._id)):r.jsxs("div",{className:"no-members-message",children:["לא נבחרו תלמידים. השתמש בחיפוש כדי להוסיף תלמידים"," ",E?"לתזמורת":"להרכב","."]})})]})}),r.jsx("input",{type:"hidden",name:"schoolYearId",value:h.schoolYearId})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:p||v||!C.isValid&&!!h.name,children:v?"שומר...":p?"טוען...":i!=null&&i._id?"עדכון":"הוספה"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,disabled:v,children:"ביטול"})]})]})]})]})}function XS(){const{orchestras:n,isLoading:l,error:i,loadOrchestras:c,removeOrchestra:u}=$n(),{loadCurrentSchoolYear:f}=Ul(),[h,g]=S.useState(!1),[y,p]=S.useState(null),[v,x]=S.useState(!1),[w,A]=S.useState(null),N=$=>[$.name,$.type],{filteredEntities:E,handleSearch:C}=Md(n,N),O=Sa(),R=Zt(),{user:D}=Zn(),k=D==null?void 0:D.roles.includes("מנהל"),X=D==null?void 0:D.roles.includes("מנצח"),K=R.pathname.includes("/orchestras/")&&!R.pathname.endsWith("/orchestras/");S.useEffect(()=>{c(),f()},[c,f]);const ce=()=>{p(null),g(!0)},fe=()=>{g(!1),p(null)},W=$=>{const re=n.find(se=>se._id===$)||null;p(re),g(!0)},ae=$=>{O(`/orchestras/${$}`)},te=$=>{n.find(se=>se._id===$)&&(A($),x(!0))},H=async()=>{if(w)try{await u(w),A(null)}catch($){console.error("Failed to remove orchestra:",$)}},ve=()=>{alert("Open filter dialog")},he=k,ge=k||X;return r.jsxs("div",{className:"app-container",children:[r.jsx(Hc,{}),r.jsxs("main",{className:"main-content",children:[!K&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(zd,{onSearch:C,placeholder:"חיפוש תזמורות..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:ve,"aria-label":"סנן תזמורות",children:r.jsx(Cd,{className:"icon"})}),he&&r.jsx("button",{className:"btn-icon add-btn",onClick:ce,"aria-label":"הוספת תזמורת חדשה",children:r.jsx(_l,{className:"icon"})})]})]})}),i&&r.jsx("div",{className:"error-message",children:i}),!K&&r.jsx(qS,{orchestras:E,isLoading:l,onEdit:ge?W:void 0,onView:ae,onRemove:k?te:void 0}),r.jsx(Gr,{context:{loadOrchestras:c}}),r.jsx(_s,{isOpen:v,onClose:()=>x(!1),onConfirm:H,title:"מחיקת תזמורת",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק את התזמורת?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"}),h&&r.jsx(Ey,{isOpen:h,onClose:fe,orchestra:y,onSave:c})]}),!K&&!h&&r.jsx(ei,{})]})}const kn={async getRehearsals(n={}){return Me.get("rehearsal",n)},async getRehearsalById(n){return Me.get(`rehearsal/${n}`)},async getRehearsalsByOrchestraId(n){return this.getRehearsals({groupId:n})},async addRehearsal(n){if(n.type||(n.type="תזמורת"),n.date&&!n.dayOfWeek){const l=new Date(n.date);n.dayOfWeek=l.getDay()}return Me.post("rehearsal",n)},async updateRehearsal(n,l){const{_id:i,...c}=l;if(l.date&&!l.dayOfWeek){const u=new Date(l.date);c.dayOfWeek=u.getDay()}return Me.put(`rehearsal/${n}`,c)},async removeRehearsal(n){if(!n)throw new Error("Invalid rehearsal ID");return Me.delete(`rehearsal/${n}`)},async bulkCreateRehearsals(n){try{console.log("Bulk create data being sent:",n);const l={orchestraId:n.orchestraId,startDate:n.startDate,endDate:n.endDate,dayOfWeek:Number(n.dayOfWeek),startTime:n.startTime,endTime:n.endTime,location:n.location,notes:n.notes||"",excludeDates:n.excludeDates||[]};return await Me.post("rehearsal/bulk-create",l)}catch(l){throw console.error("Error in bulk create:",l),l}},async updateAttendance(n,l){return Me.put(`rehearsal/${n}/attendance`,l)},async getAttendance(n){return Me.get(`rehearsal/${n}/attendance`)},formatDate(n){return n.toISOString().split("T")[0]},formatTime(n){return n.toTimeString().slice(0,5)},formatDateForDisplay(n){return new Date(n).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"})},formatTimeForDisplay(n){return n},calculateDuration(n,l){const[i,c]=n.split(":").map(Number),[u,f]=l.split(":").map(Number),h=i*60+c;return u*60+f-h}},Yc=zl((n,l)=>({rehearsals:[],selectedRehearsal:null,filterBy:{},isLoading:!1,error:null,loadRehearsals:async(i={})=>{n({isLoading:!0,error:null});try{const c=await kn.getRehearsals(i);n({rehearsals:c,filterBy:i,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load rehearsals";n({error:u,isLoading:!1}),console.error("Error loading rehearsals:",c)}},loadRehearsalById:async i=>{n({isLoading:!0,error:null});try{const c=await kn.getRehearsalById(i);n({selectedRehearsal:c,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load rehearsal";n({error:u,isLoading:!1}),console.error("Error loading rehearsal:",c)}},loadRehearsalsByOrchestraId:async i=>{n({isLoading:!0,error:null});try{const c=await kn.getRehearsalsByOrchestraId(i);n({rehearsals:c,isLoading:!1})}catch(c){const u=c instanceof Error?c.message:"Failed to load orchestra rehearsals";n({error:u,isLoading:!1}),console.error("Error loading orchestra rehearsals:",c)}},saveRehearsal:async i=>{n({isLoading:!0,error:null});try{let c;if(i._id){c=await kn.updateRehearsal(i._id,i);const u=l().rehearsals.map(f=>f._id===c._id?c:f);n({rehearsals:u,selectedRehearsal:c,isLoading:!1})}else c=await kn.addRehearsal(i),n({rehearsals:[...l().rehearsals,c],selectedRehearsal:c,isLoading:!1});return c}catch(c){const u=c instanceof Error?c.message:"Failed to save rehearsal";throw n({error:u,isLoading:!1}),console.error("Error saving rehearsal:",c),c}},removeRehearsal:async i=>{var c;n({isLoading:!0,error:null});try{if(!i)throw new Error("Invalid rehearsal ID");await kn.removeRehearsal(i),n({rehearsals:l().rehearsals.filter(u=>u._id!==i),selectedRehearsal:((c=l().selectedRehearsal)==null?void 0:c._id)===i?null:l().selectedRehearsal,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove rehearsal";throw n({error:f,isLoading:!1}),console.error("Error removing rehearsal:",u),u}},bulkCreateRehearsals:async i=>{n({isLoading:!0,error:null});try{const c={orchestraId:i.orchestraId,startDate:i.startDate,endDate:i.endDate,dayOfWeek:Number(i.dayOfWeek),startTime:i.startTime,endTime:i.endTime,location:i.location,notes:i.notes||"",excludeDates:i.excludeDates||[]};console.log("Sending bulk create data:",c);const u=await kn.bulkCreateRehearsals(c);return c.orchestraId?await l().loadRehearsalsByOrchestraId(c.orchestraId):await l().loadRehearsals(),n({isLoading:!1}),u}catch(c){const u=c instanceof Error?c.message:"Failed to create bulk rehearsals";throw n({error:u,isLoading:!1}),console.error("Error creating bulk rehearsals:",c),c}},updateAttendance:async(i,c)=>{var u;n({isLoading:!0,error:null});try{const f=await kn.updateAttendance(i,c),h=l().rehearsals.map(g=>g._id===i?f:g);n({rehearsals:h,selectedRehearsal:((u=l().selectedRehearsal)==null?void 0:u._id)===i?f:l().selectedRehearsal,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to update attendance";throw n({error:h,isLoading:!1}),console.error("Error updating attendance:",f),f}},setFilter:i=>{n({filterBy:{...l().filterBy,...i}})},clearSelectedRehearsal:()=>{n({selectedRehearsal:null})},clearError:()=>{n({error:null})}})),pl=n=>n.toISOString().split("T")[0];function Ld({isOpen:n,onClose:l,rehearsal:i,orchestraId:c,onSave:u}){const{saveRehearsal:f,bulkCreateRehearsals:h,isLoading:g,error:y,clearError:p}=Yc(),{orchestras:v,loadOrchestras:x}=$n(),{currentSchoolYear:w}=Ul(),A=(w==null?void 0:w._id)||"",[N,E]=S.useState("single"),[C,O]=S.useState({groupId:c||"",date:pl(new Date),startTime:"16:00",endTime:"18:00",location:gl[0],notes:"",isActive:!0,schoolYearId:A,type:"תזמורת",dayOfWeek:new Date().getDay()}),[R,D]=S.useState({orchestraId:c||"",startDate:pl(new Date),endDate:pl(new Date(new Date().getTime()+30*24*60*60*1e3)),dayOfWeek:new Date().getDay(),startTime:"16:00",endTime:"18:00",location:gl[0],notes:"",excludeDates:[]}),[k,X]=S.useState(""),[K,ce]=S.useState({}),[fe,W]=S.useState("");S.useEffect(()=>{v.length===0&&x()},[v.length,x]),S.useEffect(()=>{if(i!=null&&i._id&&E("single"),i!=null&&i._id)O({_id:i._id,groupId:i.groupId,date:i.date,startTime:i.startTime,endTime:i.endTime,location:i.location||"",notes:i.notes||"",isActive:i.isActive!==!1,schoolYearId:i.schoolYearId||A,type:i.type||"תזמורת",dayOfWeek:i.dayOfWeek});else{const j=new Date,M=j.getDay();O({groupId:c||"",date:pl(j),startTime:"16:00",endTime:"18:00",location:gl[0],notes:"",isActive:!0,schoolYearId:A,type:"תזמורת",dayOfWeek:M}),D({orchestraId:c||"",startDate:pl(j),endDate:pl(new Date(j.getTime()+30*24*60*60*1e3)),dayOfWeek:M,startTime:"16:00",endTime:"18:00",location:gl[0],notes:"",excludeDates:[]})}ce({}),W(""),p&&p()},[i,n,p,c,A,x]);const ae=j=>{const{name:M,value:Y}=j.target;O(U=>({...U,[M]:Y})),["startTime","endTime","location","notes","groupId"].includes(M)&&D(U=>({...U,[M==="groupId"?"orchestraId":M]:Y})),K[M]&&ce(U=>({...U,[M]:""}))},te=j=>{const{name:M,value:Y}=j.target;D(U=>({...U,[M]:Y})),["startTime","endTime","location","notes"].includes(M)?O(U=>({...U,[M]:Y})):M==="orchestraId"&&O(U=>({...U,groupId:Y})),K[M]&&ce(U=>({...U,[M]:""}))},H=j=>{const M=parseInt(j.target.value,10);D(Y=>({...Y,dayOfWeek:M})),O(Y=>({...Y,dayOfWeek:M}))},ve=j=>{i!=null&&i._id||E(j)},he=()=>{k&&(R.excludeDates.includes(k)||(D(j=>({...j,excludeDates:[...j.excludeDates,k]})),X("")))},ge=j=>{D(M=>({...M,excludeDates:M.excludeDates.filter(Y=>Y!==j)}))},$=j=>["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"][j],re=()=>{const j={};return C.groupId||(j.groupId="יש לבחור תזמורת"),C.date||(j.date="תאריך החזרה הוא שדה חובה"),C.startTime||(j.startTime="שעת התחלה היא שדה חובה"),C.endTime||(j.endTime="שעת סיום היא שדה חובה"),C.location||(j.location="מיקום החזרה הוא שדה חובה"),C.startTime&&C.endTime&&C.endTime<=C.startTime&&(j.endTime="שעת הסיום חייבת להיות אחרי שעת ההתחלה"),ce(j),Object.keys(j).length===0},se=()=>{const j={};return R.orchestraId||(j.orchestraId="יש לבחור תזמורת"),R.startDate||(j.startDate="תאריך התחלה הוא שדה חובה"),R.endDate||(j.endDate="תאריך סיום הוא שדה חובה"),R.startDate&&R.endDate&&new Date(R.endDate)<new Date(R.startDate)&&(j.endDate="תאריך הסיום חייב להיות אחרי תאריך ההתחלה"),R.startTime||(j.startTime="שעת התחלה היא שדה חובה"),R.endTime||(j.endTime="שעת סיום היא שדה חובה"),R.startTime&&R.endTime&&R.endTime<=R.startTime&&(j.endTime="שעת הסיום חייבת להיות אחרי שעת ההתחלה"),R.location||(j.location="מיקום החזרה הוא שדה חובה"),ce(j),Object.keys(j).length===0},be=async j=>{if(j.preventDefault(),W(""),!!(N==="bulk"?se():re()))try{if(N==="bulk"){const Y={orchestraId:R.orchestraId,startDate:R.startDate,endDate:R.endDate,dayOfWeek:Number(R.dayOfWeek),startTime:R.startTime,endTime:R.endTime,location:R.location,notes:R.notes||"",excludeDates:R.excludeDates||[]};console.log("Sending bulk create data:",Y),await h(Y)}else{const Y={...C,schoolYearId:C.schoolYearId||A,dayOfWeek:C.dayOfWeek||new Date(C.date).getDay()};await f(Y)}u&&u(),l()}catch(Y){console.error("Error saving rehearsal:",Y),W(Y instanceof Error?Y.message:"שגיאה בשמירת החזרה. נסה שוב.")}};return n?r.jsxs("div",{className:"rehearsal-form",children:[r.jsx("div",{className:"overlay",onClick:l}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:l,"aria-label":"סגור",children:r.jsx(aa,{size:20})}),r.jsx("h2",{children:i!=null&&i._id?"עריכת חזרה":"הוספת חזרה חדשה"}),y&&r.jsx("div",{className:"error-message",children:y}),fe&&r.jsx("div",{className:"error-message",children:fe}),!(i!=null&&i._id)&&r.jsxs("div",{className:"mode-toggle",children:[r.jsx("button",{type:"button",className:`btn primary ${N==="single"?"active":""}`,onClick:()=>ve("single"),children:"חזרה בודדת"}),r.jsx("button",{type:"button",className:`btn primary ${N==="bulk"?"active":""}`,onClick:()=>ve("bulk"),children:"חזרות מרובות"})]}),r.jsxs("form",{onSubmit:be,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"פרטי תזמורת"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:N==="single"?"groupId":"orchestraId",children:[r.jsx(qt,{size:16,className:"icon"}),"תזמורת/הרכב *"]}),r.jsxs("select",{id:N==="single"?"groupId":"orchestraId",name:N==="single"?"groupId":"orchestraId",value:N==="single"?C.groupId:R.orchestraId,onChange:N==="single"?ae:te,className:K[N==="single"?"groupId":"orchestraId"]?"is-invalid":"",required:!0,children:[r.jsx("option",{value:"",children:"בחר תזמורת/הרכב"}),v.map(j=>r.jsx("option",{value:j._id,children:j.name},j._id))]}),K[N==="single"?"groupId":"orchestraId"]&&r.jsx("div",{className:"form-error",children:K[N==="single"?"groupId":"orchestraId"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"פרטי חזרה"}),N==="single"?r.jsx(r.Fragment,{children:r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"date",children:[r.jsx(st,{size:16,className:"icon"}),"תאריך *"]}),r.jsx("input",{type:"date",id:"date",name:"date",value:C.date,onChange:ae,className:K.date?"is-invalid":"",required:!0}),K.date&&r.jsx("div",{className:"form-error",children:K.date})]})})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"startDate",children:[r.jsx(st,{size:16,className:"icon"}),"תאריך התחלה *"]}),r.jsx("input",{type:"date",id:"startDate",name:"startDate",value:R.startDate,onChange:te,className:K.startDate?"is-invalid":"",required:!0}),K.startDate&&r.jsx("div",{className:"form-error",children:K.startDate})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"endDate",children:[r.jsx(st,{size:16,className:"icon"}),"תאריך סיום *"]}),r.jsx("input",{type:"date",id:"endDate",name:"endDate",value:R.endDate,onChange:te,className:K.endDate?"is-invalid":"",required:!0}),K.endDate&&r.jsx("div",{className:"form-error",children:K.endDate})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dayOfWeek",children:[r.jsx(t1,{size:16,className:"icon"}),"יום בשבוע *"]}),r.jsxs("select",{id:"dayOfWeek",name:"dayOfWeek",value:R.dayOfWeek,onChange:H,required:!0,children:[r.jsx("option",{value:0,children:"יום ראשון"}),r.jsx("option",{value:1,children:"יום שני"}),r.jsx("option",{value:2,children:"יום שלישי"}),r.jsx("option",{value:3,children:"יום רביעי"}),r.jsx("option",{value:4,children:"יום חמישי"}),r.jsx("option",{value:5,children:"יום שישי"}),r.jsx("option",{value:6,children:"יום שבת"})]}),r.jsxs("div",{className:"help-text",children:["חזרות ייווצרו בכל יום ",$(R.dayOfWeek)," ","בטווח התאריכים שנבחר"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group excluded-dates",children:[r.jsxs("label",{children:[r.jsx(st,{size:16,className:"icon"}),"תאריכים לדילוג"]}),r.jsxs("div",{className:"date-input-group",children:[r.jsx("input",{type:"date",value:k,onChange:j=>X(j.target.value),min:R.startDate,max:R.endDate}),r.jsx("button",{type:"button",onClick:he,className:"add-date-btn",disabled:!k,children:"הוסף"})]}),R.excludeDates.length>0&&r.jsxs("div",{className:"excluded-dates-list",children:[r.jsx("div",{className:"list-title",children:"תאריכים שיידלגו:"}),r.jsx("ul",{children:R.excludeDates.map(j=>r.jsxs("li",{children:[new Date(j).toLocaleDateString("he-IL"),r.jsx("button",{type:"button",onClick:()=>ge(j),className:"remove-date-btn",children:r.jsx(aa,{size:14})})]},j))})]})]})})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"startTime",children:[r.jsx(Br,{size:16,className:"icon"}),"שעת התחלה *"]}),r.jsx("input",{type:"time",id:"startTime",name:"startTime",value:N==="bulk"?R.startTime:C.startTime,onChange:N==="bulk"?te:ae,className:K.startTime?"is-invalid":"",required:!0}),K.startTime&&r.jsx("div",{className:"form-error",children:K.startTime})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"endTime",children:[r.jsx(Br,{size:16,className:"icon"}),"שעת סיום *"]}),r.jsx("input",{type:"time",id:"endTime",name:"endTime",value:N==="bulk"?R.endTime:C.endTime,onChange:N==="bulk"?te:ae,className:K.endTime?"is-invalid":"",required:!0}),K.endTime&&r.jsx("div",{className:"form-error",children:K.endTime})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"location",children:[r.jsx(Zr,{size:16,className:"icon"}),"מיקום *"]}),r.jsxs("select",{id:"location",name:"location",value:N==="bulk"?R.location:C.location,onChange:N==="bulk"?te:ae,className:K.location?"is-invalid":"",required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:"בחר מיקום"}),gl.map(j=>r.jsx("option",{value:j,children:j},j))]}),K.location&&r.jsx("div",{className:"form-error",children:K.location})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"notes",children:"הערות"}),r.jsx("textarea",{id:"notes",name:"notes",value:N==="bulk"?R.notes:C.notes,onChange:N==="bulk"?te:ae,rows:3})]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:g,children:g?"שומר...":N==="bulk"?"יצירת חזרות מרובות":i!=null&&i._id?"עדכון":"הוספה"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:l,children:"ביטול"})]})]})]})]}):null}function og(){var Dt,sa,za;const{orchestraId:n}=Dc(),l=Sa(),{user:i}=Zn(),{selectedOrchestra:c,loadOrchestraById:u,removeOrchestra:f,isLoading:h,error:g}=$n(),{loadTeacherById:y}=Ol(),{getStudentsByIds:p}=zs(),{rehearsals:v,loadRehearsalsByOrchestraId:x,removeRehearsal:w,isLoading:A}=Yc(),[N,E]=S.useState([]),[C,O]=S.useState(!1),[R,D]=S.useState(!1),[k,X]=S.useState(!1),[K,ce]=S.useState(null),[fe,W]=S.useState(!1),[ae,te]=S.useState(!1),[H,ve]=S.useState(null),[he,ge]=S.useState(!1),[$,re]=S.useState(null),[se,be]=S.useState(!1),[j,M]=S.useState(!1),[Y,U]=S.useState(!1),q=((Dt=i==null?void 0:i.roles)==null?void 0:Dt.includes("מנהל"))||!1,oe=((sa=i==null?void 0:i.roles)==null?void 0:sa.includes("מנצח"))||!1,de=q||oe&&(c==null?void 0:c.conductorId)===(i==null?void 0:i._id);S.useEffect(()=>{n&&u(n)},[n,u]),S.useEffect(()=>{n&&x(n)},[n,x]),S.useEffect(()=>{(async()=>{if(c!=null&&c.conductorId){W(!0);try{await y(c.conductorId);const Na=Ol.getState().selectedTeacher;ce(Na)}catch(Fe){console.error("Failed to load conductor:",Fe)}finally{W(!1)}}})()},[c,y]),S.useEffect(()=>{(async()=>{if(c&&c.memberIds&&c.memberIds.length>0){O(!0);try{const Na=(await p(c.memberIds)).map(la=>({_id:la._id,personalInfo:{fullName:la.personalInfo.fullName},academicInfo:{instrument:la.academicInfo.instrument}}));E(Na)}catch(Fe){console.error("Failed to load members:",Fe)}finally{O(!1)}}else E([])})()},[c,p]);const V=Re=>new Date(Re).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"}),ee=()=>{l("/orchestras")},ue=()=>{D(!0)},le=()=>{X(!0)},ne=async()=>{if(c!=null&&c._id)try{await f(c._id),l("/orchestras")}catch(Re){console.error("Failed to delete orchestra:",Re)}X(!1)},Ee=()=>{ve(null),te(!0)},we=Re=>{ve(Re),te(!0)},bt=Re=>{re(Re),ge(!0)},lt=async()=>{if($)try{await w($),x(n)}catch(Re){console.error("Failed to delete rehearsal:",Re)}ge(!1),re(null)},xe=Re=>{l(`/rehearsals/${Re}`)},Be=()=>{be(!se)},Ye=()=>{M(!j)},ut=()=>{U(!Y)};return h?r.jsx("div",{className:"loading-state",children:"טוען..."}):g?r.jsx("div",{className:"error-state",children:g}):c?r.jsxs("div",{className:"orchestra-details-content",children:[r.jsx("div",{className:"orchestra-details-page",children:r.jsx("div",{className:"orchestra-card-container",children:r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"orchestra-header",children:[r.jsx("div",{className:"header-icon",children:r.jsx(qt,{className:"icon",size:20})}),r.jsx("h2",{className:"header-title",children:c.name}),r.jsxs("div",{className:"header-actions",children:[de&&r.jsx("button",{className:"action-btn edit",onClick:ue,children:r.jsx(As,{size:16})}),q&&r.jsx("button",{className:"action-btn delete",onClick:le,children:r.jsx(aa,{size:16})}),r.jsx("button",{className:"back-button",onClick:ee,"aria-label":"חזרה",children:r.jsx(ta,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${se?"active":""}`,onClick:Be,children:[c.type==="הרכב"?"פרטי הרכב":"פרטי התזמורת",se?r.jsx(Gt,{className:"toggle-icon",size:20}):r.jsx(Vt,{className:"toggle-icon",size:20})]}),se&&r.jsxs("div",{className:"section-content",children:[r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"מנצח:"}),r.jsx("span",{className:"info-value",children:fe?"טוען...":K&&"personalInfo"in K?K.personalInfo.fullName:"לא הוגדר"})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"מספר תלמידים:"}),r.jsx("span",{className:"info-value",children:((za=c.memberIds)==null?void 0:za.length)||0})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"מספר חזרות:"}),r.jsx("span",{className:"info-value",children:(v==null?void 0:v.length)||0})]})]})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${j?"active":""}`,onClick:Ye,children:[r.jsx(Kr,{size:18}),"תלמידים",j?r.jsx(Gt,{className:"toggle-icon",size:20}):r.jsx(Vt,{className:"toggle-icon",size:20})]}),j&&r.jsx("div",{className:"section-content",children:c.memberIds&&c.memberIds.length>0?r.jsx("div",{className:"members-list",children:C?r.jsx("div",{className:"loading-message",children:"טוען תלמידים..."}):N.length>0?r.jsx("ul",{className:"members-items",children:N.map(Re=>r.jsx("li",{className:"member-item",children:r.jsxs("div",{className:"member-info",children:[r.jsx("span",{className:"member-name",children:Re.personalInfo.fullName}),r.jsx("span",{children:" - "}),r.jsx("span",{className:"member-instrument",children:Re.academicInfo.instrument})]})},Re._id))}):r.jsx("div",{className:"message-box",children:"לא ניתן לטעון את נתוני התלמידים"})}):r.jsx("div",{className:"warning-box",children:"אין תלמידים בתזמורת זו"})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${Y?"active":""}`,onClick:ut,children:[r.jsx(st,{size:18}),"חזרות",Y?r.jsx(Gt,{className:"toggle-icon",size:20}):r.jsx(Vt,{className:"toggle-icon",size:20})]}),Y&&r.jsxs("div",{className:"section-content",children:[de&&r.jsx("div",{className:"add-rehearsal-btn-container",children:r.jsxs("button",{className:"btn primary add-rehearsal-btn",onClick:Ee,children:[r.jsx(_l,{size:16}),"הוסף חזרה"]})}),A?r.jsx("div",{className:"loading-message",children:"טוען חזרות..."}):v&&v.length>0?r.jsx("div",{className:"rehearsals-list",children:v.sort((Re,Fe)=>new Date(Re.date).getTime()-new Date(Fe.date).getTime()).map(Re=>r.jsxs("div",{className:"rehearsal-item",onClick:()=>xe(Re._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"rehearsal-header",children:[r.jsxs("div",{className:"rehearsal-date",children:[r.jsx(st,{size:16}),r.jsx("span",{children:V(Re.date)})]}),de&&r.jsxs("div",{className:"rehearsal-actions",children:[r.jsx("button",{className:"action-btn edit",onClick:Fe=>{Fe.stopPropagation(),we(Re)},children:r.jsx(As,{size:14})}),r.jsx("button",{className:"action-btn delete",onClick:Fe=>{Fe.stopPropagation(),bt(Re._id)},children:r.jsx(aa,{size:14})})]})]}),r.jsxs("div",{className:"rehearsal-details",children:[r.jsxs("div",{className:"rehearsal-time",children:[r.jsx(Br,{size:16}),r.jsxs("span",{children:[Re.startTime," - ",Re.endTime]})]}),r.jsxs("div",{className:"rehearsal-location",children:[r.jsx(Zr,{size:16}),r.jsx("span",{children:Re.location})]}),Re.notes&&r.jsxs("div",{className:"rehearsal-notes",children:[r.jsx("span",{className:"notes-label",children:"הערות:"}),r.jsx("span",{className:"notes-text",children:Re.notes})]})]})]},Re._id))}):r.jsx("div",{className:"warning-box",children:"אין חזרות רשומות לתזמורת זו"})]})]})]})]})})}),R&&r.jsx(Ey,{isOpen:R,onClose:()=>D(!1),orchestra:c,onSave:()=>{D(!1),n&&u(n)}}),ae&&r.jsx(Ld,{isOpen:ae,onClose:()=>te(!1),rehearsal:H,orchestraId:n,onSave:()=>{te(!1),n&&x(n)}}),r.jsx(_s,{isOpen:k,onClose:()=>X(!1),onConfirm:ne,title:"מחיקת תזמורת",message:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:['האם אתה בטוח שברצונך למחוק את התזמורת "',c.name,'"?']}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"}),r.jsx(_s,{isOpen:he,onClose:()=>ge(!1),onConfirm:lt,title:"מחיקת חזרה",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק חזרה זו?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"})]}):r.jsx("div",{className:"not-found-state",children:"תזמורת לא נמצאה"})}function VS({rehearsal:n,orchestraName:l,onView:i,onEdit:c,onRemove:u,isToday:f=!1}){const h=(p,v)=>{const[x,w]=p.split(":").map(Number),[A,N]=v.split(":").map(Number),E=x*60+w;return A*60+N-E},g=p=>{const v=Math.floor(p/60),x=p%60;return v===0?`${x} דקות`:v===1&&x===0?"שעה אחת":v===1?`שעה ו-${x} דקות`:x===0?`${v} שעות`:`${v} שעות ו-${x} דקות`},y=h(n.startTime,n.endTime);return r.jsxs("div",{className:`rehearsal-preview ${f?"today-rehearsal":""}`,onClick:()=>i(n._id),children:[f&&r.jsx("div",{className:"today-badge",children:"היום"}),r.jsxs("div",{className:"preview-header",children:[r.jsx("h4",{children:l}),r.jsxs("div",{className:"time-info",children:[r.jsxs("span",{className:"time-range",children:[r.jsx(Br,{size:18}),n.startTime," - ",n.endTime]}),r.jsxs("span",{className:"duration",children:["(",g(y),")"]})]})]}),r.jsxs("div",{className:"preview-content",children:[r.jsxs("div",{className:"location-info",children:[r.jsx(Zr,{size:16}),r.jsx("span",{className:"location",children:n.location})]}),n.notes&&r.jsxs("div",{className:"notes-info",children:[r.jsx("span",{className:"notes-label",children:"הערות:"}),r.jsx("span",{className:"notes-text",children:n.notes})]})]}),r.jsx("div",{className:"preview-footer",children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:p=>{p.stopPropagation(),i(n._id)},"aria-label":"הצג פרטי חזרה",children:r.jsx($r,{size:16})}),c&&r.jsx("button",{className:"action-btn edit",onClick:p=>{p.stopPropagation(),c(n._id)},"aria-label":"ערוך חזרה",children:r.jsx(As,{size:16})}),u&&r.jsx("button",{className:"action-btn delete",onClick:p=>{p.stopPropagation(),u(n._id)},"aria-label":"מחק חזרה",children:r.jsx(zc,{size:16})})]})})]})}function GS({rehearsals:n,isLoading:l,orchestras:i,onEdit:c,onView:u,onRemove:f}){const h=S.useMemo(()=>{if(!n.length)return[];const p=new Date().toISOString().split("T")[0],v=n.reduce((x,w)=>{const A=w.date;return x[A]||(x[A]={date:A,rehearsals:[],isToday:A===p}),x[A].rehearsals.push(w),x},{});return Object.values(v).forEach(x=>{x.rehearsals.sort((w,A)=>w.startTime.localeCompare(A.startTime))}),Object.values(v).sort((x,w)=>x.isToday&&!w.isToday?-1:!x.isToday&&w.isToday?1:new Date(x.date).getTime()-new Date(w.date).getTime())},[n]);if(l&&n.length===0)return r.jsx("div",{className:"loading-state",children:"טוען חזרות..."});if(n.length===0)return r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"לא נמצאו חזרות להצגה"}),r.jsx("p",{children:"נסה לשנות את מסנני החיפוש או להוסיף חזרות חדשות"})]});const g=(p,v)=>v?"חזרות היום":new Date(p).toLocaleDateString("he-IL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),y=p=>{const v=i.find(x=>x._id===p);return v?v.name:"תזמורת לא מוגדרת"};return r.jsx("div",{className:"rehearsal-list-container",children:h.map(({date:p,rehearsals:v,isToday:x})=>r.jsxs("div",{className:`rehearsal-date-group ${x?"today-group":""}`,children:[r.jsxs("div",{className:"date-header",children:[r.jsx(st,{size:20}),r.jsx("h2",{children:g(p,x)}),r.jsxs("span",{className:"date-count",children:[v.length," חזרות"]})]}),r.jsx("div",{className:"rehearsal-grid",children:v.map(w=>r.jsx(VS,{rehearsal:w,orchestraName:y(w.groupId),onEdit:c,onView:u,onRemove:f,isToday:x},w._id))})]},p))})}function $S(){const{rehearsals:n,isLoading:l,error:i,loadRehearsals:c,removeRehearsal:u}=Yc(),{orchestras:f,loadOrchestras:h}=$n(),[g,y]=mb(),p=g.get("orchestraId"),v=g.get("fromDate"),[x,w]=S.useState(!1),[A,N]=S.useState(null),[E,C]=S.useState(!1),[O,R]=S.useState(null),[D,k]=S.useState(p),[X,K]=S.useState(v),[ce,fe]=S.useState(""),W=Sa(),ae=Zt(),{user:te}=Zn(),H=te==null?void 0:te.roles.includes("מנהל"),ve=te==null?void 0:te.roles.includes("מנצח"),he=ae.pathname.includes("/rehearsals/")&&!ae.pathname.endsWith("/rehearsals/");S.useEffect(()=>{h();const V={};if(p&&(V.groupId=p,k(p)),v)V.fromDate=v,K(v);else{const ue=new Date().toISOString().split("T")[0];V.fromDate=ue,K(ue)}c(V)},[c,h,p,v]),S.useEffect(()=>{const V=new URLSearchParams(g);D?V.set("orchestraId",D):V.delete("orchestraId"),y(V)},[D,y]);const ge=S.useMemo(()=>{if(!ce.trim())return n;const V=ce.toLowerCase();return n.filter(ee=>{const ue=f.find(le=>le._id===ee.groupId);return ue&&ue.name.toLowerCase().includes(V)})},[n,ce,f]),$=()=>{N(null),w(!0)},re=()=>{w(!1),N(null)},se=V=>{const ee=n.find(ue=>ue._id===V)||null;N(ee),w(!0)},be=V=>{W(`/rehearsals/${V}`)},j=V=>{n.find(ue=>ue._id===V)&&(R(V),C(!0))},M=async()=>{if(O)try{await u(O),R(null)}catch(V){console.error("Failed to remove rehearsal:",V)}C(!1)},Y=V=>{const ee=V.target.value||null;k(ee);const ue=new URLSearchParams(g);ee?ue.set("orchestraId",ee):ue.delete("orchestraId"),y(ue),c({groupId:ee||void 0,fromDate:X||void 0})},U=V=>{const ee=V.target.value||null;K(ee);const ue=new URLSearchParams(g);ee?ue.set("fromDate",ee):ue.delete("fromDate"),y(ue),c({groupId:D||void 0,fromDate:ee||void 0})},q=()=>{k(null),K(null),fe(""),y(new URLSearchParams),c({})},oe=H||ve,de=H||ve;return r.jsxs("div",{className:"app-container",children:[r.jsx(Hc,{}),r.jsxs("main",{className:"main-content",children:[!he&&r.jsxs("div",{className:"page-header",children:[r.jsx("div",{className:"page-title",children:r.jsxs("h1",{children:[r.jsx(st,{className:"title-icon"}),"לוח חזרות"]})}),r.jsx("div",{className:"search-action-container-rehearsal",children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("div",{className:"filter-dropdown",children:r.jsxs("select",{value:D||"",onChange:Y,className:"filter-select",children:[r.jsx("option",{value:"",children:"כל התזמורות"}),f.map(V=>r.jsx("option",{value:V._id,children:V.name},V._id))]})}),r.jsx("div",{className:"filter-date",children:r.jsx("input",{type:"date",value:X||"",onChange:U,className:"date-picker"})}),(D||X||ce)&&r.jsx("button",{className:"btn secondary",onClick:q,children:"איפוס"}),oe&&r.jsx("button",{className:"btn-icon add-btn",onClick:$,"aria-label":"הוספת חזרה חדשה",children:r.jsx(_l,{className:"icon"})})]})})]}),i&&r.jsx("div",{className:"error-message",children:i}),!he&&r.jsx(GS,{rehearsals:ge,isLoading:l,onEdit:de?se:void 0,onView:be,onRemove:H?j:void 0,orchestras:f}),r.jsx(Gr,{}),r.jsx(_s,{isOpen:E,onClose:()=>C(!1),onConfirm:M,title:"מחיקת חזרה",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק את החזרה?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"}),x&&r.jsx(Ld,{isOpen:x,onClose:re,rehearsal:A,orchestraId:D||"",onSave:c})]}),!he&&!x&&r.jsx(ei,{})]})}function ug(){var ee,ue;const{rehearsalId:n}=Dc(),l=Sa(),{user:i}=Zn(),{selectedRehearsal:c,loadRehearsalById:u,removeRehearsal:f,updateAttendance:h,isLoading:g,error:y}=Yc(),{loadOrchestraById:p}=$n(),{getStudentsByIds:v}=zs(),[x,w]=S.useState(null),[A,N]=S.useState([]),[E,C]=S.useState(!1),[O,R]=S.useState(!1),[D,k]=S.useState(!1),[X,K]=S.useState(!1),[ce,fe]=S.useState([]),[W,ae]=S.useState([]),[te,H]=S.useState(!1),[ve,he]=S.useState(!1),[ge,$]=S.useState(!1),re=((ee=i==null?void 0:i.roles)==null?void 0:ee.includes("מנהל"))||!1,se=((ue=i==null?void 0:i.roles)==null?void 0:ue.includes("מנצח"))||!1,be=re||se,j=re||se;S.useEffect(()=>{n&&u(n)},[n,u]),S.useEffect(()=>{(async()=>{if(c!=null&&c.groupId){C(!0);try{await p(c.groupId);const ne=$n.getState();w(ne.selectedOrchestra)}catch(ne){console.error("Failed to load orchestra:",ne)}finally{C(!1)}}})()},[c,p]),S.useEffect(()=>{(async()=>{if(x!=null&&x.memberIds&&x.memberIds.length>0){R(!0);try{const ne=await v(x.memberIds);N(ne)}catch(ne){console.error("Failed to load students:",ne)}finally{R(!1)}}else N([])})()},[x,v]),S.useEffect(()=>{c!=null&&c.attendance?(fe(c.attendance.present||[]),ae(c.attendance.absent||[])):(fe([]),ae([])),H(!1)},[c]);const M=le=>new Date(le).toLocaleDateString("he-IL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Y=le=>{let ne=[...ce],Ee=[...W];ce.includes(le)?(ne=ne.filter(we=>we!==le),Ee.push(le)):(W.includes(le)&&(Ee=Ee.filter(we=>we!==le)),ne.push(le)),fe(ne),ae(Ee),H(!0),$(!1)},U=le=>ce.includes(le),q=async()=>{if(!(!n||!c)){he(!0);try{await h(n,{present:ce,absent:W}),$(!0),H(!1),await u(n)}catch(le){console.error("Failed to update attendance:",le)}finally{he(!1)}}},oe=()=>{k(!0)},de=()=>{x!=null&&x._id?l(`/rehearsals?orchestraId=${x._id}`):l("/rehearsals")},V=async()=>{if(c!=null&&c._id)try{await f(c._id),l("/rehearsals")}catch(le){console.error("Failed to delete rehearsal:",le)}K(!1)};return g?r.jsx("div",{className:"loading-state",children:"טוען..."}):y?r.jsx("div",{className:"error-state",children:y}):c?r.jsxs("div",{className:"rehearsal-details",children:[r.jsx("div",{className:"rehearsal-details-page",children:r.jsx("div",{className:"rehearsal-card-container",children:r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"rehearsal-header",children:[r.jsx("button",{className:"back-button",onClick:de,"aria-label":"חזור",children:r.jsx(ta,{className:"lucide lucide-arrow-right"})}),r.jsxs("div",{className:"header-title",children:[r.jsx("h2",{children:"דיווח נוכחות לחזרה"}),r.jsxs("div",{className:"date-display",children:[r.jsx(st,{size:18}),r.jsx("span",{children:M(c.date)})]})]}),r.jsx("div",{className:"header-actions",children:be&&r.jsxs("button",{className:"action-btn edit",onClick:oe,children:[r.jsx(As,{size:16}),"עריכה"]})})]}),r.jsxs("div",{className:"orchestra-info-card",children:[r.jsx("h3",{children:E?"טוען...":(x==null?void 0:x.name)||"לא מוגדר"}),r.jsxs("div",{className:"rehearsal-details-row",children:[r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"מיקום:"}),r.jsx("span",{className:"detail-value",children:c.location})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"זמן:"}),r.jsxs("span",{className:"detail-value",children:[c.startTime," - ",c.endTime]})]})]})]}),r.jsx("div",{className:"attendance-section",children:r.jsx("div",{className:"students-list-container",children:O?r.jsx("div",{className:"loading-students",children:"טוען רשימת תלמידים..."}):A.length>0?r.jsx("ul",{className:"students-list",children:A.map(le=>r.jsxs("li",{className:`student-item ${U(le._id)?"present":""}`,children:[r.jsxs("div",{className:"student-info",children:[r.jsx("div",{className:"student-name",children:le.personalInfo.fullName}),r.jsx("div",{className:"student-instrument",children:le.academicInfo.instrument})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:U(le._id),onChange:()=>Y(le._id)}),r.jsx("span",{className:"toggle-slider"})]})]},le._id))}):r.jsx("div",{className:"empty-students",children:"אין תלמידים רשומים לתזמורת זו"})})}),j&&r.jsxs("div",{className:"attendance-footer",children:[ge&&r.jsx("span",{className:"save-success",children:"הנוכחות עודכנה בהצלחה!"}),r.jsx("button",{className:"save-attendance-btn",onClick:q,disabled:!te||ve,children:ve?"שומר...":"עדכן נוכחות"})]})]})})}),D&&r.jsx(Ld,{isOpen:D,onClose:()=>k(!1),rehearsal:c,orchestraId:c.groupId,onSave:()=>{k(!1),n&&u(n)}}),r.jsx(_s,{isOpen:X,onClose:()=>K(!1),onConfirm:V,title:"מחיקת חזרה",message:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:['האם אתה בטוח שברצונך למחוק את החזרה בתאריך "',M(c.date),'"?']}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"})]}):r.jsx("div",{className:"not-found-state",children:"חזרה לא נמצאה"})}const ZS=new D1({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function KS(){const n=Ac(i=>i.isAuthenticated);return Ac(i=>i.isLoading)?r.jsx("div",{children:"Loading..."}):n?r.jsx(Gr,{}):r.jsx(Ec,{to:"/login",replace:!0})}function JS(){const n=Ac(l=>l.initialize);return S.useEffect(()=>{n()},[n]),r.jsx(z1,{client:ZS,children:r.jsx(pS,{children:r.jsx(ob,{children:r.jsxs(Bx,{children:[r.jsx(xt,{path:"/login",element:r.jsx(gS,{})}),r.jsx(xt,{path:"/event-registration",element:r.jsx(xS,{})}),r.jsxs(xt,{element:r.jsx(KS,{}),children:[r.jsx(xt,{path:"/dashboard",element:r.jsx(bS,{})}),r.jsxs(xt,{path:"/students",element:r.jsx(OS,{}),children:[r.jsx(xt,{path:":studentId",element:r.jsx(ig,{})}),r.jsx(xt,{path:"new",element:r.jsx(ig,{})})]}),r.jsxs(xt,{path:"/teachers",element:r.jsx(kS,{}),children:[r.jsx(xt,{path:":teacherId",element:r.jsx(cg,{})}),r.jsx(xt,{path:"new",element:r.jsx(cg,{})})]}),r.jsxs(xt,{path:"/orchestras",element:r.jsx(XS,{}),children:[r.jsx(xt,{path:":orchestraId",element:r.jsx(og,{})}),r.jsx(xt,{path:"new",element:r.jsx(og,{})})]}),r.jsxs(xt,{path:"/rehearsals",element:r.jsx($S,{}),children:[r.jsx(xt,{path:":rehearsalId",element:r.jsx(ug,{})}),r.jsx(xt,{path:"new",element:r.jsx(ug,{})})]}),r.jsx(xt,{path:"/",element:r.jsx(Ec,{to:"/dashboard",replace:!0})}),r.jsx(xt,{path:"*",element:r.jsx(Ec,{to:"/dashboard",replace:!0})})]})]})})})})}G0.createRoot(document.getElementById("root")).render(r.jsx(S.StrictMode,{children:r.jsx(JS,{})}));
