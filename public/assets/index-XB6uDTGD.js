var dp=s=>{throw TypeError(s)};var Bu=(s,n,c)=>n.has(s)||dp("Cannot "+c);var $=(s,n,c)=>(Bu(s,n,"read from private field"),c?c.call(s):n.get(s)),_e=(s,n,c)=>n.has(s)?dp("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(s):n.set(s,c),je=(s,n,c,i)=>(Bu(s,n,"write to private field"),i?i.call(s,c):n.set(s,c),c),lt=(s,n,c)=>(Bu(s,n,"access private method"),c);var tc=(s,n,c,i)=>({set _(u){je(s,n,u,c)},get _(){return $(s,n,i)}});(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function c(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(u){if(u.ep)return;u.ep=!0;const f=c(u);fetch(u.href,f)}})();function kx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var qu={exports:{}},br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function Bx(){if(fp)return br;fp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function c(i,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var p in u)p!=="key"&&(f[p]=u[p])}else f=u;return u=f.ref,{$$typeof:s,type:i,key:h,ref:u!==void 0?u:null,props:f}}return br.Fragment=n,br.jsx=c,br.jsxs=c,br}var hp;function qx(){return hp||(hp=1,qu.exports=Bx()),qu.exports}var r=qx(),Hu={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function Hx(){if(mp)return Te;mp=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function T(S,_,q){this.props=S,this.context=_,this.refs=C,this.updater=q||O}T.prototype.isReactComponent={},T.prototype.setState=function(S,_){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,_,"setState")},T.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function z(){}z.prototype=T.prototype;function A(S,_,q){this.props=S,this.context=_,this.refs=C,this.updater=q||O}var R=A.prototype=new z;R.constructor=A,b(R,T.prototype),R.isPureReactComponent=!0;var U=Array.isArray,D={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function Q(S,_,q,B,Y,ne){return q=ne.ref,{$$typeof:s,type:S,key:_,ref:q!==void 0?q:null,props:ne}}function J(S,_){return Q(S.type,_,void 0,void 0,void 0,S.props)}function V(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function Z(S){var _={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(q){return _[q]})}var se=/\/+/g;function ae(S,_){return typeof S=="object"&&S!==null&&S.key!=null?Z(""+S.key):_.toString(36)}function he(){}function ie(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(he,he):(S.status="pending",S.then(function(_){S.status==="pending"&&(S.status="fulfilled",S.value=_)},function(_){S.status==="pending"&&(S.status="rejected",S.reason=_)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function ue(S,_,q,B,Y){var ne=typeof S;(ne==="undefined"||ne==="boolean")&&(S=null);var le=!1;if(S===null)le=!0;else switch(ne){case"bigint":case"string":case"number":le=!0;break;case"object":switch(S.$$typeof){case s:case n:le=!0;break;case x:return le=S._init,ue(le(S._payload),_,q,B,Y)}}if(le)return Y=Y(S),le=B===""?"."+ae(S,0):B,U(Y)?(q="",le!=null&&(q=le.replace(se,"$&/")+"/"),ue(Y,_,q,"",function(xe){return xe})):Y!=null&&(V(Y)&&(Y=J(Y,q+(Y.key==null||S&&S.key===Y.key?"":(""+Y.key).replace(se,"$&/")+"/")+le)),_.push(Y)),1;le=0;var pe=B===""?".":B+":";if(U(S))for(var ge=0;ge<S.length;ge++)B=S[ge],ne=pe+ae(B,ge),le+=ue(B,_,q,ne,Y);else if(ge=E(S),typeof ge=="function")for(S=ge.call(S),ge=0;!(B=S.next()).done;)B=B.value,ne=pe+ae(B,ge++),le+=ue(B,_,q,ne,Y);else if(ne==="object"){if(typeof S.then=="function")return ue(ie(S),_,q,B,Y);throw _=String(S),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.")}return le}function X(S,_,q){if(S==null)return S;var B=[],Y=0;return ue(S,B,"","",function(ne){return _.call(q,ne,Y++)}),B}function re(S){if(S._status===-1){var _=S._result;_=_(),_.then(function(q){(S._status===0||S._status===-1)&&(S._status=1,S._result=q)},function(q){(S._status===0||S._status===-1)&&(S._status=2,S._result=q)}),S._status===-1&&(S._status=0,S._result=_)}if(S._status===1)return S._result.default;throw S._result}var ee=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(_))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function de(){}return Te.Children={map:X,forEach:function(S,_,q){X(S,function(){_.apply(this,arguments)},q)},count:function(S){var _=0;return X(S,function(){_++}),_},toArray:function(S){return X(S,function(_){return _})||[]},only:function(S){if(!V(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Te.Component=T,Te.Fragment=c,Te.Profiler=u,Te.PureComponent=A,Te.StrictMode=i,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Te.act=function(){throw Error("act(...) is not supported in production builds of React.")},Te.cache=function(S){return function(){return S.apply(null,arguments)}},Te.cloneElement=function(S,_,q){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var B=b({},S.props),Y=S.key,ne=void 0;if(_!=null)for(le in _.ref!==void 0&&(ne=void 0),_.key!==void 0&&(Y=""+_.key),_)!k.call(_,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&_.ref===void 0||(B[le]=_[le]);var le=arguments.length-2;if(le===1)B.children=q;else if(1<le){for(var pe=Array(le),ge=0;ge<le;ge++)pe[ge]=arguments[ge+2];B.children=pe}return Q(S.type,Y,void 0,void 0,ne,B)},Te.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},Te.createElement=function(S,_,q){var B,Y={},ne=null;if(_!=null)for(B in _.key!==void 0&&(ne=""+_.key),_)k.call(_,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(Y[B]=_[B]);var le=arguments.length-2;if(le===1)Y.children=q;else if(1<le){for(var pe=Array(le),ge=0;ge<le;ge++)pe[ge]=arguments[ge+2];Y.children=pe}if(S&&S.defaultProps)for(B in le=S.defaultProps,le)Y[B]===void 0&&(Y[B]=le[B]);return Q(S,ne,void 0,void 0,null,Y)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(S){return{$$typeof:p,render:S}},Te.isValidElement=V,Te.lazy=function(S){return{$$typeof:x,_payload:{_status:-1,_result:S},_init:re}},Te.memo=function(S,_){return{$$typeof:m,type:S,compare:_===void 0?null:_}},Te.startTransition=function(S){var _=D.T,q={};D.T=q;try{var B=S(),Y=D.S;Y!==null&&Y(q,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(de,ee)}catch(ne){ee(ne)}finally{D.T=_}},Te.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Te.use=function(S){return D.H.use(S)},Te.useActionState=function(S,_,q){return D.H.useActionState(S,_,q)},Te.useCallback=function(S,_){return D.H.useCallback(S,_)},Te.useContext=function(S){return D.H.useContext(S)},Te.useDebugValue=function(){},Te.useDeferredValue=function(S,_){return D.H.useDeferredValue(S,_)},Te.useEffect=function(S,_){return D.H.useEffect(S,_)},Te.useId=function(){return D.H.useId()},Te.useImperativeHandle=function(S,_,q){return D.H.useImperativeHandle(S,_,q)},Te.useInsertionEffect=function(S,_){return D.H.useInsertionEffect(S,_)},Te.useLayoutEffect=function(S,_){return D.H.useLayoutEffect(S,_)},Te.useMemo=function(S,_){return D.H.useMemo(S,_)},Te.useOptimistic=function(S,_){return D.H.useOptimistic(S,_)},Te.useReducer=function(S,_,q){return D.H.useReducer(S,_,q)},Te.useRef=function(S){return D.H.useRef(S)},Te.useState=function(S){return D.H.useState(S)},Te.useSyncExternalStore=function(S,_,q){return D.H.useSyncExternalStore(S,_,q)},Te.useTransition=function(){return D.H.useTransition()},Te.version="19.0.0",Te}var pp;function dd(){return pp||(pp=1,Hu.exports=Hx()),Hu.exports}var j=dd();const gp=kx(j);var Yu={exports:{}},jr={},Fu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function Yx(){return yp||(yp=1,function(s){function n(X,re){var ee=X.length;X.push(re);e:for(;0<ee;){var de=ee-1>>>1,S=X[de];if(0<u(S,re))X[de]=re,X[ee]=S,ee=de;else break e}}function c(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var re=X[0],ee=X.pop();if(ee!==re){X[0]=ee;e:for(var de=0,S=X.length,_=S>>>1;de<_;){var q=2*(de+1)-1,B=X[q],Y=q+1,ne=X[Y];if(0>u(B,ee))Y<S&&0>u(ne,B)?(X[de]=ne,X[Y]=ee,de=Y):(X[de]=B,X[q]=ee,de=q);else if(Y<S&&0>u(ne,ee))X[de]=ne,X[Y]=ee,de=Y;else break e}}return re}function u(X,re){var ee=X.sortIndex-re.sortIndex;return ee!==0?ee:X.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var g=[],m=[],x=1,v=null,E=3,O=!1,b=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(X){for(var re=c(m);re!==null;){if(re.callback===null)i(m);else if(re.startTime<=X)i(m),re.sortIndex=re.expirationTime,n(g,re);else break;re=c(m)}}function U(X){if(C=!1,R(X),!b)if(c(g)!==null)b=!0,ie();else{var re=c(m);re!==null&&ue(U,re.startTime-X)}}var D=!1,k=-1,Q=5,J=-1;function V(){return!(s.unstable_now()-J<Q)}function Z(){if(D){var X=s.unstable_now();J=X;var re=!0;try{e:{b=!1,C&&(C=!1,z(k),k=-1),O=!0;var ee=E;try{t:{for(R(X),v=c(g);v!==null&&!(v.expirationTime>X&&V());){var de=v.callback;if(typeof de=="function"){v.callback=null,E=v.priorityLevel;var S=de(v.expirationTime<=X);if(X=s.unstable_now(),typeof S=="function"){v.callback=S,R(X),re=!0;break t}v===c(g)&&i(g),R(X)}else i(g);v=c(g)}if(v!==null)re=!0;else{var _=c(m);_!==null&&ue(U,_.startTime-X),re=!1}}break e}finally{v=null,E=ee,O=!1}re=void 0}}finally{re?se():D=!1}}}var se;if(typeof A=="function")se=function(){A(Z)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,he=ae.port2;ae.port1.onmessage=Z,se=function(){he.postMessage(null)}}else se=function(){T(Z,0)};function ie(){D||(D=!0,se())}function ue(X,re){k=T(function(){X(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(X){X.callback=null},s.unstable_continueExecution=function(){b||O||(b=!0,ie())},s.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<X?Math.floor(1e3/X):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_getFirstCallbackNode=function(){return c(g)},s.unstable_next=function(X){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var ee=E;E=re;try{return X()}finally{E=ee}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(X,re){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ee=E;E=X;try{return re()}finally{E=ee}},s.unstable_scheduleCallback=function(X,re,ee){var de=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,X){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ee+S,X={id:x++,callback:re,priorityLevel:X,startTime:ee,expirationTime:S,sortIndex:-1},ee>de?(X.sortIndex=ee,n(m,X),c(g)===null&&X===c(m)&&(C?(z(k),k=-1):C=!0,ue(U,ee-de))):(X.sortIndex=S,n(g,X),b||O||(b=!0,ie())),X},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(X){var re=E;return function(){var ee=E;E=re;try{return X.apply(this,arguments)}finally{E=ee}}}}(Qu)),Qu}var vp;function Fx(){return vp||(vp=1,Fu.exports=Yx()),Fu.exports}var $u={exports:{}},Ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function Qx(){if(xp)return Ot;xp=1;var s=dd();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var i={d:{f:c,r:function(){throw Error(n(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(g,m,x){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:g,containerInfo:m,implementation:x}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ot.createPortal=function(g,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return f(g,m,null,x)},Ot.flushSync=function(g){var m=h.T,x=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=m,i.p=x,i.d.f()}},Ot.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(g,m))},Ot.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Ot.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,O=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:O}):x==="script"&&i.d.X(g,{crossOrigin:v,integrity:E,fetchPriority:O,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ot.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=p(m.as,m.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(g)},Ot.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,v=p(x,m.crossOrigin);i.d.L(g,x,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ot.preloadModule=function(g,m){if(typeof g=="string")if(m){var x=p(m.as,m.crossOrigin);i.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(g)},Ot.requestFormReset=function(g){i.d.r(g)},Ot.unstable_batchedUpdates=function(g,m){return g(m)},Ot.useFormState=function(g,m,x){return h.H.useFormState(g,m,x)},Ot.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ot.version="19.0.0",Ot}var bp;function $x(){if(bp)return $u.exports;bp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),$u.exports=Qx(),$u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function Vx(){if(jp)return jr;jp=1;var s=Fx(),n=dd(),c=$x();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Q?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case p:return"Portal";case x:return"Profiler";case m:return"StrictMode";case C:return"Suspense";case T:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case E:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}var V=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=Object.assign,se,ae;function he(e){if(se===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);se=t&&t[1]||"",ae=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+e+ae}var ie=!1;function ue(e,t){if(!e||ie)return"";ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var F=K}Reflect.construct(e,[],te)}else{try{te.call()}catch(K){F=K}e.call(te.prototype)}}else{try{throw Error()}catch(K){F=K}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],N=d[1];if(y&&N){var w=y.split(`
`),L=N.split(`
`);for(o=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;o<L.length&&!L[o].includes("DetermineComponentFrameRoot");)o++;if(l===w.length||o===L.length)for(l=w.length-1,o=L.length-1;1<=l&&0<=o&&w[l]!==L[o];)o--;for(;1<=l&&0<=o;l--,o--)if(w[l]!==L[o]){if(l!==1||o!==1)do if(l--,o--,0>o||w[l]!==L[o]){var P=`
`+w[l].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=l&&0<=o);break}}}finally{ie=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?he(a):""}function X(e){switch(e.tag){case 26:case 27:case 5:return he(e.type);case 16:return he("Lazy");case 13:return he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function re(e){try{var t="";do t+=X(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ee(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function de(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S(e){if(ee(e)!==e)throw Error(i(188))}function _(e){var t=e.alternate;if(!t){if(t=ee(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,l=t;;){var o=a.return;if(o===null)break;var d=o.alternate;if(d===null){if(l=o.return,l!==null){a=l;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===a)return S(o),e;if(d===l)return S(o),t;d=d.sibling}throw Error(i(188))}if(a.return!==l.return)a=o,l=d;else{for(var y=!1,N=o.child;N;){if(N===a){y=!0,a=o,l=d;break}if(N===l){y=!0,l=o,a=d;break}N=N.sibling}if(!y){for(N=d.child;N;){if(N===a){y=!0,a=d,l=o;break}if(N===l){y=!0,l=d,a=o;break}N=N.sibling}if(!y)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function q(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=q(e),t!==null)return t;e=e.sibling}return null}var B=Array.isArray,Y=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},le=[],pe=-1;function ge(e){return{current:e}}function xe(e){0>pe||(e.current=le[pe],le[pe]=null,pe--)}function fe(e,t){pe++,le[pe]=e.current,e.current=t}var ce=ge(null),Le=ge(null),De=ge(null),oe=ge(null);function we(e,t){switch(fe(De,t),fe(Le,e),fe(ce,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?qm(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=qm(e),t=Hm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}xe(ce),fe(ce,t)}function Ze(){xe(ce),xe(Le),xe(De)}function xt(e){e.memoizedState!==null&&fe(oe,e);var t=ce.current,a=Hm(t,e.type);t!==a&&(fe(Le,e),fe(ce,a))}function He(e){Le.current===e&&(xe(ce),xe(Le)),oe.current===e&&(xe(oe),pr._currentValue=ne)}var qe=Object.prototype.hasOwnProperty,Et=s.unstable_scheduleCallback,Je=s.unstable_cancelCallback,ls=s.unstable_shouldYield,Ne=s.unstable_requestPaint,Ie=s.unstable_now,Ma=s.unstable_getCurrentPriorityLevel,Ht=s.unstable_ImmediatePriority,Ad=s.unstable_UserBlockingPriority,Qr=s.unstable_NormalPriority,xy=s.unstable_LowPriority,Rd=s.unstable_IdlePriority,by=s.log,jy=s.unstable_setDisableYieldValue,El=null,Yt=null;function Sy(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(El,e,void 0,(e.current.flags&128)===128)}catch{}}function rs(e){if(typeof by=="function"&&jy(e),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(El,e)}catch{}}var Ft=Math.clz32?Math.clz32:Ty,Ny=Math.log,Ey=Math.LN2;function Ty(e){return e>>>=0,e===0?32:31-(Ny(e)/Ey|0)|0}var $r=128,Vr=4194304;function Ys(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Xr(e,t){var a=e.pendingLanes;if(a===0)return 0;var l=0,o=e.suspendedLanes,d=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var N=a&134217727;return N!==0?(a=N&~o,a!==0?l=Ys(a):(d&=N,d!==0?l=Ys(d):e||(y=N&~y,y!==0&&(l=Ys(y))))):(N=a&~o,N!==0?l=Ys(N):d!==0?l=Ys(d):e||(y=a&~y,y!==0&&(l=Ys(y)))),l===0?0:t!==0&&t!==l&&(t&o)===0&&(o=l&-l,y=t&-t,o>=y||o===32&&(y&4194176)!==0)?t:l}function Tl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wy(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _d(){var e=$r;return $r<<=1,($r&4194176)===0&&($r=128),e}function Dd(){var e=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),e}function zc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function wl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oy(e,t,a,l,o,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var N=e.entanglements,w=e.expirationTimes,L=e.hiddenUpdates;for(a=y&~a;0<a;){var P=31-Ft(a),te=1<<P;N[P]=0,w[P]=-1;var F=L[P];if(F!==null)for(L[P]=null,P=0;P<F.length;P++){var K=F[P];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&zd(e,l,0),d!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~t))}function zd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ft(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function Md(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Ft(a),o=1<<l;o&t|e[l]&t&&(e[l]|=t),a&=~o}}function Ld(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ud(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:lp(e.type))}function Cy(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var is=Math.random().toString(36).slice(2),Tt="__reactFiber$"+is,Mt="__reactProps$"+is,Nn="__reactContainer$"+is,Mc="__reactEvents$"+is,Ay="__reactListeners$"+is,Ry="__reactHandles$"+is,Id="__reactResources$"+is,Ol="__reactMarker$"+is;function Lc(e){delete e[Tt],delete e[Mt],delete e[Mc],delete e[Ay],delete e[Ry]}function Fs(e){var t=e[Tt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Nn]||a[Tt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Qm(e);e!==null;){if(a=e[Tt])return a;e=Qm(e)}return t}e=a,a=e.parentNode}return null}function En(e){if(e=e[Tt]||e[Nn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Cl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Tn(e){var t=e[Id];return t||(t=e[Id]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[Ol]=!0}var kd=new Set,Bd={};function Qs(e,t){wn(e,t),wn(e+"Capture",t)}function wn(e,t){for(Bd[e]=t,e=0;e<t.length;e++)kd.add(t[e])}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_y=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qd={},Hd={};function Dy(e){return qe.call(Hd,e)?!0:qe.call(qd,e)?!1:_y.test(e)?Hd[e]=!0:(qd[e]=!0,!1)}function Gr(e,t,a){if(Dy(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Zr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Ua(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zy(e){var t=Yd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var o=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(y){l=""+y,d.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kr(e){e._valueTracker||(e._valueTracker=zy(e))}function Fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Yd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Pr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var My=/[\n"\\]/g;function Jt(e){return e.replace(My,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Uc(e,t,a,l,o,d,y,N){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Ic(e,y,Pt(t)):a!=null?Ic(e,y,Pt(a)):l!=null&&e.removeAttribute("value"),o==null&&d!=null&&(e.defaultChecked=!!d),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Pt(N):e.removeAttribute("name")}function Qd(e,t,a,l,o,d,y,N){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+Pt(a):"",t=t!=null?""+Pt(t):a,N||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=N?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Ic(e,t,a){t==="number"&&Pr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function On(e,t,a,l){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Pt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function $d(e,t,a){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Pt(a):""}function Vd(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(i(92));if(B(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Pt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Cn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xd(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Ly.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Gd(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&a[o]!==l&&Xd(e,o,l)}else for(var d in t)t.hasOwnProperty(d)&&Xd(e,d,t[d])}function kc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Iy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(e){return Iy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bc=null;function qc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var An=null,Rn=null;function Zd(e){var t=En(e);if(t&&(e=t.stateNode)){var a=e[Mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Uc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Jt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var o=l[Mt]||null;if(!o)throw Error(i(90));Uc(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Fd(l)}break e;case"textarea":$d(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&On(e,!!a.multiple,t,!1)}}}var Hc=!1;function Kd(e,t,a){if(Hc)return e(t,a);Hc=!0;try{var l=e(t);return l}finally{if(Hc=!1,(An!==null||Rn!==null)&&(Li(),An&&(t=An,e=Rn,Rn=An=null,Zd(t),e)))for(t=0;t<e.length;t++)Zd(e[t])}}function Al(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Mt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var Yc=!1;if(La)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Yc=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Yc=!1}var cs=null,Fc=null,Wr=null;function Pd(){if(Wr)return Wr;var e,t=Fc,a=t.length,l,o="value"in cs?cs.value:cs.textContent,d=o.length;for(e=0;e<a&&t[e]===o[e];e++);var y=a-e;for(l=1;l<=y&&t[a-l]===o[d-l];l++);return Wr=o.slice(e,1<l?1-l:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ti(){return!0}function Jd(){return!1}function Lt(e){function t(a,l,o,d,y){this._reactName=a,this._targetInst=o,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(a=e[N],this[N]=a?a(d):d[N]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ti:Jd,this.isPropagationStopped=Jd,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ti)},persist:function(){},isPersistent:ti}),t}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=Lt($s),_l=Z({},$s,{view:0,detail:0}),ky=Lt(_l),Qc,$c,Dl,si=Z({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dl&&(Dl&&e.type==="mousemove"?(Qc=e.screenX-Dl.screenX,$c=e.screenY-Dl.screenY):$c=Qc=0,Dl=e),Qc)},movementY:function(e){return"movementY"in e?e.movementY:$c}}),Wd=Lt(si),By=Z({},si,{dataTransfer:0}),qy=Lt(By),Hy=Z({},_l,{relatedTarget:0}),Vc=Lt(Hy),Yy=Z({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),Fy=Lt(Yy),Qy=Z({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$y=Lt(Qy),Vy=Z({},$s,{data:0}),ef=Lt(Vy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ky(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zy[e])?!!t[e]:!1}function Xc(){return Ky}var Py=Z({},_l,{key:function(e){if(e.key){var t=Xy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jy=Lt(Py),Wy=Z({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=Lt(Wy),ev=Z({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),tv=Lt(ev),av=Z({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=Lt(av),nv=Z({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=Lt(nv),rv=Z({},$s,{newState:0,oldState:0}),iv=Lt(rv),cv=[9,13,27,32],Gc=La&&"CompositionEvent"in window,zl=null;La&&"documentMode"in document&&(zl=document.documentMode);var ov=La&&"TextEvent"in window&&!zl,af=La&&(!Gc||zl&&8<zl&&11>=zl),sf=" ",nf=!1;function lf(e,t){switch(e){case"keyup":return cv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function uv(e,t){switch(e){case"compositionend":return rf(t);case"keypress":return t.which!==32?null:(nf=!0,sf);case"textInput":return e=t.data,e===sf&&nf?null:e;default:return null}}function dv(e,t){if(_n)return e==="compositionend"||!Gc&&lf(e,t)?(e=Pd(),Wr=Fc=cs=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return af&&t.locale!=="ko"?null:t.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fv[e.type]:t==="textarea"}function of(e,t,a,l){An?Rn?Rn.push(l):Rn=[l]:An=l,t=qi(t,"onChange"),0<t.length&&(a=new ai("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Ml=null,Ll=null;function hv(e){Lm(e,0)}function ni(e){var t=Cl(e);if(Fd(t))return e}function uf(e,t){if(e==="change")return t}var df=!1;if(La){var Zc;if(La){var Kc="oninput"in document;if(!Kc){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),Kc=typeof ff.oninput=="function"}Zc=Kc}else Zc=!1;df=Zc&&(!document.documentMode||9<document.documentMode)}function hf(){Ml&&(Ml.detachEvent("onpropertychange",mf),Ll=Ml=null)}function mf(e){if(e.propertyName==="value"&&ni(Ll)){var t=[];of(t,Ll,e,qc(e)),Kd(hv,t)}}function mv(e,t,a){e==="focusin"?(hf(),Ml=t,Ll=a,Ml.attachEvent("onpropertychange",mf)):e==="focusout"&&hf()}function pv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ni(Ll)}function gv(e,t){if(e==="click")return ni(t)}function yv(e,t){if(e==="input"||e==="change")return ni(t)}function vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:vv;function Ul(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var o=a[l];if(!qe.call(t,o)||!Qt(e[o],t[o]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gf(e,t){var a=pf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pf(a)}}function yf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Pr(e.document)}return t}function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xv(e,t){var a=vf(t);t=e.focusedElem;var l=e.selectionRange;if(a!==t&&t&&t.ownerDocument&&yf(t.ownerDocument.documentElement,t)){if(l!==null&&Pc(t)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(a,t.value.length);else if(a=(e=t.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var o=t.textContent.length,d=Math.min(l.start,o);l=l.end===void 0?d:Math.min(l.end,o),!a.extend&&d>l&&(o=l,l=d,d=o),o=gf(t,d);var y=gf(t,l);o&&y&&(a.rangeCount!==1||a.anchorNode!==o.node||a.anchorOffset!==o.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),a.addRange(e)))}}for(e=[],a=t;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)a=e[t],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var bv=La&&"documentMode"in document&&11>=document.documentMode,Dn=null,Jc=null,Il=null,Wc=!1;function xf(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wc||Dn==null||Dn!==Pr(l)||(l=Dn,"selectionStart"in l&&Pc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Il&&Ul(Il,l)||(Il=l,l=qi(Jc,"onSelect"),0<l.length&&(t=new ai("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Dn)))}function Vs(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var zn={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},eo={},bf={};La&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Xs(e){if(eo[e])return eo[e];if(!zn[e])return e;var t=zn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in bf)return eo[e]=t[a];return e}var jf=Xs("animationend"),Sf=Xs("animationiteration"),Nf=Xs("animationstart"),jv=Xs("transitionrun"),Sv=Xs("transitionstart"),Nv=Xs("transitioncancel"),Ef=Xs("transitionend"),Tf=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pa(e,t){Tf.set(e,t),Qs(t,[e])}var Wt=[],Mn=0,to=0;function li(){for(var e=Mn,t=to=Mn=0;t<e;){var a=Wt[t];Wt[t++]=null;var l=Wt[t];Wt[t++]=null;var o=Wt[t];Wt[t++]=null;var d=Wt[t];if(Wt[t++]=null,l!==null&&o!==null){var y=l.pending;y===null?o.next=o:(o.next=y.next,y.next=o),l.pending=o}d!==0&&Of(a,o,d)}}function ri(e,t,a,l){Wt[Mn++]=e,Wt[Mn++]=t,Wt[Mn++]=a,Wt[Mn++]=l,to|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ao(e,t,a,l){return ri(e,t,a,l),ii(e)}function os(e,t){return ri(e,null,null,t),ii(e)}function Of(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var o=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(o=!0)),e=d,d=d.return;o&&t!==null&&e.tag===3&&(d=e.stateNode,o=31-Ft(a),d=d.hiddenUpdates,e=d[o],e===null?d[o]=[t]:e.push(t),t.lane=a|536870912)}function ii(e){if(50<cr)throw cr=0,ou=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ln={},Cf=new WeakMap;function ea(e,t){if(typeof e=="object"&&e!==null){var a=Cf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:re(t)},Cf.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Un=[],In=0,ci=null,oi=0,ta=[],aa=0,Gs=null,Ia=1,ka="";function Zs(e,t){Un[In++]=oi,Un[In++]=ci,ci=e,oi=t}function Af(e,t,a){ta[aa++]=Ia,ta[aa++]=ka,ta[aa++]=Gs,Gs=e;var l=Ia;e=ka;var o=32-Ft(l)-1;l&=~(1<<o),a+=1;var d=32-Ft(t)+o;if(30<d){var y=o-o%5;d=(l&(1<<y)-1).toString(32),l>>=y,o-=y,Ia=1<<32-Ft(t)+o|a<<o|l,ka=d+e}else Ia=1<<d|a<<o|l,ka=e}function so(e){e.return!==null&&(Zs(e,1),Af(e,1,0))}function no(e){for(;e===ci;)ci=Un[--In],Un[In]=null,oi=Un[--In],Un[In]=null;for(;e===Gs;)Gs=ta[--aa],ta[aa]=null,ka=ta[--aa],ta[aa]=null,Ia=ta[--aa],ta[aa]=null}var Rt=null,bt=null,ke=!1,ga=null,Ea=!1,lo=Error(i(519));function Ks(e){var t=Error(i(418,""));throw ql(ea(t,e)),lo}function Rf(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Tt]=e,t[Mt]=l,a){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(a=0;a<ur.length;a++)ze(ur[a],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),Qd(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Kr(t);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),Vd(t,l.value,l.defaultValue,l.children),Kr(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Bm(t.textContent,a)?(l.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),l.onScroll!=null&&ze("scroll",t),l.onScrollEnd!=null&&ze("scrollend",t),l.onClick!=null&&(t.onclick=Hi),t=!0):t=!1,t||Ks(e)}function _f(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 3:case 27:Ea=!0;return;case 5:case 13:Ea=!1;return;default:Rt=Rt.return}}function kl(e){if(e!==Rt)return!1;if(!ke)return _f(e),ke=!0,!1;var t=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wu(e.type,e.memoizedProps)),a=!a),a&&(t=!0),t&&bt&&Ks(e),_f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){bt=va(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}bt=null}}else bt=Rt?va(e.stateNode.nextSibling):null;return!0}function Bl(){bt=Rt=null,ke=!1}function ql(e){ga===null?ga=[e]:ga.push(e)}var Hl=Error(i(460)),Df=Error(i(474)),ro={then:function(){}};function zf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ui(){}function Mf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ui,ui),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Hl?Error(i(483)):e;default:if(typeof t.status=="string")t.then(ui,ui);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Hl?Error(i(483)):e}throw Yl=t,Hl}}var Yl=null;function Lf(){if(Yl===null)throw Error(i(459));var e=Yl;return Yl=null,e}var kn=null,Fl=0;function di(e){var t=Fl;return Fl+=1,kn===null&&(kn=[]),Mf(kn,e,t)}function Ql(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fi(e,t){throw t.$$typeof===f?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uf(e){var t=e._init;return t(e._payload)}function If(e){function t(I,M){if(e){var H=I.deletions;H===null?(I.deletions=[M],I.flags|=16):H.push(M)}}function a(I,M){if(!e)return null;for(;M!==null;)t(I,M),M=M.sibling;return null}function l(I){for(var M=new Map;I!==null;)I.key!==null?M.set(I.key,I):M.set(I.index,I),I=I.sibling;return M}function o(I,M){return I=js(I,M),I.index=0,I.sibling=null,I}function d(I,M,H){return I.index=H,e?(H=I.alternate,H!==null?(H=H.index,H<M?(I.flags|=33554434,M):H):(I.flags|=33554434,M)):(I.flags|=1048576,M)}function y(I){return e&&I.alternate===null&&(I.flags|=33554434),I}function N(I,M,H,W){return M===null||M.tag!==6?(M=tu(H,I.mode,W),M.return=I,M):(M=o(M,H),M.return=I,M)}function w(I,M,H,W){var me=H.type;return me===g?P(I,M,H.props.children,W,H.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Uf(me)===M.type)?(M=o(M,H.props),Ql(M,H),M.return=I,M):(M=Ri(H.type,H.key,H.props,null,I.mode,W),Ql(M,H),M.return=I,M)}function L(I,M,H,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=au(H,I.mode,W),M.return=I,M):(M=o(M,H.children||[]),M.return=I,M)}function P(I,M,H,W,me){return M===null||M.tag!==7?(M=rn(H,I.mode,W,me),M.return=I,M):(M=o(M,H),M.return=I,M)}function te(I,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=tu(""+M,I.mode,H),M.return=I,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case h:return H=Ri(M.type,M.key,M.props,null,I.mode,H),Ql(H,M),H.return=I,H;case p:return M=au(M,I.mode,H),M.return=I,M;case A:var W=M._init;return M=W(M._payload),te(I,M,H)}if(B(M)||k(M))return M=rn(M,I.mode,H,null),M.return=I,M;if(typeof M.then=="function")return te(I,di(M),H);if(M.$$typeof===O)return te(I,Oi(I,M),H);fi(I,M)}return null}function F(I,M,H,W){var me=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return me!==null?null:N(I,M,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return H.key===me?w(I,M,H,W):null;case p:return H.key===me?L(I,M,H,W):null;case A:return me=H._init,H=me(H._payload),F(I,M,H,W)}if(B(H)||k(H))return me!==null?null:P(I,M,H,W,null);if(typeof H.then=="function")return F(I,M,di(H),W);if(H.$$typeof===O)return F(I,M,Oi(I,H),W);fi(I,H)}return null}function K(I,M,H,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return I=I.get(H)||null,N(M,I,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case h:return I=I.get(W.key===null?H:W.key)||null,w(M,I,W,me);case p:return I=I.get(W.key===null?H:W.key)||null,L(M,I,W,me);case A:var Ce=W._init;return W=Ce(W._payload),K(I,M,H,W,me)}if(B(W)||k(W))return I=I.get(H)||null,P(M,I,W,me,null);if(typeof W.then=="function")return K(I,M,H,di(W),me);if(W.$$typeof===O)return K(I,M,H,Oi(M,W),me);fi(M,W)}return null}function ye(I,M,H,W){for(var me=null,Ce=null,ve=M,be=M=0,gt=null;ve!==null&&be<H.length;be++){ve.index>be?(gt=ve,ve=null):gt=ve.sibling;var Be=F(I,ve,H[be],W);if(Be===null){ve===null&&(ve=gt);break}e&&ve&&Be.alternate===null&&t(I,ve),M=d(Be,M,be),Ce===null?me=Be:Ce.sibling=Be,Ce=Be,ve=gt}if(be===H.length)return a(I,ve),ke&&Zs(I,be),me;if(ve===null){for(;be<H.length;be++)ve=te(I,H[be],W),ve!==null&&(M=d(ve,M,be),Ce===null?me=ve:Ce.sibling=ve,Ce=ve);return ke&&Zs(I,be),me}for(ve=l(ve);be<H.length;be++)gt=K(ve,I,be,H[be],W),gt!==null&&(e&&gt.alternate!==null&&ve.delete(gt.key===null?be:gt.key),M=d(gt,M,be),Ce===null?me=gt:Ce.sibling=gt,Ce=gt);return e&&ve.forEach(function(Cs){return t(I,Cs)}),ke&&Zs(I,be),me}function Se(I,M,H,W){if(H==null)throw Error(i(151));for(var me=null,Ce=null,ve=M,be=M=0,gt=null,Be=H.next();ve!==null&&!Be.done;be++,Be=H.next()){ve.index>be?(gt=ve,ve=null):gt=ve.sibling;var Cs=F(I,ve,Be.value,W);if(Cs===null){ve===null&&(ve=gt);break}e&&ve&&Cs.alternate===null&&t(I,ve),M=d(Cs,M,be),Ce===null?me=Cs:Ce.sibling=Cs,Ce=Cs,ve=gt}if(Be.done)return a(I,ve),ke&&Zs(I,be),me;if(ve===null){for(;!Be.done;be++,Be=H.next())Be=te(I,Be.value,W),Be!==null&&(M=d(Be,M,be),Ce===null?me=Be:Ce.sibling=Be,Ce=Be);return ke&&Zs(I,be),me}for(ve=l(ve);!Be.done;be++,Be=H.next())Be=K(ve,I,be,Be.value,W),Be!==null&&(e&&Be.alternate!==null&&ve.delete(Be.key===null?be:Be.key),M=d(Be,M,be),Ce===null?me=Be:Ce.sibling=Be,Ce=Be);return e&&ve.forEach(function(Ix){return t(I,Ix)}),ke&&Zs(I,be),me}function tt(I,M,H,W){if(typeof H=="object"&&H!==null&&H.type===g&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case h:e:{for(var me=H.key;M!==null;){if(M.key===me){if(me=H.type,me===g){if(M.tag===7){a(I,M.sibling),W=o(M,H.props.children),W.return=I,I=W;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&Uf(me)===M.type){a(I,M.sibling),W=o(M,H.props),Ql(W,H),W.return=I,I=W;break e}a(I,M);break}else t(I,M);M=M.sibling}H.type===g?(W=rn(H.props.children,I.mode,W,H.key),W.return=I,I=W):(W=Ri(H.type,H.key,H.props,null,I.mode,W),Ql(W,H),W.return=I,I=W)}return y(I);case p:e:{for(me=H.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){a(I,M.sibling),W=o(M,H.children||[]),W.return=I,I=W;break e}else{a(I,M);break}else t(I,M);M=M.sibling}W=au(H,I.mode,W),W.return=I,I=W}return y(I);case A:return me=H._init,H=me(H._payload),tt(I,M,H,W)}if(B(H))return ye(I,M,H,W);if(k(H)){if(me=k(H),typeof me!="function")throw Error(i(150));return H=me.call(H),Se(I,M,H,W)}if(typeof H.then=="function")return tt(I,M,di(H),W);if(H.$$typeof===O)return tt(I,M,Oi(I,H),W);fi(I,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(a(I,M.sibling),W=o(M,H),W.return=I,I=W):(a(I,M),W=tu(H,I.mode,W),W.return=I,I=W),y(I)):a(I,M)}return function(I,M,H,W){try{Fl=0;var me=tt(I,M,H,W);return kn=null,me}catch(ve){if(ve===Hl)throw ve;var Ce=ra(29,ve,null,I.mode);return Ce.lanes=W,Ce.return=I,Ce}finally{}}}var Ps=If(!0),kf=If(!1),Bn=ge(null),hi=ge(0);function Bf(e,t){e=Za,fe(hi,e),fe(Bn,t),Za=e|t.baseLanes}function io(){fe(hi,Za),fe(Bn,Bn.current)}function co(){Za=hi.current,xe(Bn),xe(hi)}var sa=ge(null),Ta=null;function us(e){var t=e.alternate;fe(ut,ut.current&1),fe(sa,e),Ta===null&&(t===null||Bn.current!==null||t.memoizedState!==null)&&(Ta=e)}function qf(e){if(e.tag===22){if(fe(ut,ut.current),fe(sa,e),Ta===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ta=e)}}else ds()}function ds(){fe(ut,ut.current),fe(sa,sa.current)}function Ba(e){xe(sa),Ta===e&&(Ta=null),xe(ut)}var ut=ge(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ev=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Tv=s.unstable_scheduleCallback,wv=s.unstable_NormalPriority,dt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oo(){return{controller:new Ev,data:new Map,refCount:0}}function $l(e){e.refCount--,e.refCount===0&&Tv(wv,function(){e.controller.abort()})}var Vl=null,uo=0,qn=0,Hn=null;function Ov(e,t){if(Vl===null){var a=Vl=[];uo=0,qn=yu(),Hn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uo++,t.then(Hf,Hf),t}function Hf(){if(--uo===0&&Vl!==null){Hn!==null&&(Hn.status="fulfilled");var e=Vl;Vl=null,qn=0,Hn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cv(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),l}var Yf=V.S;V.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ov(e,t),Yf!==null&&Yf(e,t)};var Js=ge(null);function fo(){var e=Js.current;return e!==null?e:$e.pooledCache}function pi(e,t){t===null?fe(Js,Js.current):fe(Js,t.pool)}function Ff(){var e=fo();return e===null?null:{parent:dt._currentValue,pool:e}}var fs=0,Oe=null,Ye=null,it=null,gi=!1,Yn=!1,Ws=!1,yi=0,Xl=0,Fn=null,Av=0;function nt(){throw Error(i(321))}function ho(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Qt(e[a],t[a]))return!1;return!0}function mo(e,t,a,l,o,d){return fs=d,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,V.H=e===null||e.memoizedState===null?en:hs,Ws=!1,d=a(l,o),Ws=!1,Yn&&(d=$f(t,a,l,o)),Qf(e),d}function Qf(e){V.H=wa;var t=Ye!==null&&Ye.next!==null;if(fs=0,it=Ye=Oe=null,gi=!1,Xl=0,Fn=null,t)throw Error(i(300));e===null||mt||(e=e.dependencies,e!==null&&wi(e)&&(mt=!0))}function $f(e,t,a,l){Oe=e;var o=0;do{if(Yn&&(Fn=null),Xl=0,Yn=!1,25<=o)throw Error(i(301));if(o+=1,it=Ye=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}V.H=tn,d=t(a,l)}while(Yn);return d}function Rv(){var e=V.H,t=e.useState()[0];return t=typeof t.then=="function"?Gl(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Oe.flags|=1024),t}function po(){var e=yi!==0;return yi=0,e}function go(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function yo(e){if(gi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gi=!1}fs=0,it=Ye=Oe=null,Yn=!1,Xl=yi=0,Fn=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Oe.memoizedState=it=e:it=it.next=e,it}function ct(){if(Ye===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=it===null?Oe.memoizedState:it.next;if(t!==null)it=t,Ye=e;else{if(e===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},it===null?Oe.memoizedState=it=e:it=it.next=e}return it}var vi;vi=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Gl(e){var t=Xl;return Xl+=1,Fn===null&&(Fn=[]),e=Mf(Fn,e,t),t=Oe,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,V.H=t===null||t.memoizedState===null?en:hs),e}function xi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===O)return wt(e)}throw Error(i(438,String(e)))}function vo(e){var t=null,a=Oe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=vi(),Oe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=U;return t.index++,a}function qa(e,t){return typeof t=="function"?t(e):t}function bi(e){var t=ct();return xo(t,Ye,e)}function xo(e,t,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var o=e.baseQueue,d=l.pending;if(d!==null){if(o!==null){var y=o.next;o.next=d.next,d.next=y}t.baseQueue=o=d,l.pending=null}if(d=e.baseState,o===null)e.memoizedState=d;else{t=o.next;var N=y=null,w=null,L=t,P=!1;do{var te=L.lane&-536870913;if(te!==L.lane?(Me&te)===te:(fs&te)===te){var F=L.revertLane;if(F===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),te===qn&&(P=!0);else if((fs&F)===F){L=L.next,F===qn&&(P=!0);continue}else te={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(N=w=te,y=d):w=w.next=te,Oe.lanes|=F,Ss|=F;te=L.action,Ws&&a(d,te),d=L.hasEagerState?L.eagerState:a(d,te)}else F={lane:te,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(N=w=F,y=d):w=w.next=F,Oe.lanes|=te,Ss|=te;L=L.next}while(L!==null&&L!==t);if(w===null?y=d:w.next=N,!Qt(d,e.memoizedState)&&(mt=!0,P&&(a=Hn,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=w,l.lastRenderedState=d}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function bo(e){var t=ct(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,o=a.pending,d=t.memoizedState;if(o!==null){a.pending=null;var y=o=o.next;do d=e(d,y.action),y=y.next;while(y!==o);Qt(d,t.memoizedState)||(mt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,l]}function Vf(e,t,a){var l=Oe,o=ct(),d=ke;if(d){if(a===void 0)throw Error(i(407));a=a()}else a=t();var y=!Qt((Ye||o).memoizedState,a);if(y&&(o.memoizedState=a,mt=!0),o=o.queue,No(Zf.bind(null,l,o,e),[e]),o.getSnapshot!==t||y||it!==null&&it.memoizedState.tag&1){if(l.flags|=2048,Qn(9,Gf.bind(null,l,o,a,t),{destroy:void 0},null),$e===null)throw Error(i(349));d||(fs&60)!==0||Xf(l,t,a)}return a}function Xf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Oe.updateQueue,t===null?(t=vi(),Oe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Gf(e,t,a,l){t.value=a,t.getSnapshot=l,Kf(t)&&Pf(e)}function Zf(e,t,a){return a(function(){Kf(t)&&Pf(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Qt(e,a)}catch{return!0}}function Pf(e){var t=os(e,2);t!==null&&_t(t,e,2)}function jo(e){var t=Ut();if(typeof e=="function"){var a=e;if(e=a(),Ws){rs(!0);try{a()}finally{rs(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function Jf(e,t,a,l){return e.baseState=a,xo(e,Ye,typeof l=="function"?l:qa)}function _v(e,t,a,l,o){if(Ni(e))throw Error(i(485));if(e=t.action,e!==null){var d={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};V.T!==null?a(!0):d.isTransition=!1,l(d),a=t.pending,a===null?(d.next=t.pending=d,Wf(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Wf(e,t){var a=t.action,l=t.payload,o=e.state;if(t.isTransition){var d=V.T,y={};V.T=y;try{var N=a(o,l),w=V.S;w!==null&&w(y,N),eh(e,t,N)}catch(L){So(e,t,L)}finally{V.T=d}}else try{d=a(o,l),eh(e,t,d)}catch(L){So(e,t,L)}}function eh(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){th(e,t,l)},function(l){return So(e,t,l)}):th(e,t,a)}function th(e,t,a){t.status="fulfilled",t.value=a,ah(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Wf(e,a)))}function So(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,ah(t),t=t.next;while(t!==l)}e.action=null}function ah(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sh(e,t){return t}function nh(e,t){if(ke){var a=$e.formState;if(a!==null){e:{var l=Oe;if(ke){if(bt){t:{for(var o=bt,d=Ea;o.nodeType!==8;){if(!d){o=null;break t}if(o=va(o.nextSibling),o===null){o=null;break t}}d=o.data,o=d==="F!"||d==="F"?o:null}if(o){bt=va(o.nextSibling),l=o.data==="F!";break e}}Ks(l)}l=!1}l&&(t=a[0])}}return a=Ut(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:t},a.queue=l,a=Sh.bind(null,Oe,l),l.dispatch=a,l=jo(!1),d=Co.bind(null,Oe,!1,l.queue),l=Ut(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,a=_v.bind(null,Oe,o,d,a),o.dispatch=a,l.memoizedState=e,[t,a,!1]}function lh(e){var t=ct();return rh(t,Ye,e)}function rh(e,t,a){t=xo(e,t,sh)[0],e=bi(qa)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Gl(t):t;var l=ct(),o=l.queue,d=o.dispatch;return a!==l.memoizedState&&(Oe.flags|=2048,Qn(9,Dv.bind(null,o,a),{destroy:void 0},null)),[t,d,e]}function Dv(e,t){e.action=t}function ih(e){var t=ct(),a=Ye;if(a!==null)return rh(t,a,e);ct(),t=t.memoizedState,a=ct();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Qn(e,t,a,l){return e={tag:e,create:t,inst:a,deps:l,next:null},t=Oe.updateQueue,t===null&&(t=vi(),Oe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function ch(){return ct().memoizedState}function ji(e,t,a,l){var o=Ut();Oe.flags|=e,o.memoizedState=Qn(1|t,a,{destroy:void 0},l===void 0?null:l)}function Si(e,t,a,l){var o=ct();l=l===void 0?null:l;var d=o.memoizedState.inst;Ye!==null&&l!==null&&ho(l,Ye.memoizedState.deps)?o.memoizedState=Qn(t,a,d,l):(Oe.flags|=e,o.memoizedState=Qn(1|t,a,d,l))}function oh(e,t){ji(8390656,8,e,t)}function No(e,t){Si(2048,8,e,t)}function uh(e,t){return Si(4,2,e,t)}function dh(e,t){return Si(4,4,e,t)}function fh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hh(e,t,a){a=a!=null?a.concat([e]):null,Si(4,4,fh.bind(null,t,e),a)}function Eo(){}function mh(e,t){var a=ct();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&ho(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function ph(e,t){var a=ct();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&ho(t,l[1]))return l[0];if(l=e(),Ws){rs(!0);try{e()}finally{rs(!1)}}return a.memoizedState=[l,t],l}function To(e,t,a){return a===void 0||(fs&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=ym(),Oe.lanes|=e,Ss|=e,a)}function gh(e,t,a,l){return Qt(a,t)?a:Bn.current!==null?(e=To(e,a,l),Qt(e,t)||(mt=!0),e):(fs&42)===0?(mt=!0,e.memoizedState=a):(e=ym(),Oe.lanes|=e,Ss|=e,t)}function yh(e,t,a,l,o){var d=Y.p;Y.p=d!==0&&8>d?d:8;var y=V.T,N={};V.T=N,Co(e,!1,t,a);try{var w=o(),L=V.S;if(L!==null&&L(N,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var P=Cv(w,l);Zl(e,t,P,Gt(e))}else Zl(e,t,l,Gt(e))}catch(te){Zl(e,t,{then:function(){},status:"rejected",reason:te},Gt())}finally{Y.p=d,V.T=y}}function zv(){}function wo(e,t,a,l){if(e.tag!==5)throw Error(i(476));var o=vh(e).queue;yh(e,o,t,ne,a===null?zv:function(){return xh(e),a(l)})}function vh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xh(e){var t=vh(e).next.queue;Zl(e,t,{},Gt())}function Oo(){return wt(pr)}function bh(){return ct().memoizedState}function jh(){return ct().memoizedState}function Mv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Gt();e=gs(a);var l=ys(t,e,a);l!==null&&(_t(l,t,a),Jl(l,t,a)),t={cache:oo()},e.payload=t;return}t=t.return}}function Lv(e,t,a){var l=Gt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ni(e)?Nh(t,a):(a=ao(e,t,a,l),a!==null&&(_t(a,e,l),Eh(a,t,l)))}function Sh(e,t,a){var l=Gt();Zl(e,t,a,l)}function Zl(e,t,a,l){var o={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ni(e))Nh(t,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var y=t.lastRenderedState,N=d(y,a);if(o.hasEagerState=!0,o.eagerState=N,Qt(N,y))return ri(e,t,o,0),$e===null&&li(),!1}catch{}finally{}if(a=ao(e,t,o,l),a!==null)return _t(a,e,l),Eh(a,t,l),!0}return!1}function Co(e,t,a,l){if(l={lane:2,revertLane:yu(),action:l,hasEagerState:!1,eagerState:null,next:null},Ni(e)){if(t)throw Error(i(479))}else t=ao(e,a,l,2),t!==null&&_t(t,e,2)}function Ni(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function Nh(e,t){Yn=gi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Eh(e,t,a){if((a&4194176)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Md(e,a)}}var wa={readContext:wt,use:xi,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt};wa.useCacheRefresh=nt,wa.useMemoCache=nt,wa.useHostTransitionStatus=nt,wa.useFormState=nt,wa.useActionState=nt,wa.useOptimistic=nt;var en={readContext:wt,use:xi,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:oh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ji(4194308,4,fh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){ji(4,2,e,t)},useMemo:function(e,t){var a=Ut();t=t===void 0?null:t;var l=e();if(Ws){rs(!0);try{e()}finally{rs(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Ut();if(a!==void 0){var o=a(t);if(Ws){rs(!0);try{a(t)}finally{rs(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=Lv.bind(null,Oe,e),[l.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=jo(e);var t=e.queue,a=Sh.bind(null,Oe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Eo,useDeferredValue:function(e,t){var a=Ut();return To(a,e,t)},useTransition:function(){var e=jo(!1);return e=yh.bind(null,Oe,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Oe,o=Ut();if(ke){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),$e===null)throw Error(i(349));(Me&60)!==0||Xf(l,t,a)}o.memoizedState=a;var d={value:a,getSnapshot:t};return o.queue=d,oh(Zf.bind(null,l,d,e),[e]),l.flags|=2048,Qn(9,Gf.bind(null,l,d,a,t),{destroy:void 0},null),a},useId:function(){var e=Ut(),t=$e.identifierPrefix;if(ke){var a=ka,l=Ia;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,t=":"+t+"R"+a,a=yi++,0<a&&(t+="H"+a.toString(32)),t+=":"}else a=Av++,t=":"+t+"r"+a.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Ut().memoizedState=Mv.bind(null,Oe)}};en.useMemoCache=vo,en.useHostTransitionStatus=Oo,en.useFormState=nh,en.useActionState=nh,en.useOptimistic=function(e){var t=Ut();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Co.bind(null,Oe,!0,a),a.dispatch=t,[e,t]};var hs={readContext:wt,use:xi,useCallback:mh,useContext:wt,useEffect:No,useImperativeHandle:hh,useInsertionEffect:uh,useLayoutEffect:dh,useMemo:ph,useReducer:bi,useRef:ch,useState:function(){return bi(qa)},useDebugValue:Eo,useDeferredValue:function(e,t){var a=ct();return gh(a,Ye.memoizedState,e,t)},useTransition:function(){var e=bi(qa)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Gl(e),t]},useSyncExternalStore:Vf,useId:bh};hs.useCacheRefresh=jh,hs.useMemoCache=vo,hs.useHostTransitionStatus=Oo,hs.useFormState=lh,hs.useActionState=lh,hs.useOptimistic=function(e,t){var a=ct();return Jf(a,Ye,e,t)};var tn={readContext:wt,use:xi,useCallback:mh,useContext:wt,useEffect:No,useImperativeHandle:hh,useInsertionEffect:uh,useLayoutEffect:dh,useMemo:ph,useReducer:bo,useRef:ch,useState:function(){return bo(qa)},useDebugValue:Eo,useDeferredValue:function(e,t){var a=ct();return Ye===null?To(a,e,t):gh(a,Ye.memoizedState,e,t)},useTransition:function(){var e=bo(qa)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Gl(e),t]},useSyncExternalStore:Vf,useId:bh};tn.useCacheRefresh=jh,tn.useMemoCache=vo,tn.useHostTransitionStatus=Oo,tn.useFormState=ih,tn.useActionState=ih,tn.useOptimistic=function(e,t){var a=ct();return Ye!==null?Jf(a,Ye,e,t):(a.baseState=e,[e,a.queue.dispatch])};function Ao(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:Z({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ro={isMounted:function(e){return(e=e._reactInternals)?ee(e)===e:!1},enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Gt(),o=gs(l);o.payload=t,a!=null&&(o.callback=a),t=ys(e,o,l),t!==null&&(_t(t,e,l),Jl(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Gt(),o=gs(l);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=ys(e,o,l),t!==null&&(_t(t,e,l),Jl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Gt(),l=gs(a);l.tag=2,t!=null&&(l.callback=t),t=ys(e,l,a),t!==null&&(_t(t,e,a),Jl(t,e,a))}};function Th(e,t,a,l,o,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):t.prototype&&t.prototype.isPureReactComponent?!Ul(a,l)||!Ul(o,d):!0}function wh(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function an(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=Z({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}var Ei=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Oh(e){Ei(e)}function Ch(e){console.error(e)}function Ah(e){Ei(e)}function Ti(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rh(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function _o(e,t,a){return a=gs(a),a.tag=3,a.payload={element:null},a.callback=function(){Ti(e,t)},a}function _h(e){return e=gs(e),e.tag=3,e}function Dh(e,t,a,l){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var d=l.value;e.payload=function(){return o(d)},e.callback=function(){Rh(t,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Rh(t,a,l),typeof o!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function Uv(e,t,a,l,o){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Pl(t,a,o,!0),a=sa.current,a!==null){switch(a.tag){case 13:return Ta===null?fu():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=o,l===ro?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),mu(e,l,o)),!1;case 22:return a.flags|=65536,l===ro?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),mu(e,l,o)),!1}throw Error(i(435,a.tag))}return mu(e,l,o),fu(),!1}if(ke)return t=sa.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==lo&&(e=Error(i(422),{cause:l}),ql(ea(e,a)))):(l!==lo&&(t=Error(i(423),{cause:l}),ql(ea(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=ea(l,a),o=_o(e.stateNode,l,o),Vo(e,o),et!==4&&(et=2)),!1;var d=Error(i(520),{cause:l});if(d=ea(d,a),rr===null?rr=[d]:rr.push(d),et!==4&&(et=2),t===null)return!0;l=ea(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=_o(a.stateNode,l,e),Vo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ns===null||!Ns.has(d))))return a.flags|=65536,o&=-o,a.lanes|=o,o=_h(o),Dh(o,e,a,l),Vo(a,o),!1}a=a.return}while(a!==null);return!1}var zh=Error(i(461)),mt=!1;function jt(e,t,a,l){t.child=e===null?kf(t,null,a,l):Ps(t,e.child,a,l)}function Mh(e,t,a,l,o){a=a.render;var d=t.ref;if("ref"in l){var y={};for(var N in l)N!=="ref"&&(y[N]=l[N])}else y=l;return nn(t),l=mo(e,t,a,y,d,o),N=po(),e!==null&&!mt?(go(e,t,o),Ha(e,t,o)):(ke&&N&&so(t),t.flags|=1,jt(e,t,l,o),t.child)}function Lh(e,t,a,l,o){if(e===null){var d=a.type;return typeof d=="function"&&!eu(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Uh(e,t,d,l,o)):(e=Ri(a.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!qo(e,o)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ul,a(y,l)&&e.ref===t.ref)return Ha(e,t,o)}return t.flags|=1,e=js(d,l),e.ref=t.ref,e.return=t,t.child=e}function Uh(e,t,a,l,o){if(e!==null){var d=e.memoizedProps;if(Ul(d,l)&&e.ref===t.ref)if(mt=!1,t.pendingProps=l=d,qo(e,o))(e.flags&131072)!==0&&(mt=!0);else return t.lanes=e.lanes,Ha(e,t,o)}return Do(e,t,a,l,o)}function Ih(e,t,a){var l=t.pendingProps,o=l.children,d=(t.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(Kl(e,t),l.mode==="hidden"||d){if((t.flags&128)!==0){if(l=y!==null?y.baseLanes|a:a,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;t.childLanes=d&~l}else t.childLanes=0,t.child=null;return kh(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pi(t,y!==null?y.cachePool:null),y!==null?Bf(t,y):io(),qf(t);else return t.lanes=t.childLanes=536870912,kh(e,t,y!==null?y.baseLanes|a:a,a)}else y!==null?(pi(t,y.cachePool),Bf(t,y),ds(),t.memoizedState=null):(e!==null&&pi(t,null),io(),ds());return jt(e,t,o,a),t.child}function kh(e,t,a,l){var o=fo();return o=o===null?null:{parent:dt._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&pi(t,null),io(),qf(t),e!==null&&Pl(e,t,l,!0),null}function Kl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=2097664)}}function Do(e,t,a,l,o){return nn(t),a=mo(e,t,a,l,void 0,o),l=po(),e!==null&&!mt?(go(e,t,o),Ha(e,t,o)):(ke&&l&&so(t),t.flags|=1,jt(e,t,a,o),t.child)}function Bh(e,t,a,l,o,d){return nn(t),t.updateQueue=null,a=$f(t,l,a,o),Qf(e),l=po(),e!==null&&!mt?(go(e,t,d),Ha(e,t,d)):(ke&&l&&so(t),t.flags|=1,jt(e,t,a,d),t.child)}function qh(e,t,a,l,o){if(nn(t),t.stateNode===null){var d=Ln,y=a.contextType;typeof y=="object"&&y!==null&&(d=wt(y)),d=new a(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ro,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Qo(t),y=a.contextType,d.context=typeof y=="object"&&y!==null?wt(y):Ln,d.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ao(t,a,y,l),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Ro.enqueueReplaceState(d,d.state,null),er(t,l,d,o),Wl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var N=t.memoizedProps,w=an(a,N);d.props=w;var L=d.context,P=a.contextType;y=Ln,typeof P=="object"&&P!==null&&(y=wt(P));var te=a.getDerivedStateFromProps;P=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(N||L!==y)&&wh(t,d,l,y),ps=!1;var F=t.memoizedState;d.state=F,er(t,l,d,o),Wl(),L=t.memoizedState,N||F!==L||ps?(typeof te=="function"&&(Ao(t,a,te,l),L=t.memoizedState),(w=ps||Th(t,a,w,l,F,L,y))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=L),d.props=l,d.state=L,d.context=y,l=w):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,$o(e,t),y=t.memoizedProps,P=an(a,y),d.props=P,te=t.pendingProps,F=d.context,L=a.contextType,w=Ln,typeof L=="object"&&L!==null&&(w=wt(L)),N=a.getDerivedStateFromProps,(L=typeof N=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==te||F!==w)&&wh(t,d,l,w),ps=!1,F=t.memoizedState,d.state=F,er(t,l,d,o),Wl();var K=t.memoizedState;y!==te||F!==K||ps||e!==null&&e.dependencies!==null&&wi(e.dependencies)?(typeof N=="function"&&(Ao(t,a,N,l),K=t.memoizedState),(P=ps||Th(t,a,P,l,F,K,w)||e!==null&&e.dependencies!==null&&wi(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,w)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=K),d.props=l,d.state=K,d.context=w,l=P):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Kl(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Ps(t,e.child,null,o),t.child=Ps(t,null,a,o)):jt(e,t,a,o),t.memoizedState=d.state,e=t.child):e=Ha(e,t,o),e}function Hh(e,t,a,l){return Bl(),t.flags|=256,jt(e,t,a,l),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:Ff()}}function Lo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ia),e}function Yh(e,t,a){var l=t.pendingProps,o=!1,d=(t.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),y&&(o=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(o?us(t):ds(),ke){var N=bt,w;if(w=N){e:{for(w=N,N=Ea;w.nodeType!==8;){if(!N){N=null;break e}if(w=va(w.nextSibling),w===null){N=null;break e}}N=w}N!==null?(t.memoizedState={dehydrated:N,treeContext:Gs!==null?{id:Ia,overflow:ka}:null,retryLane:536870912},w=ra(18,null,null,0),w.stateNode=N,w.return=t,t.child=w,Rt=t,bt=null,w=!0):w=!1}w||Ks(t)}if(N=t.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return N.data==="$!"?t.lanes=16:t.lanes=536870912,null;Ba(t)}return N=l.children,l=l.fallback,o?(ds(),o=t.mode,N=Io({mode:"hidden",children:N},o),l=rn(l,o,a,null),N.return=t,l.return=t,N.sibling=l,t.child=N,o=t.child,o.memoizedState=Mo(a),o.childLanes=Lo(e,y,a),t.memoizedState=zo,l):(us(t),Uo(t,N))}if(w=e.memoizedState,w!==null&&(N=w.dehydrated,N!==null)){if(d)t.flags&256?(us(t),t.flags&=-257,t=ko(e,t,a)):t.memoizedState!==null?(ds(),t.child=e.child,t.flags|=128,t=null):(ds(),o=l.fallback,N=t.mode,l=Io({mode:"visible",children:l.children},N),o=rn(o,N,a,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,Ps(t,e.child,null,a),l=t.child,l.memoizedState=Mo(a),l.childLanes=Lo(e,y,a),t.memoizedState=zo,t=o);else if(us(t),N.data==="$!"){if(y=N.nextSibling&&N.nextSibling.dataset,y)var L=y.dgst;y=L,l=Error(i(419)),l.stack="",l.digest=y,ql({value:l,source:null,stack:null}),t=ko(e,t,a)}else if(mt||Pl(e,t,a,!1),y=(a&e.childLanes)!==0,mt||y){if(y=$e,y!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,os(e,l),_t(y,e,l),zh}N.data==="$?"||fu(),t=ko(e,t,a)}else N.data==="$?"?(t.flags|=128,t.child=e.child,t=Pv.bind(null,e),N._reactRetry=t,t=null):(e=w.treeContext,bt=va(N.nextSibling),Rt=t,ke=!0,ga=null,Ea=!1,e!==null&&(ta[aa++]=Ia,ta[aa++]=ka,ta[aa++]=Gs,Ia=e.id,ka=e.overflow,Gs=t),t=Uo(t,l.children),t.flags|=4096);return t}return o?(ds(),o=l.fallback,N=t.mode,w=e.child,L=w.sibling,l=js(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,L!==null?o=js(L,o):(o=rn(o,N,a,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,l=o,o=t.child,N=e.child.memoizedState,N===null?N=Mo(a):(w=N.cachePool,w!==null?(L=dt._currentValue,w=w.parent!==L?{parent:L,pool:L}:w):w=Ff(),N={baseLanes:N.baseLanes|a,cachePool:w}),o.memoizedState=N,o.childLanes=Lo(e,y,a),t.memoizedState=zo,l):(us(t),a=e.child,e=a.sibling,a=js(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function Uo(e,t){return t=Io({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Io(e,t){return mm(e,t,0,null)}function ko(e,t,a){return Ps(t,e.child,null,a),e=Uo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fh(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Yo(e.return,t,a)}function Bo(e,t,a,l,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=o)}function Qh(e,t,a){var l=t.pendingProps,o=l.revealOrder,d=l.tail;if(jt(e,t,l.children,a),l=ut.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fh(e,a,t);else if(e.tag===19)Fh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(fe(ut,l),o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&mi(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Bo(t,!1,o,a,d);break;case"backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&mi(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Bo(t,!0,a,null,d);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ss|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Pl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=js(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=js(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wi(e)))}function Iv(e,t,a){switch(t.tag){case 3:we(t,t.stateNode.containerInfo),ms(t,dt,e.memoizedState.cache),Bl();break;case 27:case 5:xt(t);break;case 4:we(t,t.stateNode.containerInfo);break;case 10:ms(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(us(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Yh(e,t,a):(us(t),e=Ha(e,t,a),e!==null?e.sibling:null);us(t);break;case 19:var o=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Pl(e,t,a,!1),l=(a&t.childLanes)!==0),o){if(l)return Qh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(ut,ut.current),l)break;return null;case 22:case 23:return t.lanes=0,Ih(e,t,a);case 24:ms(t,dt,e.memoizedState.cache)}return Ha(e,t,a)}function $h(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)mt=!0;else{if(!qo(e,a)&&(t.flags&128)===0)return mt=!1,Iv(e,t,a);mt=(e.flags&131072)!==0}else mt=!1,ke&&(t.flags&1048576)!==0&&Af(t,oi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,o=l._init;if(l=o(l._payload),t.type=l,typeof l=="function")eu(l)?(e=an(l,e),t.tag=1,t=qh(null,t,l,e,a)):(t.tag=0,t=Do(null,t,l,e,a));else{if(l!=null){if(o=l.$$typeof,o===b){t.tag=11,t=Mh(null,t,l,e,a);break e}else if(o===z){t.tag=14,t=Lh(null,t,l,e,a);break e}}throw t=J(l)||l,Error(i(306,t,""))}}return t;case 0:return Do(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,o=an(l,t.pendingProps),qh(e,t,l,o,a);case 3:e:{if(we(t,t.stateNode.containerInfo),e===null)throw Error(i(387));var d=t.pendingProps;o=t.memoizedState,l=o.element,$o(e,t),er(t,d,null,a);var y=t.memoizedState;if(d=y.cache,ms(t,dt,d),d!==o.cache&&Fo(t,[dt],a,!0),Wl(),d=y.element,o.isDehydrated)if(o={element:d,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Hh(e,t,d,a);break e}else if(d!==l){l=ea(Error(i(424)),t),ql(l),t=Hh(e,t,d,a);break e}else for(bt=va(t.stateNode.containerInfo.firstChild),Rt=t,ke=!0,ga=null,Ea=!0,a=kf(t,null,d,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Bl(),d===l){t=Ha(e,t,a);break e}jt(e,t,d,a)}t=t.child}return t;case 26:return Kl(e,t),e===null?(a=Gm(t.type,null,t.pendingProps,null))?t.memoizedState=a:ke||(a=t.type,e=t.pendingProps,l=Yi(De.current).createElement(a),l[Tt]=t,l[Mt]=e,St(l,a,e),ht(l),t.stateNode=l):t.memoizedState=Gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xt(t),e===null&&ke&&(l=t.stateNode=$m(t.type,t.pendingProps,De.current),Rt=t,Ea=!0,bt=va(l.firstChild)),l=t.pendingProps.children,e!==null||ke?jt(e,t,l,a):t.child=Ps(t,null,l,a),Kl(e,t),t.child;case 5:return e===null&&ke&&((o=l=bt)&&(l=hx(l,t.type,t.pendingProps,Ea),l!==null?(t.stateNode=l,Rt=t,bt=va(l.firstChild),Ea=!1,o=!0):o=!1),o||Ks(t)),xt(t),o=t.type,d=t.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,wu(o,d)?l=null:y!==null&&wu(o,y)&&(t.flags|=32),t.memoizedState!==null&&(o=mo(e,t,Rv,null,null,a),pr._currentValue=o),Kl(e,t),jt(e,t,l,a),t.child;case 6:return e===null&&ke&&((e=a=bt)&&(a=mx(a,t.pendingProps,Ea),a!==null?(t.stateNode=a,Rt=t,bt=null,e=!0):e=!1),e||Ks(t)),null;case 13:return Yh(e,t,a);case 4:return we(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ps(t,null,l,a):jt(e,t,l,a),t.child;case 11:return Mh(e,t,t.type,t.pendingProps,a);case 7:return jt(e,t,t.pendingProps,a),t.child;case 8:return jt(e,t,t.pendingProps.children,a),t.child;case 12:return jt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,ms(t,t.type,l.value),jt(e,t,l.children,a),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,nn(t),o=wt(o),l=l(o),t.flags|=1,jt(e,t,l,a),t.child;case 14:return Lh(e,t,t.type,t.pendingProps,a);case 15:return Uh(e,t,t.type,t.pendingProps,a);case 19:return Qh(e,t,a);case 22:return Ih(e,t,a);case 24:return nn(t),l=wt(dt),e===null?(o=fo(),o===null&&(o=$e,d=oo(),o.pooledCache=d,d.refCount++,d!==null&&(o.pooledCacheLanes|=a),o=d),t.memoizedState={parent:l,cache:o},Qo(t),ms(t,dt,o)):((e.lanes&a)!==0&&($o(e,t),er(t,null,null,a),Wl()),o=e.memoizedState,d=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ms(t,dt,l)):(l=d.cache,ms(t,dt,l),l!==o.cache&&Fo(t,[dt],a,!0))),jt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}var Ho=ge(null),sn=null,Ya=null;function ms(e,t,a){fe(Ho,t._currentValue),t._currentValue=a}function Fa(e){e._currentValue=Ho.current,xe(Ho)}function Yo(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Fo(e,t,a,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){var y=o.child;d=d.firstContext;e:for(;d!==null;){var N=d;d=o;for(var w=0;w<t.length;w++)if(N.context===t[w]){d.lanes|=a,N=d.alternate,N!==null&&(N.lanes|=a),Yo(d.return,a,e),l||(y=null);break e}d=N.next}}else if(o.tag===18){if(y=o.return,y===null)throw Error(i(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Yo(y,a,e),y=null}else y=o.child;if(y!==null)y.return=o;else for(y=o;y!==null;){if(y===e){y=null;break}if(o=y.sibling,o!==null){o.return=y.return,y=o;break}y=y.return}o=y}}function Pl(e,t,a,l){e=null;for(var o=t,d=!1;o!==null;){if(!d){if((o.flags&524288)!==0)d=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var y=o.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var N=o.type;Qt(o.pendingProps.value,y.value)||(e!==null?e.push(N):e=[N])}}else if(o===oe.current){if(y=o.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(pr):e=[pr])}o=o.return}e!==null&&Fo(t,e,a,l),t.flags|=262144}function wi(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function nn(e){sn=e,Ya=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return Vh(sn,e)}function Oi(e,t){return sn===null&&nn(e),Vh(e,t)}function Vh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ya===null){if(e===null)throw Error(i(308));Ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ya=Ya.next=t;return a}var ps=!1;function Qo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ys(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Pe&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=ii(e),Of(e,null,a),t}return ri(e,l,t,a),ii(e)}function Jl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194176)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Md(e,a)}}function Vo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var o=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?o=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?o=d=t:d=d.next=t}else o=d=t;a={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Xo=!1;function Wl(){if(Xo){var e=Hn;if(e!==null)throw e}}function er(e,t,a,l){Xo=!1;var o=e.updateQueue;ps=!1;var d=o.firstBaseUpdate,y=o.lastBaseUpdate,N=o.shared.pending;if(N!==null){o.shared.pending=null;var w=N,L=w.next;w.next=null,y===null?d=L:y.next=L,y=w;var P=e.alternate;P!==null&&(P=P.updateQueue,N=P.lastBaseUpdate,N!==y&&(N===null?P.firstBaseUpdate=L:N.next=L,P.lastBaseUpdate=w))}if(d!==null){var te=o.baseState;y=0,P=L=w=null,N=d;do{var F=N.lane&-536870913,K=F!==N.lane;if(K?(Me&F)===F:(l&F)===F){F!==0&&F===qn&&(Xo=!0),P!==null&&(P=P.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ye=e,Se=N;F=t;var tt=a;switch(Se.tag){case 1:if(ye=Se.payload,typeof ye=="function"){te=ye.call(tt,te,F);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Se.payload,F=typeof ye=="function"?ye.call(tt,te,F):ye,F==null)break e;te=Z({},te,F);break e;case 2:ps=!0}}F=N.callback,F!==null&&(e.flags|=64,K&&(e.flags|=8192),K=o.callbacks,K===null?o.callbacks=[F]:K.push(F))}else K={lane:F,tag:N.tag,payload:N.payload,callback:N.callback,next:null},P===null?(L=P=K,w=te):P=P.next=K,y|=F;if(N=N.next,N===null){if(N=o.shared.pending,N===null)break;K=N,N=K.next,K.next=null,o.lastBaseUpdate=K,o.shared.pending=null}}while(!0);P===null&&(w=te),o.baseState=w,o.firstBaseUpdate=L,o.lastBaseUpdate=P,d===null&&(o.shared.lanes=0),Ss|=y,e.lanes=y,e.memoizedState=te}}function Xh(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function Gh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Xh(a[e],t)}function tr(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var o=l.next;a=o;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==o)}}catch(N){Qe(t,t.return,N)}}function vs(e,t,a){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var d=o.next;l=d;do{if((l.tag&e)===e){var y=l.inst,N=y.destroy;if(N!==void 0){y.destroy=void 0,o=t;var w=a;try{N()}catch(L){Qe(o,w,L)}}}l=l.next}while(l!==d)}}catch(L){Qe(t,t.return,L)}}function Zh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Gh(t,a)}catch(l){Qe(e,e.return,l)}}}function Kh(e,t,a){a.props=an(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(e,t,l)}}function ln(e,t){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=l;break;default:o=l}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(d){Qe(e,t,d)}}function $t(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(o){Qe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Qe(e,t,o)}else a.current=null}function Ph(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(o){Qe(e,e.return,o)}}function Jh(e,t,a){try{var l=e.stateNode;cx(l,e.type,a,t),l[Mt]=t}catch(o){Qe(e,e.return,o)}}function Wh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.nodeType===8?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(a.nodeType===8?(t=a.parentNode,t.insertBefore(e,a)):(t=a,t.appendChild(e)),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Hi));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Zo(e,t,a),e=e.sibling;e!==null;)Zo(e,t,a),e=e.sibling}function Ci(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Ci(e,t,a),e=e.sibling;e!==null;)Ci(e,t,a),e=e.sibling}var Qa=!1,We=!1,Ko=!1,em=typeof WeakSet=="function"?WeakSet:Set,pt=null,tm=!1;function kv(e,t){if(e=e.containerInfo,Eu=Gi,e=vf(e),Pc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var o=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var y=0,N=-1,w=-1,L=0,P=0,te=e,F=null;t:for(;;){for(var K;te!==a||o!==0&&te.nodeType!==3||(N=y+o),te!==d||l!==0&&te.nodeType!==3||(w=y+l),te.nodeType===3&&(y+=te.nodeValue.length),(K=te.firstChild)!==null;)F=te,te=K;for(;;){if(te===e)break t;if(F===a&&++L===o&&(N=y),F===d&&++P===l&&(w=y),(K=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=K}a=N===-1||w===-1?null:{start:N,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tu={focusedElem:e,selectionRange:a},Gi=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){switch(t=pt,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,o=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=an(a.type,o,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Se){Qe(a,a.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Au(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Au(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return ye=tm,tm=!1,ye}function am(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Va(e,a),l&4&&tr(5,a);break;case 1:if(Va(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(N){Qe(a,a.return,N)}else{var o=an(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Qe(a,a.return,N)}}l&64&&Zh(a),l&512&&ln(a,a.return);break;case 3:if(Va(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Gh(l,e)}catch(N){Qe(a,a.return,N)}}break;case 26:Va(e,a),l&512&&ln(a,a.return);break;case 27:case 5:Va(e,a),t===null&&l&4&&Ph(a),l&512&&ln(a,a.return);break;case 12:Va(e,a);break;case 13:Va(e,a),l&4&&lm(e,a);break;case 22:if(o=a.memoizedState!==null||Qa,!o){t=t!==null&&t.memoizedState!==null||We;var d=Qa,y=We;Qa=o,(We=t)&&!y?xs(e,a,(a.subtreeFlags&8772)!==0):Va(e,a),Qa=d,We=y}l&512&&(a.memoizedProps.mode==="manual"?ln(a,a.return):$t(a,a.return));break;default:Va(e,a)}}function sm(e){var t=e.alternate;t!==null&&(e.alternate=null,sm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Lc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ot=null,Vt=!1;function $a(e,t,a){for(a=a.child;a!==null;)nm(e,t,a),a=a.sibling}function nm(e,t,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(El,a)}catch{}switch(a.tag){case 26:We||$t(a,t),$a(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||$t(a,t);var l=ot,o=Vt;for(ot=a.stateNode,$a(e,t,a),a=a.stateNode,t=a.attributes;t.length;)a.removeAttributeNode(t[0]);Lc(a),ot=l,Vt=o;break;case 5:We||$t(a,t);case 6:o=ot;var d=Vt;if(ot=null,$a(e,t,a),ot=o,Vt=d,ot!==null)if(Vt)try{e=ot,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(y){Qe(a,t,y)}else try{ot.removeChild(a.stateNode)}catch(y){Qe(a,t,y)}break;case 18:ot!==null&&(Vt?(t=ot,a=a.stateNode,t.nodeType===8?Cu(t.parentNode,a):t.nodeType===1&&Cu(t,a),xr(t)):Cu(ot,a.stateNode));break;case 4:l=ot,o=Vt,ot=a.stateNode.containerInfo,Vt=!0,$a(e,t,a),ot=l,Vt=o;break;case 0:case 11:case 14:case 15:We||vs(2,a,t),We||vs(4,a,t),$a(e,t,a);break;case 1:We||($t(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Kh(a,t,l)),$a(e,t,a);break;case 21:$a(e,t,a);break;case 22:We||$t(a,t),We=(l=We)||a.memoizedState!==null,$a(e,t,a),We=l;break;default:$a(e,t,a)}}function lm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xr(e)}catch(a){Qe(t,t.return,a)}}function Bv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new em),t;default:throw Error(i(435,e.tag))}}function Po(e,t){var a=Bv(e);t.forEach(function(l){var o=Jv.bind(null,e,l);a.has(l)||(a.add(l),l.then(o,o))})}function na(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var o=a[l],d=e,y=t,N=y;e:for(;N!==null;){switch(N.tag){case 27:case 5:ot=N.stateNode,Vt=!1;break e;case 3:ot=N.stateNode.containerInfo,Vt=!0;break e;case 4:ot=N.stateNode.containerInfo,Vt=!0;break e}N=N.return}if(ot===null)throw Error(i(160));nm(d,y,o),ot=null,Vt=!1,d=o.alternate,d!==null&&(d.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)rm(t,e),t=t.sibling}var ya=null;function rm(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:na(t,e),la(e),l&4&&(vs(3,e,e.return),tr(3,e),vs(5,e,e.return));break;case 1:na(t,e),la(e),l&512&&(We||a===null||$t(a,a.return)),l&64&&Qa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var o=ya;if(na(t,e),la(e),l&512&&(We||a===null||$t(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":d=o.getElementsByTagName("title")[0],(!d||d[Ol]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=o.createElement(l),o.head.insertBefore(d,o.querySelector("head > title"))),St(d,l,a),d[Tt]=e,ht(d),l=d;break e;case"link":var y=Pm("link","href",o).get(l+(a.href||""));if(y){for(var N=0;N<y.length;N++)if(d=y[N],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(N,1);break t}}d=o.createElement(l),St(d,l,a),o.head.appendChild(d);break;case"meta":if(y=Pm("meta","content",o).get(l+(a.content||""))){for(N=0;N<y.length;N++)if(d=y[N],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(N,1);break t}}d=o.createElement(l),St(d,l,a),o.head.appendChild(d);break;default:throw Error(i(468,l))}d[Tt]=e,ht(d),l=d}e.stateNode=l}else Jm(o,e.type,e.stateNode);else e.stateNode=Km(o,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Jm(o,e.type,e.stateNode):Km(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Jh(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){o=e.stateNode,d=e.memoizedProps;try{for(var w=o.firstChild;w;){var L=w.nextSibling,P=w.nodeName;w[Ol]||P==="HEAD"||P==="BODY"||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=L}for(var te=e.type,F=o.attributes;F.length;)o.removeAttributeNode(F[0]);St(o,te,d),o[Tt]=e,o[Mt]=d}catch(ye){Qe(e,e.return,ye)}}case 5:if(na(t,e),la(e),l&512&&(We||a===null||$t(a,a.return)),e.flags&32){o=e.stateNode;try{Cn(o,"")}catch(ye){Qe(e,e.return,ye)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,Jh(e,o,a!==null?a.memoizedProps:o)),l&1024&&(Ko=!0);break;case 6:if(na(t,e),la(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ye){Qe(e,e.return,ye)}}break;case 3:if($i=null,o=ya,ya=Fi(t.containerInfo),na(t,e),ya=o,la(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xr(t.containerInfo)}catch(ye){Qe(e,e.return,ye)}Ko&&(Ko=!1,im(e));break;case 4:l=ya,ya=Fi(e.stateNode.containerInfo),na(t,e),la(e),ya=l;break;case 12:na(t,e),la(e);break;case 13:na(t,e),la(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ru=Ie()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Po(e,l)));break;case 22:if(l&512&&(We||a===null||$t(a,a.return)),w=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,P=Qa,te=We,Qa=P||w,We=te||L,na(t,e),We=te,Qa=P,la(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,l&8192&&(t._visibility=w?t._visibility&-2:t._visibility|1,w&&(t=Qa||We,a===null||L||t||$n(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(a=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(a===null){L=a=t;try{if(o=L.stateNode,w)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=L.stateNode,N=L.memoizedProps.style;var K=N!=null&&N.hasOwnProperty("display")?N.display:null;y.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ye){Qe(L,L.return,ye)}}}else if(t.tag===6){if(a===null){L=t;try{L.stateNode.nodeValue=w?"":L.memoizedProps}catch(ye){Qe(L,L.return,ye)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Po(e,a))));break;case 19:na(t,e),la(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Po(e,l)));break;case 21:break;default:na(t,e),la(e)}}function la(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var a=e.return;a!==null;){if(Wh(a)){var l=a;break e}a=a.return}throw Error(i(160))}switch(l.tag){case 27:var o=l.stateNode,d=Go(e);Ci(e,d,o);break;case 5:var y=l.stateNode;l.flags&32&&(Cn(y,""),l.flags&=-33);var N=Go(e);Ci(e,N,y);break;case 3:case 4:var w=l.stateNode.containerInfo,L=Go(e);Zo(e,L,w);break;default:throw Error(i(161))}}}catch(P){Qe(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;im(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Va(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)am(e,t.alternate,t),t=t.sibling}function $n(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vs(4,t,t.return),$n(t);break;case 1:$t(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Kh(t,t.return,a),$n(t);break;case 26:case 27:case 5:$t(t,t.return),$n(t);break;case 22:$t(t,t.return),t.memoizedState===null&&$n(t);break;default:$n(t)}e=e.sibling}}function xs(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,d=t,y=d.flags;switch(d.tag){case 0:case 11:case 15:xs(o,d,a),tr(4,d);break;case 1:if(xs(o,d,a),l=d,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(L){Qe(l,l.return,L)}if(l=d,o=l.updateQueue,o!==null){var N=l.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Xh(w[o],N)}catch(L){Qe(l,l.return,L)}}a&&y&64&&Zh(d),ln(d,d.return);break;case 26:case 27:case 5:xs(o,d,a),a&&l===null&&y&4&&Ph(d),ln(d,d.return);break;case 12:xs(o,d,a);break;case 13:xs(o,d,a),a&&y&4&&lm(o,d);break;case 22:d.memoizedState===null&&xs(o,d,a),ln(d,d.return);break;default:xs(o,d,a)}t=t.sibling}}function Jo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$l(a))}function Wo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e))}function bs(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cm(e,t,a,l),t=t.sibling}function cm(e,t,a,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:bs(e,t,a,l),o&2048&&tr(9,t);break;case 3:bs(e,t,a,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e)));break;case 12:if(o&2048){bs(e,t,a,l),e=t.stateNode;try{var d=t.memoizedProps,y=d.id,N=d.onPostCommit;typeof N=="function"&&N(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qe(t,t.return,w)}}else bs(e,t,a,l);break;case 23:break;case 22:d=t.stateNode,t.memoizedState!==null?d._visibility&4?bs(e,t,a,l):ar(e,t):d._visibility&4?bs(e,t,a,l):(d._visibility|=4,Vn(e,t,a,l,(t.subtreeFlags&10256)!==0)),o&2048&&Jo(t.alternate,t);break;case 24:bs(e,t,a,l),o&2048&&Wo(t.alternate,t);break;default:bs(e,t,a,l)}}function Vn(e,t,a,l,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,y=t,N=a,w=l,L=y.flags;switch(y.tag){case 0:case 11:case 15:Vn(d,y,N,w,o),tr(8,y);break;case 23:break;case 22:var P=y.stateNode;y.memoizedState!==null?P._visibility&4?Vn(d,y,N,w,o):ar(d,y):(P._visibility|=4,Vn(d,y,N,w,o)),o&&L&2048&&Jo(y.alternate,y);break;case 24:Vn(d,y,N,w,o),o&&L&2048&&Wo(y.alternate,y);break;default:Vn(d,y,N,w,o)}t=t.sibling}}function ar(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,o=l.flags;switch(l.tag){case 22:ar(a,l),o&2048&&Jo(l.alternate,l);break;case 24:ar(a,l),o&2048&&Wo(l.alternate,l);break;default:ar(a,l)}t=t.sibling}}var sr=8192;function Xn(e){if(e.subtreeFlags&sr)for(e=e.child;e!==null;)om(e),e=e.sibling}function om(e){switch(e.tag){case 26:Xn(e),e.flags&sr&&e.memoizedState!==null&&Ox(ya,e.memoizedState,e.memoizedProps);break;case 5:Xn(e);break;case 3:case 4:var t=ya;ya=Fi(e.stateNode.containerInfo),Xn(e),ya=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=sr,sr=16777216,Xn(e),sr=t):Xn(e));break;default:Xn(e)}}function um(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function nr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];pt=l,fm(l,e)}um(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)dm(e),e=e.sibling}function dm(e){switch(e.tag){case 0:case 11:case 15:nr(e),e.flags&2048&&vs(9,e,e.return);break;case 3:nr(e);break;case 12:nr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Ai(e)):nr(e);break;default:nr(e)}}function Ai(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];pt=l,fm(l,e)}um(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:vs(8,t,t.return),Ai(t);break;case 22:a=t.stateNode,a._visibility&4&&(a._visibility&=-5,Ai(t));break;default:Ai(t)}e=e.sibling}}function fm(e,t){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:vs(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,pt=l;else e:for(a=e;pt!==null;){l=pt;var o=l.sibling,d=l.return;if(sm(l),l===a){pt=null;break e}if(o!==null){o.return=d,pt=o;break e}pt=d}}}function qv(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ra(e,t,a,l){return new qv(e,t,a,l)}function eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function js(e,t){var a=e.alternate;return a===null?(a=ra(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hm(e,t){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ri(e,t,a,l,o,d){var y=0;if(l=e,typeof e=="function")eu(e)&&(y=1);else if(typeof e=="string")y=Tx(e,a,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case g:return rn(a.children,o,d,t);case m:y=8,o|=24;break;case x:return e=ra(12,a,t,o|2),e.elementType=x,e.lanes=d,e;case C:return e=ra(13,a,t,o),e.elementType=C,e.lanes=d,e;case T:return e=ra(19,a,t,o),e.elementType=T,e.lanes=d,e;case R:return mm(a,o,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v:case O:y=10;break e;case E:y=9;break e;case b:y=11;break e;case z:y=14;break e;case A:y=16,l=null;break e}y=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=ra(y,a,t,o),t.elementType=e,t.type=l,t.lanes=d,t}function rn(e,t,a,l){return e=ra(7,e,l,t),e.lanes=a,e}function mm(e,t,a,l){e=ra(22,e,l,t),e.elementType=R,e.lanes=a;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=o._current;if(d===null)throw Error(i(456));if((o._pendingVisibility&2)===0){var y=os(d,2);y!==null&&(o._pendingVisibility|=2,_t(y,d,2))}},attach:function(){var d=o._current;if(d===null)throw Error(i(456));if((o._pendingVisibility&2)!==0){var y=os(d,2);y!==null&&(o._pendingVisibility&=-3,_t(y,d,2))}}};return e.stateNode=o,e}function tu(e,t,a){return e=ra(6,e,null,t),e.lanes=a,e}function au(e,t,a){return t=ra(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xa(e){e.flags|=4}function pm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wm(t)){if(t=sa.current,t!==null&&((Me&4194176)===Me?Ta!==null:(Me&62914560)!==Me&&(Me&536870912)===0||t!==Ta))throw Yl=ro,Df;e.flags|=8192}}function _i(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dd():536870912,e.lanes|=t,Zn|=t)}function lr(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags&31457280,l|=o.flags&31457280,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Hv(e,t,a){var l=t.pendingProps;switch(no(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Fa(dt),Ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(kl(t)?Xa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ga!==null&&(uu(ga),ga=null))),Ke(t),null;case 26:return a=t.memoizedState,e===null?(Xa(t),a!==null?(Ke(t),pm(t,a)):(Ke(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Xa(t),Ke(t),pm(t,a)):(Ke(t),t.flags&=-16777217):(e.memoizedProps!==l&&Xa(t),Ke(t),t.flags&=-16777217),null;case 27:He(t),a=De.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Xa(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}e=ce.current,kl(t)?Rf(t):(e=$m(o,l,a),t.stateNode=e,Xa(t))}return Ke(t),null;case 5:if(He(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Xa(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ke(t),null}if(e=ce.current,kl(t))Rf(t);else{switch(o=Yi(De.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?o.createElement(a,{is:l.is}):o.createElement(a)}}e[Tt]=t,e[Mt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(St(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return Ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Xa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=De.current,kl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,o=Rt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[Tt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Bm(e.nodeValue,a)),e||Ks(t)}else e=Yi(e).createTextNode(l),e[Tt]=t,t.stateNode=e}return Ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=kl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(i(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));o[Tt]=t}else Bl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else ga!==null&&(uu(ga),ga=null),o=!0;if(!o)return t.flags&256?(Ba(t),t):(Ba(t),null)}if(Ba(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==o&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),_i(t,t.updateQueue),Ke(t),null;case 4:return Ze(),e===null&&ju(t.stateNode.containerInfo),Ke(t),null;case 10:return Fa(t.type),Ke(t),null;case 19:if(xe(ut),o=t.memoizedState,o===null)return Ke(t),null;if(l=(t.flags&128)!==0,d=o.rendering,d===null)if(l)lr(o,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=mi(e),d!==null){for(t.flags|=128,lr(o,!1),e=d.updateQueue,t.updateQueue=e,_i(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)hm(a,e),a=a.sibling;return fe(ut,ut.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ie()>Di&&(t.flags|=128,l=!0,lr(o,!1),t.lanes=4194304)}else{if(!l)if(e=mi(d),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,_i(t,e),lr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!ke)return Ke(t),null}else 2*Ie()-o.renderingStartTime>Di&&a!==536870912&&(t.flags|=128,l=!0,lr(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ie(),t.sibling=null,e=ut.current,fe(ut,l?e&1|2:e&1),t):(Ke(t),null);case 22:case 23:return Ba(t),co(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),a=t.updateQueue,a!==null&&_i(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&xe(Js),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Fa(dt),Ke(t),null;case 25:return null}throw Error(i(156,t.tag))}function Yv(e,t){switch(no(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fa(dt),Ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return He(t),null;case 13:if(Ba(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Bl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ut),null;case 4:return Ze(),null;case 10:return Fa(t.type),null;case 22:case 23:return Ba(t),co(),e!==null&&xe(Js),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fa(dt),null;case 25:return null;default:return null}}function gm(e,t){switch(no(t),t.tag){case 3:Fa(dt),Ze();break;case 26:case 27:case 5:He(t);break;case 4:Ze();break;case 13:Ba(t);break;case 19:xe(ut);break;case 10:Fa(t.type);break;case 22:case 23:Ba(t),co(),e!==null&&xe(Js);break;case 24:Fa(dt)}}var Fv={getCacheForType:function(e){var t=wt(dt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},Qv=typeof WeakMap=="function"?WeakMap:Map,Pe=0,$e=null,Re=null,Me=0,Ve=0,Xt=null,Ga=!1,Gn=!1,su=!1,Za=0,et=0,Ss=0,cn=0,nu=0,ia=0,Zn=0,rr=null,Oa=null,lu=!1,ru=0,Di=1/0,zi=null,Ns=null,Mi=!1,on=null,ir=0,iu=0,cu=null,cr=0,ou=null;function Gt(){if((Pe&2)!==0&&Me!==0)return Me&-Me;if(V.T!==null){var e=qn;return e!==0?e:yu()}return Ud()}function ym(){ia===0&&(ia=(Me&536870912)===0||ke?_d():536870912);var e=sa.current;return e!==null&&(e.flags|=32),ia}function _t(e,t,a){(e===$e&&Ve===2||e.cancelPendingCommit!==null)&&(Kn(e,0),Ka(e,Me,ia,!1)),wl(e,a),((Pe&2)===0||e!==$e)&&(e===$e&&((Pe&2)===0&&(cn|=a),et===4&&Ka(e,Me,ia,!1)),Ca(e))}function vm(e,t,a){if((Pe&6)!==0)throw Error(i(327));var l=!a&&(t&60)===0&&(t&e.expiredLanes)===0||Tl(e,t),o=l?Xv(e,t):hu(e,t,!0),d=l;do{if(o===0){Gn&&!l&&Ka(e,t,0,!1);break}else if(o===6)Ka(e,t,0,!Ga);else{if(a=e.current.alternate,d&&!$v(a)){o=hu(e,t,!1),d=!1;continue}if(o===2){if(d=t,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var N=e;o=rr;var w=N.current.memoizedState.isDehydrated;if(w&&(Kn(N,y).flags|=256),y=hu(N,y,!1),y!==2){if(su&&!w){N.errorRecoveryDisabledLanes|=d,cn|=d,o=4;break e}d=Oa,Oa=o,d!==null&&uu(d)}o=y}if(d=!1,o!==2)continue}}if(o===1){Kn(e,0),Ka(e,t,0,!0);break}e:{switch(l=e,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194176)===t){Ka(l,t,ia,!Ga);break e}break;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(i(329))}if(l.finishedWork=a,l.finishedLanes=t,(t&62914560)===t&&(d=ru+300-Ie(),10<d)){if(Ka(l,t,ia,!Ga),Xr(l,0)!==0)break e;l.timeoutHandle=Ym(xm.bind(null,l,a,Oa,zi,lu,t,ia,cn,Zn,Ga,2,-0,0),d);break e}xm(l,a,Oa,zi,lu,t,ia,cn,Zn,Ga,0,-0,0)}}break}while(!0);Ca(e)}function uu(e){Oa===null?Oa=e:Oa.push.apply(Oa,e)}function xm(e,t,a,l,o,d,y,N,w,L,P,te,F){var K=t.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(mr={stylesheets:null,count:0,unsuspend:wx},om(t),t=Cx(),t!==null)){e.cancelPendingCommit=t(wm.bind(null,e,a,l,o,y,N,w,1,te,F)),Ka(e,d,y,!L);return}wm(e,a,l,o,y,N,w,P,te,F)}function $v(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var o=a[l],d=o.getSnapshot;o=o.value;try{if(!Qt(d(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t,a,l){t&=~nu,t&=~cn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var d=31-Ft(o),y=1<<d;l[d]=-1,o&=~y}a!==0&&zd(e,a,t)}function Li(){return(Pe&6)===0?(or(0),!1):!0}function du(){if(Re!==null){if(Ve===0)var e=Re.return;else e=Re,Ya=sn=null,yo(e),kn=null,Fl=0,e=Re;for(;e!==null;)gm(e.alternate,e),e=e.return;Re=null}}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ux(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),du(),$e=e,Re=a=js(e.current,null),Me=t,Ve=0,Xt=null,Ga=!1,Gn=Tl(e,t),su=!1,Zn=ia=nu=cn=Ss=et=0,Oa=rr=null,lu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Ft(l),d=1<<o;t|=e[o],l&=~d}return Za=t,li(),a}function bm(e,t){Oe=null,V.H=wa,t===Hl?(t=Lf(),Ve=3):t===Df?(t=Lf(),Ve=4):Ve=t===zh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xt=t,Re===null&&(et=1,Ti(e,ea(t,e.current)))}function jm(){var e=V.H;return V.H=wa,e===null?wa:e}function Sm(){var e=V.A;return V.A=Fv,e}function fu(){et=4,Ga||(Me&4194176)!==Me&&sa.current!==null||(Gn=!0),(Ss&134217727)===0&&(cn&134217727)===0||$e===null||Ka($e,Me,ia,!1)}function hu(e,t,a){var l=Pe;Pe|=2;var o=jm(),d=Sm();($e!==e||Me!==t)&&(zi=null,Kn(e,t)),t=!1;var y=et;e:do try{if(Ve!==0&&Re!==null){var N=Re,w=Xt;switch(Ve){case 8:du(),y=6;break e;case 3:case 2:case 6:sa.current===null&&(t=!0);var L=Ve;if(Ve=0,Xt=null,Pn(e,N,w,L),a&&Gn){y=0;break e}break;default:L=Ve,Ve=0,Xt=null,Pn(e,N,w,L)}}Vv(),y=et;break}catch(P){bm(e,P)}while(!0);return t&&e.shellSuspendCounter++,Ya=sn=null,Pe=l,V.H=o,V.A=d,Re===null&&($e=null,Me=0,li()),y}function Vv(){for(;Re!==null;)Nm(Re)}function Xv(e,t){var a=Pe;Pe|=2;var l=jm(),o=Sm();$e!==e||Me!==t?(zi=null,Di=Ie()+500,Kn(e,t)):Gn=Tl(e,t);e:do try{if(Ve!==0&&Re!==null){t=Re;var d=Xt;t:switch(Ve){case 1:Ve=0,Xt=null,Pn(e,t,d,1);break;case 2:if(zf(d)){Ve=0,Xt=null,Em(t);break}t=function(){Ve===2&&$e===e&&(Ve=7),Ca(e)},d.then(t,t);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:zf(d)?(Ve=0,Xt=null,Em(t)):(Ve=0,Xt=null,Pn(e,t,d,7));break;case 5:var y=null;switch(Re.tag){case 26:y=Re.memoizedState;case 5:case 27:var N=Re;if(!y||Wm(y)){Ve=0,Xt=null;var w=N.sibling;if(w!==null)Re=w;else{var L=N.return;L!==null?(Re=L,Ui(L)):Re=null}break t}}Ve=0,Xt=null,Pn(e,t,d,5);break;case 6:Ve=0,Xt=null,Pn(e,t,d,6);break;case 8:du(),et=6;break e;default:throw Error(i(462))}}Gv();break}catch(P){bm(e,P)}while(!0);return Ya=sn=null,V.H=l,V.A=o,Pe=a,Re!==null?0:($e=null,Me=0,li(),et)}function Gv(){for(;Re!==null&&!ls();)Nm(Re)}function Nm(e){var t=$h(e.alternate,e,Za);e.memoizedProps=e.pendingProps,t===null?Ui(e):Re=t}function Em(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Bh(a,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=Bh(a,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:yo(t);default:gm(a,t),t=Re=hm(t,Za),t=$h(a,t,Za)}e.memoizedProps=e.pendingProps,t===null?Ui(e):Re=t}function Pn(e,t,a,l){Ya=sn=null,yo(t),kn=null,Fl=0;var o=t.return;try{if(Uv(e,o,t,a,Me)){et=1,Ti(e,ea(a,e.current)),Re=null;return}}catch(d){if(o!==null)throw Re=o,d;et=1,Ti(e,ea(a,e.current)),Re=null;return}t.flags&32768?(ke||l===1?e=!0:Gn||(Me&536870912)!==0?e=!1:(Ga=e=!0,(l===2||l===3||l===6)&&(l=sa.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tm(t,e)):Ui(t)}function Ui(e){var t=e;do{if((t.flags&32768)!==0){Tm(t,Ga);return}e=t.return;var a=Hv(t.alternate,t,Za);if(a!==null){Re=a;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);et===0&&(et=5)}function Tm(e,t){do{var a=Yv(e.alternate,e);if(a!==null){a.flags&=32767,Re=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=a}while(e!==null);et=6,Re=null}function wm(e,t,a,l,o,d,y,N,w,L){var P=V.T,te=Y.p;try{Y.p=2,V.T=null,Zv(e,t,a,l,te,o,d,y,N,w,L)}finally{V.T=P,Y.p=te}}function Zv(e,t,a,l,o,d,y,N){do Jn();while(on!==null);if((Pe&6)!==0)throw Error(i(327));var w=e.finishedWork;if(l=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=w.lanes|w.childLanes;if(L|=to,Oy(e,l,L,d,y,N),e===$e&&(Re=$e=null,Me=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Mi||(Mi=!0,iu=L,cu=a,Wv(Qr,function(){return Jn(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=V.T,V.T=null,d=Y.p,Y.p=2,y=Pe,Pe|=4,kv(e,w),rm(w,e),xv(Tu,e.containerInfo),Gi=!!Eu,Tu=Eu=null,e.current=w,am(e,w.alternate,w),Ne(),Pe=y,Y.p=d,V.T=a):e.current=w,Mi?(Mi=!1,on=e,ir=l):Om(e,L),L=e.pendingLanes,L===0&&(Ns=null),Sy(w.stateNode),Ca(e),t!==null)for(o=e.onRecoverableError,w=0;w<t.length;w++)L=t[w],o(L.value,{componentStack:L.stack});return(ir&3)!==0&&Jn(),L=e.pendingLanes,(l&4194218)!==0&&(L&42)!==0?e===ou?cr++:(cr=0,ou=e):cr=0,or(0),null}function Om(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$l(t)))}function Jn(){if(on!==null){var e=on,t=iu;iu=0;var a=Ld(ir),l=V.T,o=Y.p;try{if(Y.p=32>a?32:a,V.T=null,on===null)var d=!1;else{a=cu,cu=null;var y=on,N=ir;if(on=null,ir=0,(Pe&6)!==0)throw Error(i(331));var w=Pe;if(Pe|=4,dm(y.current),cm(y,y.current,N,a),Pe=w,or(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(El,y)}catch{}d=!0}return d}finally{Y.p=o,V.T=l,Om(e,t)}}return!1}function Cm(e,t,a){t=ea(a,t),t=_o(e.stateNode,t,2),e=ys(e,t,2),e!==null&&(wl(e,2),Ca(e))}function Qe(e,t,a){if(e.tag===3)Cm(e,e,a);else for(;t!==null;){if(t.tag===3){Cm(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=ea(a,e),a=_h(2),l=ys(t,a,2),l!==null&&(Dh(a,l,t,e),wl(l,2),Ca(l));break}}t=t.return}}function mu(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Qv;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(a)||(su=!0,o.add(a),e=Kv.bind(null,e,t,a),t.then(e,e))}function Kv(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$e===e&&(Me&a)===a&&(et===4||et===3&&(Me&62914560)===Me&&300>Ie()-ru?(Pe&2)===0&&Kn(e,0):nu|=a,Zn===Me&&(Zn=0)),Ca(e)}function Am(e,t){t===0&&(t=Dd()),e=os(e,t),e!==null&&(wl(e,t),Ca(e))}function Pv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Am(e,a)}function Jv(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Am(e,a)}function Wv(e,t){return Et(e,t)}var Ii=null,Wn=null,pu=!1,ki=!1,gu=!1,un=0;function Ca(e){e!==Wn&&e.next===null&&(Wn===null?Ii=Wn=e:Wn=Wn.next=e),ki=!0,pu||(pu=!0,tx(ex))}function or(e,t){if(!gu&&ki){gu=!0;do for(var a=!1,l=Ii;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var d=0;else{var y=l.suspendedLanes,N=l.pingedLanes;d=(1<<31-Ft(42|e)+1)-1,d&=o&~(y&~N),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Dm(l,d))}else d=Me,d=Xr(l,l===$e?d:0),(d&3)===0||Tl(l,d)||(a=!0,Dm(l,d));l=l.next}while(a);gu=!1}}function ex(){ki=pu=!1;var e=0;un!==0&&(ox()&&(e=un),un=0);for(var t=Ie(),a=null,l=Ii;l!==null;){var o=l.next,d=Rm(l,t);d===0?(l.next=null,a===null?Ii=o:a.next=o,o===null&&(Wn=a)):(a=l,(e!==0||(d&3)!==0)&&(ki=!0)),l=o}or(e)}function Rm(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Ft(d),N=1<<y,w=o[y];w===-1?((N&a)===0||(N&l)!==0)&&(o[y]=wy(N,t)):w<=t&&(e.expiredLanes|=N),d&=~N}if(t=$e,a=Me,a=Xr(e,e===t?a:0),l=e.callbackNode,a===0||e===t&&Ve===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Je(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Tl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Je(l),Ld(a)){case 2:case 8:a=Ad;break;case 32:a=Qr;break;case 268435456:a=Rd;break;default:a=Qr}return l=_m.bind(null,e),a=Et(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Je(l),e.callbackPriority=2,e.callbackNode=null,2}function _m(e,t){var a=e.callbackNode;if(Jn()&&e.callbackNode!==a)return null;var l=Me;return l=Xr(e,e===$e?l:0),l===0?null:(vm(e,l,t),Rm(e,Ie()),e.callbackNode!=null&&e.callbackNode===a?_m.bind(null,e):null)}function Dm(e,t){if(Jn())return null;vm(e,t,!0)}function tx(e){dx(function(){(Pe&6)!==0?Et(Ht,e):e()})}function yu(){return un===0&&(un=_d()),un}function zm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jr(""+e)}function Mm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function ax(e,t,a,l,o){if(t==="submit"&&a&&a.stateNode===o){var d=zm((o[Mt]||null).action),y=l.submitter;y&&(t=(t=y[Mt]||null)?zm(t.formAction):y.getAttribute("formAction"),t!==null&&(d=t,y=null));var N=new ai("action","action",null,l,o);e.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(un!==0){var w=y?Mm(o,y):new FormData(o);wo(a,{pending:!0,data:w,method:o.method,action:d},null,w)}}else typeof d=="function"&&(N.preventDefault(),w=y?Mm(o,y):new FormData(o),wo(a,{pending:!0,data:w,method:o.method,action:d},d,w))},currentTarget:o}]})}}for(var vu=0;vu<wf.length;vu++){var xu=wf[vu],sx=xu.toLowerCase(),nx=xu[0].toUpperCase()+xu.slice(1);pa(sx,"on"+nx)}pa(jf,"onAnimationEnd"),pa(Sf,"onAnimationIteration"),pa(Nf,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(jv,"onTransitionRun"),pa(Sv,"onTransitionStart"),pa(Nv,"onTransitionCancel"),pa(Ef,"onTransitionEnd"),wn("onMouseEnter",["mouseout","mouseover"]),wn("onMouseLeave",["mouseout","mouseover"]),wn("onPointerEnter",["pointerout","pointerover"]),wn("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ur));function Lm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],o=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var y=l.length-1;0<=y;y--){var N=l[y],w=N.instance,L=N.currentTarget;if(N=N.listener,w!==d&&o.isPropagationStopped())break e;d=N,o.currentTarget=L;try{d(o)}catch(P){Ei(P)}o.currentTarget=null,d=w}else for(y=0;y<l.length;y++){if(N=l[y],w=N.instance,L=N.currentTarget,N=N.listener,w!==d&&o.isPropagationStopped())break e;d=N,o.currentTarget=L;try{d(o)}catch(P){Ei(P)}o.currentTarget=null,d=w}}}}function ze(e,t){var a=t[Mc];a===void 0&&(a=t[Mc]=new Set);var l=e+"__bubble";a.has(l)||(Um(t,e,2,!1),a.add(l))}function bu(e,t,a){var l=0;t&&(l|=4),Um(a,e,l,t)}var Bi="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[Bi]){e[Bi]=!0,kd.forEach(function(a){a!=="selectionchange"&&(lx.has(a)||bu(a,!1,e),bu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bi]||(t[Bi]=!0,bu("selectionchange",!1,t))}}function Um(e,t,a,l){switch(lp(t)){case 2:var o=_x;break;case 8:o=Dx;break;default:o=Mu}a=o.bind(null,t,a,e),o=void 0,!Yc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function Su(e,t,a,l,o){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var N=l.stateNode.containerInfo;if(N===o||N.nodeType===8&&N.parentNode===o)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&(w=y.stateNode.containerInfo,w===o||w.nodeType===8&&w.parentNode===o))return;y=y.return}for(;N!==null;){if(y=Fs(N),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=d=y;continue e}N=N.parentNode}}l=l.return}Kd(function(){var L=d,P=qc(a),te=[];e:{var F=Tf.get(e);if(F!==void 0){var K=ai,ye=e;switch(e){case"keypress":if(ei(a)===0)break e;case"keydown":case"keyup":K=Jy;break;case"focusin":ye="focus",K=Vc;break;case"focusout":ye="blur",K=Vc;break;case"beforeblur":case"afterblur":K=Vc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=qy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=tv;break;case jf:case Sf:case Nf:K=Fy;break;case Ef:K=sv;break;case"scroll":case"scrollend":K=ky;break;case"wheel":K=lv;break;case"copy":case"cut":case"paste":K=$y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=tf;break;case"toggle":case"beforetoggle":K=iv}var Se=(t&4)!==0,tt=!Se&&(e==="scroll"||e==="scrollend"),I=Se?F!==null?F+"Capture":null:F;Se=[];for(var M=L,H;M!==null;){var W=M;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||I===null||(W=Al(M,I),W!=null&&Se.push(dr(M,W,H))),tt)break;M=M.return}0<Se.length&&(F=new K(F,ye,null,a,P),te.push({event:F,listeners:Se}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",F&&a!==Bc&&(ye=a.relatedTarget||a.fromElement)&&(Fs(ye)||ye[Nn]))break e;if((K||F)&&(F=P.window===P?P:(F=P.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ye=a.relatedTarget||a.toElement,K=L,ye=ye?Fs(ye):null,ye!==null&&(tt=ee(ye),Se=ye.tag,ye!==tt||Se!==5&&Se!==27&&Se!==6)&&(ye=null)):(K=null,ye=L),K!==ye)){if(Se=Wd,W="onMouseLeave",I="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Se=tf,W="onPointerLeave",I="onPointerEnter",M="pointer"),tt=K==null?F:Cl(K),H=ye==null?F:Cl(ye),F=new Se(W,M+"leave",K,a,P),F.target=tt,F.relatedTarget=H,W=null,Fs(P)===L&&(Se=new Se(I,M+"enter",ye,a,P),Se.target=H,Se.relatedTarget=tt,W=Se),tt=W,K&&ye)t:{for(Se=K,I=ye,M=0,H=Se;H;H=el(H))M++;for(H=0,W=I;W;W=el(W))H++;for(;0<M-H;)Se=el(Se),M--;for(;0<H-M;)I=el(I),H--;for(;M--;){if(Se===I||I!==null&&Se===I.alternate)break t;Se=el(Se),I=el(I)}Se=null}else Se=null;K!==null&&Im(te,F,K,Se,!1),ye!==null&&tt!==null&&Im(te,tt,ye,Se,!0)}}e:{if(F=L?Cl(L):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var me=uf;else if(cf(F))if(df)me=yv;else{me=pv;var Ce=mv}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&kc(L.elementType)&&(me=uf):me=gv;if(me&&(me=me(e,L))){of(te,me,a,P);break e}Ce&&Ce(e,F,L),e==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&Ic(F,"number",F.value)}switch(Ce=L?Cl(L):window,e){case"focusin":(cf(Ce)||Ce.contentEditable==="true")&&(Dn=Ce,Jc=L,Il=null);break;case"focusout":Il=Jc=Dn=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,xf(te,a,P);break;case"selectionchange":if(bv)break;case"keydown":case"keyup":xf(te,a,P)}var ve;if(Gc)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else _n?lf(e,a)&&(be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(af&&a.locale!=="ko"&&(_n||be!=="onCompositionStart"?be==="onCompositionEnd"&&_n&&(ve=Pd()):(cs=P,Fc="value"in cs?cs.value:cs.textContent,_n=!0)),Ce=qi(L,be),0<Ce.length&&(be=new ef(be,e,null,a,P),te.push({event:be,listeners:Ce}),ve?be.data=ve:(ve=rf(a),ve!==null&&(be.data=ve)))),(ve=ov?uv(e,a):dv(e,a))&&(be=qi(L,"onBeforeInput"),0<be.length&&(Ce=new ef("onBeforeInput","beforeinput",null,a,P),te.push({event:Ce,listeners:be}),Ce.data=ve)),ax(te,e,L,a,P)}Lm(te,t)})}function dr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function qi(e,t){for(var a=t+"Capture",l=[];e!==null;){var o=e,d=o.stateNode;o=o.tag,o!==5&&o!==26&&o!==27||d===null||(o=Al(e,a),o!=null&&l.unshift(dr(e,o,d)),o=Al(e,t),o!=null&&l.push(dr(e,o,d))),e=e.return}return l}function el(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Im(e,t,a,l,o){for(var d=t._reactName,y=[];a!==null&&a!==l;){var N=a,w=N.alternate,L=N.stateNode;if(N=N.tag,w!==null&&w===l)break;N!==5&&N!==26&&N!==27||L===null||(w=L,o?(L=Al(a,d),L!=null&&y.unshift(dr(a,L,w))):o||(L=Al(a,d),L!=null&&y.push(dr(a,L,w)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var rx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function km(e){return(typeof e=="string"?e:""+e).replace(rx,`
`).replace(ix,"")}function Bm(e,t){return t=km(t),km(e)===t}function Hi(){}function Fe(e,t,a,l,o,d){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Cn(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Cn(e,""+l);break;case"className":Zr(e,"class",l);break;case"tabIndex":Zr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(e,a,l);break;case"style":Gd(e,l,d);break;case"data":if(t!=="object"){Zr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Fe(e,t,"name",o.name,o,null),Fe(e,t,"formEncType",o.formEncType,o,null),Fe(e,t,"formMethod",o.formMethod,o,null),Fe(e,t,"formTarget",o.formTarget,o,null)):(Fe(e,t,"encType",o.encType,o,null),Fe(e,t,"method",o.method,o,null),Fe(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Jr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Hi);break;case"onScroll":l!=null&&ze("scroll",e);break;case"onScrollEnd":l!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Jr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ze("beforetoggle",e),ze("toggle",e),Gr(e,"popover",l);break;case"xlinkActuate":Ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ua(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ua(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ua(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ua(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uy.get(a)||a,Gr(e,a,l))}}function Nu(e,t,a,l,o,d){switch(a){case"style":Gd(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(o.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Cn(e,l):(typeof l=="number"||typeof l=="bigint")&&Cn(e,""+l);break;case"onScroll":l!=null&&ze("scroll",e);break;case"onScrollEnd":l!=null&&ze("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),d=e[Mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,o),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,o);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Gr(e,a,l)}}}function St(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var l=!1,o=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,d,y,a,null)}}o&&Fe(e,t,"srcSet",a.srcSet,a,null),l&&Fe(e,t,"src",a.src,a,null);return;case"input":ze("invalid",e);var N=d=y=o=null,w=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var P=a[l];if(P!=null)switch(l){case"name":o=P;break;case"type":y=P;break;case"checked":w=P;break;case"defaultChecked":L=P;break;case"value":d=P;break;case"defaultValue":N=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,t));break;default:Fe(e,t,l,P,a,null)}}Qd(e,d,N,w,L,y,o,!1),Kr(e);return;case"select":ze("invalid",e),l=y=d=null;for(o in a)if(a.hasOwnProperty(o)&&(N=a[o],N!=null))switch(o){case"value":d=N;break;case"defaultValue":y=N;break;case"multiple":l=N;default:Fe(e,t,o,N,a,null)}t=d,a=y,e.multiple=!!l,t!=null?On(e,!!l,t,!1):a!=null&&On(e,!!l,a,!0);return;case"textarea":ze("invalid",e),d=o=l=null;for(y in a)if(a.hasOwnProperty(y)&&(N=a[y],N!=null))switch(y){case"value":l=N;break;case"defaultValue":o=N;break;case"children":d=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(91));break;default:Fe(e,t,y,N,a,null)}Vd(e,l,o,d),Kr(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Fe(e,t,w,l,a,null)}return;case"dialog":ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(l=0;l<ur.length;l++)ze(ur[l],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Fe(e,t,L,l,a,null)}return;default:if(kc(t)){for(P in a)a.hasOwnProperty(P)&&(l=a[P],l!==void 0&&Nu(e,t,P,l,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null&&Fe(e,t,N,l,a,null))}function cx(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,d=null,y=null,N=null,w=null,L=null,P=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":w=te;default:l.hasOwnProperty(K)||Fe(e,t,K,null,l,te)}}for(var F in l){var K=l[F];if(te=a[F],l.hasOwnProperty(F)&&(K!=null||te!=null))switch(F){case"type":d=K;break;case"name":o=K;break;case"checked":L=K;break;case"defaultChecked":P=K;break;case"value":y=K;break;case"defaultValue":N=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,t));break;default:K!==te&&Fe(e,t,F,K,l,te)}}Uc(e,y,N,w,L,P,d,o);return;case"select":K=y=N=F=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":K=w;default:l.hasOwnProperty(d)||Fe(e,t,d,null,l,w)}for(o in l)if(d=l[o],w=a[o],l.hasOwnProperty(o)&&(d!=null||w!=null))switch(o){case"value":F=d;break;case"defaultValue":N=d;break;case"multiple":y=d;default:d!==w&&Fe(e,t,o,d,l,w)}t=N,a=y,l=K,F!=null?On(e,!!a,F,!1):!!l!=!!a&&(t!=null?On(e,!!a,t,!0):On(e,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(N in a)if(o=a[N],a.hasOwnProperty(N)&&o!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Fe(e,t,N,null,l,o)}for(y in l)if(o=l[y],d=a[y],l.hasOwnProperty(y)&&(o!=null||d!=null))switch(y){case"value":F=o;break;case"defaultValue":K=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(i(91));break;default:o!==d&&Fe(e,t,y,o,l,d)}$d(e,F,K);return;case"option":for(var ye in a)if(F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:Fe(e,t,ye,null,l,F)}for(w in l)if(F=l[w],K=a[w],l.hasOwnProperty(w)&&F!==K&&(F!=null||K!=null))switch(w){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Fe(e,t,w,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)F=a[Se],a.hasOwnProperty(Se)&&F!=null&&!l.hasOwnProperty(Se)&&Fe(e,t,Se,null,l,F);for(L in l)if(F=l[L],K=a[L],l.hasOwnProperty(L)&&F!==K&&(F!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,t));break;default:Fe(e,t,L,F,l,K)}return;default:if(kc(t)){for(var tt in a)F=a[tt],a.hasOwnProperty(tt)&&F!==void 0&&!l.hasOwnProperty(tt)&&Nu(e,t,tt,void 0,l,F);for(P in l)F=l[P],K=a[P],!l.hasOwnProperty(P)||F===K||F===void 0&&K===void 0||Nu(e,t,P,F,l,K);return}}for(var I in a)F=a[I],a.hasOwnProperty(I)&&F!=null&&!l.hasOwnProperty(I)&&Fe(e,t,I,null,l,F);for(te in l)F=l[te],K=a[te],!l.hasOwnProperty(te)||F===K||F==null&&K==null||Fe(e,t,te,F,l,K)}var Eu=null,Tu=null;function Yi(e){return e.nodeType===9?e:e.ownerDocument}function qm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ou=null;function ox(){var e=window.event;return e&&e.type==="popstate"?e===Ou?!1:(Ou=e,!0):(Ou=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,ux=typeof clearTimeout=="function"?clearTimeout:void 0,Fm=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Fm<"u"?function(e){return Fm.resolve(null).then(e).catch(fx)}:Ym;function fx(e){setTimeout(function(){throw e})}function Cu(e,t){var a=t,l=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(l===0){e.removeChild(o),xr(t);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=o}while(a);xr(t)}function Au(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Au(a),Lc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function hx(e,t,a,l){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ol])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==o.rel||e.getAttribute("href")!==(o.href==null?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=va(e.nextSibling),e===null)break}return null}function mx(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=va(e.nextSibling),e===null))return null;return e}function va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function $m(e,t,a){switch(t=Yi(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}var ca=new Map,Vm=new Set;function Fi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Pa=Y.d;Y.d={f:px,r:gx,D:yx,C:vx,L:xx,m:bx,X:Sx,S:jx,M:Nx};function px(){var e=Pa.f(),t=Li();return e||t}function gx(e){var t=En(e);t!==null&&t.tag===5&&t.type==="form"?xh(t):Pa.r(e)}var tl=typeof document>"u"?null:document;function Xm(e,t,a){var l=tl;if(l&&typeof t=="string"&&t){var o=Jt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Vm.has(o)||(Vm.add(o),e={rel:e,crossOrigin:a,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),St(t,"link",e),ht(t),l.head.appendChild(t)))}}function yx(e){Pa.D(e),Xm("dns-prefetch",e,null)}function vx(e,t){Pa.C(e,t),Xm("preconnect",e,t)}function xx(e,t,a){Pa.L(e,t,a);var l=tl;if(l&&e&&t){var o='link[rel="preload"][as="'+Jt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Jt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Jt(a.imageSizes)+'"]')):o+='[href="'+Jt(e)+'"]';var d=o;switch(t){case"style":d=al(e);break;case"script":d=sl(e)}ca.has(d)||(e=Z({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ca.set(d,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(fr(d))||t==="script"&&l.querySelector(hr(d))||(t=l.createElement("link"),St(t,"link",e),ht(t),l.head.appendChild(t)))}}function bx(e,t){Pa.m(e,t);var a=tl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Jt(l)+'"][href="'+Jt(e)+'"]',d=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=sl(e)}if(!ca.has(d)&&(e=Z({rel:"modulepreload",href:e},t),ca.set(d,e),a.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hr(d)))return}l=a.createElement("link"),St(l,"link",e),ht(l),a.head.appendChild(l)}}}function jx(e,t,a){Pa.S(e,t,a);var l=tl;if(l&&e){var o=Tn(l).hoistableStyles,d=al(e);t=t||"default";var y=o.get(d);if(!y){var N={loading:0,preload:null};if(y=l.querySelector(fr(d)))N.loading=5;else{e=Z({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ca.get(d))&&Ru(e,a);var w=y=l.createElement("link");ht(w),St(w,"link",e),w._p=new Promise(function(L,P){w.onload=L,w.onerror=P}),w.addEventListener("load",function(){N.loading|=1}),w.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Qi(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:N},o.set(d,y)}}}function Sx(e,t){Pa.X(e,t);var a=tl;if(a&&e){var l=Tn(a).hoistableScripts,o=sl(e),d=l.get(o);d||(d=a.querySelector(hr(o)),d||(e=Z({src:e,async:!0},t),(t=ca.get(o))&&_u(e,t),d=a.createElement("script"),ht(d),St(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function Nx(e,t){Pa.M(e,t);var a=tl;if(a&&e){var l=Tn(a).hoistableScripts,o=sl(e),d=l.get(o);d||(d=a.querySelector(hr(o)),d||(e=Z({src:e,async:!0,type:"module"},t),(t=ca.get(o))&&_u(e,t),d=a.createElement("script"),ht(d),St(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(o,d))}}function Gm(e,t,a,l){var o=(o=De.current)?Fi(o):null;if(!o)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=al(a.href),a=Tn(o).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=al(a.href);var d=Tn(o).hoistableStyles,y=d.get(e);if(y||(o=o.ownerDocument||o,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=o.querySelector(fr(e)))&&!d._p&&(y.instance=d,y.state.loading=5),ca.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ca.set(e,a),d||Ex(o,e,a,y.state))),t&&l===null)throw Error(i(528,""));return y}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=sl(a),a=Tn(o).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function al(e){return'href="'+Jt(e)+'"'}function fr(e){return'link[rel="stylesheet"]['+e+"]"}function Zm(e){return Z({},e,{"data-precedence":e.precedence,precedence:null})}function Ex(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),St(t,"link",a),ht(t),e.head.appendChild(t))}function sl(e){return'[src="'+Jt(e)+'"]'}function hr(e){return"script[async]"+e}function Km(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Jt(a.href)+'"]');if(l)return t.instance=l,ht(l),l;var o=Z({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ht(l),St(l,"style",o),Qi(l,a.precedence,e),t.instance=l;case"stylesheet":o=al(a.href);var d=e.querySelector(fr(o));if(d)return t.state.loading|=4,t.instance=d,ht(d),d;l=Zm(a),(o=ca.get(o))&&Ru(l,o),d=(e.ownerDocument||e).createElement("link"),ht(d);var y=d;return y._p=new Promise(function(N,w){y.onload=N,y.onerror=w}),St(d,"link",l),t.state.loading|=4,Qi(d,a.precedence,e),t.instance=d;case"script":return d=sl(a.src),(o=e.querySelector(hr(d)))?(t.instance=o,ht(o),o):(l=a,(o=ca.get(d))&&(l=Z({},a),_u(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),ht(o),St(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Qi(l,a.precedence,e));return t.instance}function Qi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,d=o,y=0;y<l.length;y++){var N=l[y];if(N.dataset.precedence===t)d=N;else if(d!==o)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _u(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $i=null;function Pm(e,t,a){if($i===null){var l=new Map,o=$i=new Map;o.set(a,l)}else o=$i,l=o.get(a),l||(l=new Map,o.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var d=a[o];if(!(d[Ol]||d[Tt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(t)||"";y=e+y;var N=l.get(y);N?N.push(d):l.set(y,[d])}}return l}function Jm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Tx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var mr=null;function wx(){}function Ox(e,t,a){if(mr===null)throw Error(i(475));var l=mr;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=al(a.href),d=e.querySelector(fr(o));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Vi.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=d,ht(d);return}d=e.ownerDocument||e,a=Zm(a),(o=ca.get(o))&&Ru(a,o),d=d.createElement("link"),ht(d);var y=d;y._p=new Promise(function(N,w){y.onload=N,y.onerror=w}),St(d,"link",a),t.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Vi.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Cx(){if(mr===null)throw Error(i(475));var e=mr;return e.stylesheets&&e.count===0&&Du(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Du(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Vi(){if(this.count--,this.count===0){if(this.stylesheets)Du(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xi=null;function Du(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xi=new Map,t.forEach(Ax,e),Xi=null,Vi.call(e))}function Ax(e,t){if(!(t.state.loading&4)){var a=Xi.get(e);if(a)var l=a.get(null);else{a=new Map,Xi.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<o.length;d++){var y=o[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}o=t.instance,y=o.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,o),a.set(y,o),this.count++,l=Vi.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),d?d.parentNode.insertBefore(o,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var pr={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Rx(e,t,a,l,o,d,y,N){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.hiddenUpdates=zc(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ep(e,t,a,l,o,d,y,N,w,L,P,te){return e=new Rx(e,t,a,y,N,w,L,te),t=1,d===!0&&(t|=24),d=ra(3,null,null,t),e.current=d,d.stateNode=e,t=oo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:t},Qo(d),e}function tp(e){return e?(e=Ln,e):Ln}function ap(e,t,a,l,o,d){o=tp(o),l.context===null?l.context=o:l.pendingContext=o,l=gs(t),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ys(e,l,t),a!==null&&(_t(a,e,t),Jl(a,e,t))}function sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function zu(e,t){sp(e,t),(e=e.alternate)&&sp(e,t)}function np(e){if(e.tag===13){var t=os(e,67108864);t!==null&&_t(t,e,67108864),zu(e,67108864)}}var Gi=!0;function _x(e,t,a,l){var o=V.T;V.T=null;var d=Y.p;try{Y.p=2,Mu(e,t,a,l)}finally{Y.p=d,V.T=o}}function Dx(e,t,a,l){var o=V.T;V.T=null;var d=Y.p;try{Y.p=8,Mu(e,t,a,l)}finally{Y.p=d,V.T=o}}function Mu(e,t,a,l){if(Gi){var o=Lu(l);if(o===null)Su(e,t,l,Zi,a),rp(e,l);else if(Mx(o,e,t,a,l))l.stopPropagation();else if(rp(e,l),t&4&&-1<zx.indexOf(e)){for(;o!==null;){var d=En(o);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=Ys(d.pendingLanes);if(y!==0){var N=d;for(N.pendingLanes|=2,N.entangledLanes|=2;y;){var w=1<<31-Ft(y);N.entanglements[1]|=w,y&=~w}Ca(d),(Pe&6)===0&&(Di=Ie()+500,or(0))}}break;case 13:N=os(d,2),N!==null&&_t(N,d,2),Li(),zu(d,2)}if(d=Lu(l),d===null&&Su(e,t,l,Zi,a),d===o)break;o=d}o!==null&&l.stopPropagation()}else Su(e,t,l,null,a)}}function Lu(e){return e=qc(e),Uu(e)}var Zi=null;function Uu(e){if(Zi=null,e=Fs(e),e!==null){var t=ee(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=de(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zi=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ma()){case Ht:return 2;case Ad:return 8;case Qr:case xy:return 32;case Rd:return 268435456;default:return 32}default:return 32}}var Iu=!1,Es=null,Ts=null,ws=null,gr=new Map,yr=new Map,Os=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rp(e,t){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(t.pointerId)}}function vr(e,t,a,l,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[o]},t!==null&&(t=En(t),t!==null&&np(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Mx(e,t,a,l,o){switch(t){case"focusin":return Es=vr(Es,e,t,a,l,o),!0;case"dragenter":return Ts=vr(Ts,e,t,a,l,o),!0;case"mouseover":return ws=vr(ws,e,t,a,l,o),!0;case"pointerover":var d=o.pointerId;return gr.set(d,vr(gr.get(d)||null,e,t,a,l,o)),!0;case"gotpointercapture":return d=o.pointerId,yr.set(d,vr(yr.get(d)||null,e,t,a,l,o)),!0}return!1}function ip(e){var t=Fs(e.target);if(t!==null){var a=ee(t);if(a!==null){if(t=a.tag,t===13){if(t=de(a),t!==null){e.blockedOn=t,Cy(e.priority,function(){if(a.tag===13){var l=Gt(),o=os(a,l);o!==null&&_t(o,a,l),zu(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Lu(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Bc=l,a.target.dispatchEvent(l),Bc=null}else return t=En(a),t!==null&&np(t),e.blockedOn=a,!1;t.shift()}return!0}function cp(e,t,a){Ki(e)&&a.delete(t)}function Lx(){Iu=!1,Es!==null&&Ki(Es)&&(Es=null),Ts!==null&&Ki(Ts)&&(Ts=null),ws!==null&&Ki(ws)&&(ws=null),gr.forEach(cp),yr.forEach(cp)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,Iu||(Iu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Lx)))}var Ji=null;function op(e){Ji!==e&&(Ji=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ji===e&&(Ji=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Uu(l||a)===null)continue;break}var d=En(a);d!==null&&(e.splice(t,3),t-=3,wo(d,{pending:!0,data:o,method:a.method,action:l},l,o))}}))}function xr(e){function t(w){return Pi(w,e)}Es!==null&&Pi(Es,e),Ts!==null&&Pi(Ts,e),ws!==null&&Pi(ws,e),gr.forEach(t),yr.forEach(t);for(var a=0;a<Os.length;a++){var l=Os[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Os.length&&(a=Os[0],a.blockedOn===null);)ip(a),a.blockedOn===null&&Os.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var o=a[l],d=a[l+1],y=o[Mt]||null;if(typeof d=="function")y||op(a);else if(y){var N=null;if(d&&d.hasAttribute("formAction")){if(o=d,y=d[Mt]||null)N=y.formAction;else if(Uu(o)!==null)continue}else N=y.action;typeof N=="function"?a[l+1]=N:(a.splice(l,3),l-=3),op(a)}}}function ku(e){this._internalRoot=e}Wi.prototype.render=ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,l=Gt();ap(a,l,e,t,null,null)},Wi.prototype.unmount=ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Jn(),ap(e.current,2,null,e,null,null),Li(),t[Nn]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ud();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Os.length&&t!==0&&t<Os[a].priority;a++);Os.splice(a,0,e),a===0&&ip(e)}};var up=n.version;if(up!=="19.0.0")throw Error(i(527,up,"19.0.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=_(t),e=e!==null?q(e):null,e=e===null?null:e.stateNode,e};var Ux={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:Fs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{El=ec.inject(Ux),Yt=ec}catch{}}return jr.createRoot=function(e,t){if(!u(e))throw Error(i(299));var a=!1,l="",o=Oh,d=Ch,y=Ah,N=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(N=t.unstable_transitionCallbacks)),t=ep(e,1,!1,null,null,a,l,o,d,y,N,null),e[Nn]=t.current,ju(e.nodeType===8?e.parentNode:e),new ku(t)},jr.hydrateRoot=function(e,t,a){if(!u(e))throw Error(i(299));var l=!1,o="",d=Oh,y=Ch,N=Ah,w=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),t=ep(e,1,!0,t,a??null,l,o,d,y,N,w,L),t.context=tp(null),a=t.current,l=Gt(),o=gs(l),o.callback=null,ys(a,o,l),t.current.lanes=l,wl(t,l),Ca(t),e[Nn]=t.current,ju(e),new Wi(t)},jr.version="19.0.0",jr}var Sp;function Xx(){if(Sp)return Yu.exports;Sp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Yu.exports=Vx(),Yu.exports}var Gx=Xx(),Sr={},Np;function Zx(){if(Np)return Sr;Np=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.parse=h,Sr.serialize=m;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,c=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,u=Object.prototype.toString,f=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function h(E,O){const b=new f,C=E.length;if(C<2)return b;const T=(O==null?void 0:O.decode)||x;let z=0;do{const A=E.indexOf("=",z);if(A===-1)break;const R=E.indexOf(";",z),U=R===-1?C:R;if(A>U){z=E.lastIndexOf(";",A-1)+1;continue}const D=p(E,z,A),k=g(E,A,D),Q=E.slice(D,k);if(b[Q]===void 0){let J=p(E,A+1,U),V=g(E,U,J);const Z=T(E.slice(J,V));b[Q]=Z}z=U+1}while(z<C);return b}function p(E,O,b){do{const C=E.charCodeAt(O);if(C!==32&&C!==9)return O}while(++O<b);return b}function g(E,O,b){for(;O>b;){const C=E.charCodeAt(--O);if(C!==32&&C!==9)return O+1}return b}function m(E,O,b){const C=(b==null?void 0:b.encode)||encodeURIComponent;if(!s.test(E))throw new TypeError(`argument name is invalid: ${E}`);const T=C(O);if(!n.test(T))throw new TypeError(`argument val is invalid: ${O}`);let z=E+"="+T;if(!b)return z;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);z+="; Max-Age="+b.maxAge}if(b.domain){if(!c.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);z+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);z+="; Path="+b.path}if(b.expires){if(!v(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);z+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(z+="; HttpOnly"),b.secure&&(z+="; Secure"),b.partitioned&&(z+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return z}function x(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return u.call(E)==="[object Date]"}return Sr}Zx();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ep="popstate";function Kx(s={}){function n(i,u){let{pathname:f,search:h,hash:p}=i.location;return Ju("",{pathname:f,search:h,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function c(i,u){return typeof u=="string"?u:Tr(u)}return Jx(n,c,null,s)}function Ge(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function fa(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Px(){return Math.random().toString(36).substring(2,10)}function Tp(s,n){return{usr:s.state,key:s.key,idx:n}}function Ju(s,n,c=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof n=="string"?yl(n):n,state:c,key:n&&n.key||i||Px()}}function Tr({pathname:s="/",search:n="",hash:c=""}){return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),c&&c!=="#"&&(s+=c.charAt(0)==="#"?c:"#"+c),s}function yl(s){let n={};if(s){let c=s.indexOf("#");c>=0&&(n.hash=s.substring(c),s=s.substring(0,c));let i=s.indexOf("?");i>=0&&(n.search=s.substring(i),s=s.substring(0,i)),s&&(n.pathname=s)}return n}function Jx(s,n,c,i={}){let{window:u=document.defaultView,v5Compat:f=!1}=i,h=u.history,p="POP",g=null,m=x();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function x(){return(h.state||{idx:null}).idx}function v(){p="POP";let T=x(),z=T==null?null:T-m;m=T,g&&g({action:p,location:C.location,delta:z})}function E(T,z){p="PUSH";let A=Ju(C.location,T,z);m=x()+1;let R=Tp(A,m),U=C.createHref(A);try{h.pushState(R,"",U)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;u.location.assign(U)}f&&g&&g({action:p,location:C.location,delta:1})}function O(T,z){p="REPLACE";let A=Ju(C.location,T,z);m=x();let R=Tp(A,m),U=C.createHref(A);h.replaceState(R,"",U),f&&g&&g({action:p,location:C.location,delta:0})}function b(T){let z=u.location.origin!=="null"?u.location.origin:u.location.href,A=typeof T=="string"?T:Tr(T);return A=A.replace(/ $/,"%20"),Ge(z,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,z)}let C={get action(){return p},get location(){return s(u,h)},listen(T){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Ep,v),g=T,()=>{u.removeEventListener(Ep,v),g=null}},createHref(T){return n(u,T)},createURL:b,encodeLocation(T){let z=b(T);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:E,replace:O,go(T){return h.go(T)}};return C}function mg(s,n,c="/"){return Wx(s,n,c,!1)}function Wx(s,n,c,i){let u=typeof n=="string"?yl(n):n,f=ns(u.pathname||"/",c);if(f==null)return null;let h=pg(s);e0(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let m=d0(f);p=o0(h[g],m,i)}return p}function pg(s,n=[],c=[],i=""){let u=(f,h,p)=>{let g={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};g.relativePath.startsWith("/")&&(Ge(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let m=as([i,g.relativePath]),x=c.concat(g);f.children&&f.children.length>0&&(Ge(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),pg(f.children,n,x,m)),!(f.path==null&&!f.index)&&n.push({path:m,score:i0(m,f.index),routesMeta:x})};return s.forEach((f,h)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))u(f,h);else for(let g of gg(f.path))u(f,h,g)}),n}function gg(s){let n=s.split("/");if(n.length===0)return[];let[c,...i]=n,u=c.endsWith("?"),f=c.replace(/\?$/,"");if(i.length===0)return u?[f,""]:[f];let h=gg(i.join("/")),p=[];return p.push(...h.map(g=>g===""?f:[f,g].join("/"))),u&&p.push(...h),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function e0(s){s.sort((n,c)=>n.score!==c.score?c.score-n.score:c0(n.routesMeta.map(i=>i.childrenIndex),c.routesMeta.map(i=>i.childrenIndex)))}var t0=/^:[\w-]+$/,a0=3,s0=2,n0=1,l0=10,r0=-2,wp=s=>s==="*";function i0(s,n){let c=s.split("/"),i=c.length;return c.some(wp)&&(i+=r0),n&&(i+=s0),c.filter(u=>!wp(u)).reduce((u,f)=>u+(t0.test(f)?a0:f===""?n0:l0),i)}function c0(s,n){return s.length===n.length&&s.slice(0,-1).every((i,u)=>i===n[u])?s[s.length-1]-n[n.length-1]:0}function o0(s,n,c=!1){let{routesMeta:i}=s,u={},f="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],m=p===i.length-1,x=f==="/"?n:n.slice(f.length)||"/",v=hc({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},x),E=g.route;if(!v&&m&&c&&!i[i.length-1].route.index&&(v=hc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!v)return null;Object.assign(u,v.params),h.push({params:u,pathname:as([f,v.pathname]),pathnameBase:p0(as([f,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(f=as([f,v.pathnameBase]))}return h}function hc(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[c,i]=u0(s.path,s.caseSensitive,s.end),u=n.match(c);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:i.reduce((m,{paramName:x,isOptional:v},E)=>{if(x==="*"){let b=p[E]||"";h=f.slice(0,f.length-b.length).replace(/(.)\/+$/,"$1")}const O=p[E];return v&&!O?m[x]=void 0:m[x]=(O||"").replace(/%2F/g,"/"),m},{}),pathname:f,pathnameBase:h,pattern:s}}function u0(s,n=!1,c=!0){fa(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),i]}function d0(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return fa(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),s}}function ns(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let c=n.endsWith("/")?n.length-1:n.length,i=s.charAt(c);return i&&i!=="/"?null:s.slice(c)||"/"}function f0(s,n="/"){let{pathname:c,search:i="",hash:u=""}=typeof s=="string"?yl(s):s;return{pathname:c?c.startsWith("/")?c:h0(c,n):n,search:g0(i),hash:y0(u)}}function h0(s,n){let c=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?c.length>1&&c.pop():u!=="."&&c.push(u)}),c.length>1?c.join("/"):"/"}function Vu(s,n,c,i){return`Cannot include a '${s}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m0(s){return s.filter((n,c)=>c===0||n.route.path&&n.route.path.length>0)}function fd(s){let n=m0(s);return n.map((c,i)=>i===n.length-1?c.pathname:c.pathnameBase)}function hd(s,n,c,i=!1){let u;typeof s=="string"?u=yl(s):(u={...s},Ge(!u.pathname||!u.pathname.includes("?"),Vu("?","pathname","search",u)),Ge(!u.pathname||!u.pathname.includes("#"),Vu("#","pathname","hash",u)),Ge(!u.search||!u.search.includes("#"),Vu("#","search","hash",u)));let f=s===""||u.pathname==="",h=f?"/":u.pathname,p;if(h==null)p=c;else{let v=n.length-1;if(!i&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),v-=1;u.pathname=E.join("/")}p=v>=0?n[v]:"/"}let g=f0(u,p),m=h&&h!=="/"&&h.endsWith("/"),x=(f||h===".")&&c.endsWith("/");return!g.pathname.endsWith("/")&&(m||x)&&(g.pathname+="/"),g}var as=s=>s.join("/").replace(/\/\/+/g,"/"),p0=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),g0=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,y0=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function v0(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var yg=["POST","PUT","PATCH","DELETE"];new Set(yg);var x0=["GET",...yg];new Set(x0);var vl=j.createContext(null);vl.displayName="DataRouter";var bc=j.createContext(null);bc.displayName="DataRouterState";var vg=j.createContext({isTransitioning:!1});vg.displayName="ViewTransition";var b0=j.createContext(new Map);b0.displayName="Fetchers";var j0=j.createContext(null);j0.displayName="Await";var Sa=j.createContext(null);Sa.displayName="Navigation";var Dr=j.createContext(null);Dr.displayName="Location";var ha=j.createContext({outlet:null,matches:[],isDataRoute:!1});ha.displayName="Route";var md=j.createContext(null);md.displayName="RouteError";function S0(s,{relative:n}={}){Ge(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:i}=j.useContext(Sa),{hash:u,pathname:f,search:h}=zr(s,{relative:n}),p=f;return c!=="/"&&(p=f==="/"?c:as([c,f])),i.createHref({pathname:p,search:h,hash:u})}function xl(){return j.useContext(Dr)!=null}function qt(){return Ge(xl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Dr).location}var xg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bg(s){j.useContext(Sa).static||j.useLayoutEffect(s)}function ma(){let{isDataRoute:s}=j.useContext(ha);return s?I0():N0()}function N0(){Ge(xl(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(vl),{basename:n,navigator:c}=j.useContext(Sa),{matches:i}=j.useContext(ha),{pathname:u}=qt(),f=JSON.stringify(fd(i)),h=j.useRef(!1);return bg(()=>{h.current=!0}),j.useCallback((g,m={})=>{if(fa(h.current,xg),!h.current)return;if(typeof g=="number"){c.go(g);return}let x=hd(g,JSON.parse(f),u,m.relative==="path");s==null&&n!=="/"&&(x.pathname=x.pathname==="/"?n:as([n,x.pathname])),(m.replace?c.replace:c.push)(x,m.state,m)},[n,c,f,u,s])}var E0=j.createContext(null);function T0(s){let n=j.useContext(ha).outlet;return n&&j.createElement(E0.Provider,{value:s},n)}function jc(){let{matches:s}=j.useContext(ha),n=s[s.length-1];return n?n.params:{}}function zr(s,{relative:n}={}){let{matches:c}=j.useContext(ha),{pathname:i}=qt(),u=JSON.stringify(fd(c));return j.useMemo(()=>hd(s,JSON.parse(u),i,n==="path"),[s,u,i,n])}function w0(s,n){return jg(s,n)}function jg(s,n,c,i){var A;Ge(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u,static:f}=j.useContext(Sa),{matches:h}=j.useContext(ha),p=h[h.length-1],g=p?p.params:{},m=p?p.pathname:"/",x=p?p.pathnameBase:"/",v=p&&p.route;{let R=v&&v.path||"";Sg(m,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let E=qt(),O;if(n){let R=typeof n=="string"?yl(n):n;Ge(x==="/"||((A=R.pathname)==null?void 0:A.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${R.pathname}" was given in the \`location\` prop.`),O=R}else O=E;let b=O.pathname||"/",C=b;if(x!=="/"){let R=x.replace(/^\//,"").split("/");C="/"+b.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=!f&&c&&c.matches&&c.matches.length>0?c.matches:mg(s,{pathname:C});fa(v||T!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),fa(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=_0(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},g,R.params),pathname:as([x,u.encodeLocation?u.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?x:as([x,u.encodeLocation?u.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),h,c,i);return n&&z?j.createElement(Dr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},z):z}function O0(){let s=U0(),n=v0(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),c=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},f={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:f},"ErrorBoundary")," or"," ",j.createElement("code",{style:f},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),c?j.createElement("pre",{style:u},c):null,h)}var C0=j.createElement(O0,null),A0=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?j.createElement(ha.Provider,{value:this.props.routeContext},j.createElement(md.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R0({routeContext:s,match:n,children:c}){let i=j.useContext(vl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(ha.Provider,{value:s},c)}function _0(s,n=[],c=null,i=null){if(s==null){if(!c)return null;if(c.errors)s=c.matches;else if(n.length===0&&!c.initialized&&c.matches.length>0)s=c.matches;else return null}let u=s,f=c==null?void 0:c.errors;if(f!=null){let g=u.findIndex(m=>m.route.id&&(f==null?void 0:f[m.route.id])!==void 0);Ge(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let h=!1,p=-1;if(c)for(let g=0;g<u.length;g++){let m=u[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=g),m.route.id){let{loaderData:x,errors:v}=c,E=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||E){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,m,x)=>{let v,E=!1,O=null,b=null;c&&(v=f&&m.route.id?f[m.route.id]:void 0,O=m.route.errorElement||C0,h&&(p<0&&x===0?(Sg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):p===x&&(E=!0,b=m.route.hydrateFallbackElement||null)));let C=n.concat(u.slice(0,x+1)),T=()=>{let z;return v?z=O:E?z=b:m.route.Component?z=j.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=g,j.createElement(R0,{match:m,routeContext:{outlet:g,matches:C,isDataRoute:c!=null},children:z})};return c&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?j.createElement(A0,{location:c.location,revalidation:c.revalidation,component:O,error:v,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}function pd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D0(s){let n=j.useContext(vl);return Ge(n,pd(s)),n}function z0(s){let n=j.useContext(bc);return Ge(n,pd(s)),n}function M0(s){let n=j.useContext(ha);return Ge(n,pd(s)),n}function gd(s){let n=M0(s),c=n.matches[n.matches.length-1];return Ge(c.route.id,`${s} can only be used on routes that contain a unique "id"`),c.route.id}function L0(){return gd("useRouteId")}function U0(){var i;let s=j.useContext(md),n=z0("useRouteError"),c=gd("useRouteError");return s!==void 0?s:(i=n.errors)==null?void 0:i[c]}function I0(){let{router:s}=D0("useNavigate"),n=gd("useNavigate"),c=j.useRef(!1);return bg(()=>{c.current=!0}),j.useCallback(async(u,f={})=>{fa(c.current,xg),c.current&&(typeof u=="number"?s.navigate(u):await s.navigate(u,{fromRouteId:n,...f}))},[s,n])}var Op={};function Sg(s,n,c){!n&&!Op[s]&&(Op[s]=!0,fa(!1,c))}j.memo(k0);function k0({routes:s,future:n,state:c}){return jg(s,void 0,c,n)}function mc({to:s,replace:n,state:c,relative:i}){Ge(xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=j.useContext(Sa);fa(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=j.useContext(ha),{pathname:h}=qt(),p=ma(),g=hd(s,fd(f),h,i==="path"),m=JSON.stringify(g);return j.useEffect(()=>{p(JSON.parse(m),{replace:n,state:c,relative:i})},[p,m,i,n,c]),null}function Mr(s){return T0(s.context)}function ft(s){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B0({basename:s="/",children:n=null,location:c,navigationType:i="POP",navigator:u,static:f=!1}){Ge(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:h,navigator:u,static:f,future:{}}),[h,u,f]);typeof c=="string"&&(c=yl(c));let{pathname:g="/",search:m="",hash:x="",state:v=null,key:E="default"}=c,O=j.useMemo(()=>{let b=ns(g,h);return b==null?null:{location:{pathname:b,search:m,hash:x,state:v,key:E},navigationType:i}},[h,g,m,x,v,E,i]);return fa(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Sa.Provider,{value:p},j.createElement(Dr.Provider,{children:n,value:O}))}function q0({children:s,location:n}){return w0(Wu(s),n)}function Wu(s,n=[]){let c=[];return j.Children.forEach(s,(i,u)=>{if(!j.isValidElement(i))return;let f=[...n,u];if(i.type===j.Fragment){c.push.apply(c,Wu(i.props.children,f));return}Ge(i.type===ft,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||f.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Wu(i.props.children,f)),c.push(h)}),c}var lc="get",rc="application/x-www-form-urlencoded";function Sc(s){return s!=null&&typeof s.tagName=="string"}function H0(s){return Sc(s)&&s.tagName.toLowerCase()==="button"}function Y0(s){return Sc(s)&&s.tagName.toLowerCase()==="form"}function F0(s){return Sc(s)&&s.tagName.toLowerCase()==="input"}function Q0(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function $0(s,n){return s.button===0&&(!n||n==="_self")&&!Q0(s)}function ed(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((n,c)=>{let i=s[c];return n.concat(Array.isArray(i)?i.map(u=>[c,u]):[[c,i]])},[]))}function V0(s,n){let c=ed(s);return n&&n.forEach((i,u)=>{c.has(u)||n.getAll(u).forEach(f=>{c.append(u,f)})}),c}var ac=null;function X0(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var G0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xu(s){return s!=null&&!G0.has(s)?(fa(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):s}function Z0(s,n){let c,i,u,f,h;if(Y0(s)){let p=s.getAttribute("action");i=p?ns(p,n):null,c=s.getAttribute("method")||lc,u=Xu(s.getAttribute("enctype"))||rc,f=new FormData(s)}else if(H0(s)||F0(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(i=g?ns(g,n):null,c=s.getAttribute("formmethod")||p.getAttribute("method")||lc,u=Xu(s.getAttribute("formenctype"))||Xu(p.getAttribute("enctype"))||rc,f=new FormData(p,s),!X0()){let{name:m,type:x,value:v}=s;if(x==="image"){let E=m?`${m}.`:"";f.append(`${E}x`,"0"),f.append(`${E}y`,"0")}else m&&f.append(m,v)}}else{if(Sc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=lc,i=null,u=rc,h=s}return f&&u==="text/plain"&&(h=f,f=void 0),{action:i,method:c.toLowerCase(),encType:u,formData:f,body:h}}function yd(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}async function K0(s,n){if(s.id in n)return n[s.id];try{let c=await import(s.module);return n[s.id]=c,c}catch(c){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P0(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function J0(s,n,c){let i=await Promise.all(s.map(async u=>{let f=n.routes[u.route.id];if(f){let h=await K0(f,c);return h.links?h.links():[]}return[]}));return ab(i.flat(1).filter(P0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Cp(s,n,c,i,u,f){let h=(g,m)=>c[m]?g.route.id!==c[m].route.id:!0,p=(g,m)=>{var x;return c[m].pathname!==g.pathname||((x=c[m].route.path)==null?void 0:x.endsWith("*"))&&c[m].params["*"]!==g.params["*"]};return f==="assets"?n.filter((g,m)=>h(g,m)||p(g,m)):f==="data"?n.filter((g,m)=>{var v;let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,m)||p(g,m))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:((v=c[0])==null?void 0:v.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function W0(s,n,{includeHydrateFallback:c}={}){return eb(s.map(i=>{let u=n.routes[i.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),c&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function eb(s){return[...new Set(s)]}function tb(s){let n={},c=Object.keys(s).sort();for(let i of c)n[i]=s[i];return n}function ab(s,n){let c=new Set;return new Set(n),s.reduce((i,u)=>{let f=JSON.stringify(tb(u));return c.has(f)||(c.add(f),i.push({key:f,link:u})),i},[])}function sb(s,n){let c=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return c.pathname==="/"?c.pathname="_root.data":n&&ns(c.pathname,n)==="/"?c.pathname=`${n.replace(/\/$/,"")}/_root.data`:c.pathname=`${c.pathname.replace(/\/$/,"")}.data`,c}function Ng(){let s=j.useContext(vl);return yd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function nb(){let s=j.useContext(bc);return yd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var vd=j.createContext(void 0);vd.displayName="FrameworkContext";function Eg(){let s=j.useContext(vd);return yd(s,"You must render this element inside a <HydratedRouter> element"),s}function lb(s,n){let c=j.useContext(vd),[i,u]=j.useState(!1),[f,h]=j.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:m,onMouseLeave:x,onTouchStart:v}=n,E=j.useRef(null);j.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let C=z=>{z.forEach(A=>{h(A.isIntersecting)})},T=new IntersectionObserver(C,{threshold:.5});return E.current&&T.observe(E.current),()=>{T.disconnect()}}},[s]),j.useEffect(()=>{if(i){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[i]);let O=()=>{u(!0)},b=()=>{u(!1),h(!1)};return c?s!=="intent"?[f,E,{}]:[f,E,{onFocus:Nr(p,O),onBlur:Nr(g,b),onMouseEnter:Nr(m,O),onMouseLeave:Nr(x,b),onTouchStart:Nr(v,O)}]:[!1,E,{}]}function Nr(s,n){return c=>{s&&s(c),c.defaultPrevented||n(c)}}function rb({page:s,...n}){let{router:c}=Ng(),i=j.useMemo(()=>mg(c.routes,s,c.basename),[c.routes,s,c.basename]);return i?j.createElement(cb,{page:s,matches:i,...n}):null}function ib(s){let{manifest:n,routeModules:c}=Eg(),[i,u]=j.useState([]);return j.useEffect(()=>{let f=!1;return J0(s,n,c).then(h=>{f||u(h)}),()=>{f=!0}},[s,n,c]),i}function cb({page:s,matches:n,...c}){let i=qt(),{manifest:u,routeModules:f}=Eg(),{basename:h}=Ng(),{loaderData:p,matches:g}=nb(),m=j.useMemo(()=>Cp(s,n,g,u,i,"data"),[s,n,g,u,i]),x=j.useMemo(()=>Cp(s,n,g,u,i,"assets"),[s,n,g,u,i]),v=j.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let b=new Set,C=!1;if(n.forEach(z=>{var R;let A=u.routes[z.route.id];!A||!A.hasLoader||(!m.some(U=>U.route.id===z.route.id)&&z.route.id in p&&((R=f[z.route.id])!=null&&R.shouldRevalidate)||A.hasClientLoader?C=!0:b.add(z.route.id))}),b.size===0)return[];let T=sb(s,h);return C&&b.size>0&&T.searchParams.set("_routes",n.filter(z=>b.has(z.route.id)).map(z=>z.route.id).join(",")),[T.pathname+T.search]},[h,p,i,u,m,n,s,f]),E=j.useMemo(()=>W0(x,u),[x,u]),O=ib(x);return j.createElement(j.Fragment,null,v.map(b=>j.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...c})),E.map(b=>j.createElement("link",{key:b,rel:"modulepreload",href:b,...c})),O.map(({key:b,link:C})=>j.createElement("link",{key:b,...C})))}function ob(...s){return n=>{s.forEach(c=>{typeof c=="function"?c(n):c!=null&&(c.current=n)})}}var Tg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tg&&(window.__reactRouterVersion="7.4.0")}catch{}function ub({basename:s,children:n,window:c}){let i=j.useRef();i.current==null&&(i.current=Kx({window:c,v5Compat:!0}));let u=i.current,[f,h]=j.useState({action:u.action,location:u.location}),p=j.useCallback(g=>{j.startTransition(()=>h(g))},[h]);return j.useLayoutEffect(()=>u.listen(p),[u,p]),j.createElement(B0,{basename:s,children:n,location:f.location,navigationType:f.action,navigator:u})}var wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wr=j.forwardRef(function({onClick:n,discover:c="render",prefetch:i="none",relative:u,reloadDocument:f,replace:h,state:p,target:g,to:m,preventScrollReset:x,viewTransition:v,...E},O){let{basename:b}=j.useContext(Sa),C=typeof m=="string"&&wg.test(m),T,z=!1;if(typeof m=="string"&&C&&(T=m,Tg))try{let V=new URL(window.location.href),Z=m.startsWith("//")?new URL(V.protocol+m):new URL(m),se=ns(Z.pathname,b);Z.origin===V.origin&&se!=null?m=se+Z.search+Z.hash:z=!0}catch{fa(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=S0(m,{relative:u}),[R,U,D]=lb(i,E),k=mb(m,{replace:h,state:p,target:g,preventScrollReset:x,relative:u,viewTransition:v});function Q(V){n&&n(V),V.defaultPrevented||k(V)}let J=j.createElement("a",{...E,...D,href:T||A,onClick:z||f?n:Q,ref:ob(O,U),target:g,"data-discover":!C&&c==="render"?"true":void 0});return R&&!C?j.createElement(j.Fragment,null,J,j.createElement(rb,{page:A})):J});wr.displayName="Link";var db=j.forwardRef(function({"aria-current":n="page",caseSensitive:c=!1,className:i="",end:u=!1,style:f,to:h,viewTransition:p,children:g,...m},x){let v=zr(h,{relative:m.relative}),E=qt(),O=j.useContext(bc),{navigator:b,basename:C}=j.useContext(Sa),T=O!=null&&bb(v)&&p===!0,z=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,A=E.pathname,R=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;c||(A=A.toLowerCase(),R=R?R.toLowerCase():null,z=z.toLowerCase()),R&&C&&(R=ns(R,C)||R);const U=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let D=A===z||!u&&A.startsWith(z)&&A.charAt(U)==="/",k=R!=null&&(R===z||!u&&R.startsWith(z)&&R.charAt(z.length)==="/"),Q={isActive:D,isPending:k,isTransitioning:T},J=D?n:void 0,V;typeof i=="function"?V=i(Q):V=[i,D?"active":null,k?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Z=typeof f=="function"?f(Q):f;return j.createElement(wr,{...m,"aria-current":J,className:V,ref:x,style:Z,to:h,viewTransition:p},typeof g=="function"?g(Q):g)});db.displayName="NavLink";var fb=j.forwardRef(({discover:s="render",fetcherKey:n,navigate:c,reloadDocument:i,replace:u,state:f,method:h=lc,action:p,onSubmit:g,relative:m,preventScrollReset:x,viewTransition:v,...E},O)=>{let b=vb(),C=xb(p,{relative:m}),T=h.toLowerCase()==="get"?"get":"post",z=typeof p=="string"&&wg.test(p),A=R=>{if(g&&g(R),R.defaultPrevented)return;R.preventDefault();let U=R.nativeEvent.submitter,D=(U==null?void 0:U.getAttribute("formmethod"))||h;b(U||R.currentTarget,{fetcherKey:n,method:D,navigate:c,replace:u,state:f,relative:m,preventScrollReset:x,viewTransition:v})};return j.createElement("form",{ref:O,method:T,action:C,onSubmit:i?g:A,...E,"data-discover":!z&&s==="render"?"true":void 0})});fb.displayName="Form";function hb(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Og(s){let n=j.useContext(vl);return Ge(n,hb(s)),n}function mb(s,{target:n,replace:c,state:i,preventScrollReset:u,relative:f,viewTransition:h}={}){let p=ma(),g=qt(),m=zr(s,{relative:f});return j.useCallback(x=>{if($0(x,n)){x.preventDefault();let v=c!==void 0?c:Tr(g)===Tr(m);p(s,{replace:v,state:i,preventScrollReset:u,relative:f,viewTransition:h})}},[g,p,m,c,i,n,s,u,f,h])}function pb(s){fa(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=j.useRef(ed(s)),c=j.useRef(!1),i=qt(),u=j.useMemo(()=>V0(i.search,c.current?null:n.current),[i.search]),f=ma(),h=j.useCallback((p,g)=>{const m=ed(typeof p=="function"?p(u):p);c.current=!0,f("?"+m,g)},[f,u]);return[u,h]}var gb=0,yb=()=>`__${String(++gb)}__`;function vb(){let{router:s}=Og("useSubmit"),{basename:n}=j.useContext(Sa),c=L0();return j.useCallback(async(i,u={})=>{let{action:f,method:h,encType:p,formData:g,body:m}=Z0(i,n);if(u.navigate===!1){let x=u.fetcherKey||yb();await s.fetch(x,c,u.action||f,{preventScrollReset:u.preventScrollReset,formData:g,body:m,formMethod:u.method||h,formEncType:u.encType||p,flushSync:u.flushSync})}else await s.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:g,body:m,formMethod:u.method||h,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:c,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,n,c])}function xb(s,{relative:n}={}){let{basename:c}=j.useContext(Sa),i=j.useContext(ha);Ge(i,"useFormAction must be used inside a RouteContext");let[u]=i.matches.slice(-1),f={...zr(s||".",{relative:n})},h=qt();if(s==null){f.search=h.search;let p=new URLSearchParams(f.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(v=>v).forEach(v=>p.append("index",v));let x=p.toString();f.search=x?`?${x}`:""}}return(!s||s===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(f.pathname=f.pathname==="/"?c:as([c,f.pathname])),Tr(f)}function bb(s,n={}){let c=j.useContext(vg);Ge(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Og("useViewTransitionState"),u=zr(s,{relative:n.relative});if(!c.isTransitioning)return!1;let f=ns(c.currentLocation.pathname,i)||c.currentLocation.pathname,h=ns(c.nextLocation.pathname,i)||c.nextLocation.pathname;return hc(u.pathname,h)!=null||hc(u.pathname,f)!=null}new TextEncoder;/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cg=(...s)=>s.filter((n,c,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===c).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=j.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:u="",children:f,iconNode:h,...p},g)=>j.createElement("svg",{ref:g,...Sb,width:n,height:n,stroke:s,strokeWidth:i?Number(c)*24/Number(n):c,className:Cg("lucide",u),...p},[...h.map(([m,x])=>j.createElement(m,x)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(s,n)=>{const c=j.forwardRef(({className:i,...u},f)=>j.createElement(Nb,{ref:f,iconNode:n,className:Cg(`lucide-${jb(s)}`,i),...u}));return c.displayName=`${s}`,c};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ua=Ue("ArrowLeft",Eb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xd=Ue("Award",Tb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ag=Ue("BookOpen",wb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],st=Ue("Calendar",Ob);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],td=Ue("Check",Cb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yt=Ue("ChevronDown",Ab);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kt=Ue("ChevronUp",Rb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Db=Ue("CircleAlert",_b);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Or=Ue("Clock",zb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Lb=Ue("EyeOff",Mb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lr=Ue("Eye",Ub);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bd=Ue("Funnel",Ib);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Rg=Ue("GraduationCap",kb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qb=Ue("House",Bb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yb=Ue("Lock",Hb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Qb=Ue("LogOut",Fb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ur=Ue("Mail",$b);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ir=Ue("MapPin",Vb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],_g=Ue("Moon",Xb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],vt=Ue("Music",Gb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Nc=Ue("Phone",Zb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qs=Ue("Plus",Kb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ts=Ue("RefreshCw",Pb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Wb=Ue("Repeat",Jb);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],pc=Ue("Search",ej);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vn=Ue("SquarePen",tj);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Dg=Ue("Star",aj);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zg=Ue("Sun",sj);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kr=Ue("Trash2",nj);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Ap=Ue("UserPlus",lj);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Zt=Ue("User",rj);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Br=Ue("Users",ij);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zt=Ue("X",cj);var qr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ec=typeof window>"u"||"Deno"in globalThis;function xa(){}function oj(s,n){return typeof s=="function"?s(n):s}function uj(s){return typeof s=="number"&&s>=0&&s!==1/0}function dj(s,n){return Math.max(s+(n||0)-Date.now(),0)}function Rp(s,n){return typeof s=="function"?s(n):s}function fj(s,n){return typeof s=="function"?s(n):s}function _p(s,n){const{type:c="all",exact:i,fetchStatus:u,predicate:f,queryKey:h,stale:p}=s;if(h){if(i){if(n.queryHash!==jd(h,n.options))return!1}else if(!Cr(n.queryKey,h))return!1}if(c!=="all"){const g=n.isActive();if(c==="active"&&!g||c==="inactive"&&g)return!1}return!(typeof p=="boolean"&&n.isStale()!==p||u&&u!==n.state.fetchStatus||f&&!f(n))}function Dp(s,n){const{exact:c,status:i,predicate:u,mutationKey:f}=s;if(f){if(!n.options.mutationKey)return!1;if(c){if(xn(n.options.mutationKey)!==xn(f))return!1}else if(!Cr(n.options.mutationKey,f))return!1}return!(i&&n.state.status!==i||u&&!u(n))}function jd(s,n){return((n==null?void 0:n.queryKeyHashFn)||xn)(s)}function xn(s){return JSON.stringify(s,(n,c)=>ad(c)?Object.keys(c).sort().reduce((i,u)=>(i[u]=c[u],i),{}):c)}function Cr(s,n){return s===n?!0:typeof s!=typeof n?!1:s&&n&&typeof s=="object"&&typeof n=="object"?!Object.keys(n).some(c=>!Cr(s[c],n[c])):!1}function Mg(s,n){if(s===n)return s;const c=zp(s)&&zp(n);if(c||ad(s)&&ad(n)){const i=c?s:Object.keys(s),u=i.length,f=c?n:Object.keys(n),h=f.length,p=c?[]:{};let g=0;for(let m=0;m<h;m++){const x=c?m:f[m];(!c&&i.includes(x)||c)&&s[x]===void 0&&n[x]===void 0?(p[x]=void 0,g++):(p[x]=Mg(s[x],n[x]),p[x]===s[x]&&s[x]!==void 0&&g++)}return u===h&&g===u?s:p}return n}function hj(s,n){if(!n||Object.keys(s).length!==Object.keys(n).length)return!1;for(const c in s)if(s[c]!==n[c])return!1;return!0}function zp(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function ad(s){if(!Mp(s))return!1;const n=s.constructor;if(n===void 0)return!0;const c=n.prototype;return!(!Mp(c)||!c.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Mp(s){return Object.prototype.toString.call(s)==="[object Object]"}function mj(s){return new Promise(n=>{setTimeout(n,s)})}function pj(s,n,c){return typeof c.structuralSharing=="function"?c.structuralSharing(s,n):c.structuralSharing!==!1?Mg(s,n):n}function gj(s,n,c=0){const i=[...s,n];return c&&i.length>c?i.slice(1):i}function yj(s,n,c=0){const i=[n,...s];return c&&i.length>c?i.slice(0,-1):i}var Sd=Symbol();function Lg(s,n){return!s.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!s.queryFn||s.queryFn===Sd?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var fn,_s,cl,lg,vj=(lg=class extends qr{constructor(){super();_e(this,fn);_e(this,_s);_e(this,cl);je(this,cl,n=>{if(!Ec&&window.addEventListener){const c=()=>n();return window.addEventListener("visibilitychange",c,!1),()=>{window.removeEventListener("visibilitychange",c)}}})}onSubscribe(){$(this,_s)||this.setEventListener($(this,cl))}onUnsubscribe(){var n;this.hasListeners()||((n=$(this,_s))==null||n.call(this),je(this,_s,void 0))}setEventListener(n){var c;je(this,cl,n),(c=$(this,_s))==null||c.call(this),je(this,_s,n(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(n){$(this,fn)!==n&&(je(this,fn,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(c=>{c(n)})}isFocused(){var n;return typeof $(this,fn)=="boolean"?$(this,fn):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},fn=new WeakMap,_s=new WeakMap,cl=new WeakMap,lg),Ug=new vj,ol,Ds,ul,rg,xj=(rg=class extends qr{constructor(){super();_e(this,ol,!0);_e(this,Ds);_e(this,ul);je(this,ul,n=>{if(!Ec&&window.addEventListener){const c=()=>n(!0),i=()=>n(!1);return window.addEventListener("online",c,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",i)}}})}onSubscribe(){$(this,Ds)||this.setEventListener($(this,ul))}onUnsubscribe(){var n;this.hasListeners()||((n=$(this,Ds))==null||n.call(this),je(this,Ds,void 0))}setEventListener(n){var c;je(this,ul,n),(c=$(this,Ds))==null||c.call(this),je(this,Ds,n(this.setOnline.bind(this)))}setOnline(n){$(this,ol)!==n&&(je(this,ol,n),this.listeners.forEach(i=>{i(n)}))}isOnline(){return $(this,ol)}},ol=new WeakMap,Ds=new WeakMap,ul=new WeakMap,rg),gc=new xj;function bj(){let s,n;const c=new Promise((u,f)=>{s=u,n=f});c.status="pending",c.catch(()=>{});function i(u){Object.assign(c,u),delete c.resolve,delete c.reject}return c.resolve=u=>{i({status:"fulfilled",value:u}),s(u)},c.reject=u=>{i({status:"rejected",reason:u}),n(u)},c}function jj(s){return Math.min(1e3*2**s,3e4)}function Ig(s){return(s??"online")==="online"?gc.isOnline():!0}var kg=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Gu(s){return s instanceof kg}function Bg(s){let n=!1,c=0,i=!1,u;const f=bj(),h=C=>{var T;i||(E(new kg(C)),(T=s.abort)==null||T.call(s))},p=()=>{n=!0},g=()=>{n=!1},m=()=>Ug.isFocused()&&(s.networkMode==="always"||gc.isOnline())&&s.canRun(),x=()=>Ig(s.networkMode)&&s.canRun(),v=C=>{var T;i||(i=!0,(T=s.onSuccess)==null||T.call(s,C),u==null||u(),f.resolve(C))},E=C=>{var T;i||(i=!0,(T=s.onError)==null||T.call(s,C),u==null||u(),f.reject(C))},O=()=>new Promise(C=>{var T;u=z=>{(i||m())&&C(z)},(T=s.onPause)==null||T.call(s)}).then(()=>{var C;u=void 0,i||(C=s.onContinue)==null||C.call(s)}),b=()=>{if(i)return;let C;const T=c===0?s.initialPromise:void 0;try{C=T??s.fn()}catch(z){C=Promise.reject(z)}Promise.resolve(C).then(v).catch(z=>{var k;if(i)return;const A=s.retry??(Ec?0:3),R=s.retryDelay??jj,U=typeof R=="function"?R(c,z):R,D=A===!0||typeof A=="number"&&c<A||typeof A=="function"&&A(c,z);if(n||!D){E(z);return}c++,(k=s.onFail)==null||k.call(s,c,z),mj(U).then(()=>m()?void 0:O()).then(()=>{n?E(z):b()})})};return{promise:f,cancel:h,continue:()=>(u==null||u(),f),cancelRetry:p,continueRetry:g,canStart:x,start:()=>(x()?b():O().then(b),f)}}function Sj(){let s=[],n=0,c=p=>{p()},i=p=>{p()},u=p=>setTimeout(p,0);const f=p=>{n?s.push(p):u(()=>{c(p)})},h=()=>{const p=s;s=[],p.length&&u(()=>{i(()=>{p.forEach(g=>{c(g)})})})};return{batch:p=>{let g;n++;try{g=p()}finally{n--,n||h()}return g},batchCalls:p=>(...g)=>{f(()=>{p(...g)})},schedule:f,setNotifyFunction:p=>{c=p},setBatchNotifyFunction:p=>{i=p},setScheduler:p=>{u=p}}}var Nt=Sj(),hn,ig,qg=(ig=class{constructor(){_e(this,hn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uj(this.gcTime)&&je(this,hn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Ec?1/0:5*60*1e3))}clearGcTimeout(){$(this,hn)&&(clearTimeout($(this,hn)),je(this,hn,void 0))}},hn=new WeakMap,ig),dl,fl,oa,mn,Ct,Rr,pn,ba,Ja,cg,Nj=(cg=class extends qg{constructor(n){super();_e(this,ba);_e(this,dl);_e(this,fl);_e(this,oa);_e(this,mn);_e(this,Ct);_e(this,Rr);_e(this,pn);je(this,pn,!1),je(this,Rr,n.defaultOptions),this.setOptions(n.options),this.observers=[],je(this,mn,n.client),je(this,oa,$(this,mn).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,je(this,dl,Tj(this.options)),this.state=n.state??$(this,dl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Ct))==null?void 0:n.promise}setOptions(n){this.options={...$(this,Rr),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,oa).remove(this)}setData(n,c){const i=pj(this.state.data,n,this.options);return lt(this,ba,Ja).call(this,{data:i,type:"success",dataUpdatedAt:c==null?void 0:c.updatedAt,manual:c==null?void 0:c.manual}),i}setState(n,c){lt(this,ba,Ja).call(this,{type:"setState",state:n,setStateOptions:c})}cancel(n){var i,u;const c=(i=$(this,Ct))==null?void 0:i.promise;return(u=$(this,Ct))==null||u.cancel(n),c?c.then(xa).catch(xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,dl))}isActive(){return this.observers.some(n=>fj(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!dj(this.state.dataUpdatedAt,n)}onFocus(){var c;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(c=$(this,Ct))==null||c.continue()}onOnline(){var c;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(c=$(this,Ct))==null||c.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,oa).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(c=>c!==n),this.observers.length||($(this,Ct)&&($(this,pn)?$(this,Ct).cancel({revert:!0}):$(this,Ct).cancelRetry()),this.scheduleGc()),$(this,oa).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||lt(this,ba,Ja).call(this,{type:"invalidate"})}fetch(n,c){var g,m,x;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(c!=null&&c.cancelRefetch))this.cancel({silent:!0});else if($(this,Ct))return $(this,Ct).continueRetry(),$(this,Ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,u=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(je(this,pn,!0),i.signal)})},f=()=>{const v=Lg(this.options,c),E={client:$(this,mn),queryKey:this.queryKey,meta:this.meta};return u(E),je(this,pn,!1),this.options.persister?this.options.persister(v,E,this):v(E)},h={fetchOptions:c,options:this.options,queryKey:this.queryKey,client:$(this,mn),state:this.state,fetchFn:f};u(h),(g=this.options.behavior)==null||g.onFetch(h,this),je(this,fl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=h.fetchOptions)==null?void 0:m.meta))&&lt(this,ba,Ja).call(this,{type:"fetch",meta:(x=h.fetchOptions)==null?void 0:x.meta});const p=v=>{var E,O,b,C;Gu(v)&&v.silent||lt(this,ba,Ja).call(this,{type:"error",error:v}),Gu(v)||((O=(E=$(this,oa).config).onError)==null||O.call(E,v,this),(C=(b=$(this,oa).config).onSettled)==null||C.call(b,this.state.data,v,this)),this.scheduleGc()};return je(this,Ct,Bg({initialPromise:c==null?void 0:c.initialPromise,fn:h.fetchFn,abort:i.abort.bind(i),onSuccess:v=>{var E,O,b,C;if(v===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(T){p(T);return}(O=(E=$(this,oa).config).onSuccess)==null||O.call(E,v,this),(C=(b=$(this,oa).config).onSettled)==null||C.call(b,v,this.state.error,this),this.scheduleGc()},onError:p,onFail:(v,E)=>{lt(this,ba,Ja).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{lt(this,ba,Ja).call(this,{type:"pause"})},onContinue:()=>{lt(this,ba,Ja).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),$(this,Ct).start()}},dl=new WeakMap,fl=new WeakMap,oa=new WeakMap,mn=new WeakMap,Ct=new WeakMap,Rr=new WeakMap,pn=new WeakMap,ba=new WeakSet,Ja=function(n){const c=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Ej(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=n.error;return Gu(u)&&u.revert&&$(this,fl)?{...$(this,fl),fetchStatus:"idle"}:{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=c(this.state),Nt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),$(this,oa).notify({query:this,type:"updated",action:n})})},cg);function Ej(s,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ig(n.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Tj(s){const n=typeof s.initialData=="function"?s.initialData():s.initialData,c=n!==void 0,i=c?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:c?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:c?"success":"pending",fetchStatus:"idle"}}var Ra,og,wj=(og=class extends qr{constructor(n={}){super();_e(this,Ra);this.config=n,je(this,Ra,new Map)}build(n,c,i){const u=c.queryKey,f=c.queryHash??jd(u,c);let h=this.get(f);return h||(h=new Nj({client:n,queryKey:u,queryHash:f,options:n.defaultQueryOptions(c),state:i,defaultOptions:n.getQueryDefaults(u)}),this.add(h)),h}add(n){$(this,Ra).has(n.queryHash)||($(this,Ra).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const c=$(this,Ra).get(n.queryHash);c&&(n.destroy(),c===n&&$(this,Ra).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Nt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return $(this,Ra).get(n)}getAll(){return[...$(this,Ra).values()]}find(n){const c={exact:!0,...n};return this.getAll().find(i=>_p(c,i))}findAll(n={}){const c=this.getAll();return Object.keys(n).length>0?c.filter(i=>_p(n,i)):c}notify(n){Nt.batch(()=>{this.listeners.forEach(c=>{c(n)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Ra=new WeakMap,og),_a,Dt,gn,Da,Rs,ug,Oj=(ug=class extends qg{constructor(n){super();_e(this,Da);_e(this,_a);_e(this,Dt);_e(this,gn);this.mutationId=n.mutationId,je(this,Dt,n.mutationCache),je(this,_a,[]),this.state=n.state||Hg(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,_a).includes(n)||($(this,_a).push(n),this.clearGcTimeout(),$(this,Dt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){je(this,_a,$(this,_a).filter(c=>c!==n)),this.scheduleGc(),$(this,Dt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,_a).length||(this.state.status==="pending"?this.scheduleGc():$(this,Dt).remove(this))}continue(){var n;return((n=$(this,gn))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var u,f,h,p,g,m,x,v,E,O,b,C,T,z,A,R,U,D,k,Q;je(this,gn,Bg({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(J,V)=>{lt(this,Da,Rs).call(this,{type:"failed",failureCount:J,error:V})},onPause:()=>{lt(this,Da,Rs).call(this,{type:"pause"})},onContinue:()=>{lt(this,Da,Rs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Dt).canRun(this)}));const c=this.state.status==="pending",i=!$(this,gn).canStart();try{if(!c){lt(this,Da,Rs).call(this,{type:"pending",variables:n,isPaused:i}),await((f=(u=$(this,Dt).config).onMutate)==null?void 0:f.call(u,n,this));const V=await((p=(h=this.options).onMutate)==null?void 0:p.call(h,n));V!==this.state.context&&lt(this,Da,Rs).call(this,{type:"pending",context:V,variables:n,isPaused:i})}const J=await $(this,gn).start();return await((m=(g=$(this,Dt).config).onSuccess)==null?void 0:m.call(g,J,n,this.state.context,this)),await((v=(x=this.options).onSuccess)==null?void 0:v.call(x,J,n,this.state.context)),await((O=(E=$(this,Dt).config).onSettled)==null?void 0:O.call(E,J,null,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,J,null,n,this.state.context)),lt(this,Da,Rs).call(this,{type:"success",data:J}),J}catch(J){try{throw await((z=(T=$(this,Dt).config).onError)==null?void 0:z.call(T,J,n,this.state.context,this)),await((R=(A=this.options).onError)==null?void 0:R.call(A,J,n,this.state.context)),await((D=(U=$(this,Dt).config).onSettled)==null?void 0:D.call(U,void 0,J,this.state.variables,this.state.context,this)),await((Q=(k=this.options).onSettled)==null?void 0:Q.call(k,void 0,J,n,this.state.context)),J}finally{lt(this,Da,Rs).call(this,{type:"error",error:J})}}finally{$(this,Dt).runNext(this)}}},_a=new WeakMap,Dt=new WeakMap,gn=new WeakMap,Da=new WeakSet,Rs=function(n){const c=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=c(this.state),Nt.batch(()=>{$(this,_a).forEach(i=>{i.onMutationUpdate(n)}),$(this,Dt).notify({mutation:this,type:"updated",action:n})})},ug);function Hg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wa,ja,_r,dg,Cj=(dg=class extends qr{constructor(n={}){super();_e(this,Wa);_e(this,ja);_e(this,_r);this.config=n,je(this,Wa,new Set),je(this,ja,new Map),je(this,_r,0)}build(n,c,i){const u=new Oj({mutationCache:this,mutationId:++tc(this,_r)._,options:n.defaultMutationOptions(c),state:i});return this.add(u),u}add(n){$(this,Wa).add(n);const c=sc(n);if(typeof c=="string"){const i=$(this,ja).get(c);i?i.push(n):$(this,ja).set(c,[n])}this.notify({type:"added",mutation:n})}remove(n){if($(this,Wa).delete(n)){const c=sc(n);if(typeof c=="string"){const i=$(this,ja).get(c);if(i)if(i.length>1){const u=i.indexOf(n);u!==-1&&i.splice(u,1)}else i[0]===n&&$(this,ja).delete(c)}}this.notify({type:"removed",mutation:n})}canRun(n){const c=sc(n);if(typeof c=="string"){const i=$(this,ja).get(c),u=i==null?void 0:i.find(f=>f.state.status==="pending");return!u||u===n}else return!0}runNext(n){var i;const c=sc(n);if(typeof c=="string"){const u=(i=$(this,ja).get(c))==null?void 0:i.find(f=>f!==n&&f.state.isPaused);return(u==null?void 0:u.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{$(this,Wa).forEach(n=>{this.notify({type:"removed",mutation:n})}),$(this,Wa).clear(),$(this,ja).clear()})}getAll(){return Array.from($(this,Wa))}find(n){const c={exact:!0,...n};return this.getAll().find(i=>Dp(c,i))}findAll(n={}){return this.getAll().filter(c=>Dp(n,c))}notify(n){Nt.batch(()=>{this.listeners.forEach(c=>{c(n)})})}resumePausedMutations(){const n=this.getAll().filter(c=>c.state.isPaused);return Nt.batch(()=>Promise.all(n.map(c=>c.continue().catch(xa))))}},Wa=new WeakMap,ja=new WeakMap,_r=new WeakMap,dg);function sc(s){var n;return(n=s.options.scope)==null?void 0:n.id}function Lp(s){return{onFetch:(n,c)=>{var x,v,E,O,b;const i=n.options,u=(E=(v=(x=n.fetchOptions)==null?void 0:x.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,f=((O=n.state.data)==null?void 0:O.pages)||[],h=((b=n.state.data)==null?void 0:b.pageParams)||[];let p={pages:[],pageParams:[]},g=0;const m=async()=>{let C=!1;const T=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(n.signal.aborted?C=!0:n.signal.addEventListener("abort",()=>{C=!0}),n.signal)})},z=Lg(n.options,n.fetchOptions),A=async(R,U,D)=>{if(C)return Promise.reject();if(U==null&&R.pages.length)return Promise.resolve(R);const k={client:n.client,queryKey:n.queryKey,pageParam:U,direction:D?"backward":"forward",meta:n.options.meta};T(k);const Q=await z(k),{maxPages:J}=n.options,V=D?yj:gj;return{pages:V(R.pages,Q,J),pageParams:V(R.pageParams,U,J)}};if(u&&f.length){const R=u==="backward",U=R?Aj:Up,D={pages:f,pageParams:h},k=U(i,D);p=await A(D,k,R)}else{const R=s??f.length;do{const U=g===0?h[0]??i.initialPageParam:Up(i,p);if(g>0&&U==null)break;p=await A(p,U),g++}while(g<R)}return p};n.options.persister?n.fetchFn=()=>{var C,T;return(T=(C=n.options).persister)==null?void 0:T.call(C,m,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},c)}:n.fetchFn=m}}}function Up(s,{pages:n,pageParams:c}){const i=n.length-1;return n.length>0?s.getNextPageParam(n[i],n,c[i],c):void 0}function Aj(s,{pages:n,pageParams:c}){var i;return n.length>0?(i=s.getPreviousPageParam)==null?void 0:i.call(s,n[0],n,c[0],c):void 0}var at,zs,Ms,hl,ml,Ls,pl,gl,fg,Rj=(fg=class{constructor(s={}){_e(this,at);_e(this,zs);_e(this,Ms);_e(this,hl);_e(this,ml);_e(this,Ls);_e(this,pl);_e(this,gl);je(this,at,s.queryCache||new wj),je(this,zs,s.mutationCache||new Cj),je(this,Ms,s.defaultOptions||{}),je(this,hl,new Map),je(this,ml,new Map),je(this,Ls,0)}mount(){tc(this,Ls)._++,$(this,Ls)===1&&(je(this,pl,Ug.subscribe(async s=>{s&&(await this.resumePausedMutations(),$(this,at).onFocus())})),je(this,gl,gc.subscribe(async s=>{s&&(await this.resumePausedMutations(),$(this,at).onOnline())})))}unmount(){var s,n;tc(this,Ls)._--,$(this,Ls)===0&&((s=$(this,pl))==null||s.call(this),je(this,pl,void 0),(n=$(this,gl))==null||n.call(this),je(this,gl,void 0))}isFetching(s){return $(this,at).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return $(this,zs).findAll({...s,status:"pending"}).length}getQueryData(s){var c;const n=this.defaultQueryOptions({queryKey:s});return(c=$(this,at).get(n.queryHash))==null?void 0:c.state.data}ensureQueryData(s){const n=this.defaultQueryOptions(s),c=$(this,at).build(this,n),i=c.state.data;return i===void 0?this.fetchQuery(s):(s.revalidateIfStale&&c.isStaleByTime(Rp(n.staleTime,c))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(s){return $(this,at).findAll(s).map(({queryKey:n,state:c})=>{const i=c.data;return[n,i]})}setQueryData(s,n,c){const i=this.defaultQueryOptions({queryKey:s}),u=$(this,at).get(i.queryHash),f=u==null?void 0:u.state.data,h=oj(n,f);if(h!==void 0)return $(this,at).build(this,i).setData(h,{...c,manual:!0})}setQueriesData(s,n,c){return Nt.batch(()=>$(this,at).findAll(s).map(({queryKey:i})=>[i,this.setQueryData(i,n,c)]))}getQueryState(s){var c;const n=this.defaultQueryOptions({queryKey:s});return(c=$(this,at).get(n.queryHash))==null?void 0:c.state}removeQueries(s){const n=$(this,at);Nt.batch(()=>{n.findAll(s).forEach(c=>{n.remove(c)})})}resetQueries(s,n){const c=$(this,at);return Nt.batch(()=>(c.findAll(s).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...s},n)))}cancelQueries(s,n={}){const c={revert:!0,...n},i=Nt.batch(()=>$(this,at).findAll(s).map(u=>u.cancel(c)));return Promise.all(i).then(xa).catch(xa)}invalidateQueries(s,n={}){return Nt.batch(()=>($(this,at).findAll(s).forEach(c=>{c.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},n)))}refetchQueries(s,n={}){const c={...n,cancelRefetch:n.cancelRefetch??!0},i=Nt.batch(()=>$(this,at).findAll(s).filter(u=>!u.isDisabled()).map(u=>{let f=u.fetch(void 0,c);return c.throwOnError||(f=f.catch(xa)),u.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(i).then(xa)}fetchQuery(s){const n=this.defaultQueryOptions(s);n.retry===void 0&&(n.retry=!1);const c=$(this,at).build(this,n);return c.isStaleByTime(Rp(n.staleTime,c))?c.fetch(n):Promise.resolve(c.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(xa).catch(xa)}fetchInfiniteQuery(s){return s.behavior=Lp(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(xa).catch(xa)}ensureInfiniteQueryData(s){return s.behavior=Lp(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return gc.isOnline()?$(this,zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,at)}getMutationCache(){return $(this,zs)}getDefaultOptions(){return $(this,Ms)}setDefaultOptions(s){je(this,Ms,s)}setQueryDefaults(s,n){$(this,hl).set(xn(s),{queryKey:s,defaultOptions:n})}getQueryDefaults(s){const n=[...$(this,hl).values()],c={};return n.forEach(i=>{Cr(s,i.queryKey)&&Object.assign(c,i.defaultOptions)}),c}setMutationDefaults(s,n){$(this,ml).set(xn(s),{mutationKey:s,defaultOptions:n})}getMutationDefaults(s){const n=[...$(this,ml).values()],c={};return n.forEach(i=>{Cr(s,i.mutationKey)&&Object.assign(c,i.defaultOptions)}),c}defaultQueryOptions(s){if(s._defaulted)return s;const n={...$(this,Ms).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return n.queryHash||(n.queryHash=jd(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Sd&&(n.enabled=!1),n}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...$(this,Ms).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){$(this,at).clear(),$(this,zs).clear()}},at=new WeakMap,zs=new WeakMap,Ms=new WeakMap,hl=new WeakMap,ml=new WeakMap,Ls=new WeakMap,pl=new WeakMap,gl=new WeakMap,fg),Us,Is,It,es,ss,ic,sd,hg,_j=(hg=class extends qr{constructor(c,i){super();_e(this,ss);_e(this,Us);_e(this,Is);_e(this,It);_e(this,es);je(this,Us,c),this.setOptions(i),this.bindMethods(),lt(this,ss,ic).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(c){var u;const i=this.options;this.options=$(this,Us).defaultMutationOptions(c),hj(this.options,i)||$(this,Us).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,It),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&xn(i.mutationKey)!==xn(this.options.mutationKey)?this.reset():((u=$(this,It))==null?void 0:u.state.status)==="pending"&&$(this,It).setOptions(this.options)}onUnsubscribe(){var c;this.hasListeners()||(c=$(this,It))==null||c.removeObserver(this)}onMutationUpdate(c){lt(this,ss,ic).call(this),lt(this,ss,sd).call(this,c)}getCurrentResult(){return $(this,Is)}reset(){var c;(c=$(this,It))==null||c.removeObserver(this),je(this,It,void 0),lt(this,ss,ic).call(this),lt(this,ss,sd).call(this)}mutate(c,i){var u;return je(this,es,i),(u=$(this,It))==null||u.removeObserver(this),je(this,It,$(this,Us).getMutationCache().build($(this,Us),this.options)),$(this,It).addObserver(this),$(this,It).execute(c)}},Us=new WeakMap,Is=new WeakMap,It=new WeakMap,es=new WeakMap,ss=new WeakSet,ic=function(){var i;const c=((i=$(this,It))==null?void 0:i.state)??Hg();je(this,Is,{...c,isPending:c.status==="pending",isSuccess:c.status==="success",isError:c.status==="error",isIdle:c.status==="idle",mutate:this.mutate,reset:this.reset})},sd=function(c){Nt.batch(()=>{var i,u,f,h,p,g,m,x;if($(this,es)&&this.hasListeners()){const v=$(this,Is).variables,E=$(this,Is).context;(c==null?void 0:c.type)==="success"?((u=(i=$(this,es)).onSuccess)==null||u.call(i,c.data,v,E),(h=(f=$(this,es)).onSettled)==null||h.call(f,c.data,null,v,E)):(c==null?void 0:c.type)==="error"&&((g=(p=$(this,es)).onError)==null||g.call(p,c.error,v,E),(x=(m=$(this,es)).onSettled)==null||x.call(m,void 0,c.error,v,E))}this.listeners.forEach(v=>{v($(this,Is))})})},hg),Yg=j.createContext(void 0),Fg=s=>{const n=j.useContext(Yg);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},Dj=({client:s,children:n})=>(j.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),r.jsx(Yg.Provider,{value:s,children:n}));function zj(s,n){return typeof s=="function"?s(...n):!!s}function Mj(){}function Ip(s,n){const c=Fg(),[i]=j.useState(()=>new _j(c,s));j.useEffect(()=>{i.setOptions(s)},[i,s]);const u=j.useSyncExternalStore(j.useCallback(h=>i.subscribe(Nt.batchCalls(h)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),f=j.useCallback((h,p)=>{i.mutate(h,p).catch(Mj)},[i]);if(u.error&&zj(i.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:f,mutateAsync:u.mutate}}const kp=s=>{let n;const c=new Set,i=(m,x)=>{const v=typeof m=="function"?m(n):m;if(!Object.is(v,n)){const E=n;n=x??(typeof v!="object"||v===null)?v:Object.assign({},n,v),c.forEach(O=>O(n,E))}},u=()=>n,p={setState:i,getState:u,getInitialState:()=>g,subscribe:m=>(c.add(m),()=>c.delete(m))},g=n=s(i,u,p);return p},Lj=s=>s?kp(s):kp,Uj=s=>s;function Ij(s,n=Uj){const c=gp.useSyncExternalStore(s.subscribe,()=>n(s.getState()),()=>n(s.getInitialState()));return gp.useDebugValue(c),c}const Bp=s=>{const n=Lj(s),c=i=>Ij(n,i);return Object.assign(c,n),c},bl=s=>s?Bp(s):Bp;function Qg(s,n){return function(){return s.apply(n,arguments)}}const{toString:kj}=Object.prototype,{getPrototypeOf:Nd}=Object,Tc=(s=>n=>{const c=kj.call(n);return s[c]||(s[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),Na=s=>(s=s.toLowerCase(),n=>Tc(n)===s),wc=s=>n=>typeof n===s,{isArray:jl}=Array,Ar=wc("undefined");function Bj(s){return s!==null&&!Ar(s)&&s.constructor!==null&&!Ar(s.constructor)&&Kt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const $g=Na("ArrayBuffer");function qj(s){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(s):n=s&&s.buffer&&$g(s.buffer),n}const Hj=wc("string"),Kt=wc("function"),Vg=wc("number"),Oc=s=>s!==null&&typeof s=="object",Yj=s=>s===!0||s===!1,cc=s=>{if(Tc(s)!=="object")return!1;const n=Nd(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Fj=Na("Date"),Qj=Na("File"),$j=Na("Blob"),Vj=Na("FileList"),Xj=s=>Oc(s)&&Kt(s.pipe),Gj=s=>{let n;return s&&(typeof FormData=="function"&&s instanceof FormData||Kt(s.append)&&((n=Tc(s))==="formdata"||n==="object"&&Kt(s.toString)&&s.toString()==="[object FormData]"))},Zj=Na("URLSearchParams"),[Kj,Pj,Jj,Wj]=["ReadableStream","Request","Response","Headers"].map(Na),e1=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hr(s,n,{allOwnKeys:c=!1}={}){if(s===null||typeof s>"u")return;let i,u;if(typeof s!="object"&&(s=[s]),jl(s))for(i=0,u=s.length;i<u;i++)n.call(null,s[i],i,s);else{const f=c?Object.getOwnPropertyNames(s):Object.keys(s),h=f.length;let p;for(i=0;i<h;i++)p=f[i],n.call(null,s[p],p,s)}}function Xg(s,n){n=n.toLowerCase();const c=Object.keys(s);let i=c.length,u;for(;i-- >0;)if(u=c[i],n===u.toLowerCase())return u;return null}const dn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gg=s=>!Ar(s)&&s!==dn;function nd(){const{caseless:s}=Gg(this)&&this||{},n={},c=(i,u)=>{const f=s&&Xg(n,u)||u;cc(n[f])&&cc(i)?n[f]=nd(n[f],i):cc(i)?n[f]=nd({},i):jl(i)?n[f]=i.slice():n[f]=i};for(let i=0,u=arguments.length;i<u;i++)arguments[i]&&Hr(arguments[i],c);return n}const t1=(s,n,c,{allOwnKeys:i}={})=>(Hr(n,(u,f)=>{c&&Kt(u)?s[f]=Qg(u,c):s[f]=u},{allOwnKeys:i}),s),a1=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),s1=(s,n,c,i)=>{s.prototype=Object.create(n.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:n.prototype}),c&&Object.assign(s.prototype,c)},n1=(s,n,c,i)=>{let u,f,h;const p={};if(n=n||{},s==null)return n;do{for(u=Object.getOwnPropertyNames(s),f=u.length;f-- >0;)h=u[f],(!i||i(h,s,n))&&!p[h]&&(n[h]=s[h],p[h]=!0);s=c!==!1&&Nd(s)}while(s&&(!c||c(s,n))&&s!==Object.prototype);return n},l1=(s,n,c)=>{s=String(s),(c===void 0||c>s.length)&&(c=s.length),c-=n.length;const i=s.indexOf(n,c);return i!==-1&&i===c},r1=s=>{if(!s)return null;if(jl(s))return s;let n=s.length;if(!Vg(n))return null;const c=new Array(n);for(;n-- >0;)c[n]=s[n];return c},i1=(s=>n=>s&&n instanceof s)(typeof Uint8Array<"u"&&Nd(Uint8Array)),c1=(s,n)=>{const i=(s&&s[Symbol.iterator]).call(s);let u;for(;(u=i.next())&&!u.done;){const f=u.value;n.call(s,f[0],f[1])}},o1=(s,n)=>{let c;const i=[];for(;(c=s.exec(n))!==null;)i.push(c);return i},u1=Na("HTMLFormElement"),d1=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(c,i,u){return i.toUpperCase()+u}),qp=(({hasOwnProperty:s})=>(n,c)=>s.call(n,c))(Object.prototype),f1=Na("RegExp"),Zg=(s,n)=>{const c=Object.getOwnPropertyDescriptors(s),i={};Hr(c,(u,f)=>{let h;(h=n(u,f,s))!==!1&&(i[f]=h||u)}),Object.defineProperties(s,i)},h1=s=>{Zg(s,(n,c)=>{if(Kt(s)&&["arguments","caller","callee"].indexOf(c)!==-1)return!1;const i=s[c];if(Kt(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},m1=(s,n)=>{const c={},i=u=>{u.forEach(f=>{c[f]=!0})};return jl(s)?i(s):i(String(s).split(n)),c},p1=()=>{},g1=(s,n)=>s!=null&&Number.isFinite(s=+s)?s:n;function y1(s){return!!(s&&Kt(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const v1=s=>{const n=new Array(10),c=(i,u)=>{if(Oc(i)){if(n.indexOf(i)>=0)return;if(!("toJSON"in i)){n[u]=i;const f=jl(i)?[]:{};return Hr(i,(h,p)=>{const g=c(h,u+1);!Ar(g)&&(f[p]=g)}),n[u]=void 0,f}}return i};return c(s,0)},x1=Na("AsyncFunction"),b1=s=>s&&(Oc(s)||Kt(s))&&Kt(s.then)&&Kt(s.catch),Kg=((s,n)=>s?setImmediate:n?((c,i)=>(dn.addEventListener("message",({source:u,data:f})=>{u===dn&&f===c&&i.length&&i.shift()()},!1),u=>{i.push(u),dn.postMessage(c,"*")}))(`axios@${Math.random()}`,[]):c=>setTimeout(c))(typeof setImmediate=="function",Kt(dn.postMessage)),j1=typeof queueMicrotask<"u"?queueMicrotask.bind(dn):typeof process<"u"&&process.nextTick||Kg,G={isArray:jl,isArrayBuffer:$g,isBuffer:Bj,isFormData:Gj,isArrayBufferView:qj,isString:Hj,isNumber:Vg,isBoolean:Yj,isObject:Oc,isPlainObject:cc,isReadableStream:Kj,isRequest:Pj,isResponse:Jj,isHeaders:Wj,isUndefined:Ar,isDate:Fj,isFile:Qj,isBlob:$j,isRegExp:f1,isFunction:Kt,isStream:Xj,isURLSearchParams:Zj,isTypedArray:i1,isFileList:Vj,forEach:Hr,merge:nd,extend:t1,trim:e1,stripBOM:a1,inherits:s1,toFlatObject:n1,kindOf:Tc,kindOfTest:Na,endsWith:l1,toArray:r1,forEachEntry:c1,matchAll:o1,isHTMLForm:u1,hasOwnProperty:qp,hasOwnProp:qp,reduceDescriptors:Zg,freezeMethods:h1,toObjectSet:m1,toCamelCase:d1,noop:p1,toFiniteNumber:g1,findKey:Xg,global:dn,isContextDefined:Gg,isSpecCompliantForm:y1,toJSONObject:v1,isAsyncFn:x1,isThenable:b1,setImmediate:Kg,asap:j1};function Ee(s,n,c,i,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",n&&(this.code=n),c&&(this.config=c),i&&(this.request=i),u&&(this.response=u,this.status=u.status?u.status:null)}G.inherits(Ee,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Pg=Ee.prototype,Jg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Jg[s]={value:s}});Object.defineProperties(Ee,Jg);Object.defineProperty(Pg,"isAxiosError",{value:!0});Ee.from=(s,n,c,i,u,f)=>{const h=Object.create(Pg);return G.toFlatObject(s,h,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),Ee.call(h,s.message,n,c,i,u),h.cause=s,h.name=s.name,f&&Object.assign(h,f),h};const S1=null;function ld(s){return G.isPlainObject(s)||G.isArray(s)}function Wg(s){return G.endsWith(s,"[]")?s.slice(0,-2):s}function Hp(s,n,c){return s?s.concat(n).map(function(u,f){return u=Wg(u),!c&&f?"["+u+"]":u}).join(c?".":""):n}function N1(s){return G.isArray(s)&&!s.some(ld)}const E1=G.toFlatObject(G,{},null,function(n){return/^is[A-Z]/.test(n)});function Cc(s,n,c){if(!G.isObject(s))throw new TypeError("target must be an object");n=n||new FormData,c=G.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,T){return!G.isUndefined(T[C])});const i=c.metaTokens,u=c.visitor||x,f=c.dots,h=c.indexes,g=(c.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(n);if(!G.isFunction(u))throw new TypeError("visitor must be a function");function m(b){if(b===null)return"";if(G.isDate(b))return b.toISOString();if(!g&&G.isBlob(b))throw new Ee("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(b)||G.isTypedArray(b)?g&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function x(b,C,T){let z=b;if(b&&!T&&typeof b=="object"){if(G.endsWith(C,"{}"))C=i?C:C.slice(0,-2),b=JSON.stringify(b);else if(G.isArray(b)&&N1(b)||(G.isFileList(b)||G.endsWith(C,"[]"))&&(z=G.toArray(b)))return C=Wg(C),z.forEach(function(R,U){!(G.isUndefined(R)||R===null)&&n.append(h===!0?Hp([C],U,f):h===null?C:C+"[]",m(R))}),!1}return ld(b)?!0:(n.append(Hp(T,C,f),m(b)),!1)}const v=[],E=Object.assign(E1,{defaultVisitor:x,convertValue:m,isVisitable:ld});function O(b,C){if(!G.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+C.join("."));v.push(b),G.forEach(b,function(z,A){(!(G.isUndefined(z)||z===null)&&u.call(n,z,G.isString(A)?A.trim():A,C,E))===!0&&O(z,C?C.concat(A):[A])}),v.pop()}}if(!G.isObject(s))throw new TypeError("data must be an object");return O(s),n}function Yp(s){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function Ed(s,n){this._pairs=[],s&&Cc(s,this,n)}const ey=Ed.prototype;ey.append=function(n,c){this._pairs.push([n,c])};ey.toString=function(n){const c=n?function(i){return n.call(this,i,Yp)}:Yp;return this._pairs.map(function(u){return c(u[0])+"="+c(u[1])},"").join("&")};function T1(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ty(s,n,c){if(!n)return s;const i=c&&c.encode||T1;G.isFunction(c)&&(c={serialize:c});const u=c&&c.serialize;let f;if(u?f=u(n,c):f=G.isURLSearchParams(n)?n.toString():new Ed(n,c).toString(i),f){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+f}return s}class Fp{constructor(){this.handlers=[]}use(n,c,i){return this.handlers.push({fulfilled:n,rejected:c,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){G.forEach(this.handlers,function(i){i!==null&&n(i)})}}const ay={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},w1=typeof URLSearchParams<"u"?URLSearchParams:Ed,O1=typeof FormData<"u"?FormData:null,C1=typeof Blob<"u"?Blob:null,A1={isBrowser:!0,classes:{URLSearchParams:w1,FormData:O1,Blob:C1},protocols:["http","https","file","blob","url","data"]},Td=typeof window<"u"&&typeof document<"u",rd=typeof navigator=="object"&&navigator||void 0,R1=Td&&(!rd||["ReactNative","NativeScript","NS"].indexOf(rd.product)<0),_1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",D1=Td&&window.location.href||"http://localhost",z1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Td,hasStandardBrowserEnv:R1,hasStandardBrowserWebWorkerEnv:_1,navigator:rd,origin:D1},Symbol.toStringTag,{value:"Module"})),At={...z1,...A1};function M1(s,n){return Cc(s,new At.classes.URLSearchParams,Object.assign({visitor:function(c,i,u,f){return At.isNode&&G.isBuffer(c)?(this.append(i,c.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},n))}function L1(s){return G.matchAll(/\w+|\[(\w*)]/g,s).map(n=>n[0]==="[]"?"":n[1]||n[0])}function U1(s){const n={},c=Object.keys(s);let i;const u=c.length;let f;for(i=0;i<u;i++)f=c[i],n[f]=s[f];return n}function sy(s){function n(c,i,u,f){let h=c[f++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),g=f>=c.length;return h=!h&&G.isArray(u)?u.length:h,g?(G.hasOwnProp(u,h)?u[h]=[u[h],i]:u[h]=i,!p):((!u[h]||!G.isObject(u[h]))&&(u[h]=[]),n(c,i,u[h],f)&&G.isArray(u[h])&&(u[h]=U1(u[h])),!p)}if(G.isFormData(s)&&G.isFunction(s.entries)){const c={};return G.forEachEntry(s,(i,u)=>{n(L1(i),u,c,0)}),c}return null}function I1(s,n,c){if(G.isString(s))try{return(n||JSON.parse)(s),G.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(c||JSON.stringify)(s)}const Yr={transitional:ay,adapter:["xhr","http","fetch"],transformRequest:[function(n,c){const i=c.getContentType()||"",u=i.indexOf("application/json")>-1,f=G.isObject(n);if(f&&G.isHTMLForm(n)&&(n=new FormData(n)),G.isFormData(n))return u?JSON.stringify(sy(n)):n;if(G.isArrayBuffer(n)||G.isBuffer(n)||G.isStream(n)||G.isFile(n)||G.isBlob(n)||G.isReadableStream(n))return n;if(G.isArrayBufferView(n))return n.buffer;if(G.isURLSearchParams(n))return c.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let p;if(f){if(i.indexOf("application/x-www-form-urlencoded")>-1)return M1(n,this.formSerializer).toString();if((p=G.isFileList(n))||i.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Cc(p?{"files[]":n}:n,g&&new g,this.formSerializer)}}return f||u?(c.setContentType("application/json",!1),I1(n)):n}],transformResponse:[function(n){const c=this.transitional||Yr.transitional,i=c&&c.forcedJSONParsing,u=this.responseType==="json";if(G.isResponse(n)||G.isReadableStream(n))return n;if(n&&G.isString(n)&&(i&&!this.responseType||u)){const h=!(c&&c.silentJSONParsing)&&u;try{return JSON.parse(n)}catch(p){if(h)throw p.name==="SyntaxError"?Ee.from(p,Ee.ERR_BAD_RESPONSE,this,null,this.response):p}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],s=>{Yr.headers[s]={}});const k1=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),B1=s=>{const n={};let c,i,u;return s&&s.split(`
`).forEach(function(h){u=h.indexOf(":"),c=h.substring(0,u).trim().toLowerCase(),i=h.substring(u+1).trim(),!(!c||n[c]&&k1[c])&&(c==="set-cookie"?n[c]?n[c].push(i):n[c]=[i]:n[c]=n[c]?n[c]+", "+i:i)}),n},Qp=Symbol("internals");function Er(s){return s&&String(s).trim().toLowerCase()}function oc(s){return s===!1||s==null?s:G.isArray(s)?s.map(oc):String(s)}function q1(s){const n=Object.create(null),c=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=c.exec(s);)n[i[1]]=i[2];return n}const H1=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Zu(s,n,c,i,u){if(G.isFunction(i))return i.call(this,n,c);if(u&&(n=c),!!G.isString(n)){if(G.isString(i))return n.indexOf(i)!==-1;if(G.isRegExp(i))return i.test(n)}}function Y1(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,c,i)=>c.toUpperCase()+i)}function F1(s,n){const c=G.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+c,{value:function(u,f,h){return this[i].call(this,n,u,f,h)},configurable:!0})})}let Bt=class{constructor(n){n&&this.set(n)}set(n,c,i){const u=this;function f(p,g,m){const x=Er(g);if(!x)throw new Error("header name must be a non-empty string");const v=G.findKey(u,x);(!v||u[v]===void 0||m===!0||m===void 0&&u[v]!==!1)&&(u[v||g]=oc(p))}const h=(p,g)=>G.forEach(p,(m,x)=>f(m,x,g));if(G.isPlainObject(n)||n instanceof this.constructor)h(n,c);else if(G.isString(n)&&(n=n.trim())&&!H1(n))h(B1(n),c);else if(G.isHeaders(n))for(const[p,g]of n.entries())f(g,p,i);else n!=null&&f(c,n,i);return this}get(n,c){if(n=Er(n),n){const i=G.findKey(this,n);if(i){const u=this[i];if(!c)return u;if(c===!0)return q1(u);if(G.isFunction(c))return c.call(this,u,i);if(G.isRegExp(c))return c.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,c){if(n=Er(n),n){const i=G.findKey(this,n);return!!(i&&this[i]!==void 0&&(!c||Zu(this,this[i],i,c)))}return!1}delete(n,c){const i=this;let u=!1;function f(h){if(h=Er(h),h){const p=G.findKey(i,h);p&&(!c||Zu(i,i[p],p,c))&&(delete i[p],u=!0)}}return G.isArray(n)?n.forEach(f):f(n),u}clear(n){const c=Object.keys(this);let i=c.length,u=!1;for(;i--;){const f=c[i];(!n||Zu(this,this[f],f,n,!0))&&(delete this[f],u=!0)}return u}normalize(n){const c=this,i={};return G.forEach(this,(u,f)=>{const h=G.findKey(i,f);if(h){c[h]=oc(u),delete c[f];return}const p=n?Y1(f):String(f).trim();p!==f&&delete c[f],c[p]=oc(u),i[p]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const c=Object.create(null);return G.forEach(this,(i,u)=>{i!=null&&i!==!1&&(c[u]=n&&G.isArray(i)?i.join(", "):i)}),c}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,c])=>n+": "+c).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...c){const i=new this(n);return c.forEach(u=>i.set(u)),i}static accessor(n){const i=(this[Qp]=this[Qp]={accessors:{}}).accessors,u=this.prototype;function f(h){const p=Er(h);i[p]||(F1(u,h),i[p]=!0)}return G.isArray(n)?n.forEach(f):f(n),this}};Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Bt.prototype,({value:s},n)=>{let c=n[0].toUpperCase()+n.slice(1);return{get:()=>s,set(i){this[c]=i}}});G.freezeMethods(Bt);function Ku(s,n){const c=this||Yr,i=n||c,u=Bt.from(i.headers);let f=i.data;return G.forEach(s,function(p){f=p.call(c,f,u.normalize(),n?n.status:void 0)}),u.normalize(),f}function ny(s){return!!(s&&s.__CANCEL__)}function Sl(s,n,c){Ee.call(this,s??"canceled",Ee.ERR_CANCELED,n,c),this.name="CanceledError"}G.inherits(Sl,Ee,{__CANCEL__:!0});function ly(s,n,c){const i=c.config.validateStatus;!c.status||!i||i(c.status)?s(c):n(new Ee("Request failed with status code "+c.status,[Ee.ERR_BAD_REQUEST,Ee.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function Q1(s){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return n&&n[1]||""}function $1(s,n){s=s||10;const c=new Array(s),i=new Array(s);let u=0,f=0,h;return n=n!==void 0?n:1e3,function(g){const m=Date.now(),x=i[f];h||(h=m),c[u]=g,i[u]=m;let v=f,E=0;for(;v!==u;)E+=c[v++],v=v%s;if(u=(u+1)%s,u===f&&(f=(f+1)%s),m-h<n)return;const O=x&&m-x;return O?Math.round(E*1e3/O):void 0}}function V1(s,n){let c=0,i=1e3/n,u,f;const h=(m,x=Date.now())=>{c=x,u=null,f&&(clearTimeout(f),f=null),s.apply(null,m)};return[(...m)=>{const x=Date.now(),v=x-c;v>=i?h(m,x):(u=m,f||(f=setTimeout(()=>{f=null,h(u)},i-v)))},()=>u&&h(u)]}const yc=(s,n,c=3)=>{let i=0;const u=$1(50,250);return V1(f=>{const h=f.loaded,p=f.lengthComputable?f.total:void 0,g=h-i,m=u(g),x=h<=p;i=h;const v={loaded:h,total:p,progress:p?h/p:void 0,bytes:g,rate:m||void 0,estimated:m&&p&&x?(p-h)/m:void 0,event:f,lengthComputable:p!=null,[n?"download":"upload"]:!0};s(v)},c)},$p=(s,n)=>{const c=s!=null;return[i=>n[0]({lengthComputable:c,total:s,loaded:i}),n[1]]},Vp=s=>(...n)=>G.asap(()=>s(...n)),X1=At.hasStandardBrowserEnv?((s,n)=>c=>(c=new URL(c,At.origin),s.protocol===c.protocol&&s.host===c.host&&(n||s.port===c.port)))(new URL(At.origin),At.navigator&&/(msie|trident)/i.test(At.navigator.userAgent)):()=>!0,G1=At.hasStandardBrowserEnv?{write(s,n,c,i,u,f){const h=[s+"="+encodeURIComponent(n)];G.isNumber(c)&&h.push("expires="+new Date(c).toGMTString()),G.isString(i)&&h.push("path="+i),G.isString(u)&&h.push("domain="+u),f===!0&&h.push("secure"),document.cookie=h.join("; ")},read(s){const n=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Z1(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function K1(s,n){return n?s.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):s}function ry(s,n,c){let i=!Z1(n);return s&&(i||c==!1)?K1(s,n):n}const Xp=s=>s instanceof Bt?{...s}:s;function bn(s,n){n=n||{};const c={};function i(m,x,v,E){return G.isPlainObject(m)&&G.isPlainObject(x)?G.merge.call({caseless:E},m,x):G.isPlainObject(x)?G.merge({},x):G.isArray(x)?x.slice():x}function u(m,x,v,E){if(G.isUndefined(x)){if(!G.isUndefined(m))return i(void 0,m,v,E)}else return i(m,x,v,E)}function f(m,x){if(!G.isUndefined(x))return i(void 0,x)}function h(m,x){if(G.isUndefined(x)){if(!G.isUndefined(m))return i(void 0,m)}else return i(void 0,x)}function p(m,x,v){if(v in n)return i(m,x);if(v in s)return i(void 0,m)}const g={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(m,x,v)=>u(Xp(m),Xp(x),v,!0)};return G.forEach(Object.keys(Object.assign({},s,n)),function(x){const v=g[x]||u,E=v(s[x],n[x],x);G.isUndefined(E)&&v!==p||(c[x]=E)}),c}const iy=s=>{const n=bn({},s);let{data:c,withXSRFToken:i,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:p}=n;n.headers=h=Bt.from(h),n.url=ty(ry(n.baseURL,n.url,n.allowAbsoluteUrls),s.params,s.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(G.isFormData(c)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[m,...x]=g?g.split(";").map(v=>v.trim()).filter(Boolean):[];h.setContentType([m||"multipart/form-data",...x].join("; "))}}if(At.hasStandardBrowserEnv&&(i&&G.isFunction(i)&&(i=i(n)),i||i!==!1&&X1(n.url))){const m=u&&f&&G1.read(f);m&&h.set(u,m)}return n},P1=typeof XMLHttpRequest<"u",J1=P1&&function(s){return new Promise(function(c,i){const u=iy(s);let f=u.data;const h=Bt.from(u.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:m}=u,x,v,E,O,b;function C(){O&&O(),b&&b(),u.cancelToken&&u.cancelToken.unsubscribe(x),u.signal&&u.signal.removeEventListener("abort",x)}let T=new XMLHttpRequest;T.open(u.method.toUpperCase(),u.url,!0),T.timeout=u.timeout;function z(){if(!T)return;const R=Bt.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),D={data:!p||p==="text"||p==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:R,config:s,request:T};ly(function(Q){c(Q),C()},function(Q){i(Q),C()},D),T=null}"onloadend"in T?T.onloadend=z:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(z)},T.onabort=function(){T&&(i(new Ee("Request aborted",Ee.ECONNABORTED,s,T)),T=null)},T.onerror=function(){i(new Ee("Network Error",Ee.ERR_NETWORK,s,T)),T=null},T.ontimeout=function(){let U=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const D=u.transitional||ay;u.timeoutErrorMessage&&(U=u.timeoutErrorMessage),i(new Ee(U,D.clarifyTimeoutError?Ee.ETIMEDOUT:Ee.ECONNABORTED,s,T)),T=null},f===void 0&&h.setContentType(null),"setRequestHeader"in T&&G.forEach(h.toJSON(),function(U,D){T.setRequestHeader(D,U)}),G.isUndefined(u.withCredentials)||(T.withCredentials=!!u.withCredentials),p&&p!=="json"&&(T.responseType=u.responseType),m&&([E,b]=yc(m,!0),T.addEventListener("progress",E)),g&&T.upload&&([v,O]=yc(g),T.upload.addEventListener("progress",v),T.upload.addEventListener("loadend",O)),(u.cancelToken||u.signal)&&(x=R=>{T&&(i(!R||R.type?new Sl(null,s,T):R),T.abort(),T=null)},u.cancelToken&&u.cancelToken.subscribe(x),u.signal&&(u.signal.aborted?x():u.signal.addEventListener("abort",x)));const A=Q1(u.url);if(A&&At.protocols.indexOf(A)===-1){i(new Ee("Unsupported protocol "+A+":",Ee.ERR_BAD_REQUEST,s));return}T.send(f||null)})},W1=(s,n)=>{const{length:c}=s=s?s.filter(Boolean):[];if(n||c){let i=new AbortController,u;const f=function(m){if(!u){u=!0,p();const x=m instanceof Error?m:this.reason;i.abort(x instanceof Ee?x:new Sl(x instanceof Error?x.message:x))}};let h=n&&setTimeout(()=>{h=null,f(new Ee(`timeout ${n} of ms exceeded`,Ee.ETIMEDOUT))},n);const p=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(m=>{m.unsubscribe?m.unsubscribe(f):m.removeEventListener("abort",f)}),s=null)};s.forEach(m=>m.addEventListener("abort",f));const{signal:g}=i;return g.unsubscribe=()=>G.asap(p),g}},eS=function*(s,n){let c=s.byteLength;if(c<n){yield s;return}let i=0,u;for(;i<c;)u=i+n,yield s.slice(i,u),i=u},tS=async function*(s,n){for await(const c of aS(s))yield*eS(c,n)},aS=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const n=s.getReader();try{for(;;){const{done:c,value:i}=await n.read();if(c)break;yield i}}finally{await n.cancel()}},Gp=(s,n,c,i)=>{const u=tS(s,n);let f=0,h,p=g=>{h||(h=!0,i&&i(g))};return new ReadableStream({async pull(g){try{const{done:m,value:x}=await u.next();if(m){p(),g.close();return}let v=x.byteLength;if(c){let E=f+=v;c(E)}g.enqueue(new Uint8Array(x))}catch(m){throw p(m),m}},cancel(g){return p(g),u.return()}},{highWaterMark:2})},Ac=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",cy=Ac&&typeof ReadableStream=="function",sS=Ac&&(typeof TextEncoder=="function"?(s=>n=>s.encode(n))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),oy=(s,...n)=>{try{return!!s(...n)}catch{return!1}},nS=cy&&oy(()=>{let s=!1;const n=new Request(At.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!n}),Zp=64*1024,id=cy&&oy(()=>G.isReadableStream(new Response("").body)),vc={stream:id&&(s=>s.body)};Ac&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!vc[n]&&(vc[n]=G.isFunction(s[n])?c=>c[n]():(c,i)=>{throw new Ee(`Response type '${n}' is not supported`,Ee.ERR_NOT_SUPPORT,i)})})})(new Response);const lS=async s=>{if(s==null)return 0;if(G.isBlob(s))return s.size;if(G.isSpecCompliantForm(s))return(await new Request(At.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(G.isArrayBufferView(s)||G.isArrayBuffer(s))return s.byteLength;if(G.isURLSearchParams(s)&&(s=s+""),G.isString(s))return(await sS(s)).byteLength},rS=async(s,n)=>{const c=G.toFiniteNumber(s.getContentLength());return c??lS(n)},iS=Ac&&(async s=>{let{url:n,method:c,data:i,signal:u,cancelToken:f,timeout:h,onDownloadProgress:p,onUploadProgress:g,responseType:m,headers:x,withCredentials:v="same-origin",fetchOptions:E}=iy(s);m=m?(m+"").toLowerCase():"text";let O=W1([u,f&&f.toAbortSignal()],h),b;const C=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let T;try{if(g&&nS&&c!=="get"&&c!=="head"&&(T=await rS(x,i))!==0){let D=new Request(n,{method:"POST",body:i,duplex:"half"}),k;if(G.isFormData(i)&&(k=D.headers.get("content-type"))&&x.setContentType(k),D.body){const[Q,J]=$p(T,yc(Vp(g)));i=Gp(D.body,Zp,Q,J)}}G.isString(v)||(v=v?"include":"omit");const z="credentials"in Request.prototype;b=new Request(n,{...E,signal:O,method:c.toUpperCase(),headers:x.normalize().toJSON(),body:i,duplex:"half",credentials:z?v:void 0});let A=await fetch(b);const R=id&&(m==="stream"||m==="response");if(id&&(p||R&&C)){const D={};["status","statusText","headers"].forEach(V=>{D[V]=A[V]});const k=G.toFiniteNumber(A.headers.get("content-length")),[Q,J]=p&&$p(k,yc(Vp(p),!0))||[];A=new Response(Gp(A.body,Zp,Q,()=>{J&&J(),C&&C()}),D)}m=m||"text";let U=await vc[G.findKey(vc,m)||"text"](A,s);return!R&&C&&C(),await new Promise((D,k)=>{ly(D,k,{data:U,headers:Bt.from(A.headers),status:A.status,statusText:A.statusText,config:s,request:b})})}catch(z){throw C&&C(),z&&z.name==="TypeError"&&/fetch/i.test(z.message)?Object.assign(new Ee("Network Error",Ee.ERR_NETWORK,s,b),{cause:z.cause||z}):Ee.from(z,z&&z.code,s,b)}}),cd={http:S1,xhr:J1,fetch:iS};G.forEach(cd,(s,n)=>{if(s){try{Object.defineProperty(s,"name",{value:n})}catch{}Object.defineProperty(s,"adapterName",{value:n})}});const Kp=s=>`- ${s}`,cS=s=>G.isFunction(s)||s===null||s===!1,uy={getAdapter:s=>{s=G.isArray(s)?s:[s];const{length:n}=s;let c,i;const u={};for(let f=0;f<n;f++){c=s[f];let h;if(i=c,!cS(c)&&(i=cd[(h=String(c)).toLowerCase()],i===void 0))throw new Ee(`Unknown adapter '${h}'`);if(i)break;u[h||"#"+f]=i}if(!i){const f=Object.entries(u).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=n?f.length>1?`since :
`+f.map(Kp).join(`
`):" "+Kp(f[0]):"as no adapter specified";throw new Ee("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:cd};function Pu(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Sl(null,s)}function Pp(s){return Pu(s),s.headers=Bt.from(s.headers),s.data=Ku.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),uy.getAdapter(s.adapter||Yr.adapter)(s).then(function(i){return Pu(s),i.data=Ku.call(s,s.transformResponse,i),i.headers=Bt.from(i.headers),i},function(i){return ny(i)||(Pu(s),i&&i.response&&(i.response.data=Ku.call(s,s.transformResponse,i.response),i.response.headers=Bt.from(i.response.headers))),Promise.reject(i)})}const dy="1.8.4",Rc={};["object","boolean","number","function","string","symbol"].forEach((s,n)=>{Rc[s]=function(i){return typeof i===s||"a"+(n<1?"n ":" ")+s}});const Jp={};Rc.transitional=function(n,c,i){function u(f,h){return"[Axios v"+dy+"] Transitional option '"+f+"'"+h+(i?". "+i:"")}return(f,h,p)=>{if(n===!1)throw new Ee(u(h," has been removed"+(c?" in "+c:"")),Ee.ERR_DEPRECATED);return c&&!Jp[h]&&(Jp[h]=!0,console.warn(u(h," has been deprecated since v"+c+" and will be removed in the near future"))),n?n(f,h,p):!0}};Rc.spelling=function(n){return(c,i)=>(console.warn(`${i} is likely a misspelling of ${n}`),!0)};function oS(s,n,c){if(typeof s!="object")throw new Ee("options must be an object",Ee.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let u=i.length;for(;u-- >0;){const f=i[u],h=n[f];if(h){const p=s[f],g=p===void 0||h(p,f,s);if(g!==!0)throw new Ee("option "+f+" must be "+g,Ee.ERR_BAD_OPTION_VALUE);continue}if(c!==!0)throw new Ee("Unknown option "+f,Ee.ERR_BAD_OPTION)}}const uc={assertOptions:oS,validators:Rc},Aa=uc.validators;let yn=class{constructor(n){this.defaults=n,this.interceptors={request:new Fp,response:new Fp}}async request(n,c){try{return await this._request(n,c)}catch(i){if(i instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{i.stack?f&&!String(i.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+f):i.stack=f}catch{}}throw i}}_request(n,c){typeof n=="string"?(c=c||{},c.url=n):c=n||{},c=bn(this.defaults,c);const{transitional:i,paramsSerializer:u,headers:f}=c;i!==void 0&&uc.assertOptions(i,{silentJSONParsing:Aa.transitional(Aa.boolean),forcedJSONParsing:Aa.transitional(Aa.boolean),clarifyTimeoutError:Aa.transitional(Aa.boolean)},!1),u!=null&&(G.isFunction(u)?c.paramsSerializer={serialize:u}:uc.assertOptions(u,{encode:Aa.function,serialize:Aa.function},!0)),c.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?c.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:c.allowAbsoluteUrls=!0),uc.assertOptions(c,{baseUrl:Aa.spelling("baseURL"),withXsrfToken:Aa.spelling("withXSRFToken")},!0),c.method=(c.method||this.defaults.method||"get").toLowerCase();let h=f&&G.merge(f.common,f[c.method]);f&&G.forEach(["delete","get","head","post","put","patch","common"],b=>{delete f[b]}),c.headers=Bt.concat(h,f);const p=[];let g=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(c)===!1||(g=g&&C.synchronous,p.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let x,v=0,E;if(!g){const b=[Pp.bind(this),void 0];for(b.unshift.apply(b,p),b.push.apply(b,m),E=b.length,x=Promise.resolve(c);v<E;)x=x.then(b[v++],b[v++]);return x}E=p.length;let O=c;for(v=0;v<E;){const b=p[v++],C=p[v++];try{O=b(O)}catch(T){C.call(this,T);break}}try{x=Pp.call(this,O)}catch(b){return Promise.reject(b)}for(v=0,E=m.length;v<E;)x=x.then(m[v++],m[v++]);return x}getUri(n){n=bn(this.defaults,n);const c=ry(n.baseURL,n.url,n.allowAbsoluteUrls);return ty(c,n.params,n.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(n){yn.prototype[n]=function(c,i){return this.request(bn(i||{},{method:n,url:c,data:(i||{}).data}))}});G.forEach(["post","put","patch"],function(n){function c(i){return function(f,h,p){return this.request(bn(p||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}yn.prototype[n]=c(),yn.prototype[n+"Form"]=c(!0)});let uS=class fy{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let c;this.promise=new Promise(function(f){c=f});const i=this;this.promise.then(u=>{if(!i._listeners)return;let f=i._listeners.length;for(;f-- >0;)i._listeners[f](u);i._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(p=>{i.subscribe(p),f=p}).then(u);return h.cancel=function(){i.unsubscribe(f)},h},n(function(f,h,p){i.reason||(i.reason=new Sl(f,h,p),c(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const c=this._listeners.indexOf(n);c!==-1&&this._listeners.splice(c,1)}toAbortSignal(){const n=new AbortController,c=i=>{n.abort(i)};return this.subscribe(c),n.signal.unsubscribe=()=>this.unsubscribe(c),n.signal}static source(){let n;return{token:new fy(function(u){n=u}),cancel:n}}};function dS(s){return function(c){return s.apply(null,c)}}function fS(s){return G.isObject(s)&&s.isAxiosError===!0}const od={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(od).forEach(([s,n])=>{od[n]=s});function hy(s){const n=new yn(s),c=Qg(yn.prototype.request,n);return G.extend(c,yn.prototype,n,{allOwnKeys:!0}),G.extend(c,n,null,{allOwnKeys:!0}),c.create=function(u){return hy(bn(s,u))},c}const rt=hy(Yr);rt.Axios=yn;rt.CanceledError=Sl;rt.CancelToken=uS;rt.isCancel=ny;rt.VERSION=dy;rt.toFormData=Cc;rt.AxiosError=Ee;rt.Cancel=rt.CanceledError;rt.all=function(n){return Promise.all(n)};rt.spread=dS;rt.isAxiosError=fS;rt.mergeConfig=bn;rt.AxiosHeaders=Bt;rt.formToJSON=s=>sy(G.isHTMLForm(s)?new FormData(s):s);rt.getAdapter=uy.getAdapter;rt.HttpStatusCode=od;rt.default=rt;const{Axios:TN,AxiosError:wN,CanceledError:ON,isCancel:CN,CancelToken:AN,VERSION:RN,all:_N,Cancel:DN,isAxiosError:zN,spread:MN,toFormData:LN,AxiosHeaders:UN,HttpStatusCode:IN,formToJSON:kN,getAdapter:BN,mergeConfig:qN}=rt,hS="/api/",rl=rt.create({baseURL:hS,withCredentials:!0,timeout:15e3}),Wp=2,mS=1e3,pS=s=>new Promise(n=>setTimeout(n,s));rl.interceptors.request.use(s=>{const n=localStorage.getItem("accessToken");return n&&(s.headers.Authorization=`Bearer ${n}`),s},s=>Promise.reject(s));rl.interceptors.response.use(s=>s,async s=>{var c;const n=s.config;if(!n)return Promise.reject(s);if(n._retry===void 0&&(n._retry=0),((c=s.response)==null?void 0:c.status)===401&&n._retry===0)try{n._retry=1;const i=await rl.post("/auth/refresh"),{accessToken:u}=i.data;return localStorage.setItem("accessToken",u),n.headers||(n.headers={}),n.headers.Authorization=`Bearer ${u}`,rl(n)}catch(i){return localStorage.removeItem("accessToken"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(i)}if((s.code==="ECONNABORTED"||s.message.includes("timeout")||s.code==="ERR_NETWORK"||s.response&&s.response.status>=500)&&n._retry<Wp){n._retry+=1;const i=mS*2**(n._retry-1);return console.log(`Retrying request (${n._retry}/${Wp}) after ${i}ms...`),await pS(i),rl(n)}return Promise.reject(s)});const Ae={async get(s,n=null,c={}){return nc("GET",s,null,n,c)},async post(s,n=null,c={}){return nc("POST",s,n,null,c)},async put(s,n=null,c={}){return nc("PUT",s,n,null,c)},async delete(s,n=null,c={}){return nc("DELETE",s,n,null,c)}};async function nc(s,n,c=null,i=null,u={}){var f,h,p;try{return(await rl({method:s,url:n,data:c,params:i,...u})).data}catch(g){console.error(`Error ${s} ${n}:`,{message:g.message,status:(f=g.response)==null?void 0:f.status,data:(h=g.response)==null?void 0:h.data,endpoint:n,params:i});let m="An unexpected error occurred";throw g.response?(p=g.response.data)!=null&&p.error?m=g.response.data.error:g.response.status===404?m=`The requested resource was not found (${n})`:g.response.status===403?m="You do not have permission to perform this action":g.response.status===401?m="Your session has expired. Please login again":g.response.status>=500&&(m="A server error occurred. Please try again later"):g.request&&(g.code==="ECONNABORTED"||g.message.includes("timeout")?m="The request timed out. Please check your connection and try again":m="Network error - unable to connect to the server. Please check your connection"),new Error(m)}}const xc=bl(s=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,initialize:()=>{const n=localStorage.getItem("user"),c=localStorage.getItem("accessToken");if(n&&c)try{const i=JSON.parse(n);s({user:i,isAuthenticated:!0})}catch{localStorage.removeItem("user"),localStorage.removeItem("accessToken")}},login:async(n,c)=>{s({isLoading:!0,error:null});try{const i=await Ae.post("auth/login",{email:n,password:c});return localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("user",JSON.stringify(i.teacher)),s({user:i.teacher,isAuthenticated:!0,isLoading:!1}),i.teacher}catch(i){const u=i instanceof Error?i.message:"Login failed";throw s({error:u,isLoading:!1}),i}},logout:async()=>{s({isLoading:!0});try{await Ae.post("auth/logout")}catch(n){console.error("Logout failed:",n)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("user"),s({user:null,isAuthenticated:!1,isLoading:!1})}},clearError:()=>{s({error:null})}}));function Hs(){var C;const s=Fg(),n=ma(),{user:c,isAuthenticated:i,isLoading:u,error:f,login:h,logout:p,clearError:g}=xc(),m=Ip({mutationFn:T=>h(T.email,T.password),onSuccess:()=>{s.invalidateQueries({queryKey:["user"]}),n("/dashboard")}}),x=Ip({mutationFn:()=>p(),onSuccess:()=>{s.clear(),n("/login")}});function v(T,z){return g(),m.mutate({email:T,password:z})}function E(){return x.mutate()}const O=u||m.isPending||x.isPending,b=f||((C=m.error)==null?void 0:C.message)||void 0;return{user:c,isAuthenticated:i,isLoading:O,error:b,login:v,logout:E,clearError:g}}const my=j.createContext(void 0);function gS({children:s}){const[n,c]=j.useState(()=>{const u=localStorage.getItem("theme");return u||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});j.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)},[n]),j.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),f=h=>{localStorage.getItem("theme")||c(h.matches?"dark":"light")};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[]);const i=()=>{c(u=>u==="light"?"dark":"light")};return r.jsx(my.Provider,{value:{theme:n,toggleTheme:i},children:s})}function py(){const s=j.useContext(my);if(s===void 0)throw new Error("useTheme must be used within a ThemeProvider");return s}function yS(){const[s,n]=j.useState(""),[c,i]=j.useState(""),{login:u,isAuthenticated:f,isLoading:h,error:p,clearError:g}=Hs(),{theme:m,toggleTheme:x}=py();if(f)return r.jsx(mc,{to:"/dashboard",replace:!0});function v(b){b.preventDefault(),!(!s||!c)&&u(s,c)}function E(b){g(),n(b.target.value)}function O(b){g(),i(b.target.value)}return r.jsx("div",{className:"login-page",children:r.jsxs("div",{className:"login-form",children:[r.jsx("button",{className:"theme-toggle",onClick:x,"aria-label":"Toggle theme",children:m==="dark"?r.jsx(zg,{className:"icon"}):r.jsx(_g,{className:"icon"})}),r.jsx("h1",{children:"התחברות"}),p&&r.jsx("div",{className:"error-message",children:p}),r.jsxs("form",{className:"form-section",onSubmit:v,children:[r.jsxs("div",{className:"input-container",children:[r.jsx("input",{type:"email",id:"email",className:s?"has-value":"",placeholder:"",autoComplete:"off",required:!0,value:s,onChange:E}),r.jsx("label",{htmlFor:"email",children:"מייל"}),r.jsx(Ur,{className:"input-icon"})]}),r.jsxs("div",{className:"input-container",children:[r.jsx("input",{type:"password",id:"password",className:c?"has-value":"",placeholder:"",required:!0,value:c,onChange:O}),r.jsx("label",{htmlFor:"password",children:"סיסמה"}),r.jsx(Yb,{className:"input-icon"})]}),r.jsx("button",{className:"btn",type:"submit",disabled:h,children:h?"מתחבר...":"התחבר"}),r.jsxs("div",{className:"forgot-password",children:[r.jsx("p",{children:"שכחת סיסמה?"}),r.jsx("a",{href:"#",children:"לחץ כאן"})]})]})]})})}function gy(s){const n={};if(s.personalInfo&&(n.personalInfo={...s.personalInfo}),s.roles&&(console.log("Including roles for update:",s.roles),n.roles=Array.isArray(s.roles)?[...s.roles]:[]),s.professionalInfo&&(n.professionalInfo={...s.professionalInfo}),s.isActive!==void 0&&(n.isActive=s.isActive),s.conducting&&(n.conducting={orchestraIds:Array.isArray(s.conducting.orchestraIds)?[...s.conducting.orchestraIds]:[]}),s.ensemblesIds&&(n.ensemblesIds=Array.isArray(s.ensemblesIds)?[...s.ensemblesIds]:[]),s.schoolYears&&(n.schoolYears=[...s.schoolYears]),s.teaching&&(n.teaching={},Array.isArray(s.teaching.studentIds)&&(n.teaching.studentIds=[...s.teaching.studentIds]),s.teaching.schedule&&s.teaching.schedule.length>0)){const c=s.teaching.schedule.filter(i=>i.studentId&&i.day&&i.time&&typeof i.duration=="number"&&[30,45,60].includes(i.duration));c.length>0&&(n.teaching.schedule=c.map(i=>({studentId:i.studentId,day:i.day,time:i.time,duration:i.duration})))}return console.log("Prepared teacher data for update:",JSON.stringify(n,null,2)),n}function vS(s){var c;const n=gy(s);return s.credentials&&(n.credentials={email:((c=s.personalInfo)==null?void 0:c.email)||s.credentials.email||"",password:s.credentials.password||""}),n}const da={async getTeachers(s={}){try{return await Ae.get("teacher",s)}catch(n){throw console.error("Failed to get teachers:",n),new Error("Failed to load teachers. Please try again later.")}},async getTeacherById(s){try{return await Ae.get(`teacher/${s}`)}catch(n){throw console.error(`Failed to get teacher with ID ${s}:`,n),new Error("Failed to load teacher details. Please try again later.")}},async getTeachersByIds(s){if(!s||s.length===0)return[];try{const n=s.map(u=>this.getTeacherById(u).catch(f=>(console.error(`Failed to fetch teacher ${u}:`,f),null)));return(await Promise.allSettled(n)).filter(u=>u.status==="fulfilled"&&u.value!==null).map(u=>u.value)}catch(n){return console.error("Failed to fetch teachers by IDs:",n),[]}},async getTeachersByRole(s){try{return await Ae.get(`teacher/role/${s}`)}catch(n){throw console.error(`Failed to get teachers with role ${s}:`,n),new Error(`Failed to load teachers with role ${s}. Please try again later.`)}},async getTeachersByOrchestraId(s){return this.getTeachers({orchestraId:s})},async getTeachersByStudentId(s){return this.getTeachers({studentId:s})},async addTeacher(s){const n=vS(s);console.log("Creating new teacher with data:",n);try{return await Ae.post("teacher",n)}catch(c){throw console.error("Failed to add new teacher:",c),new Error("Failed to create new teacher. Please check your inputs and try again.")}},async updateTeacher(s,n){const c=gy(n);console.log("Updating teacher with prepared data:",c);try{return await Ae.put(`teacher/${s}`,c)}catch(i){throw console.error(`Failed to update teacher ${s}:`,i),new Error("Failed to update teacher information. Please try again later.")}},async removeTeacher(s){try{return await Ae.delete(`teacher/${s}`)}catch(n){throw console.error(`Failed to remove teacher ${s}:`,n),new Error("Failed to remove teacher. Please try again later.")}},async updateTeacherSchedule(s,n){try{return await Ae.post(`teacher/${s}/schedule`,n)}catch(c){throw console.error(`Failed to update schedule for teacher ${s}:`,c),new Error("Failed to update teacher schedule. Please try again later.")}},async addOrchestra(s,n){try{return await Ae.post(`teacher/${s}/orchestra`,{orchestraId:n})}catch(c){throw console.error(`Failed to add orchestra ${n} to teacher ${s}:`,c),new Error("Failed to associate orchestra with teacher. Please try again later.")}},async removeOrchestra(s,n){try{return await Ae.delete(`teacher/${s}/orchestra/${n}`)}catch(c){throw console.error(`Failed to remove orchestra ${n} from teacher ${s}:`,c),new Error("Failed to remove orchestra from teacher. Please try again later.")}}},ks=bl((s,n)=>({teachers:[],selectedTeacher:null,isLoading:!1,error:null,dataInitialized:!1,loadTeachers:async(c={})=>{s({isLoading:!0,error:null});try{const i=await da.getTeachers(c);return s({teachers:i,isLoading:!1,dataInitialized:!0}),i}catch(i){const u=i instanceof Error?i.message:"Failed to load teachers";throw s({error:u,isLoading:!1}),i}},loadBasicTeacherData:async()=>{if(!n().dataInitialized){console.log("Initializing basic teacher data..."),s({isLoading:!0,error:null});try{const c=await da.getTeachers({isActive:!0});s({teachers:c,isLoading:!1,dataInitialized:!0}),console.log(`Loaded ${c.length} teachers successfully`)}catch(c){const i=c instanceof Error?c.message:"Failed to load essential teacher data";s({error:i,isLoading:!1}),console.error("Teacher data initialization failed:",i)}}},loadTeacherById:async c=>{s({isLoading:!0,error:null});try{const i=n().teachers.find(p=>p._id===c);if(i)return s({selectedTeacher:i,isLoading:!1}),i;const u=await da.getTeacherById(c),f=[...n().teachers],h=f.findIndex(p=>p._id===u._id);return h>=0?f[h]=u:f.push(u),s({selectedTeacher:u,teachers:f,isLoading:!1}),u}catch(i){const u=i instanceof Error?i.message:"Failed to load teacher";throw s({error:u,isLoading:!1}),i}},saveTeacher:async(c,i)=>{s({isLoading:!0,error:null});try{let u;i?u=await da.updateTeacher(i,c):u=await da.addTeacher(c);const f=[...n().teachers],h=f.findIndex(p=>p._id===u._id);return h>=0?f[h]=u:f.push(u),s({teachers:f,selectedTeacher:u,isLoading:!1}),u}catch(u){const f=u instanceof Error?u.message:"Failed to save teacher";throw s({error:f,isLoading:!1}),u}},removeTeacher:async c=>{var i;s({isLoading:!0,error:null});try{await da.removeTeacher(c);const u=n().teachers.filter(f=>f._id!==c);s({teachers:u,selectedTeacher:((i=n().selectedTeacher)==null?void 0:i._id)===c?null:n().selectedTeacher,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove teacher";throw s({error:f,isLoading:!1}),u}},setSelectedTeacher:c=>{s({selectedTeacher:c})},clearError:()=>{s({error:null})},clearSelectedTeacher:()=>{s({selectedTeacher:null})}})),xS=["Workshop","Seminar","Conference","Networking Event","Other"],bS=["Morning (9AM - 12PM)","Afternoon (1PM - 4PM)","Evening (5PM - 8PM)"];function jS(){const[s,n]=j.useState({firstName:"",lastName:"",email:"",phone:"",topic:"",preferredSlot:""}),[c,i]=j.useState(!1),u=h=>{const{name:p,value:g}=h.target;n(m=>({...m,[p]:g}))},f=async h=>{h.preventDefault(),i(!0);try{await new Promise(p=>setTimeout(p,1e3)),n({firstName:"",lastName:"",email:"",phone:"",topic:"",preferredSlot:""}),alert("Registration successful!")}catch{alert("Registration failed. Please try again.")}finally{i(!1)}};return r.jsx("div",{className:"event-registration-page",children:r.jsxs("div",{className:"glass-form",children:[r.jsx("h2",{children:"Event Registration"}),r.jsx("p",{children:"Register with us to get more details."}),r.jsxs("form",{onSubmit:f,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("label",{children:"Name"}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:u,placeholder:"First",required:!0})}),r.jsx("div",{className:"form-group",children:r.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:u,placeholder:"Last",required:!0})})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Email"}),r.jsx("input",{type:"email",name:"email",value:s.email,onChange:u,placeholder:"email@example.com",required:!0})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:u,placeholder:"+1 (555) 000-0000"})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Topic"}),r.jsxs("select",{name:"topic",value:s.topic,onChange:u,required:!0,children:[r.jsx("option",{value:"",children:"Select a topic"}),xS.map(h=>r.jsx("option",{value:h,children:h},h))]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"Preferred Slot"}),r.jsxs("select",{name:"preferredSlot",value:s.preferredSlot,onChange:u,required:!0,children:[r.jsx("option",{value:"",children:"Select a time"}),bS.map(h=>r.jsx("option",{value:h,children:h},h))]})]})]}),r.jsx("div",{className:"form-actions",children:r.jsx("button",{type:"submit",className:"btn-submit",disabled:c,children:c?"Submitting...":"Sign me up"})})]})]})})}const SS=j.createContext({isVisible:!0,setIsVisible:()=>{},hideNavbar:()=>{},showNavbar:()=>{},hideForModal:()=>{},showAfterModal:()=>{}}),NS=()=>j.useContext(SS);function Fr(){const n=qt().pathname,{isVisible:c}=NS(),i=[{path:"/teachers",label:"מורים",icon:Rg},{path:"/students",label:"תלמידים",icon:Br},{path:"/dashboard",label:"בית",icon:qb,isHome:!0},{path:"/orchestras",label:"תזמורות",icon:vt},{path:"/rehearsals",label:"לוח חזרות",icon:st}];return r.jsx("nav",{className:`bottom-nav mounted ${c?"scroll-up":"scroll-down"}`,children:r.jsx("div",{className:"nav-items",children:i.map(u=>{const f=n===u.path||u.path==="/dashboard"&&n==="/"||u.path!=="/dashboard"&&n.startsWith(u.path);return r.jsxs(wr,{to:u.path,className:`nav-item ${f?"active":""} ${u.isHome?"home":""}`,"aria-label":u.label,children:[r.jsx(u.icon,{className:"nav-icon",strokeWidth:u.isHome?2.5:2}),!u.isHome&&r.jsx("span",{className:"nav-label",children:u.label})]},u.path)})})})}function ES(){return r.jsxs("div",{className:"dashboard-container",children:[r.jsx("h1",{children:"Dashboard"}),r.jsx(Fr,{})]})}const Xe={async getStudents(s={}){return Ae.get("student",s)},async getStudentById(s){return Ae.get(`student/${s}`)},async getStudentsByIds(s){return!s||s.length===0?[]:(await this.getStudents()).filter(c=>s.includes(c._id))},async getStudentsByOrchestraId(s){return this.getStudents({orchestraId:s})},async getStudentsByTeacherId(s){return this.getStudents({teacherId:s})},async addStudent(s){return Ae.post("student",s)},async updateStudent(s,n){const{_id:c,createdAt:i,updatedAt:u,...f}=n;return Ae.put(`student/${s}`,f)},async removeStudent(s){return Ae.delete(`student/${s}`)},async updateTeacherSchedule(s,n){if(!n.studentId||!n.day||!n.time||!n.duration)throw new Error("Invalid schedule data: All fields are required");return console.log(`Updating teacher ${s} schedule with:`,n),Ae.post(`teacher/${s}/schedule`,n)},async getStudentAttendanceStats(s,n){try{return Ae.get(`orchestra/${s}/student/${n}/attendance`)}catch(c){return console.error("Failed to get student attendance stats:",c),{attendanceRate:0,attended:0,totalRehearsals:0,recentHistory:[],message:"Failed to load attendance data"}}}},Sn=bl((s,n)=>({students:[],selectedStudent:null,filterBy:{},isLoading:!1,error:null,loadStudents:async(c={})=>{s({isLoading:!0,error:null});try{const i={...n().filterBy,...c},u=await Xe.getStudents(i);s({students:u,filterBy:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load students";s({error:u,isLoading:!1}),console.error("Error loading students:",i)}},loadStudentById:async c=>{s({isLoading:!0,error:null});try{const i=await Xe.getStudentById(c);s({selectedStudent:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load student";s({error:u,isLoading:!1}),console.error("Error loading student:",i)}},saveStudent:async c=>{s({isLoading:!0,error:null});try{let i;if(c._id){const u=c._id;i=await Xe.updateStudent(u,c);const f=n().students.map(h=>h._id===i._id?i:h);s({students:f,selectedStudent:i,isLoading:!1})}else i=await Xe.addStudent(c),s({students:[...n().students,i],selectedStudent:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save student";throw s({error:u,isLoading:!1}),console.error("Error saving student:",i),i}},removeStudent:async c=>{var i;s({isLoading:!0,error:null});try{await Xe.removeStudent(c),s({students:n().students.filter(u=>u._id!==c),selectedStudent:((i=n().selectedStudent)==null?void 0:i._id)===c?null:n().selectedStudent,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove student";throw s({error:f,isLoading:!1}),console.error("Error removing student:",u),u}},getStudentsByIds:async c=>{if(!c||c.length===0)return[];s({isLoading:!0,error:null});try{const u=n().students,f=u.map(m=>m._id),h=c.filter(m=>!f.includes(m));let p=[...u];if(h.length>0){const m=await Xe.getStudentsByIds(h);p=[...u],m.forEach(x=>{p.some(v=>v._id===x._id)||p.push(x)}),s({students:p})}const g=p.filter(m=>c.includes(m._id));return s({isLoading:!1}),g}catch(i){const u=i instanceof Error?i.message:"Failed to load students by IDs";return s({error:u,isLoading:!1}),console.error("Error loading students by IDs:",i),[]}},setFilter:c=>{s({filterBy:{...n().filterBy,...c}})},clearSelectedStudent:()=>{s({selectedStudent:null})},clearError:()=>{s({error:null})}})),za={async getOrchestras(s={}){return Ae.get("orchestra",s)},async getOrchestraById(s){return Ae.get(`orchestra/${s}`)},async getOrchestrasByIds(s){return!s||s.length===0?[]:(await this.getOrchestras()).filter(c=>s.includes(c._id))},async getOrchestrasByConductorId(s){return this.getOrchestras({conductorId:s})},async getOrchestrasByStudentId(s){return this.getOrchestras({memberIds:s})},async addOrchestra(s){return Ae.post("orchestra",s)},async updateOrchestra(s,n){const{_id:c,...i}=n;return Ae.put(`orchestra/${s}`,i)},async removeOrchestra(s){return Ae.delete(`orchestra/${s}`)},async addMember(s,n){try{const c=await Ae.post(`orchestra/${s}/members`,{studentId:n}),i=await Xe.getStudentById(n);return i.enrollments.orchestraIds.includes(s)||await Xe.updateStudent(n,{enrollments:{...i.enrollments,orchestraIds:[...i.enrollments.orchestraIds,s]}}),c}catch(c){throw console.error("Error adding member to orchestra:",c),c}},async removeMember(s,n){try{const c=await Ae.delete(`orchestra/${s}/members/${n}`),i=await Xe.getStudentById(n);return await Xe.updateStudent(n,{enrollments:{...i.enrollments,orchestraIds:i.enrollments.orchestraIds.filter(u=>u!==s)}}),c}catch(c){throw console.error("Error removing member from orchestra:",c),c}},async updateMembers(s,n,c=[]){try{const i=await this.updateOrchestra(s,{memberIds:n}),u=n.filter(h=>!c.includes(h)),f=c.filter(h=>!n.includes(h));for(const h of u){const p=await Xe.getStudentById(h);p.enrollments.orchestraIds.includes(s)||await Xe.updateStudent(h,{enrollments:{...p.enrollments,orchestraIds:[...p.enrollments.orchestraIds,s]}})}for(const h of f){const p=await Xe.getStudentById(h);await Xe.updateStudent(h,{enrollments:{...p.enrollments,orchestraIds:p.enrollments.orchestraIds.filter(g=>g!==s)}})}return i}catch(i){throw console.error("Error updating orchestra members:",i),i}},async getRehearsalAttendance(s,n){return Ae.get(`orchestra/${s}/rehearsals/${n}/attendance`)},async updateRehearsalAttendance(s,n,c){return Ae.put(`orchestra/${s}/rehearsals/${n}/attendance`,c)},async getStudentAttendanceStats(s,n){return Ae.get(`orchestra/${s}/student/${n}/attendance`)},async syncOrchestraMembers(s){try{const n=await this.getOrchestraById(s),u=(await Xe.getStudents()).filter(p=>p.enrollments.orchestraIds.includes(s)).map(p=>p._id),f=u.filter(p=>!n.memberIds.includes(p)),h=n.memberIds.filter(p=>!u.includes(p));if(f.length>0){const p=[...n.memberIds,...f];await this.updateOrchestra(s,{memberIds:p})}for(const p of h){const g=await Xe.getStudentById(p);await Xe.updateStudent(p,{enrollments:{...g.enrollments,orchestraIds:g.enrollments.orchestraIds.filter(m=>m!==s)}})}}catch(n){throw console.error("Error syncing orchestra members:",n),n}},getOrchestraTypeDisplay(s){return{תזמורת:"תזמורת",הרכב:"הרכב"}[s]||s},getValidOrchestraTypes(){return["תזמורת","הרכב"]},getValidOrchestraNames(){return["תזמורת מתחילים נשיפה","תזמורת עתודה נשיפה","תזמורת צעירה נשיפה","תזמורת יצוגית נשיפה","תזמורת סימפונית"]}};function TS({student:s,onView:n,onEdit:c,onRemove:i}){var T,z,A,R,U;const[u,f]=j.useState([]);j.useEffect(()=>{(async()=>{var k;if((k=s.enrollments)!=null&&k.orchestraIds&&s.enrollments.orchestraIds.length>0)try{const J=(await za.getOrchestrasByIds(s.enrollments.orchestraIds)).map(V=>V.name);f(J)}catch(Q){console.error("Error fetching orchestra data:",Q),f([])}})()},[(T=s.enrollments)==null?void 0:T.orchestraIds]);const h=D=>{const k=["var(--stage-1)","var(--stage-2)","var(--stage-3)","var(--stage-4)","var(--stage-5)","var(--stage-6)","var(--stage-7)","var(--stage-8)"];return k[D-1]||k[0]},p=D=>{switch(D){case"עבר/ה":case"עבר/ה בהצלחה":case"עבר/ה בהצטיינות":return"var(--success)";case"לא עבר/ה":return"var(--danger)";default:return"var(--text-muted)"}},g=D=>D.split(" ").map(k=>k[0]).join("").toUpperCase().substring(0,2),m=()=>u.length===0?"ללא תזמורת":u.join(" || "),x=()=>!s.academicInfo.instrumentProgress||s.academicInfo.instrumentProgress.length===0?"ללא כלי נגינה":s.academicInfo.instrumentProgress.slice(0,2).map(k=>k.instrumentName).join(" - "),E=(()=>{var D,k;return((D=s.academicInfo.instrumentProgress)==null?void 0:D.find(Q=>Q.isPrimary))||(((k=s.academicInfo.instrumentProgress)==null?void 0:k.length)>0?s.academicInfo.instrumentProgress[0]:null)})(),O=(E==null?void 0:E.currentStage)||1,b=((A=(z=E==null?void 0:E.tests)==null?void 0:z.technicalTest)==null?void 0:A.status)||"לא נבחן",C=((U=(R=E==null?void 0:E.tests)==null?void 0:R.stageTest)==null?void 0:U.status)||"לא נבחן";return r.jsxs("div",{className:"student-preview",onClick:()=>n(s._id),children:[r.jsx("div",{className:"preview-header",children:r.jsxs("div",{className:"header-row",children:[r.jsxs("div",{className:"student-details",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:h(O)},children:g(s.personalInfo.fullName)})}),r.jsxs("div",{className:"student-info",children:[r.jsx("h3",{className:"student-name",children:s.personalInfo.fullName}),r.jsx("div",{className:"student-subject",children:r.jsx("span",{children:x()})})]})]}),r.jsxs("div",{className:"badges-container",children:[s.academicInfo.instrumentProgress&&s.academicInfo.instrumentProgress.length>0&&r.jsx("div",{className:"instrument-badges",children:s.academicInfo.instrumentProgress.map(D=>r.jsxs("div",{className:"instrument-stage-badge",style:{backgroundColor:h(D.currentStage)},children:[D.instrumentName,": שלב ",D.currentStage]},D.instrumentName))}),r.jsx("div",{className:"grade-badge",style:{backgroundColor:"#348b49"},children:r.jsxs("span",{children:["כיתה ",s.academicInfo.class]})})]})]})}),r.jsxs("div",{className:"preview-content",children:[r.jsx("div",{className:"info-row",children:r.jsxs("div",{className:"info-item",children:[r.jsx(xd,{size:16}),r.jsx("span",{children:m()})]})}),E&&r.jsxs("div",{className:"tests-section",children:[r.jsxs("div",{className:"test-item",children:[r.jsx("div",{className:"test-label",children:"מבחן טכני:"}),r.jsx("div",{className:"test-status",style:{color:p(b)},children:b})]}),r.jsxs("div",{className:"test-item",children:[r.jsx("div",{className:"test-label",children:"מבחן שלב:"}),r.jsx("div",{className:"test-status",style:{color:p(C)},children:C})]})]})]}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:D=>{D.stopPropagation(),n(s._id)},"aria-label":"הצג פרטי תלמיד",children:r.jsx(Lr,{size:16})}),r.jsx("button",{className:"action-btn edit",onClick:D=>{D.stopPropagation(),c(s._id)},"aria-label":"ערוך תלמיד",children:r.jsx(vn,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:D=>{D.stopPropagation(),i(s._id)},"aria-label":"מחק תלמיד",children:r.jsx(kr,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(st,{size:14}),r.jsx("span",{children:new Date(s.createdAt).toLocaleDateString("he-IL")})]})]})]})}function wS({students:s,isLoading:n,onEdit:c,onView:i,onRemove:u}){return n&&s.length===0?r.jsx("div",{className:"loading-state",children:"טוען תלמידים..."}):s.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"לא נמצאו תלמידים להצגה"}),r.jsx("p",{children:"נסה לשנות את מסנני החיפוש או להוסיף תלמידים חדשים"})]}):r.jsx("div",{className:"student-grid",children:s.map(f=>r.jsx(TS,{student:f,onEdit:c,onView:i||c,onRemove:u},f._id))})}const OS="/assets/logo-reKfKP0d.png";function _c(){const[s,n]=j.useState(!1),{user:c,logout:i}=Hs(),{theme:u,toggleTheme:f}=py(),h=j.useRef(null);j.useEffect(()=>{function x(v){h.current&&!h.current.contains(v.target)&&n(!1)}return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]);function p(){i()}function g(){n(x=>!x)}const m=c!=null&&c.fullName?c.fullName.split(" ").map(x=>x[0]).join("").substring(0,2).toUpperCase():"U";return r.jsx("header",{className:"header",children:r.jsxs("div",{className:"header-container",children:[r.jsxs("div",{className:"right-section",style:{display:"flex",alignItems:"center"},children:[c&&r.jsxs("div",{className:"user-container",ref:h,children:[r.jsx("div",{className:"avatar-wrapper",onClick:g,children:r.jsx("div",{className:"avatar-circle",children:c.avatarUrl?r.jsx("img",{src:c.avatarUrl,alt:"Avatar",className:"user-avatar"}):r.jsx("div",{className:"avatar-placeholder",children:m})})}),s&&r.jsxs("div",{className:"dropdown-menu",children:[r.jsxs("div",{className:"user-info",children:[r.jsx("div",{className:"user-name",children:c.fullName}),r.jsx("div",{className:"user-email",children:c.email})]}),r.jsxs(wr,{to:"/profile",className:"dropdown-item",children:[r.jsx(Zt,{className:"dropdown-icon",strokeWidth:2}),r.jsx("span",{children:"פרופיל אישי"})]}),r.jsx("div",{className:"dropdown-divider"}),r.jsxs("button",{className:"dropdown-item logout-btn",onClick:p,children:[r.jsx(Qb,{className:"dropdown-icon",strokeWidth:2}),r.jsx("span",{children:"התנתק"})]})]})]}),r.jsx("button",{className:"theme-toggle",onClick:f,"aria-label":"Toggle theme",children:u==="dark"?r.jsx(zg,{className:"icon"}):r.jsx(_g,{className:"icon"})})]}),r.jsx("div",{className:"logo-container",children:r.jsx(wr,{to:"/dashboard",className:"logo-link",children:r.jsx("img",{src:OS,alt:"Logo",className:"logo-image"})})})]})})}function wd({onSearch:s,placeholder:n="חיפוש...",className:c=""}){const[i,u]=j.useState(""),f=p=>{const g=p.target.value;u(g),s(g)},h=()=>{u(""),s("")};return r.jsx("div",{className:`search-bar-container ${c}`,children:r.jsxs("div",{className:"search-bar",children:[r.jsx(pc,{className:"search-icon",size:18}),r.jsx("input",{type:"text",value:i,onChange:f,placeholder:n,className:"search-input"}),i&&r.jsx("button",{className:"clear-button",onClick:h,children:r.jsx(zt,{size:16})})]})})}function Od(s,n){const[c,i]=j.useState(""),u=Array.isArray(s)?s:[],[f,h]=j.useState(u);j.useEffect(()=>{console.log("useSearchbar entities update:",{isArray:Array.isArray(s),length:Array.isArray(s)?s.length:"n/a",type:typeof s}),c?p(c):h(u)},[s,c]);const p=m=>{if(!m){h(u);return}const x=m.toLowerCase(),v=u.filter(E=>{try{const O=typeof n=="function"?n(E):n.map(b=>{const C=E[b];return C?String(C):""});return Array.isArray(O)?O.some(b=>typeof b!="string"?(console.error("Expected field value to be a string but got:",typeof b),!1):b.toLowerCase().includes(x)):(console.error("Expected fieldsToSearch to be an array but got:",typeof O),!1)}catch(O){return console.error("Error filtering entity:",O),!1}});h(v)},g=m=>{i(m),p(m)};return{filteredEntities:Array.isArray(f)?f:[],handleSearch:g,searchQuery:c}}const Nl=bl(s=>({schoolYears:[],currentSchoolYear:null,isLoading:!1,error:null,loadSchoolYears:async()=>{s({isLoading:!0,error:null});try{const n=await Ae.get("school-year");s({schoolYears:n,isLoading:!1})}catch(n){const c=n instanceof Error?n.message:"Failed to load school years";s({error:c,isLoading:!1}),console.error("Error loading school years:",n)}},loadCurrentSchoolYear:async()=>{s({isLoading:!0,error:null});try{const n=await Ae.get("school-year/current");s({currentSchoolYear:n,isLoading:!1})}catch(n){const c=n instanceof Error?n.message:"Failed to load current school year";s({error:c,isLoading:!1}),console.error("Error loading current school year:",n)}}}));function CS(){return{validateStudentForm:j.useCallback(n=>{var i,u,f,h,p,g,m,x;const c={};return(i=n.personalInfo)!=null&&i.fullName||(c["personalInfo.fullName"]="שם מלא הוא שדה חובה"),(u=n.personalInfo)!=null&&u.phone&&!/^05\d{8}$/.test(n.personalInfo.phone)&&(c["personalInfo.phone"]="מספר טלפון לא תקין (צריך להתחיל ב-05 ולכלול 10 ספרות)"),(f=n.personalInfo)!=null&&f.parentPhone&&!/^05\d{8}$/.test(n.personalInfo.parentPhone)&&(c["personalInfo.parentPhone"]="מספר טלפון הורה לא תקין (צריך להתחיל ב-05 ולכלול 10 ספרות)"),(h=n.personalInfo)!=null&&h.parentEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.personalInfo.parentEmail)&&(c["personalInfo.parentEmail"]="כתובת אימייל הורה לא תקינה"),(p=n.personalInfo)!=null&&p.studentEmail&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.personalInfo.studentEmail)&&(c["personalInfo.studentEmail"]="כתובת אימייל תלמיד לא תקינה"),(!((g=n.academicInfo)!=null&&g.instrumentProgress)||n.academicInfo.instrumentProgress.length===0)&&(c["academicInfo.instrumentProgress"]="יש לבחור לפחות כלי נגינה אחד"),(m=n.academicInfo)!=null&&m.instrumentProgress&&n.academicInfo.instrumentProgress.length>0&&!n.academicInfo.instrumentProgress.some(v=>v.isPrimary)&&(c["academicInfo.instrumentProgress.primary"]="יש לבחור כלי נגינה ראשי"),(x=n.academicInfo)!=null&&x.class||(c["academicInfo.class"]="כיתה היא שדה חובה"),n.teacherAssignments.forEach((v,E)=>{v.day||(c[`teacherAssignment.${E}.day`]="יש לבחור יום לשיעור"),v.time||(c[`teacherAssignment.${E}.time`]="יש לבחור שעה לשיעור"),v.duration||(c[`teacherAssignment.${E}.duration`]="יש לבחור משך שיעור")}),c},[])}}function AS({instrumentProgress:s,updateFormData:n,clearError:c}){const i=j.useCallback(g=>{n(m=>{if(m.academicInfo.instrumentProgress.some(E=>E.instrumentName===g))return m;const v={instrumentName:g,isPrimary:m.academicInfo.instrumentProgress.length===0,currentStage:1,tests:{stageTest:{status:"לא נבחן",notes:"",lastTestDate:null,nextTestDate:null},technicalTest:{status:"לא נבחן",notes:"",lastTestDate:null,nextTestDate:null}}};return{...m,academicInfo:{...m.academicInfo,instrumentProgress:[...m.academicInfo.instrumentProgress,v]}}}),c("academicInfo.instrumentProgress")},[n,c]),u=j.useCallback(g=>{n(m=>{if(m.academicInfo.instrumentProgress.length<=1)return m;let v=[...m.academicInfo.instrumentProgress.filter(E=>E.instrumentName!==g)];return!v.some(E=>E.isPrimary)&&v.length>0&&(v=v.map((E,O)=>({...E,isPrimary:O===0}))),{...m,academicInfo:{...m.academicInfo,instrumentProgress:v}}})},[n]),f=j.useCallback(g=>{n(m=>{const x=m.academicInfo.instrumentProgress.map(v=>({...v,isPrimary:v.instrumentName===g}));return{...m,academicInfo:{...m.academicInfo,instrumentProgress:x}}}),c("academicInfo.instrumentProgress.primary")},[n,c]),h=j.useCallback((g,m,x)=>{n(v=>{const E=v.academicInfo.instrumentProgress.map(O=>O.instrumentName===g?{...O,[m]:x}:O);return{...v,academicInfo:{...v.academicInfo,instrumentProgress:E}}}),c(`academicInfo.instrumentProgress.${m}`)},[n,c]),p=j.useCallback((g,m,x,v)=>{n(E=>{const O=E.academicInfo.instrumentProgress.map(b=>{if(b.instrumentName===g){const C=b.tests||{},T=C[m]||{},z={...T,[x]:v};let A=b.currentStage;return m==="stageTest"&&x==="status"&&(v==="עבר/ה"||v==="עבר/ה בהצלחה"||v==="עבר/ה בהצטיינות")&&T.status==="לא נבחן"&&A<8&&(A+=1),{...b,currentStage:A,tests:{...C,[m]:z}}}return b});return{...E,academicInfo:{...E.academicInfo,instrumentProgress:O}}})},[n]);return{addInstrument:i,removeInstrument:u,setPrimaryInstrument:f,updateInstrumentProgress:h,updateInstrumentTest:p,getAvailableInstruments:j.useCallback(()=>{const g=s.map(m=>m.instrumentName);return zS.filter(m=>!g.includes(m))},[s]),getPrimaryInstrument:j.useCallback(()=>s.find(g=>g.isPrimary)||null,[s])}}function RS({updateFormData:s}){const n=j.useCallback(i=>{if(!i.teacherId||!i.day||!i.time||i.duration===void 0||i.duration===null){console.error("Invalid teacher assignment data:",i);return}s(u=>{const f=[...u.teacherAssignments,i],h=Array.from(new Set(f.map(p=>p.teacherId)));return{...u,teacherAssignments:f,teacherIds:h}})},[s]),c=j.useCallback((i,u,f)=>{s(h=>{const p=h.teacherAssignments.filter(m=>!(m.teacherId===i&&m.day===u&&m.time===f));new Set(p.map(m=>m.teacherId));const g=Array.from(new Set(p.map(m=>m.teacherId)));return{...h,teacherAssignments:p,teacherIds:g}})},[s]);return{addTeacherAssignment:n,removeTeacherAssignment:c}}function _S({updateFormData:s}){const n=j.useCallback(i=>{s(u=>u.orchestraAssignments.some(h=>h.orchestraId===i)?u:{...u,orchestraAssignments:[...u.orchestraAssignments,{orchestraId:i}],enrollments:{...u.enrollments,orchestraIds:Array.from(new Set([...u.enrollments.orchestraIds,i]))}})},[s]),c=j.useCallback(i=>{s(u=>{const f=u.orchestraAssignments.filter(p=>p.orchestraId!==i),h=u.enrollments.orchestraIds.filter(p=>p!==i);return{...u,orchestraAssignments:f,enrollments:{...u.enrollments,orchestraIds:h}}})},[s]);return{addOrchestraAssignment:n,removeOrchestraAssignment:c}}function DS({onClose:s,onStudentCreated:n,newTeacherInfo:c}){const{saveStudent:i,loadStudents:u}=Sn(),[f,h]=j.useState(!1),[p,g]=j.useState(null);return{saveStudentData:j.useCallback(async(x,v)=>{var E,O;h(!0),g(null);try{let b;x._id?b=await Xe.updateStudent(x._id,x):b=await i(x),console.log("Student saved successfully:",b);const C=v.teacherAssignments.filter(T=>T.teacherId!=="new-teacher").map(async T=>{var z,A,R,U;try{const{teacherId:D,day:k,time:Q,duration:J}=T;if(!D||!k||!Q||!J){console.warn(`Skipping invalid schedule for teacher ${D} and student ${b._id}: Missing required fields`);return}console.log(`Updating teacher ${D} schedule with student ${b._id}`),await Xe.updateTeacherSchedule(D,{studentId:b._id,day:k,time:Q,duration:J});try{const V=await da.getTeacherById(D);if(!((A=(z=V.teaching)==null?void 0:z.studentIds)!=null&&A.includes(b._id))){const Z=await da.updateTeacher(D,{teaching:{studentIds:[...((R=V.teaching)==null?void 0:R.studentIds)||[],b._id],schedule:((U=V.teaching)==null?void 0:U.schedule)||[]}});console.log("Updated teacher with student reference:",Z)}}catch(V){console.error("Failed to update teacher studentIds:",V)}}catch(D){console.error("Failed to update teacher schedule:",D)}});if(await Promise.all(C),await u(),c!=null&&c._id&&v.teacherAssignments.some(T=>T.teacherId==="new-teacher"||T.teacherId===c._id)){const T=v.teacherAssignments.find(A=>A.teacherId==="new-teacher"||A.teacherId===c._id);if(T)try{await Xe.updateTeacherSchedule(c._id,{studentId:b._id,day:T.day,time:T.time,duration:T.duration});const A=await da.getTeacherById(c._id);await da.updateTeacher(c._id,{teaching:{studentIds:[...((E=A.teaching)==null?void 0:E.studentIds)||[],b._id],schedule:((O=A.teaching)==null?void 0:O.schedule)||[]}}),console.log("Updated new teacher with student reference")}catch(A){console.error("Failed to update new teacher with student:",A)}const z={...b,_newTeacherAssociation:!0,_lessonDetails:T?{lessonDay:T.day,lessonTime:T.time,lessonDuration:T.duration}:void 0};if(n)return n(z),b}return s(),b}catch(b){throw console.error("Error saving student:",b),g(b instanceof Error?b.message:"שגיאה בשמירת תלמיד"),b}finally{h(!1)}},[i,u,n,s,c]),isSubmitting:f,error:p}}const ud=["א","ב","ג","ד","ה","ו","ז","ח","ט","י","יא","יב","אחר"],zS=["חצוצרה","חליל צד","קלרינט","קרן יער","בריטון","טרומבון","סקסופון","אבוב"],dc=["ראשון","שני","שלישי","רביעי","חמישי","שישי"],MS=[30,45,60];function LS({student:s,onClose:n,onStudentCreated:c,newTeacherInfo:i,isOpen:u}){const{currentSchoolYear:f}=Nl(),[h,p]=j.useState(z()),[g,m]=j.useState({}),[x,v]=j.useState(!0),{saveStudentData:E,isSubmitting:O,error:b}=DS({onClose:n,onStudentCreated:c,newTeacherInfo:i}),C=j.useCallback(ee=>{p(ee)},[]),T=j.useCallback(ee=>{g[ee]&&m(de=>{const S={...de};return delete S[ee],S})},[g]);function z(){return{personalInfo:{fullName:"",phone:"",age:void 0,address:"",parentName:"",parentPhone:"",parentEmail:"",studentEmail:""},academicInfo:{instrumentProgress:[],class:ud[0]},enrollments:{orchestraIds:[],ensembleIds:[],schoolYears:[]},teacherIds:[],teacherAssignments:[],orchestraAssignments:[],isActive:!0}}const A=j.useCallback(()=>{const ee=z();f&&(ee.enrollments.schoolYears=[{schoolYearId:f._id,isActive:!0}]),p(ee),m({}),console.log("Form completely reset to initial state")},[f]);j.useEffect(()=>{var ee,de,S,_,q,B,Y,ne,le,pe,ge,xe,fe,ce,Le;if(!u){v(!0);return}if(u&&x){if(s!=null&&s._id){const De={_id:s._id,personalInfo:{fullName:((ee=s.personalInfo)==null?void 0:ee.fullName)||"",phone:((de=s.personalInfo)==null?void 0:de.phone)||"",age:(S=s.personalInfo)==null?void 0:S.age,address:((_=s.personalInfo)==null?void 0:_.address)||"",parentName:((q=s.personalInfo)==null?void 0:q.parentName)||"",parentPhone:((B=s.personalInfo)==null?void 0:B.parentPhone)||"",parentEmail:((Y=s.personalInfo)==null?void 0:Y.parentEmail)||"",studentEmail:((ne=s.personalInfo)==null?void 0:ne.studentEmail)||""},academicInfo:{instrumentProgress:((le=s.academicInfo)==null?void 0:le.instrumentProgress)||[],class:((pe=s.academicInfo)==null?void 0:pe.class)||ud[0]},enrollments:{orchestraIds:((ge=s.enrollments)==null?void 0:ge.orchestraIds)||[],ensembleIds:((xe=s.enrollments)==null?void 0:xe.ensembleIds)||[],schoolYears:((fe=s.enrollments)==null?void 0:fe.schoolYears)||[]},teacherIds:s.teacherIds||[],teacherAssignments:[],orchestraAssignments:((Le=(ce=s.enrollments)==null?void 0:ce.orchestraIds)==null?void 0:Le.map(oe=>({orchestraId:oe})))||[],isActive:s.isActive!==!1};p(De)}else A(),i&&p(De=>({...De,teacherAssignments:[{teacherId:i._id||"new-teacher",day:dc[0],time:"08:00",duration:45}]}));v(!1)}},[u,s,i,A,x,f]);const{addInstrument:R,removeInstrument:U,setPrimaryInstrument:D,updateInstrumentProgress:k,updateInstrumentTest:Q}=AS({instrumentProgress:h.academicInfo.instrumentProgress,updateFormData:C,clearError:T}),{addTeacherAssignment:J,removeTeacherAssignment:V}=RS({updateFormData:C}),{addOrchestraAssignment:Z,removeOrchestraAssignment:se}=_S({updateFormData:C}),ae=j.useCallback((ee,de)=>{p(S=>({...S,personalInfo:{...S.personalInfo,[ee]:de}})),T(`personalInfo.${ee}`)},[T]),he=j.useCallback((ee,de)=>{p(S=>({...S,academicInfo:{...S.academicInfo,[ee]:de}})),T(`academicInfo.${ee}`)},[T]),{validateStudentForm:ie}=CS(),ue=j.useCallback(()=>{const ee=ie(h);return m(ee),Object.keys(ee).length===0},[h,ie]),X=j.useCallback(async ee=>{if(ee.preventDefault(),!!ue())try{const de={personalInfo:{...h.personalInfo,parentName:h.personalInfo.parentName||"לא צוין",parentPhone:h.personalInfo.parentPhone||"0500000000",parentEmail:h.personalInfo.parentEmail||"parent@example.com",studentEmail:h.personalInfo.studentEmail||"student@example.com"},academicInfo:{instrumentProgress:h.academicInfo.instrumentProgress,class:h.academicInfo.class},enrollments:{...h.enrollments,orchestraIds:h.orchestraAssignments.map(S=>S.orchestraId)},teacherIds:h.teacherIds.filter(S=>S!=="new-teacher"),isActive:h.isActive};await E(de,h),A()}catch(de){console.error("Error during form submission:",de),m(S=>({...S,form:de instanceof Error?de.message:"שגיאה בשמירת תלמיד"}))}},[h,ue,E,A]),re=j.useCallback(()=>{A(),n()},[A,n]);return{formData:h,errors:g,isSubmitting:O,error:b,updatePersonalInfo:ae,updateAcademicInfo:he,addTeacherAssignment:J,removeTeacherAssignment:V,addOrchestraAssignment:Z,removeOrchestraAssignment:se,addInstrument:R,removeInstrument:U,setPrimaryInstrument:D,updateInstrumentProgress:k,updateInstrumentTest:Q,resetForm:A,handleCancel:re,validateForm:ue,handleSubmit:X}}function US({formData:s,updatePersonalInfo:n,errors:c}){const i=j.useCallback(u=>{const{name:f,value:h,type:p}=u.target;let g;p==="number"&&h&&(g=parseInt(h)),p==="number"&&h===""&&(g=void 0),n(f,g)},[n]);return{personalInfo:s.personalInfo,errors:c,handlePersonalInfoChange:i}}function IS({formData:s,updatePersonalInfo:n,updateAcademicInfo:c,errors:i}){var p;const{personalInfo:u,handlePersonalInfoChange:f}=US({formData:s,updatePersonalInfo:n,errors:i}),h=g=>{const{name:m,value:x}=g.target;c(m,x)};return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"פרטים אישיים"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fullName",children:"שם מלא *"}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:(u==null?void 0:u.fullName)||"",onChange:f,className:i["personalInfo.fullName"]?"is-invalid":"",required:!0}),i["personalInfo.fullName"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.fullName"]})]})}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"טלפון"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:(u==null?void 0:u.phone)||"",onChange:f,className:i["personalInfo.phone"]?"is-invalid":"",placeholder:"05XXXXXXXX"}),i["personalInfo.phone"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.phone"]})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"studentEmail",children:"אימייל תלמיד"}),r.jsx("input",{type:"email",id:"studentEmail",name:"studentEmail",value:(u==null?void 0:u.studentEmail)||"",onChange:f,className:i["personalInfo.studentEmail"]?"is-invalid":""}),i["personalInfo.studentEmail"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.studentEmail"]})]})]}),r.jsxs("div",{className:"form-row three-columns",children:[r.jsxs("div",{className:"form-group",style:{flex:"2"},children:[r.jsx("label",{htmlFor:"address",children:"כתובת"}),r.jsx("input",{type:"text",id:"address",name:"address",value:(u==null?void 0:u.address)||"",onChange:f})]}),r.jsxs("div",{className:"form-group",style:{flex:"0.6"},children:[r.jsx("label",{htmlFor:"age",children:"גיל"}),r.jsx("input",{type:"number",id:"age",name:"age",value:(u==null?void 0:u.age)||"",onChange:f,min:"6",max:"99",style:{width:"100%"}})]}),r.jsxs("div",{className:"form-group",style:{flex:"0.8"},children:[r.jsx("label",{htmlFor:"class",children:"כיתה *"}),r.jsx("select",{id:"class",name:"class",value:((p=s.academicInfo)==null?void 0:p.class)||"",onChange:h,className:i["academicInfo.class"]?"is-invalid":"",required:!0,style:{width:"100%"},children:ud.map(g=>r.jsx("option",{value:g,children:g},g))}),i["academicInfo.class"]&&r.jsx("div",{className:"form-error",children:i["academicInfo.class"]})]})]}),r.jsx("h4",{children:"פרטי הורה"}),r.jsxs("div",{className:"form-row two-columns",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentName",children:"שם הורה"}),r.jsx("input",{type:"text",id:"parentName",name:"parentName",value:(u==null?void 0:u.parentName)||"",onChange:f})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentPhone",children:"טלפון הורה"}),r.jsx("input",{type:"tel",id:"parentPhone",name:"parentPhone",value:(u==null?void 0:u.parentPhone)||"",onChange:f,className:i["personalInfo.parentPhone"]?"is-invalid":"",placeholder:"05XXXXXXXX"}),i["personalInfo.parentPhone"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.parentPhone"]})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"parentEmail",children:"אימייל הורה"}),r.jsx("input",{type:"email",id:"parentEmail",name:"parentEmail",value:(u==null?void 0:u.parentEmail)||"",onChange:f,className:i["personalInfo.parentEmail"]?"is-invalid":""}),i["personalInfo.parentEmail"]&&r.jsx("div",{className:"form-error",children:i["personalInfo.parentEmail"]})]})})]})}function kS({instruments:s,onInstrumentsChange:n,errors:c={}}){var z,A,R,U,D,k;const[i,u]=j.useState(!1),[f,h]=j.useState({instrumentName:"",currentStage:1,isPrimary:!1,tests:{stageTest:{status:"לא נבחן",notes:""},technicalTest:{status:"לא נבחן",notes:""}}}),[p,g]=j.useState(null),m=["כינור","צ׳לו","ויולה","קונטרבס","חליל","קלרינט","אבוב","בסון","סקסופון","חצוצרה","טרומבון","קרן יער","טובה","פסנתר","גיטרה","מדרימבה","תופים","הקשה"],x=[1,2,3,4,5,6],v=["לא נבחן","עבר/ה","עבר/ה בהצלחה","עבר/ה בהצטיינות","לא עבר/ה"],E=Q=>{const{name:J,value:V}=Q.target;if(J.includes(".")){const[Z,se,ae]=J.split(".");h(he=>({...he,[Z]:{...he[Z]||{},[se]:{...(he[Z]||{})[se]||{},[ae]:V}}}))}else h(J==="isPrimary"?Z=>({...Z,isPrimary:Q.target.checked}):Z=>({...Z,[J]:J==="currentStage"?parseInt(V,10):V}))},O=()=>{var V,Z,se,ae,he,ie,ue,X;if(!f.instrumentName)return;const Q={instrumentName:f.instrumentName,currentStage:f.currentStage||1,isPrimary:f.isPrimary||!1,tests:{stageTest:{status:((Z=(V=f.tests)==null?void 0:V.stageTest)==null?void 0:Z.status)||"לא נבחן",notes:((ae=(se=f.tests)==null?void 0:se.stageTest)==null?void 0:ae.notes)||""},technicalTest:{status:((ie=(he=f.tests)==null?void 0:he.technicalTest)==null?void 0:ie.status)||"לא נבחן",notes:((X=(ue=f.tests)==null?void 0:ue.technicalTest)==null?void 0:X.notes)||""}}},J=[...s];Q.isPrimary?J.forEach(re=>{re.isPrimary=!1}):J.length===0&&(Q.isPrimary=!0),J.push(Q),n==null||n(J),h({instrumentName:"",currentStage:1,isPrimary:!1,tests:{stageTest:{status:"לא נבחן",notes:""},technicalTest:{status:"לא נבחן",notes:""}}}),u(!1)},b=Q=>{const J=[...s],V=J[Q];J.splice(Q,1),V.isPrimary&&J.length>0&&(J[0].isPrimary=!0),n==null||n(J)},C=Q=>{const J=[...s];J.forEach((V,Z)=>{V.isPrimary=Z===Q}),n==null||n(J)},T=Q=>{g(p===Q?null:Q)};return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"כלי נגינה"}),s.length>0&&r.jsx("div",{className:"instruments-list",children:s.map((Q,J)=>{var V,Z,se,ae,he,ie,ue,X,re,ee,de,S;return r.jsxs("div",{className:"instrument-card",children:[r.jsxs("div",{className:"instrument-header",children:[r.jsxs("div",{className:"instrument-name",children:[r.jsx(vt,{size:16}),Q.instrumentName,Q.isPrimary&&r.jsxs("span",{className:"primary-badge",children:[r.jsx(Dg,{size:12}),"ראשי"]})]}),r.jsxs("div",{className:"instrument-actions",children:[!Q.isPrimary&&r.jsx("button",{type:"button",className:"set-primary-btn",onClick:()=>C(J),children:"הגדר כראשי"}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>b(J),"aria-label":"הסר כלי נגינה",children:r.jsx(kr,{size:16})}),r.jsx("button",{type:"button",className:"expand-btn",onClick:()=>T(J),"aria-label":p===J?"צמצם פרטים":"הרחב פרטים",children:p===J?r.jsx(kt,{size:16}):r.jsx(yt,{size:16})})]})]}),r.jsxs("div",{className:"instrument-details",children:[r.jsxs("div",{className:"details-row",children:[r.jsx("span",{className:"detail-label",children:"שלב"}),r.jsx("span",{className:"detail-value",children:Q.currentStage})]}),p===J&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"details-row",children:[r.jsx("span",{className:"detail-label",children:"מבחן טכני"}),r.jsx("span",{className:"detail-value",children:((Z=(V=Q.tests)==null?void 0:V.technicalTest)==null?void 0:Z.status)||"לא נבחן"})]}),r.jsxs("div",{className:"details-row",children:[r.jsx("span",{className:"detail-label",children:"מבחן שלב"}),r.jsx("span",{className:"detail-value",children:((ae=(se=Q.tests)==null?void 0:se.stageTest)==null?void 0:ae.status)||"לא נבחן"})]}),(((ie=(he=Q.tests)==null?void 0:he.stageTest)==null?void 0:ie.notes)||((X=(ue=Q.tests)==null?void 0:ue.technicalTest)==null?void 0:X.notes))&&r.jsxs("div",{className:"details-row",children:[r.jsx("span",{className:"detail-label",children:"הערות"}),r.jsx("span",{className:"detail-value",children:((ee=(re=Q.tests)==null?void 0:re.stageTest)==null?void 0:ee.notes)||((S=(de=Q.tests)==null?void 0:de.technicalTest)==null?void 0:S.notes)})]})]})]})]},J)})}),i?r.jsxs("div",{className:"add-instrument-form",children:[r.jsx("h4",{children:"הוספת כלי נגינה"}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"instrumentName",children:"כלי נגינה"}),r.jsxs("select",{id:"instrumentName",name:"instrumentName",value:f.instrumentName,onChange:E,className:c.instrumentName?"is-invalid":"",children:[r.jsx("option",{value:"",children:"בחר כלי נגינה"}),m.map(Q=>r.jsx("option",{value:Q,children:Q},Q))]}),c.instrumentName&&r.jsx("div",{className:"form-error",children:c.instrumentName})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"currentStage",children:"שלב"}),r.jsx("select",{id:"currentStage",name:"currentStage",value:f.currentStage,onChange:E,children:x.map(Q=>r.jsx("option",{value:Q,children:Q},Q))})]})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stageTestStatus",children:"מבחן שלב"}),r.jsx("select",{id:"stageTestStatus",name:"tests.stageTest.status",value:((A=(z=f.tests)==null?void 0:z.stageTest)==null?void 0:A.status)||"לא נבחן",onChange:E,children:v.map(Q=>r.jsx("option",{value:Q,children:Q},Q))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"technicalTestStatus",children:"מבחן טכני"}),r.jsx("select",{id:"technicalTestStatus",name:"tests.technicalTest.status",value:((U=(R=f.tests)==null?void 0:R.technicalTest)==null?void 0:U.status)||"לא נבחן",onChange:E,children:v.map(Q=>r.jsx("option",{value:Q,children:Q},Q))})]})]}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"stageTestNotes",children:"הערות מבחן שלב"}),r.jsx("input",{type:"text",id:"stageTestNotes",name:"tests.stageTest.notes",value:((k=(D=f.tests)==null?void 0:D.stageTest)==null?void 0:k.notes)||"",onChange:E,placeholder:"הערות אופציונליות"})]})}),r.jsx("div",{className:"form-row",children:r.jsx("div",{className:"form-group",children:r.jsxs("div",{className:"primary-checkbox",children:[r.jsx("input",{type:"checkbox",id:"isPrimary",name:"isPrimary",checked:f.isPrimary,onChange:E}),r.jsx("label",{htmlFor:"isPrimary",children:"כלי נגינה ראשי"})]})})}),r.jsxs("div",{className:"form-row",children:[r.jsx("button",{type:"button",className:"add-instrument-btn primary",onClick:O,children:"הוסף"}),r.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>u(!1),children:"ביטול"})]})]}):r.jsx("div",{className:"add-more-instruments",children:r.jsxs("button",{type:"button",className:"add-more-btn",onClick:()=>u(!0),children:[r.jsx(qs,{size:16}),"הוסף כלי נגינה"]})})]})}function BS({formData:s,newTeacherInfo:n,addTeacherAssignment:c,removeTeacherAssignment:i}){const{teachers:u,isLoading:f}=ks(),[h,p]=j.useState(s.teacherAssignments.length===0),[g,m]=j.useState(""),[x,v]=j.useState([]),E={};s.teacherAssignments.forEach(U=>{E[U.teacherId]||(E[U.teacherId]=[]),E[U.teacherId].push(U)});const O=U=>{const D=U.target.value;m(D),v(D?[{teacherId:D,day:dc[0],time:"08:00",duration:45}]:[])},b=(U,D,k)=>{v(Q=>{const J=[...Q];return J[U]={...J[U],[D]:D==="duration"?Number(k):k},J})},C=()=>{g&&v(U=>[...U,{teacherId:g,day:dc[0],time:"08:00",duration:45}])},T=U=>{v(D=>{const k=[...D];return k.splice(U,1),k})},z=()=>{x.forEach(U=>{const D={teacherId:U.teacherId,day:U.day,time:U.time,duration:U.duration};c(D)}),m(""),v([]),p(!0)},A=()=>{p(!0),m(""),v([])},R=U=>{var k;if(U==="new-teacher"&&n)return`${n.fullName} ${n.instrument?`(${n.instrument})`:""} (המורה החדש)`;const D=u.find(Q=>Q._id===U);return D?`${D.personalInfo.fullName} ${(k=D.professionalInfo)!=null&&k.instrument?`(${D.professionalInfo.instrument})`:""}`:"מורה לא ידוע"};return r.jsxs("div",{className:"form-section teacher-assignment-section",children:[r.jsx("h3",{children:"שיוך מורה"}),Object.keys(E).length>0&&r.jsx("div",{className:"assigned-teachers-list",children:Object.entries(E).map(([U,D])=>r.jsxs("div",{className:"teacher-assignment-item",children:[r.jsxs("div",{className:"teacher-name",children:[r.jsx(Zt,{size:16}),r.jsx("span",{children:R(U)})]}),r.jsx("div",{className:"lessons-list",children:D.map((k,Q)=>r.jsxs("div",{className:"lesson-item",children:[r.jsx("div",{className:"lesson-info",children:r.jsxs("span",{children:[k.day,", ",k.time,","," ",k.duration," דקות"]})}),r.jsx("button",{type:"button",className:"remove-lesson-btn",onClick:()=>i(k.teacherId,k.day,k.time),"aria-label":"הסר שיעור",children:r.jsx(zt,{size:14})})]},`${k.teacherId}-${k.day}-${k.time}-${Q}`))})]},U))}),h&&r.jsxs("div",{className:"form-group",children:[r.jsx("div",{className:"form-label",children:"בחירת מורה"}),r.jsxs("div",{className:"select-wrapper",children:[r.jsxs("select",{className:"form-select",value:g,onChange:O,disabled:f,children:[r.jsx("option",{value:"",children:"בחר מורה"}),n&&r.jsxs("option",{value:"new-teacher",children:[n.fullName," ",n.instrument?`(${n.instrument})`:""," ","(המורה החדש)"]}),u.map(U=>{var D;return r.jsxs("option",{value:U._id,children:[U.personalInfo.fullName," ",(D=U.professionalInfo)!=null&&D.instrument?`(${U.professionalInfo.instrument})`:""]},U._id)})]}),r.jsx(yt,{size:16,className:"select-icon"})]})]}),g&&x.length>0&&r.jsxs("div",{className:"teacher-schedule",children:[r.jsx("div",{className:"schedule-heading",children:r.jsx("h4",{children:"מערכת שעות עבור תמיר אקטע (חצוצרה)"})}),x.map((U,D)=>r.jsx("div",{className:"schedule-row",children:r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group day-group",children:[r.jsx("div",{className:"form-label",children:"יום"}),r.jsxs("div",{className:"select-wrapper",children:[r.jsx("select",{className:"form-select",value:U.day,onChange:k=>b(D,"day",k.target.value),children:dc.map(k=>r.jsx("option",{value:k,children:k},k))}),r.jsx(yt,{size:16,className:"select-icon"})]})]}),r.jsxs("div",{className:"form-group time-group",children:[r.jsx("div",{className:"form-label",children:"שעה"}),r.jsx("input",{type:"time",className:"form-input",value:U.time,onChange:k=>b(D,"time",k.target.value)})]}),r.jsxs("div",{className:"form-group duration-group",children:[r.jsx("div",{className:"form-label",children:"משך"}),r.jsxs("div",{className:"select-wrapper",children:[r.jsx("select",{className:"form-select",value:U.duration,onChange:k=>b(D,"duration",k.target.value),children:MS.map(k=>r.jsx("option",{value:k,children:k},k))}),r.jsx(yt,{size:16,className:"select-icon"})]})]}),D>0&&r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>T(D),children:r.jsx(zt,{size:16})})]})},D)),r.jsxs("div",{className:"schedule-actions",children:[r.jsxs("button",{type:"button",className:"add-lesson-btn",onClick:C,children:[r.jsx(qs,{size:16}),"הוסף שיעור נוסף"]}),r.jsx("button",{type:"button",className:"save-btn",onClick:z,children:"שמור שיעורים למורה"})]})]}),Object.keys(E).length>0&&!h&&!g&&r.jsxs("button",{type:"button",className:"add-teacher-btn",onClick:A,children:[r.jsx(Ap,{size:16}),"הוסף מורה נוסף"]}),Object.keys(E).length===0&&!h&&!g&&r.jsxs("button",{type:"button",className:"add-teacher-btn",onClick:A,children:[r.jsx(Ap,{size:16}),"הוסף מורה"]})]})}function qS({formData:s,addOrchestraAssignment:n,removeOrchestraAssignment:c,errors:i}){const[u,f]=j.useState([]),[h,p]=j.useState(!1),[g,m]=j.useState("");j.useEffect(()=>{(async()=>{p(!0);try{const b=await za.getOrchestras({isActive:!0});f(b)}catch(b){console.error("Failed to fetch orchestras:",b)}finally{p(!1)}})()},[]);const x=j.useCallback(O=>{const b=O.target.value;b?(s.orchestraAssignments.some(T=>T.orchestraId===b)||n(b),m("")):m(b)},[s.orchestraAssignments,n]),v=j.useCallback(O=>{c(O)},[c]),E=j.useCallback(()=>s.orchestraAssignments.map(O=>{const b=u.find(C=>C._id===O.orchestraId);return{id:O.orchestraId,name:(b==null?void 0:b.name)||"תזמורת לא ידועה",type:(b==null?void 0:b.type)||""}}),[s.orchestraAssignments,u]);return{orchestras:u,isLoadingOrchestras:h,selectedOrchestraId:g,orchestraAssignments:s.orchestraAssignments,assignedOrchestras:E(),errors:i,handleOrchestraChange:x,handleRemoveOrchestraAssignment:v,getOrchestraName:j.useCallback(O=>{const b=u.find(C=>C._id===O);return b?`${b.name} (${b.type})`:"תזמורת לא ידועה"},[u])}}function HS({formData:s,addOrchestraAssignment:n,removeOrchestraAssignment:c,errors:i}){const{orchestras:u,isLoadingOrchestras:f,selectedOrchestraId:h,assignedOrchestras:p,handleOrchestraChange:g,handleRemoveOrchestraAssignment:m}=qS({formData:s,addOrchestraAssignment:n,removeOrchestraAssignment:c,errors:i});return r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"שיוך לתזמורת"}),p.length>0&&r.jsxs("div",{className:"assigned-orchestras",children:[r.jsx("h4",{children:"תזמורות משוייכות"}),r.jsx("div",{className:"assignments-list",children:p.map(x=>r.jsx("div",{className:"assignment-card",children:r.jsxs("div",{className:"assignment-header",children:[r.jsxs("div",{className:"orchestra-name",children:[r.jsx(vt,{size:16}),r.jsx("span",{children:x.name}),x.type&&r.jsx("span",{className:"orchestra-type",children:x.type})]}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>m(x.id),"aria-label":"הסר תזמורת",children:r.jsx(zt,{size:16})})]})},x.id))})]}),r.jsxs("div",{className:"add-orchestra-section",children:[r.jsx("h4",{children:"הוספת תזמורת"}),r.jsx("div",{className:"form-row",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"orchestra",children:"בחר תזמורת"}),r.jsxs("select",{id:"orchestra",name:"orchestra",value:h,onChange:g,disabled:f,children:[r.jsx("option",{value:"",children:"בחר תזמורת"}),u.map(x=>r.jsxs("option",{value:x._id,children:[x.name," (",x.type,")"]},x._id))]}),f&&r.jsx("div",{className:"loading-indicator",children:"טוען תזמורות..."})]})})]})]})}function yy({isOpen:s,onClose:n,student:c,onStudentCreated:i,newTeacherInfo:u}){const{formData:f,errors:h,isSubmitting:p,error:g,updatePersonalInfo:m,updateAcademicInfo:x,addTeacherAssignment:v,removeTeacherAssignment:E,addOrchestraAssignment:O,removeOrchestraAssignment:b,addInstrument:C,removeInstrument:T,setPrimaryInstrument:z,updateInstrumentProgress:A,updateInstrumentTest:R,handleSubmit:U,handleCancel:D}=LS({student:c,onClose:n,onStudentCreated:i,newTeacherInfo:u,isOpen:s});return s?r.jsxs("div",{className:"student-form",children:[r.jsx("div",{className:"overlay",onClick:D}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:D,"aria-label":"סגור",children:r.jsx(zt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?"עריכת תלמיד":"הוספת תלמיד חדש"}),g&&r.jsx("div",{className:"error-message",children:g}),h.form&&r.jsx("div",{className:"error-message",children:h.form}),r.jsxs("form",{onSubmit:U,children:[r.jsx(IS,{formData:f,updatePersonalInfo:m,updateAcademicInfo:x,errors:h}),r.jsx(kS,{instruments:f.academicInfo.instrumentProgress,addInstrument:C,removeInstrument:T,setPrimaryInstrument:z,updateInstrumentProgress:A,updateInstrumentTest:R,errors:h,isFormOpen:s,isSubmitting:p}),r.jsx(BS,{formData:f,newTeacherInfo:u,addTeacherAssignment:v,removeTeacherAssignment:E,errors:h}),r.jsx(HS,{formData:f,addOrchestraAssignment:O,removeOrchestraAssignment:b,errors:h}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:p,children:p?"שומר...":c!=null&&c._id?"עדכון":"הוספה"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:D,children:"ביטול"})]})]})]})]}):null}function jn({isOpen:s,onClose:n,onConfirm:c,title:i,message:u,confirmText:f="אישור",cancelText:h="ביטול",type:p="danger"}){if(!s)return null;const g=()=>{c(),n()};return r.jsxs("div",{className:"confirm-dialog",children:[r.jsx("div",{className:"overlay",onClick:n}),r.jsxs("div",{className:"dialog-content",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:n,"aria-label":"סגור",children:r.jsx(zt,{size:20})}),r.jsx("h3",{className:`dialog-title ${p}`,children:i}),r.jsx("div",{className:"dialog-message",children:u}),r.jsxs("div",{className:"dialog-actions",children:[r.jsx("button",{type:"button",className:`btn ${p}`,onClick:g,children:f}),r.jsx("button",{type:"button",className:"btn secondary",onClick:n,children:h})]})]})]})}function YS(){const{students:s,isLoading:n,error:c,loadStudents:i,removeStudent:u}=Sn(),{loadCurrentSchoolYear:f}=Nl(),[h,p]=j.useState(!1),[g,m]=j.useState(null),[x,v]=j.useState(!1),[E,O]=j.useState(null),b=ie=>[ie.personalInfo.fullName,ie.academicInfo.instrument,ie.academicInfo.class,ie.personalInfo.parentName||"",ie.personalInfo.studentEmail||""].filter(X=>typeof X=="string"),{filteredEntities:C,handleSearch:T}=Od(s,b),z=ma(),A=qt(),{user:R}=Hs(),U=R==null?void 0:R.roles.includes("מנהל"),D=A.pathname.includes("/students/")&&!A.pathname.endsWith("/students/");j.useEffect(()=>{i(),f()},[i,f]);const k=()=>{m(null),p(!0)},Q=()=>{p(!1),m(null)},J=ie=>{const ue=s.find(X=>X._id===ie)||null;m(ue),p(!0)},V=ie=>{z(`/students/${ie}`)},Z=ie=>{s.find(X=>X._id===ie)&&(O(ie),v(!0))},se=async()=>{if(E)try{await u(E),O(null)}catch(ie){console.error("Failed to remove student:",ie)}},ae=()=>{alert("Open filter dialog")},he=U||(R==null?void 0:R.roles.includes("מורה"));return r.jsxs("div",{className:"app-container",children:[r.jsx(_c,{}),r.jsxs("main",{className:"main-content",children:[!D&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(wd,{onSearch:T,placeholder:"חיפוש תלמידים..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:ae,"aria-label":"סנן תלמידים",children:r.jsx(bd,{className:"icon"})}),he&&r.jsx("button",{className:"btn-icon add-btn",onClick:k,"aria-label":"הוספת תלמיד חדש",children:r.jsx(qs,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!D&&r.jsx(wS,{students:C,isLoading:n,onEdit:J,onView:V,onRemove:U?Z:void 0}),r.jsx(Mr,{context:{loadStudents:i}}),r.jsx(yy,{isOpen:h,onClose:Q,student:g||void 0}),r.jsx(jn,{isOpen:x,onClose:()=>v(!1),onConfirm:se,title:"מחיקת תלמיד",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק את התלמיד?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"})]}),!D&&!h&&r.jsx(Fr,{})]})}function FS(){var de,S;const{studentId:s}=jc(),[n,c]=j.useState(null),[i,u]=j.useState(!0),[f,h]=j.useState(null),[p,g]=j.useState([]),[m,x]=j.useState([]),[v,E]=j.useState(!1),[O,b]=j.useState(null),[C,T]=j.useState(!1),[z,A]=j.useState(!1),[R,U]=j.useState({personalInfo:!1,parentInfo:!1,instruments:!1,teachers:!1,orchestras:!1,tests:!1,attendance:!1}),D=ma();j.useEffect(()=>{(async()=>{var q,B,Y,ne;if(s){u(!0);try{const le=await Xe.getStudentById(s);c(le),(B=(q=le.academicInfo)==null?void 0:q.teacherIds)!=null&&B.length&&k(le.academicInfo.teacherIds),(ne=(Y=le.academicInfo)==null?void 0:Y.orchestraIds)!=null&&ne.length&&Q(le.academicInfo.orchestraIds)}catch(le){console.error("Failed to load student:",le),h(le instanceof Error?le.message:"שגיאה בטעינת פרטי התלמיד")}finally{u(!1)}}})()},[s]);const k=async _=>{E(!0),b(null);try{const q=await da.getTeachersByIds(_);g(q.map(B=>{var Y;return{id:B._id,name:B.personalInfo.fullName||"מורה ללא שם",instrument:((Y=B.professionalInfo)==null?void 0:Y.instrument)||""}}))}catch(q){console.error("Failed to load teachers:",q),b("שגיאה בטעינת פרטי המורים")}finally{E(!1)}},Q=async _=>{T(!0);try{const q=await za.getOrchestrasByIds(_);x(q)}catch(q){console.error("Failed to load orchestras:",q)}finally{T(!1)}},J=async(_,q,B)=>{if(!(!n||!s))try{const Y=JSON.parse(JSON.stringify(n)),ne=Y.academicInfo.instrumentProgress.findIndex(pe=>pe.instrumentName===_);if(ne===-1)return;Y.academicInfo.instrumentProgress[ne].tests||(Y.academicInfo.instrumentProgress[ne].tests={stageTest:{status:"לא נבחן",notes:""},technicalTest:{status:"לא נבחן",notes:""}}),Y.academicInfo.instrumentProgress[ne].tests[q].status=B,Y.academicInfo.instrumentProgress[ne].tests[q].lastTestDate=new Date().toISOString(),q==="stageTest"&&B.includes("עבר/ה")&&!B.includes("לא עבר/ה")&&(Y.academicInfo.instrumentProgress[ne].currentStage+=1);const le=await Xe.updateStudent(s,Y);return c(le),console.log(`Updated ${q} for ${_} to "${B}"`),le}catch(Y){console.error("Failed to update test status:",Y)}},V=_=>_?new Date(_).toLocaleDateString("he-IL"):"לא זמין",Z=_=>{U(q=>({...q,[_]:!q[_]}))},se=()=>{A(_=>!_)},ae=()=>{D("/students")},he=_=>{D(`/teachers/${_}`)},ie=_=>{D(`/orchestras/${_}`)},ue=_=>_.split(" ").map(q=>q[0]).join("").toUpperCase().substring(0,2),X=_=>({1:"#4158d0",2:"#28A745",3:"#FFC107",4:"#e83e8c",5:"#6f42c1",6:"#fd7e14"})[_]||"#6c757d",re=((de=n==null?void 0:n.academicInfo.instrumentProgress)==null?void 0:de.find(_=>_.isPrimary))||((S=n==null?void 0:n.academicInfo.instrumentProgress)!=null&&S.length?n.academicInfo.instrumentProgress[0]:null);return{student:n,isLoading:i,error:f,teachersData:p,teachersLoading:v,teachersError:O,orchestras:m,orchestrasLoading:C,openSections:R,flipped:z,toggleFlip:se,toggleSection:Z,formatDate:V,goBack:ae,navigateToTeacher:he,navigateToOrchestra:ie,getInitials:ue,getStageColor:X,primaryInstrument:re,retryLoadTeachers:()=>{var _;(_=n==null?void 0:n.academicInfo)!=null&&_.teacherIds&&k(n.academicInfo.teacherIds)},updateStudentTest:J}}function QS({student:s,isOpen:n,onToggle:c,getStageColor:i,updateStudentTest:u}){const[f,h]=j.useState(null),p=[{value:"לא נבחן",label:"לא נבחן"},{value:"עבר/ה",label:"עבר/ה"},{value:"לא עבר/ה",label:"לא עבר/ה"},{value:"עבר/ה בהצטיינות",label:"עבר/ה בהצטיינות"},{value:"עבר/ה בהצטיינות יתרה",label:"עבר/ה בהצטיינות יתרה"}];if(!s||!s.academicInfo||!s.academicInfo.instrumentProgress)return null;const g=(v,E)=>{f&&f.instrumentName===v&&f.testType===E?h(null):h({instrumentName:v,testType:E})},m=async(v,E,O)=>{h(null),await u(v,E,O)},x=v=>v.includes("עבר/ה")?v.includes("בהצטיינות יתרה")?"var(--primary-color)":v.includes("בהצטיינות")?"var(--success-emphasis)":"var(--success)":v==="לא עבר/ה"?"var(--danger)":"var(--text-secondary)";return r.jsxs("div",{className:"sd-section",children:[r.jsxs("div",{className:`sd-section-title clickable ${n?"active":""}`,onClick:c,children:[r.jsx(vt,{size:16}),r.jsx("span",{children:"כלי נגינה"}),n?r.jsx(kt,{size:18,className:"sd-toggle-icon"}):r.jsx(yt,{size:18,className:"sd-toggle-icon"})]}),n&&r.jsx("div",{className:"sd-section-content",children:s.academicInfo.instrumentProgress.length>0?r.jsx("div",{className:"sd-compact-instruments-list",children:s.academicInfo.instrumentProgress.map(v=>{var E,O,b,C,T,z,A,R,U,D,k,Q,J,V,Z,se;return r.jsxs("div",{className:"sd-compact-instrument-card",children:[r.jsxs("div",{className:"sd-instrument-header",children:[r.jsxs("div",{className:"sd-instrument-name-container",children:[r.jsx(vt,{size:14,className:"sd-instrument-icon"}),r.jsx("span",{className:"sd-instrument-name",children:v.instrumentName}),v.isPrimary&&r.jsxs("span",{className:"sd-primary-badge",children:[r.jsx(Dg,{size:10})," ראשי"]})]}),r.jsxs("div",{className:"sd-stage-badge",style:{backgroundColor:i(v.currentStage)},children:["שלב ",v.currentStage]})]}),r.jsxs("div",{className:"sd-test-status-row",children:[r.jsxs("div",{className:"sd-test-item",children:[r.jsx("span",{className:"sd-test-label",children:"מבחן טכני:"}),r.jsxs("div",{className:"sd-test-value-container",children:[r.jsx("span",{className:"sd-test-value sd-clickable",style:{color:x(((O=(E=v.tests)==null?void 0:E.technicalTest)==null?void 0:O.status)||"לא נבחן")},onClick:()=>g(v.instrumentName,"technicalTest"),children:((C=(b=v.tests)==null?void 0:b.technicalTest)==null?void 0:C.status)||"לא נבחן"}),f&&f.instrumentName===v.instrumentName&&f.testType==="technicalTest"&&r.jsx("div",{className:"sd-test-dropdown",children:p.map(ae=>{var he,ie,ue,X;return r.jsxs("div",{className:`sd-dropdown-item ${(((ie=(he=v.tests)==null?void 0:he.technicalTest)==null?void 0:ie.status)||"לא נבחן")===ae.value?"selected":""}`,onClick:()=>m(v.instrumentName,"technicalTest",ae.value),children:[(((X=(ue=v.tests)==null?void 0:ue.technicalTest)==null?void 0:X.status)||"לא נבחן")===ae.value&&r.jsx(td,{size:12}),ae.label]},ae.value)})})]})]}),r.jsxs("div",{className:"sd-test-item",children:[r.jsx("span",{className:"sd-test-label",children:"מבחן שלב:"}),r.jsxs("div",{className:"sd-test-value-container",children:[r.jsx("span",{className:"sd-test-value sd-clickable",style:{color:x(((z=(T=v.tests)==null?void 0:T.stageTest)==null?void 0:z.status)||"לא נבחן")},onClick:()=>g(v.instrumentName,"stageTest"),children:((R=(A=v.tests)==null?void 0:A.stageTest)==null?void 0:R.status)||"לא נבחן"}),f&&f.instrumentName===v.instrumentName&&f.testType==="stageTest"&&r.jsx("div",{className:"sd-test-dropdown",children:p.map(ae=>{var he,ie,ue,X;return r.jsxs("div",{className:`sd-dropdown-item ${(((ie=(he=v.tests)==null?void 0:he.stageTest)==null?void 0:ie.status)||"לא נבחן")===ae.value?"selected":""}`,onClick:()=>m(v.instrumentName,"stageTest",ae.value),children:[(((X=(ue=v.tests)==null?void 0:ue.stageTest)==null?void 0:X.status)||"לא נבחן")===ae.value&&r.jsx(td,{size:12}),ae.label]},ae.value)})})]})]})]}),(((D=(U=v.tests)==null?void 0:U.stageTest)==null?void 0:D.notes)||((Q=(k=v.tests)==null?void 0:k.technicalTest)==null?void 0:Q.notes))&&r.jsx("div",{className:"sd-notes-row",children:r.jsx("span",{className:"sd-notes-text",children:((V=(J=v.tests)==null?void 0:J.stageTest)==null?void 0:V.notes)||((se=(Z=v.tests)==null?void 0:Z.technicalTest)==null?void 0:se.notes)})})]},v.instrumentName)})}):r.jsx("div",{className:"sd-no-data",children:"אין כלי נגינה"})})]})}function $S({student:s,isOpen:n,onToggle:c,formatDate:i}){var u,f;return!s||!s.personalInfo?null:r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${n?"active":""}`,onClick:c,children:[r.jsx(Zt,{size:16}),r.jsx("span",{children:"פרטים אישיים"})]}),n&&r.jsx("div",{className:"section-content",children:s.personalInfo.phone||s.personalInfo.address||s.personalInfo.studentEmail||s.createdAt||(u=s.academicInfo)!=null&&u.class?r.jsxs("div",{className:"info-grid",children:[s.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(Nc,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"טלפון"}),r.jsx("span",{className:"info-value",children:s.personalInfo.phone})]})]}),s.personalInfo.address&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ir,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"כתובת"}),r.jsx("span",{className:"info-value",children:s.personalInfo.address})]})]}),s.personalInfo.studentEmail&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ur,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"אימייל"}),r.jsx("span",{className:"info-value",children:s.personalInfo.studentEmail})]})]}),s.createdAt&&r.jsxs("div",{className:"info-item",children:[r.jsx(st,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"תאריך הצטרפות"}),r.jsx("span",{className:"info-value",children:i(s.createdAt)})]})]}),((f=s.academicInfo)==null?void 0:f.class)&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ag,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"כיתה"}),r.jsx("span",{className:"info-value",children:s.academicInfo.class})]})]}),s.personalInfo.age!==void 0&&r.jsxs("div",{className:"info-item",children:[r.jsx(Zt,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"גיל"}),r.jsx("span",{className:"info-value",children:s.personalInfo.age})]})]})]}):r.jsx("div",{className:"no-data-message",children:"אין פרטים אישיים"})})]})}function VS({student:s,isOpen:n,onToggle:c}){if(!s||!s.personalInfo)return null;const i=g=>g?!["לא צוין","0500000000","parent@example.com"].includes(g):!1,u=i(s.personalInfo.parentName),f=i(s.personalInfo.parentPhone),h=i(s.personalInfo.parentEmail),p=u||f||h;return r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${n?"active":""}`,onClick:c,children:[r.jsx(Zt,{size:16}),r.jsx("span",{children:"פרטי הורה"})]}),n&&r.jsx("div",{className:"section-content",children:p?r.jsxs("div",{className:"info-grid",children:[u&&r.jsxs("div",{className:"info-item",children:[r.jsx(Zt,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"שם הורה"}),r.jsx("span",{className:"info-value",children:s.personalInfo.parentName})]})]}),f&&r.jsxs("div",{className:"info-item",children:[r.jsx(Nc,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"טלפון הורה"}),r.jsx("span",{className:"info-value",children:s.personalInfo.parentPhone})]})]}),h&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ur,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"אימייל הורה"}),r.jsx("span",{className:"info-value",children:s.personalInfo.parentEmail})]})]})]}):r.jsx("div",{className:"no-data-message",children:"אין פרטי הורה"})})]})}function XS({teachersData:s,teachersLoading:n,teachersError:c,isOpen:i,onToggle:u,onTeacherClick:f,onRetryLoadTeachers:h}){return r.jsxs("div",{className:"sd-section",children:[r.jsxs("div",{className:`sd-section-title clickable ${i?"active":""}`,onClick:u,children:[r.jsx(Zt,{size:16}),r.jsxs("span",{children:["מורים (",s.length,")"]}),i?r.jsx(kt,{size:18,className:"sd-toggle-icon"}):r.jsx(yt,{size:18,className:"sd-toggle-icon"})]}),i&&r.jsx("div",{className:"sd-section-content",children:n?r.jsxs("div",{className:"sd-loading-section",children:[r.jsx(ts,{size:16,className:"sd-loading-icon"}),r.jsx("span",{children:"טוען פרטי מורים..."})]}):c?r.jsxs("div",{className:"sd-error-section",children:[r.jsx("span",{children:c}),r.jsxs("button",{className:"sd-retry-button",onClick:h,"aria-label":"נסה לטעון מחדש",children:[r.jsx(ts,{size:14}),r.jsx("span",{children:"נסה שוב"})]})]}):s.length>0?r.jsx("div",{className:"sd-students-grid",children:s.map(p=>r.jsxs("div",{className:"sd-student-card clickable",onClick:()=>f(p.id),children:[r.jsx("div",{className:"sd-student-avatar",children:p.name.substring(0,2)}),r.jsxs("div",{className:"sd-student-info",children:[r.jsx("div",{className:"sd-student-name",children:p.name}),p.instrument&&r.jsx("div",{className:"sd-student-instrument",children:p.instrument})]})]},p.id))}):r.jsx("div",{className:"sd-no-teacher-warning",children:"לא הוקצה מורה לתלמיד"})})]})}function GS({student:s,orchestras:n,orchestrasLoading:c,isOpen:i,onToggle:u,onOrchestraClick:f}){var h,p;return s?r.jsxs("div",{className:"sd-section",children:[r.jsxs("div",{className:`sd-section-title clickable ${i?"active":""}`,onClick:u,children:[r.jsx(vt,{size:16}),r.jsx("span",{children:"תזמורות/הרכב"}),i?r.jsx(kt,{size:18,className:"sd-toggle-icon"}):r.jsx(yt,{size:18,className:"sd-toggle-icon"})]}),i&&r.jsx("div",{className:"sd-section-content",children:(((p=(h=s.academicInfo)==null?void 0:h.orchestraIds)==null?void 0:p.length)||0)>0?c?r.jsxs("div",{className:"sd-loading-section",children:[r.jsx(ts,{size:16,className:"sd-loading-icon"}),r.jsx("span",{children:"טוען נתוני תזמורת..."})]}):r.jsx("div",{className:"sd-orchestras-grid",children:n.map(g=>r.jsxs("div",{className:"sd-orchestra-card clickable",onClick:()=>f(g._id),children:[r.jsx(xd,{size:20}),r.jsx("span",{children:g.name}),g.type&&r.jsx("span",{className:"sd-orchestra-type",children:g.type})]},g._id))}):r.jsx("div",{className:"sd-no-orchestra-warning",children:"התלמיד אינו משתתף בתזמורות"})})]}):null}function eg({isOpen:s,onToggle:n,options:c,onSelect:i,selectedValue:u,className:f=""}){const h=j.useRef(null),p=j.useRef(null);return j.useEffect(()=>{if(s&&h.current&&p.current){const g=h.current.getBoundingClientRect();p.current.style.top=`${g.height}px`,p.current.style.left="0px"}},[s]),r.jsxs("div",{ref:h,className:`sd-status-dropdown ${f}`,children:[r.jsx("div",{className:"sd-dropdown-header",onClick:n,children:r.jsx(yt,{size:14,className:`sd-dropdown-icon ${s?"open":""}`})}),s&&r.jsx("div",{ref:p,className:"sd-dropdown-menu",children:c.map(g=>r.jsxs("div",{className:`sd-dropdown-item ${u===g.value?"selected":""}`,onClick:()=>i(g.value),children:[u===g.value&&r.jsx(td,{size:12}),g.label]},g.value))})]})}function ZS(s){const{saveStudent:n}=Sn(),[c,i]=j.useState(!1),[u,f]=j.useState(null),[h,p]=j.useState(!1),[g,m]=j.useState(!1);return{isUpdating:c,updateError:u,showStageTestOptions:h,showStageSuccessOptions:g,handleTestStatusChange:async(O,b)=>{if(s){i(!0),f(null);try{const C={status:b,lastTestDate:new Date().toISOString()},T={};s.academicInfo.tests&&(s.academicInfo.tests.stageTest&&(T.stageTest={...s.academicInfo.tests.stageTest}),s.academicInfo.tests.technicalTest&&(T.technicalTest={...s.academicInfo.tests.technicalTest})),T[O]={...T[O]||{},...C};const z={_id:s._id,academicInfo:{instrument:s.academicInfo.instrument,instrumentProgress:s.academicInfo.instrumentProgress,currentStage:s.academicInfo.currentStage,class:s.academicInfo.class,tests:T}};await n(z),p(!1),m(!1)}catch(C){console.error("Failed to update test status:",C),f("Failed to update test status")}finally{i(!1)}}},toggleStageTestOptions:()=>{p(O=>!O),g&&m(!1)},toggleStageSuccessOptions:()=>{m(O=>!O)}}}function KS({student:s,isOpen:n,onToggle:c,formatDate:i}){var A,R,U,D,k,Q,J,V;if(!s||!s.academicInfo)return null;const{isUpdating:u,updateError:f,showStageTestOptions:h,showStageSuccessOptions:p,handleTestStatusChange:g,toggleStageTestOptions:m,toggleStageSuccessOptions:x}=ZS(s),v=[{value:"עבר/ה",label:"עבר/ה"},{value:"לא עבר/ה",label:"לא עבר/ה"}],E=[{value:"עבר/ה בהצלחה",label:"בהצלחה"},{value:"עבר/ה בהצטיינות",label:"בהצטיינות"}],O=((R=(A=s.academicInfo.tests)==null?void 0:A.stageTest)==null?void 0:R.status)||"לא נבחן",b=((D=(U=s.academicInfo.tests)==null?void 0:U.technicalTest)==null?void 0:D.status)||"לא נבחן",C=Z=>Z.startsWith("עבר/ה"),T=Z=>Z==="לא נבחן"?"":C(Z)?"passed":"failed",z=Z=>Z==="עבר/ה בהצלחה"?"עבר/ה בהצלחה":Z==="עבר/ה בהצטיינות"?"עבר/ה בהצטיינות":Z;return r.jsxs("div",{className:"sd-section",children:[r.jsxs("div",{className:`sd-section-title clickable ${n?"active":""}`,onClick:c,children:[r.jsx(xd,{size:16}),r.jsx("span",{children:"מבחנים"}),n?r.jsx(kt,{size:18,className:"sd-toggle-icon"}):r.jsx(yt,{size:18,className:"sd-toggle-icon"})]}),n&&r.jsxs("div",{className:"sd-section-content",children:[f&&r.jsx("div",{className:"sd-error-message",children:f}),r.jsxs("div",{className:"sd-tests-grid",children:[r.jsxs("div",{className:"sd-test-card",children:[r.jsxs("div",{className:"sd-test-header",children:[r.jsx("h3",{children:"מבחן טכני"}),r.jsx("div",{className:"sd-status-container",children:r.jsx("span",{className:`sd-test-status ${T(b)}`,children:z(b)})})]}),((Q=(k=s.academicInfo.tests)==null?void 0:k.technicalTest)==null?void 0:Q.lastTestDate)&&r.jsxs("div",{className:"sd-test-date",children:[r.jsx(st,{size:12}),r.jsx("span",{children:i(s.academicInfo.tests.technicalTest.lastTestDate)})]})]}),r.jsxs("div",{className:"sd-test-card",children:[r.jsxs("div",{className:"sd-test-header",children:[r.jsx("h3",{children:"מבחן שלב"}),r.jsxs("div",{className:"sd-status-container",children:[r.jsx("span",{className:`sd-test-status ${T(O)} ${h?"selecting":""}`,onClick:m,children:z(O)}),r.jsx(eg,{isOpen:h,onToggle:m,options:v,onSelect:Z=>{Z==="עבר/ה"?x():g("stageTest",Z)},selectedValue:O==="עבר/ה בהצלחה"||O==="עבר/ה בהצטיינות"?"עבר/ה":O,className:"sd-dropdown"}),p&&r.jsx("div",{className:"sd-success-options-container",children:r.jsx(eg,{isOpen:p,onToggle:x,options:E,onSelect:Z=>g("stageTest",Z),selectedValue:O,className:"sd-success-dropdown"})})]})]}),((V=(J=s.academicInfo.tests)==null?void 0:J.stageTest)==null?void 0:V.lastTestDate)&&r.jsxs("div",{className:"sd-test-date",children:[r.jsx(st,{size:12}),r.jsx("span",{children:i(s.academicInfo.tests.stageTest.lastTestDate)})]})]})]}),u&&r.jsx("div",{className:"sd-updating-status",children:"מעדכן..."})]})]})}function PS({student:s,attendanceStats:n,loadingAttendance:c,isOpen:i,onToggle:u,formatDate:f}){var h,p,g;return s?r.jsxs("div",{className:"sd-section",children:[r.jsxs("div",{className:`sd-section-title clickable ${i?"active":""}`,onClick:u,children:[r.jsx(st,{size:16}),r.jsx("span",{children:"נוכחות"}),i?r.jsx(kt,{size:18,className:"sd-toggle-icon"}):r.jsx(yt,{size:18,className:"sd-toggle-icon"})]}),i&&r.jsx("div",{className:"sd-section-content",children:(((p=(h=s.academicInfo)==null?void 0:h.orchestraIds)==null?void 0:p.length)||0)>0?r.jsx("div",{className:"sd-attendance-container",children:c?r.jsxs("div",{className:"sd-loading-attendance",children:[r.jsx(ts,{size:16,className:"sd-loading-icon"}),r.jsx("span",{children:"טוען נתוני נוכחות..."})]}):n?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"sd-attendance-summary",children:[r.jsxs("div",{className:"sd-attendance-stat",children:[r.jsx("span",{className:"sd-stat-label",children:"שיעור נוכחות"}),r.jsxs("div",{className:"sd-attendance-rate",children:[Math.round(n.attendanceRate),"%"]})]}),r.jsxs("div",{className:"sd-attendance-stat",children:[r.jsx("span",{className:"sd-stat-label",children:"נוכח"}),r.jsxs("div",{className:"sd-attendance-count",children:[n.attended," /"," ",n.totalRehearsals]})]})]}),((g=n.recentHistory)==null?void 0:g.length)>0?r.jsxs("div",{className:"sd-attendance-history",children:[r.jsx("h3",{className:"sd-history-title",children:"היסטוריית נוכחות אחרונה"}),r.jsx("div",{className:"sd-history-entries",children:n.recentHistory.map((m,x)=>r.jsxs("div",{className:"sd-history-entry",children:[r.jsx("div",{className:`sd-status-indicator ${m.status==="הגיע/ה"?"present":"absent"}`}),r.jsx("span",{className:"sd-history-date",children:f(m.date)}),r.jsx("span",{className:`sd-history-status ${m.status==="הגיע/ה"?"present":"absent"}`,children:m.status})]},x))})]}):r.jsx("div",{className:"sd-no-attendance-history",children:"אין היסטוריית נוכחות זמינה"}),n.message&&r.jsx("div",{className:"sd-attendance-message sd-warning",children:n.message})]}):r.jsx("div",{className:"sd-no-attendance-data",children:"אין נתוני נוכחות זמינים"})}):r.jsx("div",{className:"sd-no-orchestra-warning",children:"אין נתוני נוכחות עבור תלמיד שאינו משתתף בתזמורות"})})]}):null}function tg(){var D;const{student:s,isLoading:n,error:c,flipped:i,toggleFlip:u,goBack:f,getInitials:h,getStageColor:p,primaryInstrument:g,openSections:m,toggleSection:x,formatDate:v,navigateToTeacher:E,navigateToOrchestra:O,teachersData:b,teachersLoading:C,teachersError:T,orchestras:z,orchestrasLoading:A,retryLoadTeachers:R,updateStudentTest:U}=FS();return n?r.jsxs("div",{className:"sd-loading-state",children:[r.jsx(ts,{className:"sd-loading-icon",size:28}),r.jsx("p",{children:"טוען פרטי תלמיד..."})]}):c||!s?r.jsxs("div",{className:"sd-error-state",children:[r.jsx("p",{children:c||"לא ניתן לטעון את פרטי התלמיד"}),r.jsx("button",{onClick:f,className:"btn primary",children:"חזרה לרשימת התלמידים"})]}):r.jsx("div",{className:"student-details-content",children:r.jsx("div",{className:"student-details-page",children:r.jsx("div",{className:"student-card-container",children:r.jsxs("div",{className:`sd-card-content ${i?"flipped":""}`,children:[r.jsxs("div",{className:"sd-card-side sd-card-front",children:[r.jsxs("div",{className:"sd-card-header",children:[r.jsxs("div",{className:"sd-student-identity",children:[r.jsx("div",{className:"sd-avatar sd-avatar-clickable",style:{backgroundColor:g?p(g.currentStage):"#4158d0"},children:h(s.personalInfo.fullName)}),r.jsxs("div",{className:"sd-header-text",children:[r.jsx("h1",{className:"sd-student-name",children:s.personalInfo.fullName}),r.jsx("div",{className:"sd-instrument",children:g?r.jsxs(r.Fragment,{children:[r.jsx(vt,{size:14}),r.jsx("span",{children:g.instrumentName})]}):r.jsxs(r.Fragment,{children:[r.jsx(Zt,{size:14}),r.jsx("span",{children:"תלמיד"})]})})]})]}),r.jsxs("div",{className:"sd-header-badges",children:[r.jsxs("div",{className:"sd-class-badge",children:["כיתה ",s.academicInfo.class]}),r.jsx("button",{className:"sd-back-button",onClick:f,"aria-label":"חזרה",children:r.jsx(ua,{size:20})})]})]}),r.jsxs("div",{className:"sd-card-scroll-area",children:[((D=s.academicInfo.instrumentProgress)==null?void 0:D.length)>0&&r.jsx(QS,{student:s,isOpen:m.instruments,onToggle:()=>x("instruments"),getStageColor:p,updateStudentTest:U}),r.jsx(XS,{teachersData:b,teachersLoading:C,teachersError:T,isOpen:m.teachers,onToggle:()=>x("teachers"),onTeacherClick:E,onRetryLoadTeachers:R}),r.jsx(GS,{student:s,orchestras:z,orchestrasLoading:A,isOpen:m.orchestras,onToggle:()=>x("orchestras"),onOrchestraClick:O}),r.jsx(KS,{student:s,isOpen:m.tests,onToggle:()=>x("tests"),formatDate:v}),r.jsx(PS,{student:s,attendanceStats:null,loadingAttendance:!1,isOpen:m.attendance,onToggle:()=>x("attendance"),formatDate:v})]}),r.jsxs("button",{className:"sd-flip-button",onClick:u,children:[r.jsx("span",{children:"הצג פרטים אישיים"}),r.jsx(ua,{size:14})]})]}),r.jsxs("div",{className:"sd-card-side sd-card-back",children:[r.jsxs("div",{className:"sd-card-header",children:[r.jsxs("div",{className:"sd-student-identity",children:[r.jsx("div",{className:"sd-avatar sd-avatar-clickable",style:{backgroundColor:g?p(g.currentStage):"#4158d0"},children:h(s.personalInfo.fullName)}),r.jsxs("div",{className:"sd-header-text",children:[r.jsx("h1",{className:"sd-student-name",children:s.personalInfo.fullName}),r.jsx("div",{className:"sd-instrument",children:g?r.jsxs(r.Fragment,{children:[r.jsx(vt,{size:14}),r.jsx("span",{children:g.instrumentName})]}):r.jsxs(r.Fragment,{children:[r.jsx(Zt,{size:14}),r.jsx("span",{children:"תלמיד"})]})})]})]}),r.jsxs("div",{className:"sd-header-badges",children:[r.jsxs("div",{className:"sd-class-badge",children:["כיתה ",s.academicInfo.class]}),r.jsx("button",{className:"sd-back-button",onClick:f,"aria-label":"חזרה",children:r.jsx(ua,{size:20})})]})]}),r.jsxs("div",{className:"sd-card-scroll-area",children:[r.jsx($S,{student:s,isOpen:m.personalInfo,onToggle:()=>x("personalInfo"),formatDate:v}),r.jsx(VS,{student:s,isOpen:m.parentInfo,onToggle:()=>x("parentInfo")})]}),r.jsxs("button",{className:"sd-flip-button",onClick:u,children:[r.jsx("span",{children:"הצג מידע לימודי"}),r.jsx(ua,{size:14})]})]})]})})})})}const JS=s=>{let n=s.replace(/\D/g,"");return n.startsWith("0")&&(n=`972${n.substring(1)}`),n},WS=(s,n="")=>{const c=JS(s),i=encodeURIComponent(n),u=`https://wa.me/${c}?text=${i}`;window.open(u,"_blank")};function eN({teacher:s,onView:n,onEdit:c,onRemove:i}){var v,E,O;const u=b=>b.split(" ").map(C=>C[0]).join("").toUpperCase().substring(0,2),f=b=>({מורה:"#4D55CC",מנצח:"#28A745","מדריך הרכב":"#FFC107",מנהל:"#DC3545"})[b]||"#6c757d",h=b=>b===0?"אין תלמידים":b===1?"תלמיד אחד":`${b} תלמידים`,p=(b,C)=>{b.stopPropagation(),WS(C)},m=((v=s.teaching)==null?void 0:v.studentIds)&&s.teaching.studentIds.length>0&&s.teaching?s.teaching.studentIds.length:0,x=s.roles&&s.roles.length>0?s.roles[0]:"מורה";return r.jsxs("div",{className:"teacher-preview",onClick:()=>n(s._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"preview-header",children:[r.jsxs("div",{className:"teacher-header-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:f(x)},children:u(s.personalInfo.fullName)})}),r.jsxs("div",{className:"teacher-info",children:[r.jsx("h3",{className:"teacher-name",children:s.personalInfo.fullName}),r.jsx("div",{className:"teacher-subject",children:(E=s.professionalInfo)!=null&&E.instrument?r.jsxs(r.Fragment,{children:[r.jsx(vt,{size:14}),r.jsx("span",{children:s.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Rg,{size:14}),r.jsx("span",{children:x})]})})]})]}),r.jsx("div",{className:"badges-container",children:s.roles&&s.roles.map(b=>r.jsx("div",{className:"role-badge",style:{backgroundColor:f(b)},children:r.jsx("span",{children:b})},b))})]}),r.jsx("div",{className:"preview-content",children:r.jsxs("div",{className:"info-row",children:[s.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(Nc,{size:16}),r.jsx("span",{className:"clickable-phone",onClick:b=>s.personalInfo.phone&&p(b,s.personalInfo.phone),title:"לחץ לפתיחת שיחה בוואטסאפ",children:s.personalInfo.phone})]}),s.personalInfo.email&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ur,{size:16}),r.jsx("span",{children:s.personalInfo.email})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(Br,{size:16}),r.jsx("span",{children:h(m)})]}),((O=s.conducting)==null?void 0:O.orchestraIds)&&s.conducting.orchestraIds.length>0&&r.jsxs("div",{className:"info-item",children:[r.jsx(vt,{size:16}),r.jsx("span",{children:s.conducting.orchestraIds.length===1?"מנצח על תזמורת אחת":`מנצח על ${s.conducting.orchestraIds.length} תזמורות`})]})]})}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:b=>{b.stopPropagation(),n(s._id)},"aria-label":"הצג פרטי מורה",children:r.jsx(Lr,{size:16})}),r.jsx("button",{className:"action-btn edit",onClick:b=>{b.stopPropagation(),c(s._id)},"aria-label":"ערוך מורה",children:r.jsx(vn,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:b=>{b.stopPropagation(),i(s._id)},"aria-label":"מחק מורה",children:r.jsx(kr,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(st,{size:14}),r.jsx("span",{children:new Date(s.createdAt||Date.now()).toLocaleDateString("he-IL")})]})]})]})}function tN({teachers:s,isLoading:n,onEdit:c,onView:i,onRemove:u}){return Array.isArray(s)?n&&s.length===0?r.jsx("div",{className:"loading-state",children:"טוען מורים..."}):s.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"לא נמצאו מורים להצגה"}),r.jsx("p",{children:"נסה לשנות את מסנני החיפוש או להוסיף מורים חדשים"})]}):r.jsx("div",{className:"teacher-grid",children:s.map(f=>r.jsx(eN,{teacher:f,onEdit:c,onView:i||c,onRemove:u},f._id))}):(console.error("Expected teachers to be an array but got:",typeof s,s),r.jsx("div",{className:"error-state",children:"שגיאה בטעינת נתונים"}))}const aN=["מורה","מנצח","מדריך הרכב","מנהל","מורה תאוריה"],fc=["חצוצרה","חליל צד","קלרינט","קרן יער","בריטון","טרומבון","סקסופון","אבוב"],il=["ראשון","שני","שלישי","רביעי","חמישי","שישי"],sN=[30,45,60],nN=({initialTeacher:s,onClose:n,onSave:c})=>{const{saveTeacher:i,isLoading:u,error:f,clearError:h}=ks(),{currentSchoolYear:p}=Nl(),[g,m]=j.useState([]),[x,v]=j.useState(!1),[E,O]=j.useState(!1),[b,C]=j.useState({personalInfo:{fullName:"",phone:"",email:"",address:""},roles:["מורה"],professionalInfo:{instrument:fc[0],isActive:!0},teaching:{studentIds:[],schedule:[]},conducting:{orchestraIds:[]},ensemblesIds:[],schoolYears:[],credentials:{email:"",password:""},isActive:!0}),[T,z]=j.useState([]),[A,R]=j.useState({}),[U,D]=j.useState(!1),[k,Q]=j.useState(!1),J=!(s!=null&&s._id);j.useEffect(()=>{const S=()=>{O(window.innerWidth<768)};return S(),window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}},[]),j.useEffect(()=>{(async()=>{v(!0);try{const _=await za.getOrchestras({isActive:!0});m(_)}catch(_){console.error("Failed to load orchestras:",_)}finally{v(!1)}})()},[]),j.useEffect(()=>{T.length>0&&(console.log("Updating formData schedule from scheduleItems:",T),C(S=>({...S,teaching:{...S.teaching,schedule:[...T]}})))},[T]),j.useEffect(()=>{var S,_,q,B,Y,ne,le,pe,ge,xe,fe;if(s!=null&&s._id){if((S=s.teaching)!=null&&S.schedule&&Array.isArray(s.teaching.schedule)){const ce=s.teaching.schedule.filter(Le=>Le&&Le.studentId).map(Le=>({studentId:Le.studentId,day:Le.day||il[0],time:Le.time||"08:00",duration:Le.duration||45,isActive:Le.isActive!==!1}));console.log("Setting initial schedule items:",ce),z(ce)}C({_id:s._id,personalInfo:{fullName:((_=s.personalInfo)==null?void 0:_.fullName)||"",phone:((q=s.personalInfo)==null?void 0:q.phone)||"",email:((B=s.personalInfo)==null?void 0:B.email)||"",address:((Y=s.personalInfo)==null?void 0:Y.address)||""},roles:s.roles||["מורה"],professionalInfo:{instrument:((ne=s.professionalInfo)==null?void 0:ne.instrument)||fc[0],isActive:((le=s.professionalInfo)==null?void 0:le.isActive)!==!1},teaching:{studentIds:((pe=s.teaching)==null?void 0:pe.studentIds)||[],schedule:((ge=s.teaching)==null?void 0:ge.schedule)||[]},conducting:{orchestraIds:((xe=s.conducting)==null?void 0:xe.orchestraIds)||[]},ensemblesIds:s.ensemblesIds||[],schoolYears:s.schoolYears||[],credentials:{email:((fe=s.personalInfo)==null?void 0:fe.email)||"",password:""},isActive:s.isActive!==!1})}else C({personalInfo:{fullName:"",phone:"",email:"",address:""},roles:["מורה"],professionalInfo:{instrument:fc[0],isActive:!0},teaching:{studentIds:[],schedule:[]},conducting:{orchestraIds:[]},ensemblesIds:[],schoolYears:p?[{schoolYearId:p._id,isActive:!0}]:[],credentials:{email:"",password:""},isActive:!0}),z([]);R({}),h==null||h()},[s,h,p]);const V=j.useCallback(S=>{const{name:_,value:q}=S.target;C(B=>{const Y={...B.personalInfo,[_]:q},ne={...B.credentials,email:_==="email"?q:B.credentials.email};return{...B,personalInfo:Y,credentials:ne}}),R(B=>{if(B[`personalInfo.${_}`]){const Y={...B};return delete Y[`personalInfo.${_}`],Y}return B})},[]),Z=j.useCallback(S=>{const{name:_,value:q}=S.target;C(B=>({...B,professionalInfo:{...B.professionalInfo,[_]:q}})),R(B=>{if(B[`professionalInfo.${_}`]){const Y={...B};return delete Y[`professionalInfo.${_}`],Y}return B})},[]),se=j.useCallback(S=>{const{value:_,checked:q}=S.target;C(B=>{let Y=[...B.roles];return q?Y.includes(_)||Y.push(_):(Y=Y.filter(ne=>ne!==_),Y.length===0&&(Y=["מורה"])),{...B,roles:Y}}),R(B=>{if(B.roles){const Y={...B};return delete Y.roles,Y}return B})},[]),ae=j.useCallback(S=>{const{name:_,value:q}=S.target;C(B=>({...B,credentials:{...B.credentials,[_]:q}})),R(B=>{if(B[`credentials.${_}`]){const Y={...B};return delete Y[`credentials.${_}`],Y}return B})},[]),he=j.useCallback(S=>{const _=Array.from(S.target.selectedOptions).map(q=>q.value);C(q=>({...q,conducting:{...q.conducting,orchestraIds:_}})),R(q=>{if(q["conducting.orchestraIds"]){const B={...q};return delete B["conducting.orchestraIds"],B}return q})},[]),ie=j.useCallback((S,_,q)=>{console.log(`Updating schedule for student ${S}, ${_} = ${q}`),z(B=>{const Y=B.findIndex(le=>le.studentId===S);if(Y===-1){const le={studentId:S,day:_==="day"?q:il[0],time:_==="time"?q:"08:00",duration:_==="duration"?q:45,isActive:!0};return console.log(`Created new schedule item for student ${S}:`,le),[...B,le]}const ne=[...B];return ne[Y]={...ne[Y],[_]:q},console.log("Updated schedule item:",ne[Y]),ne})},[]),ue=j.useCallback(S=>{const _=T.find(B=>B.studentId===S);if(_){console.log(`Schedule item already exists for student ${S}:`,_);return}const q={studentId:S,day:il[0],time:"08:00",duration:45,isActive:!0};console.log(`Creating new schedule item for student ${S}:`,q),z(B=>[...B,q])},[T]),X=j.useCallback(S=>{console.log(`Removing schedule item for student ${S}`),z(_=>_.filter(q=>q.studentId!==S))},[]),re=j.useCallback(S=>{console.log("Updating student IDs:",S),C(_=>({..._,teaching:{..._.teaching,studentIds:S}}))},[]),ee=j.useCallback(()=>{var q,B,Y,ne,le;const S={};return(q=b.personalInfo)!=null&&q.fullName||(S["personalInfo.fullName"]="שם מלא הוא שדה חובה"),(B=b.personalInfo)!=null&&B.phone?/^05\d{8}$/.test(b.personalInfo.phone)||(S["personalInfo.phone"]="מספר טלפון לא תקין (צריך להתחיל ב-05 ולכלול 10 ספרות)"):S["personalInfo.phone"]="טלפון הוא שדה חובה",(Y=b.personalInfo)!=null&&Y.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.personalInfo.email)||(S["personalInfo.email"]='כתובת דוא"ל לא תקינה'):S["personalInfo.email"]='דוא"ל הוא שדה חובה',(ne=b.personalInfo)!=null&&ne.address||(S["personalInfo.address"]="כתובת היא שדה חובה"),b.roles.includes("מורה")&&!((le=b.professionalInfo)!=null&&le.instrument)&&(S["professionalInfo.instrument"]="כלי נגינה הוא שדה חובה למורה"),b.roles.length===0&&(S.roles="יש לבחור לפחות תפקיד אחד"),J&&(b.credentials.password||(S["credentials.password"]="סיסמה היא שדה חובה"),b.personalInfo.email!==b.credentials.email&&(S["credentials.email"]='דוא"ל בהרשאות חייב להתאים לדוא"ל בפרטים אישיים')),R(S),Object.keys(S).length===0},[b,J]),de=j.useCallback(async S=>{var _;if(S.preventDefault(),console.log("Submit triggered"),!ee())return console.log("Validation failed"),!1;Q(!0);try{const q=b._id,B=T.map(le=>({studentId:le.studentId,day:le.day||il[0],time:le.time||"08:00",duration:le.duration||45,isActive:le.isActive!==!1})),Y={...b,teaching:{...b.teaching,schedule:B}};console.log("Submitting with schedule:",B);let ne;if(q)ne={personalInfo:Y.personalInfo,roles:Y.roles,professionalInfo:Y.professionalInfo,isActive:Y.isActive},Y.teaching&&Y.teaching.studentIds.length>0&&(ne.teaching={studentIds:Y.teaching.studentIds},B.length>0&&(ne.teaching.schedule=B)),Y.conducting&&Y.conducting.orchestraIds.length>0&&(ne.conducting={orchestraIds:Y.conducting.orchestraIds}),Y.ensemblesIds&&Y.ensemblesIds.length>0&&(ne.ensemblesIds=Y.ensemblesIds),console.log("Final update data to be sent:",ne);else{const{_id:le,...pe}=Y;ne=pe}return p&&!((_=ne.schoolYears)!=null&&_.some(le=>le.schoolYearId===p._id))&&(ne.schoolYears=[...ne.schoolYears||[],{schoolYearId:p._id,isActive:!0}]),q?await i(ne,q):await i(ne),c&&c(),n(),!0}catch(q){console.error("Error saving teacher:",q);const B=q instanceof Error?q.message:"שגיאה לא ידועה בשמירת המורה";return console.error("Error message:",B),R(Y=>({...Y,form:B})),!1}finally{Q(!1)}},[b,T,ee,i,c,n,p]);return{formData:b,scheduleItems:T,errors:A,isLoading:u,isSubmitting:k,orchestras:g,loadingOrchestras:x,error:f,showPassword:U,isMobile:E,isNewTeacher:J,setFormData:C,setScheduleItems:z,setShowPassword:D,handlePersonalInfoChange:V,handleProfessionalInfoChange:Z,handleRolesChange:se,handleCredentialsChange:ae,handleOrchestraChange:he,handleScheduleChange:ie,addScheduleItem:ue,removeScheduleItem:X,updateStudentIds:re,validateForm:ee,handleSubmit:de}},lN=({initialStudentIds:s=[],onStudentIdsChange:n,onAddScheduleItem:c,onRemoveScheduleItem:i})=>{const[u,f]=j.useState([]),[h,p]=j.useState([]),[g,m]=j.useState(!1),[x,v]=j.useState(!1),[E,O]=j.useState("");j.useEffect(()=>{(async()=>{m(!0);try{const R=await Xe.getStudents({isActive:!0});console.log(`Loaded ${R.length} students for selection`),f(R)}catch(R){console.error("Failed to load students:",R)}finally{m(!1)}})()},[]),j.useEffect(()=>{(async()=>{if(s.length>0){console.log("Loading selected students for IDs:",s),m(!0);try{const R=await Xe.getStudentsByIds(s);console.log("Loaded selected students:",R),p(R)}catch(R){console.error("Failed to load selected students:",R)}finally{m(!1)}}else p([])})()},[s]);const b=j.useCallback(A=>{O(A)},[]),C=j.useCallback(()=>E.trim()?u.filter(A=>h.some(U=>U._id===A._id)?!1:[A.personalInfo.fullName,A.academicInfo.instrument,A.academicInfo.class].some(U=>(U==null?void 0:U.toLowerCase().includes(E.toLowerCase()))||!1)).slice(0,10):[],[E,u,h]),T=j.useCallback(A=>{if(h.some(U=>U._id===A._id)){console.log(`Student ${A._id} already selected, skipping`);return}console.log(`Adding student ${A._id} to selection`),p(U=>[...U,A]);const R=[...h.map(U=>U._id),A._id];n(R),console.log(`Creating schedule for student ${A._id}`),c(A._id),O(""),v(!1)},[h,n,c]),z=j.useCallback(A=>{console.log(`Removing student ${A} from selection`),p(U=>U.filter(D=>D._id!==A));const R=h.filter(U=>U._id!==A).map(U=>U._id);n(R),console.log(`Removing schedule for student ${A}`),i(A)},[h,n,i]);return{students:u,selectedStudents:h,loadingStudents:g,showStudentSearch:x,searchQuery:E,setShowStudentSearch:v,handleStudentSearch:b,getFilteredStudents:C,handleAddStudent:T,handleRemoveStudent:z}};function rN({isOpen:s,onClose:n,teacher:c,onSave:i,onAddNewStudent:u,newlyCreatedStudent:f}){var le,pe,ge,xe,fe;const{formData:h,scheduleItems:p,errors:g,isLoading:m,isSubmitting:x,orchestras:v,loadingOrchestras:E,error:O,showPassword:b,isMobile:C,isNewTeacher:T,setShowPassword:z,handlePersonalInfoChange:A,handleProfessionalInfoChange:R,handleRolesChange:U,handleCredentialsChange:D,handleOrchestraChange:k,handleScheduleChange:Q,addScheduleItem:J,removeScheduleItem:V,updateStudentIds:Z,handleSubmit:se}=nN({initialTeacher:c||null,onClose:n,onSave:i}),{selectedStudents:ae,loadingStudents:he,showStudentSearch:ie,searchQuery:ue,setShowStudentSearch:X,handleStudentSearch:re,getFilteredStudents:ee,handleAddStudent:de,handleRemoveStudent:S}=lN({initialStudentIds:h.teaching.studentIds,onStudentIdsChange:Z,onAddScheduleItem:J,onRemoveScheduleItem:V});j.useEffect(()=>{f&&(console.log("Adding newly created student:",f),de(f))},[f,de]);const _=h.roles.includes("מנצח"),q=h.roles.includes("מורה"),B=()=>{const ce={fullName:h.personalInfo.fullName,instrument:h.professionalInfo.instrument};console.log("Requesting to add new student with teacher info:",ce),u&&u(ce)},Y=ee(),ne=ce=>p.find(Le=>Le.studentId===ce)||{studentId:ce,day:il[0],time:"08:00",duration:45,isActive:!0};return s?r.jsxs("div",{className:"teacher-form",children:[r.jsx("div",{className:"overlay",onClick:n}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:n,"aria-label":"סגור",children:r.jsx(zt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?"עריכת מורה":"הוספת מורה חדש"}),O&&r.jsx("div",{className:"error-message",children:O}),g.form&&r.jsx("div",{className:"error-message",children:g.form}),r.jsxs("form",{onSubmit:se,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"פרטים אישיים"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"fullName",children:"שם מלא *"}),r.jsx("input",{type:"text",id:"fullName",name:"fullName",value:((le=h.personalInfo)==null?void 0:le.fullName)||"",onChange:A,className:g["personalInfo.fullName"]?"is-invalid":"",required:!0,disabled:x}),g["personalInfo.fullName"]&&r.jsx("div",{className:"form-error",children:g["personalInfo.fullName"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"phone",children:"טלפון *"}),r.jsx("input",{type:"tel",id:"phone",name:"phone",value:((pe=h.personalInfo)==null?void 0:pe.phone)||"",onChange:A,className:g["personalInfo.phone"]?"is-invalid":"",placeholder:"05XXXXXXXX",required:!0,disabled:x}),g["personalInfo.phone"]&&r.jsx("div",{className:"form-error",children:g["personalInfo.phone"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"email",children:'דוא"ל *'}),r.jsx("input",{type:"email",id:"email",name:"email",value:((ge=h.personalInfo)==null?void 0:ge.email)||"",onChange:A,className:g["personalInfo.email"]?"is-invalid":"",required:!0,disabled:x}),g["personalInfo.email"]&&r.jsx("div",{className:"form-error",children:g["personalInfo.email"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"address",children:"כתובת *"}),r.jsx("input",{type:"text",id:"address",name:"address",value:((xe=h.personalInfo)==null?void 0:xe.address)||"",onChange:A,className:g["personalInfo.address"]?"is-invalid":"",required:!0,disabled:x}),g["personalInfo.address"]&&r.jsx("div",{className:"form-error",children:g["personalInfo.address"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"מידע מקצועי"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:"תפקידים *"}),r.jsx("div",{className:"checkbox-group",children:aN.map(ce=>r.jsxs("div",{className:"checkbox-item",children:[r.jsx("input",{type:"checkbox",id:`role-${ce}`,name:"roles",value:ce,checked:h.roles.includes(ce),onChange:U,disabled:x}),r.jsx("label",{htmlFor:`role-${ce}`,children:ce})]},ce))}),g.roles&&r.jsx("div",{className:"form-error",children:g.roles})]})}),q&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"instrument",children:"כלי נגינה (למורה) *"}),r.jsxs("select",{id:"instrument",name:"instrument",value:((fe=h.professionalInfo)==null?void 0:fe.instrument)||"",onChange:R,className:g["professionalInfo.instrument"]?"is-invalid":"",required:q,disabled:x,children:[r.jsx("option",{value:"",disabled:!0,children:"בחר כלי נגינה"}),fc.map(ce=>r.jsx("option",{value:ce,children:ce},ce))]}),g["professionalInfo.instrument"]&&r.jsx("div",{className:"form-error",children:g["professionalInfo.instrument"]})]})}),_&&r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"orchestras",children:"תזמורות (למנצח)"}),r.jsx("select",{id:"orchestras",name:"orchestraIds",multiple:!0,value:h.conducting.orchestraIds||[],onChange:k,className:g["conducting.orchestraIds"]?"is-invalid":"",disabled:x||E,children:E?r.jsx("option",{disabled:!0,children:"טוען תזמורות..."}):v.length>0?v.map(ce=>r.jsx("option",{value:ce._id,children:ce.name},ce._id)):r.jsx("option",{disabled:!0,children:"אין תזמורות זמינות"})}),r.jsx("small",{className:"select-hint",children:C?"לחץ והחזק על מספר אפשרויות לבחירה מרובה":"ניתן לבחור מספר תזמורות (לחיצה על CTRL + לחיצה על תזמורת)"}),g["conducting.orchestraIds"]&&r.jsx("div",{className:"form-error",children:g["conducting.orchestraIds"]})]})})]}),q&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"תלמידים"}),ae.length>0&&r.jsxs("div",{className:"selected-students",children:[r.jsx("h4",{children:"תלמידים שהוקצו למורה"}),ae.map(ce=>{const Le=ne(ce._id);return r.jsxs("div",{className:"student-schedule-item",children:[r.jsxs("div",{className:"student-info",children:[r.jsx("div",{className:"student-name",children:ce.personalInfo.fullName}),r.jsxs("div",{className:"student-details",children:[r.jsx("span",{children:ce.academicInfo.instrument}),r.jsxs("span",{children:["כיתה ",ce.academicInfo.class]}),r.jsxs("span",{children:["שלב ",ce.academicInfo.currentStage]})]}),r.jsx("button",{type:"button",className:"remove-student-btn",onClick:()=>S(ce._id),"aria-label":"הסר תלמיד",disabled:x,children:r.jsx(zt,{size:16})})]}),r.jsxs("div",{className:"schedule-fields",children:[r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`day-${ce._id}`,children:"יום"}),r.jsx("select",{id:`day-${ce._id}`,value:Le.day,onChange:De=>Q(ce._id,"day",De.target.value),disabled:x,children:il.map(De=>r.jsx("option",{value:De,children:De},De))})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`time-${ce._id}`,children:"שעה"}),r.jsx("input",{type:"time",id:`time-${ce._id}`,value:Le.time,onChange:De=>Q(ce._id,"time",De.target.value),disabled:x})]}),r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:`duration-${ce._id}`,children:"משך (דקות)"}),r.jsx("select",{id:`duration-${ce._id}`,value:Le.duration,onChange:De=>Q(ce._id,"duration",Number(De.target.value)),disabled:x,children:sN.map(De=>r.jsx("option",{value:De,children:De},De))})]})]})]},ce._id)})]}),r.jsx("div",{className:"student-actions",children:ie?r.jsxs("div",{className:"student-search-container",children:[r.jsxs("div",{className:"search-header",children:[r.jsx("h4",{children:"חיפוש תלמידים"}),r.jsx("button",{type:"button",className:"btn",onClick:()=>X(!1),disabled:x,children:r.jsx(zt,{size:16})})]}),r.jsxs("div",{className:"search-box",children:[r.jsx(pc,{size:16}),r.jsx("input",{type:"text",placeholder:"חפש תלמיד לפי שם, כלי או כיתה...",value:ue,onChange:ce=>re(ce.target.value),disabled:x})]}),r.jsx("div",{className:"search-results",children:he?r.jsx("div",{className:"loading-message",children:"טוען תלמידים..."}):Y.length===0?r.jsx("div",{className:"no-results",children:"לא נמצאו תלמידים"}):r.jsx("div",{className:"student-list",children:Y.map(ce=>r.jsxs("div",{className:"student-search-item",onClick:()=>!x&&de(ce),style:{cursor:x?"not-allowed":"pointer"},children:[r.jsx("div",{className:"student-name",children:ce.personalInfo.fullName}),r.jsxs("div",{className:"student-details",children:[r.jsx("span",{children:ce.academicInfo.instrument}),r.jsxs("span",{children:["כיתה ",ce.academicInfo.class]})]})]},ce._id))})})]}):r.jsxs("div",{className:"student-action-buttons",children:[r.jsxs("button",{type:"button",className:"btn primary",onClick:()=>X(!0),disabled:x,children:[r.jsx(pc,{size:16}),r.jsx("span",{children:"חיפוש תלמידים קיימים"})]}),r.jsxs("button",{type:"button",className:"btn primary",onClick:B,disabled:x,children:[r.jsx(qs,{size:16}),r.jsx("span",{children:"הוספת תלמיד חדש"})]})]})})]}),T&&r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"הרשאות"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"cred-email",children:'דוא"ל (להתחברות) *'}),r.jsx("input",{type:"email",id:"cred-email",name:"email",value:h.credentials.email,onChange:D,className:g["credentials.email"]?"is-invalid":"",disabled:!0}),g["credentials.email"]&&r.jsx("div",{className:"form-error",children:g["credentials.email"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"password",children:"סיסמה *"}),r.jsxs("div",{className:"password-input-container",children:[r.jsx("input",{type:b?"text":"password",id:"password",name:"password",value:h.credentials.password,onChange:D,className:g["credentials.password"]?"is-invalid":"",required:!0,disabled:x}),r.jsx("button",{type:"button",className:"toggle-password-btn",onClick:()=>z(!b),"aria-label":b?"הסתר סיסמה":"הצג סיסמה",disabled:x,children:b?r.jsx(Lb,{size:16}):r.jsx(Lr,{size:16})})]}),g["credentials.password"]&&r.jsx("div",{className:"form-error",children:g["credentials.password"]})]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:m||x,children:m||x?"שומר...":c!=null&&c._id?"עדכון":"הוספה"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:n,disabled:x,children:"ביטול"})]})]})]})]}):null}function iN(){const{teachers:s,isLoading:n,error:c,loadTeachers:i,removeTeacher:u,clearSelectedTeacher:f}=ks(),[h,p]=j.useState(!1),[g,m]=j.useState(!1),[x,v]=j.useState(null),[E,O]=j.useState(!1),[b,C]=j.useState(null),[T,z]=j.useState(null),[A,R]=j.useState(null),U=B=>{var Y;return[B.personalInfo.fullName,((Y=B.professionalInfo)==null?void 0:Y.instrument)||"",B.personalInfo.email||"",B.personalInfo.phone||""]},{filteredEntities:D,handleSearch:k}=Od(s,U),Q=ma(),J=qt(),{user:V}=Hs(),Z=V==null?void 0:V.roles.includes("מנהל"),se=J.pathname.includes("/teachers/")&&!J.pathname.endsWith("/teachers/");j.useEffect(()=>{i()},[i]);const ae=()=>{v(null),f(),p(!0)},he=()=>{p(!1),v(null)},ie=B=>{B&&R({fullName:B.fullName,instrument:B.instrument}),m(!0)},ue=()=>{m(!1)},X=B=>{z(B),m(!1),p(!0)},re=B=>{const Y=s.find(ne=>ne._id===B)||null;v(Y),p(!0)},ee=B=>{Q(`/teachers/${B}`)},de=B=>{s.find(ne=>ne._id===B)&&(C(B),O(!0))},S=async()=>{if(b)try{await u(b),C(null),O(!1)}catch(B){console.error("Failed to remove teacher:",B)}},_=()=>{alert("Open filter dialog")},q=Z;return r.jsxs("div",{className:"app-container",children:[r.jsx(_c,{}),r.jsxs("main",{className:"main-content",children:[!se&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(wd,{onSearch:k,placeholder:"חיפוש מורים..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:_,"aria-label":"סנן מורים",children:r.jsx(bd,{className:"icon"})}),q&&r.jsx("button",{className:"btn-icon add-btn",onClick:ae,"aria-label":"הוספת מורה חדש",children:r.jsx(qs,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!se&&r.jsx(tN,{teachers:D,isLoading:n,onEdit:re,onView:ee,onRemove:Z?de:void 0}),r.jsx(Mr,{context:{loadTeachers:i}}),r.jsx(jn,{isOpen:E,onClose:()=>O(!1),onConfirm:S,title:"מחיקת מורה",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק את המורה?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"}),r.jsx(rN,{isOpen:h,onClose:he,teacher:x||void 0,onSave:()=>{console.log("onSave executing in parent component"),p(!1),i()},onAddNewStudent:ie,newlyCreatedStudent:T}),r.jsx(yy,{isOpen:g,onClose:ue,onStudentCreated:X,newTeacherInfo:A})]}),!se&&!h&&r.jsx(Fr,{})]})}function ag(){var Y,ne,le,pe,ge,xe,fe,ce,Le,De;const{teacherId:s}=jc(),[n,c]=j.useState(null),[i,u]=j.useState(!1),[f,h]=j.useState(null),[p,g]=j.useState(!1),[m,x]=j.useState([]),[v,E]=j.useState([]),[O,b]=j.useState(!1),[C,T]=j.useState([]),[z,A]=j.useState(0),[R,U]=j.useState({students:!0,orchestras:!0,schedule:!1,personalInfo:!0,professionalInfo:!0}),D=ma(),k=j.useCallback(()=>{A(oe=>oe+1)},[]);j.useEffect(()=>{s&&Q(s)},[s,z]);const Q=async oe=>{var we,Ze,xt;u(!0),h(null);try{const He=await da.getTeacherById(oe);console.log("Teacher data loaded:",He),c(He);const qe=((we=He.teaching)==null?void 0:we.schedule)||[];if(console.log("Teacher schedule data:",qe),Array.isArray(qe)&&qe.length>0){const Et=qe.filter(Je=>Je.isActive!==!1).map(Je=>({...Je,studentName:`תלמיד ${Je.studentId.slice(-6)}`,instrument:""}));T(Et)}else T([]);(Ze=He.teaching)!=null&&Ze.studentIds&&He.teaching.studentIds.length>0?J(He.teaching.studentIds,He.teaching.schedule):x([]),(xt=He.conducting)!=null&&xt.orchestraIds&&He.conducting.orchestraIds.length>0?(b(!0),await V(He.conducting.orchestraIds)):E([])}catch(He){console.error("Failed to load teacher:",He),h(He instanceof Error?He.message:"שגיאה בטעינת פרטי המורה")}finally{u(!1)}},J=async(oe,we=[])=>{try{if(!oe||!Array.isArray(oe)||oe.length===0){console.log("No student IDs provided"),x([]);return}console.log("Loading students for IDs:",oe);let Ze=0,xt=[];for(;Ze<2&&xt.length<oe.length;){Ze++;try{xt=await Xe.getStudentsByIds(oe),console.log(`Attempt ${Ze}: Loaded ${xt.length}/${oe.length} students`),xt.length>0&&xt.length<oe.length&&await new Promise(qe=>setTimeout(qe,500))}catch(qe){console.error(`Attempt ${Ze} failed:`,qe)}}console.log("Final loaded student data:",xt),x(xt.map(qe=>({_id:qe._id,fullName:qe.personalInfo.fullName||"תלמיד ללא שם",instrument:qe.academicInfo.instrument||""})));const He={};if(xt.forEach(qe=>{var Et,Je;if(qe&&qe._id){const ls=[qe._id,qe._id.toString(),qe._id.toString().replace(/"/g,"")],Ne={name:((Et=qe.personalInfo)==null?void 0:Et.fullName)||"תלמיד ללא שם",instrument:((Je=qe.academicInfo)==null?void 0:Je.instrument)||""};ls.forEach(Ie=>{He[Ie.toString()]=Ne})}}),console.log("Enhanced student map:",He),Array.isArray(we)&&we.length>0){console.log("Processing schedule items with student data");const qe=we.filter(Et=>Et.isActive!==!1).map(Et=>{const Je=Et.studentId,ls=[Je,Je.toString(),Je.toString().replace(/"/g,"")];let Ne=null;for(const Ie of ls)if(He[Ie.toString()]){Ne=He[Ie.toString()],console.log(`Found student match for ID ${Je} using format ${Ie}`);break}if(!Ne){const Ie=Je.toString().replace(/"/g,""),Ma=Object.keys(He).find(Ht=>Ht.includes(Ie)||Ie.includes(Ht));Ma&&(Ne=He[Ma],console.log(`Found partial match for ID ${Je} via key ${Ma}`))}return{...Et,studentName:Ne?Ne.name:`תלמיד ${Je.toString().slice(-6)}`,instrument:Ne?Ne.instrument:""}});console.log("New schedule items after mapping to student names:",qe),T(qe)}}catch(Ze){console.error("Failed to load students:",Ze)}},V=async oe=>{try{const we=await za.getOrchestrasByIds(oe);E(we)}catch(we){console.error("Failed to load orchestras:",we)}finally{b(!1)}},Z=oe=>{U(we=>({...we,[oe]:!we[oe]})),!R[oe]&&(oe==="students"||oe==="schedule")&&k()},se=()=>{g(!p)},ae=()=>{D("/teachers")},he=oe=>{D(`/students/${oe}`)},ie=oe=>{D(`/orchestras/${oe}`)},ue=oe=>oe?new Date(oe).toLocaleDateString("he-IL"):"לא זמין",X=oe=>oe&&oe.includes(":")?oe:oe||"08:00",re=oe=>({ראשון:"#4D55CC",שני:"#28A745",שלישי:"#FFC107",רביעי:"#6f42c1",חמישי:"#fd7e14",שישי:"#20c997",שבת:"#e83e8c"})[oe]||"#6c757d";if(i)return r.jsxs("div",{className:"loading-state",children:[r.jsx(ts,{className:"loading-icon",size:28}),r.jsx("p",{children:"טוען פרטי מורה..."})]});if(f||!n)return r.jsxs("div",{className:"error-state",children:[r.jsx("p",{children:f||"לא ניתן לטעון את פרטי המורה"}),r.jsx("button",{onClick:ae,className:"btn primary",children:"חזרה לרשימת המורים"})]});const ee=s&&((Y=n.teaching)==null?void 0:Y.schedule)&&Array.isArray(n.teaching.schedule)&&n.teaching.schedule.length>0,de=oe=>oe.split(" ").map(we=>we[0]).join("").toUpperCase().substring(0,2),S=oe=>({מורה:"#4D55CC",מנצח:"#28A745","מדריך הרכב":"#FFC107",מנהל:"#DC3545"})[oe]||"#6c757d",_=n.roles&&n.roles.length>0?n.roles[0]:"מורה",q=C.reduce((oe,we)=>(oe[we.day]||(oe[we.day]=[]),oe[we.day].push(we),oe),{}),B=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"];return Object.keys(q).forEach(oe=>{q[oe].sort((we,Ze)=>!we.time||!Ze.time?0:we.time.localeCompare(Ze.time))}),console.log("Rendering with schedule data:",{hasSchedule:ee,numScheduleItems:C.length,scheduleByDay:q,teacherSchedule:(ne=n.teaching)==null?void 0:ne.schedule}),r.jsx("div",{className:"teacher-details-content",children:r.jsx("div",{className:"teacher-details-page",children:r.jsx("div",{className:"teacher-card-container",children:r.jsxs("div",{className:`card-content ${p?"flipped":""}`,children:[r.jsxs("div",{className:"card-side card-front",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"teacher-identity",children:[r.jsx("div",{className:"avatar avatar-clickable",style:{backgroundColor:S(_)},children:de(n.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"teacher-name",children:n.personalInfo.fullName}),r.jsx("div",{className:"instrument",children:(le=n.professionalInfo)!=null&&le.instrument?r.jsxs(r.Fragment,{children:[r.jsx(vt,{size:14}),r.jsx("span",{children:n.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Zt,{size:14}),r.jsx("span",{children:_})]})})]})]}),r.jsxs("div",{className:"header-badges",children:[n.roles&&n.roles.map(oe=>r.jsx("div",{className:"role-badge",style:{backgroundColor:S(oe)},children:oe},oe)),r.jsx("button",{className:"back-button",onClick:ae,"aria-label":"חזרה",children:r.jsx(ua,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${R.students?"active":""}`,onClick:()=>Z("students"),children:[r.jsx(Br,{size:16}),r.jsxs("span",{children:["תלמידים (",((ge=(pe=n.teaching)==null?void 0:pe.studentIds)==null?void 0:ge.length)||0,")"]}),R.students?r.jsx(kt,{size:18,className:"toggle-icon"}):r.jsx(yt,{size:18,className:"toggle-icon"})]}),R.students&&r.jsx("div",{className:"section-content",children:m.length>0?r.jsx("div",{className:"students-grid",children:m.map(oe=>r.jsxs("div",{className:"student-card clickable",onClick:()=>he(oe._id),children:[r.jsx("div",{className:"student-avatar",children:de(oe.fullName)}),r.jsxs("div",{className:"student-info",children:[r.jsx("span",{className:"student-name",children:oe.fullName}),oe.instrument&&r.jsx("span",{className:"student-instrument",children:oe.instrument})]})]},oe._id))}):(fe=(xe=n.teaching)==null?void 0:xe.studentIds)!=null&&fe.length?r.jsxs("div",{className:"loading-section",children:[r.jsx(ts,{size:16,className:"loading-icon"}),r.jsx("span",{children:"טוען פרטי תלמידים..."}),r.jsx("button",{className:"refresh-btn",onClick:k,"aria-label":"רענן נתונים",children:"לחץ לרענון"})]}):r.jsx("div",{className:"no-students-message",children:"למורה זה אין תלמידים"})})]}),((ce=n.conducting)==null?void 0:ce.orchestraIds)&&n.conducting.orchestraIds.length>0&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${R.orchestras?"active":""}`,onClick:()=>Z("orchestras"),children:[r.jsx(vt,{size:16}),r.jsxs("span",{children:["מנצח על תזמורות (",n.conducting.orchestraIds.length,")"]}),R.orchestras?r.jsx(kt,{size:18,className:"toggle-icon"}):r.jsx(yt,{size:18,className:"toggle-icon"})]}),R.orchestras&&r.jsx("div",{className:"section-content",children:O?r.jsxs("div",{className:"loading-section",children:[r.jsx(ts,{size:16,className:"loading-icon"}),r.jsx("span",{children:"טוען נתוני תזמורת..."})]}):v.length>0?r.jsx("div",{className:"orchestras-grid",children:v.map(oe=>r.jsx("div",{className:"orchestra-card clickable",onClick:()=>ie(oe._id),children:r.jsx("span",{children:oe.name})},oe._id))}):r.jsx("div",{className:"no-orchestra-message",children:"לא נמצאו פרטי תזמורות"})})]}),n.roles.includes("מורה")&&r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${R.schedule?"active":""}`,onClick:()=>Z("schedule"),children:[r.jsx(st,{size:16}),r.jsxs("span",{children:["מערכת שעות (",C.length,")"]}),R.schedule?r.jsx(kt,{size:18,className:"toggle-icon"}):r.jsx(yt,{size:18,className:"toggle-icon"})]}),R.schedule&&r.jsx("div",{className:"section-content",children:C.length>0?r.jsxs("div",{className:"weekly-schedule",children:[B.filter(oe=>q[oe]).map(oe=>r.jsxs("div",{className:"schedule-day-group",children:[r.jsxs("div",{className:"day-header",style:{backgroundColor:re(oe),color:"white",padding:"6px 10px",borderRadius:"4px",marginBottom:"8px",marginTop:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[r.jsx(st,{size:14}),r.jsxs("span",{children:["יום ",oe]})]}),r.jsx("div",{className:"day-schedule-items",children:q[oe].map((we,Ze)=>r.jsxs("div",{className:"schedule-item-card",style:{border:"1px solid var(--border-color)",borderRadius:"8px",padding:"10px",marginBottom:"8px",backgroundColor:"var(--bg-secondary, #f8f9fa)",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},children:[r.jsxs("div",{className:"schedule-item-header",style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("div",{className:"student-name",style:{fontWeight:"bold"},children:we.studentName}),r.jsxs("div",{className:"time-display",style:{display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx(Or,{size:14}),r.jsx("span",{children:X(we.time)}),r.jsxs("span",{children:["(",we.duration," דקות)"]})]})]}),we.instrument&&r.jsxs("div",{className:"instrument-display",style:{fontSize:"0.85rem",marginTop:"4px",color:"var(--text-secondary, #6c757d)"},children:[r.jsx(vt,{size:12,style:{marginLeft:"4px"}}),r.jsx("span",{children:we.instrument})]})]},`${we.studentId}-${Ze}`))})]},oe)),Object.keys(q).length===0&&r.jsxs("div",{className:"no-schedule-message",style:{textAlign:"center",padding:"20px"},children:[r.jsx("p",{children:"אין כרגע שיעורים במערכת"}),r.jsxs("button",{className:"refresh-btn",onClick:k,style:{padding:"8px 16px",marginTop:"10px",backgroundColor:"var(--primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:[r.jsx(ts,{size:14}),"רענן נתונים"]})]})]}):r.jsx("div",{className:"no-schedule-message",style:{textAlign:"center",padding:"20px"},children:r.jsx("p",{children:"אין כרגע שיעורים במערכת"})})})]})]}),r.jsx("button",{className:"flip-button",onClick:se,children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג מידע מקצועי"}),r.jsx(ua,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג פרטים אישיים"}),r.jsx(ua,{size:14})]})})]}),r.jsxs("div",{className:"card-side card-back",children:[r.jsxs("div",{className:"card-header",children:[r.jsxs("div",{className:"teacher-identity",children:[r.jsx("div",{className:"avatar avatar-clickable",style:{backgroundColor:S(_)},children:de(n.personalInfo.fullName)}),r.jsxs("div",{className:"header-text",children:[r.jsx("h1",{className:"teacher-name",children:n.personalInfo.fullName}),r.jsx("div",{className:"instrument",children:(Le=n.professionalInfo)!=null&&Le.instrument?r.jsxs(r.Fragment,{children:[r.jsx(vt,{size:14}),r.jsx("span",{children:n.professionalInfo.instrument})]}):r.jsxs(r.Fragment,{children:[r.jsx(Zt,{size:14}),r.jsx("span",{children:_})]})})]})]}),r.jsxs("div",{className:"header-badges",children:[n.roles&&n.roles.map(oe=>r.jsx("div",{className:"role-badge",style:{backgroundColor:S(oe)},children:oe},oe)),r.jsx("button",{className:"back-button",onClick:ae,"aria-label":"חזרה",children:r.jsx(ua,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${R.personalInfo?"active":""}`,onClick:()=>Z("personalInfo"),children:[r.jsx(Zt,{size:16}),r.jsx("span",{children:"פרטים אישיים"}),R.personalInfo?r.jsx(kt,{size:18,className:"toggle-icon"}):r.jsx(yt,{size:18,className:"toggle-icon"})]}),R.personalInfo&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[n.personalInfo.phone&&r.jsxs("div",{className:"info-item",children:[r.jsx(Nc,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"טלפון"}),r.jsx("span",{className:"info-value",children:n.personalInfo.phone})]})]}),n.personalInfo.address&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ir,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"כתובת"}),r.jsx("span",{className:"info-value",children:n.personalInfo.address})]})]}),n.personalInfo.email&&r.jsxs("div",{className:"info-item",children:[r.jsx(Ur,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"אימייל"}),r.jsx("span",{className:"info-value",children:n.personalInfo.email})]})]}),n.createdAt&&r.jsxs("div",{className:"info-item",children:[r.jsx(st,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"תאריך הצטרפות"}),r.jsx("span",{className:"info-value",children:ue(n.createdAt)})]})]})]})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${R.professionalInfo?"active":""}`,onClick:()=>Z("professionalInfo"),children:[r.jsx(Ag,{size:16}),r.jsx("span",{children:"מידע מקצועי"}),R.professionalInfo?r.jsx(kt,{size:18,className:"toggle-icon"}):r.jsx(yt,{size:18,className:"toggle-icon"})]}),R.professionalInfo&&r.jsx("div",{className:"section-content",children:r.jsxs("div",{className:"info-grid",children:[((De=n.professionalInfo)==null?void 0:De.instrument)&&r.jsxs("div",{className:"info-item",children:[r.jsx(vt,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"כלי נגינה"}),r.jsx("span",{className:"info-value",children:n.professionalInfo.instrument})]})]}),r.jsxs("div",{className:"info-item",children:[r.jsx(st,{size:14}),r.jsxs("div",{children:[r.jsx("span",{className:"info-label",children:"תאריך הצטרפות"}),r.jsx("span",{className:"info-value",children:ue(n.createdAt||"")})]})]})]})})]})]}),r.jsx("button",{className:"flip-button",onClick:se,children:p?r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג מידע מקצועי"}),r.jsx(ua,{size:14})]}):r.jsxs(r.Fragment,{children:[r.jsx("span",{children:"הצג פרטים אישיים"}),r.jsx(ua,{size:14})]})})]})]})})})})}const Bs=bl((s,n)=>({orchestras:[],selectedOrchestra:null,filterBy:{},isLoading:!1,error:null,loadOrchestras:async(c={})=>{s({isLoading:!0,error:null});try{const i={...n().filterBy,...c},u=await za.getOrchestras(i);s({orchestras:u,filterBy:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestras";s({error:u,isLoading:!1}),console.error("Error loading orchestras:",i)}},loadOrchestraById:async c=>{s({isLoading:!0,error:null});try{const i=await za.getOrchestraById(c);s({selectedOrchestra:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestra";s({error:u,isLoading:!1}),console.error("Error loading orchestra:",i)}},saveOrchestra:async c=>{s({isLoading:!0,error:null});try{let i;if(c._id){i=await za.updateOrchestra(c._id,c);const u=n().orchestras.map(f=>f._id===i._id?i:f);s({orchestras:u,selectedOrchestra:i,isLoading:!1})}else i=await za.addOrchestra(c),s({orchestras:[...n().orchestras,i],selectedOrchestra:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save orchestra";throw s({error:u,isLoading:!1}),console.error("Error saving orchestra:",i),i}},removeOrchestra:async c=>{var i;s({isLoading:!0,error:null});try{await za.removeOrchestra(c),s({orchestras:n().orchestras.filter(u=>u._id!==c),selectedOrchestra:((i=n().selectedOrchestra)==null?void 0:i._id)===c?null:n().selectedOrchestra,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove orchestra";throw s({error:f,isLoading:!1}),console.error("Error removing orchestra:",u),u}},setFilter:c=>{s({filterBy:{...n().filterBy,...c}})},clearSelectedOrchestra:()=>{s({selectedOrchestra:null})},clearError:()=>{s({error:null})}}));function cN({orchestra:s,onView:n,onEdit:c,onRemove:i}){const u=v=>({הרכב:"#4D55CC",תזמורת:"#28A745"})[v]||"#6c757d",f=v=>v===0?"0 תלמידים":v===1?"תלמיד אחד":`${v} תלמידים`,h=v=>v?v===1?"חזרה אחת":`${v} חזרות`:"אין חזרות",p=s.memberIds&&s.memberIds.length>0,g=s.rehearsalIds&&s.rehearsalIds.length>0,m=p?s.memberIds.length:0,x=g?s.rehearsalIds.length:0;return r.jsxs("div",{className:"orchestra-preview",onClick:()=>n(s._id),style:{cursor:"pointer"},children:[r.jsx("div",{className:"preview-header",children:r.jsxs("div",{className:"orchestra-header-container",children:[r.jsx("div",{className:"avatar-section",children:r.jsx("div",{className:"avatar",style:{backgroundColor:u(s.type)},children:r.jsx(vt,{size:20})})}),r.jsxs("div",{className:"orchestra-info",children:[r.jsx("h3",{className:"orchestra-name",children:s.name}),r.jsxs("div",{className:"orchestra-type",children:[r.jsx(Br,{size:14}),r.jsx("span",{children:f(m)})]})]})]})}),r.jsx("div",{className:"preview-content",children:r.jsx("div",{className:"info-row",children:r.jsxs("div",{className:"info-item",children:[r.jsx(st,{size:16}),r.jsx("span",{children:h(x)})]})})}),r.jsxs("div",{className:"preview-footer",children:[r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:v=>{v.stopPropagation(),n(s._id)},"aria-label":"הצג פרטי תזמורת",children:r.jsx(Lr,{size:16})}),c&&r.jsx("button",{className:"action-btn edit",onClick:v=>{v.stopPropagation(),c(s._id)},"aria-label":"ערוך תזמורת",children:r.jsx(vn,{size:16})}),i&&r.jsx("button",{className:"action-btn delete",onClick:v=>{v.stopPropagation(),i(s._id)},"aria-label":"מחק תזמורת",children:r.jsx(kr,{size:16})})]}),r.jsxs("div",{className:"date-info",children:[r.jsx(st,{size:14}),r.jsx("span",{children:new Date(s.createdAt||Date.now()).toLocaleDateString("he-IL")})]})]})]})}function oN({orchestras:s,isLoading:n,onEdit:c,onView:i,onRemove:u}){return n&&s.length===0?r.jsx("div",{className:"loading-state",children:"טוען תזמורות..."}):s.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"לא נמצאו תזמורות להצגה"}),r.jsx("p",{children:"נסה לשנות את מסנני החיפוש או להוסיף תזמורות חדשות"})]}):r.jsx("div",{className:"orchestra-grid",children:s.map(f=>r.jsx(cN,{orchestra:f,onEdit:c,onView:i,onRemove:u},f._id))})}const uN=({initialOrchestra:s,onClose:n,onSave:c})=>{const{saveOrchestra:i,isLoading:u,error:f,clearError:h}=Bs(),{currentSchoolYear:p}=Nl(),{loadTeachers:g}=ks(),{students:m,saveStudent:x}=Sn(),[v,E]=j.useState({_id:void 0,name:"",type:"תזמורת",conductorId:"",memberIds:[],rehearsalIds:[],schoolYearId:"",location:"חדר 1",isActive:!0}),[O,b]=j.useState([]),[C,T]=j.useState(!1),[z,A]=j.useState({}),[R,U]=j.useState(!1),D=v.type==="תזמורת";j.useEffect(()=>{R||(s!=null&&s._id?E({_id:s._id,name:s.name||"",type:s.type||"תזמורת",conductorId:s.conductorId||"",memberIds:s.memberIds||[],rehearsalIds:s.rehearsalIds||[],schoolYearId:s.schoolYearId||(p==null?void 0:p._id)||"",location:s.location||"חדר 1",isActive:s.isActive!==!1}):E({_id:void 0,name:"",type:"תזמורת",conductorId:"",memberIds:[],rehearsalIds:[],schoolYearId:(p==null?void 0:p._id)||"",location:"חדר 1",isActive:!0}),A({}),h==null||h())},[s,p,h,R]),j.useEffect(()=>{if(R)return;(async()=>{T(!0);try{const se=v.type==="תזמורת"?"מנצח":"מדריך הרכב",ae=await g({role:se,isActive:!0});if(Array.isArray(ae))b(ae);else{const ie=ks.getState().teachers.filter(ue=>ue.roles.includes(se));b(ie)}}catch(se){console.error("Failed to load conductors:",se)}finally{T(!1)}})()},[v.type,g,R]);const k=Z=>{if(R)return;const{name:se,value:ae,dataset:he}=Z.target;if(se==="type"){const ie={...v,type:ae,conductorId:""};if(v.name){const ue=v.type==="תזמורת"?"תזמורת":"הרכב",X=ae==="תזמורת"?"תזמורת":"הרכב";v.name.includes(ue)&&(ie.name=v.name.replace(ue,X))}E(ie)}else E(se==="memberIds"?ie=>({...ie,memberIds:Array.isArray(ae)?ae:ie.memberIds}):ie=>({...ie,[se]:ae}));he!=null&&he.error?A(ie=>{if(he!=null&&he.error){const ue={...ie};return ue[se]=he.error,ue}return ie}):z[se]&&A(ie=>{const ue={...ie};return delete ue[se],ue})},Q=()=>{const Z={};return v.name||(Z.name=D?"שם התזמורת הוא שדה חובה":"שם ההרכב הוא שדה חובה"),v.type||(Z.type="סוג הוא שדה חובה"),v.conductorId||(Z.conductorId=D?"יש לבחור מנצח":"יש לבחור מדריך הרכב"),v.location||(Z.location="יש לבחור מקום"),v.schoolYearId||(Z.schoolYearId="שנת לימודים היא שדה חובה"),A(Z),Object.keys(Z).length===0},J=async Z=>{if(Z.preventDefault(),R||!Q())return!1;U(!0);try{console.log("Submitting orchestra form with data:",v);const se=await i(v);return console.log("Orchestra saved successfully:",se),await V(se),c&&c(),n(),!0}catch(se){return console.error("Error saving orchestra:",se),!1}finally{U(!1)}},V=async Z=>{const se=Z._id,ae=(s==null?void 0:s.memberIds)||[],he=v.memberIds;try{const ie=he.filter(X=>!ae.includes(X)),ue=ae.filter(X=>!he.includes(X));console.log("Updating student references:",{adding:ie.length,removing:ue.length});for(const X of ie){const re=m.find(ee=>ee._id===X);re&&!re.enrollments.orchestraIds.includes(se)&&await x({_id:re._id,enrollments:{...re.enrollments,orchestraIds:[...re.enrollments.orchestraIds,se]}})}for(const X of ue){const re=m.find(ee=>ee._id===X);re&&await x({_id:re._id,enrollments:{...re.enrollments,orchestraIds:re.enrollments.orchestraIds.filter(ee=>ee!==se)}})}}catch(ie){console.error("Error updating student references:",ie)}};return{formData:v,conductors:O,errors:z,isLoading:u,isSubmitting:R,isLoadingConductors:C,error:f,isOrchestra:D,handleInputChange:k,handleSubmit:J,setFormData:E,validateForm:Q}},dN=({initialMemberIds:s=[],onMemberIdsChange:n})=>{const{students:c,loadStudents:i}=Sn(),[u,f]=j.useState([]),[h,p]=j.useState(""),[g,m]=j.useState(!1),[x,v]=j.useState(!1),E=j.useRef(null),O=j.useRef(""),b=j.useRef(!1);j.useEffect(()=>{c.length===0&&i({isActive:!0})},[]),j.useEffect(()=>{const U=JSON.stringify(s.sort());if(c.length>0&&(O.current!==U||!b.current))if(O.current=U,b.current=!0,s.length>0){v(!0);const D=c.filter(k=>s.includes(k._id));f(D),v(!1)}else f([])},[s,c]);const C=j.useCallback(U=>{p(U.target.value),m(U.target.value.length>0)},[]),T=j.useCallback(()=>h?c.filter(U=>U.personalInfo.fullName.includes(h)&&!u.some(D=>D._id===U._id)).slice(0,10):[],[h,c,u]),z=j.useCallback(U=>{f(D=>{const k=[...D,U];return n&&n(k.map(Q=>Q._id)),k}),p(""),m(!1)},[n]),A=j.useCallback(U=>{f(D=>{const k=D.filter(Q=>Q._id!==U);return n&&n(k.map(Q=>Q._id)),k})},[n]),R=j.useCallback(()=>u.map(U=>U._id),[u]);return{selectedMembers:u,searchQuery:h,isSearchOpen:g,isLoading:x,searchRef:E,handleSearchChange:C,getFilteredStudents:T,handleAddMember:z,handleRemoveMember:A,getMemberIds:R}},fN=({name:s,existingNames:n,type:c,originalName:i,isSubmitting:u=!1})=>{const[f,h]=j.useState({isValid:!0,message:null}),p=j.useRef("");return j.useEffect(()=>{if(u){f.isValid||h({isValid:!0,message:null});return}const g=`${s}|${JSON.stringify(n)}|${c}|${i||""}`;if(p.current===g)return;if(p.current=g,!s||s.trim()===""){(!f.isValid||f.message!==null)&&h({isValid:!0,message:null});return}if(i&&i===s){(!f.isValid||f.message!==null)&&h({isValid:!0,message:null});return}const m=s.trim().toLowerCase(),x=i?n.filter(O=>O.toLowerCase()!==i.toLowerCase()):n;let v={isValid:!0,message:null};const E=x.find(O=>O.toLowerCase()===m);if(E)v={isValid:!1,message:`שם זהה כבר קיים: "${E}"`};else{const O=m.replace(/\s+/g,""),b=x.find(C=>C.toLowerCase().replace(/\s+/g,"")===O);b?v={isValid:!1,message:`שם דומה כבר קיים (הבדלי רווחים): "${b}"`}:m.length<2&&(v={isValid:!1,message:"שם חייב להכיל לפחות 2 תווים"})}(v.isValid!==f.isValid||v.message!==f.message)&&h(v)},[s,n,c,i,u,f]),f},hN=["הרכב","תזמורת"],ll=["אולם ערן","סטודיו קאמרי 1","סטודיו קאמרי 2","אולפן הקלטות","חדר חזרות 1","חדר חזרות 2","חדר מחשבים","חדר 1","חדר 2","חדר חזרות","חדר 5","חדר 6","חדר 7","חדר 8","חדר 9","חדר 10","חדר 11","חדר 12","חדר 13","חדר 14","חדר 15","חדר 16","חדר 17","חדר 18","חדר 19","חדר 20","חדר 21","חדר 22","חדר 23","חדר 24","חדר 25","חדר 26"];function vy({isOpen:s,onClose:n,orchestra:c,onSave:i}){const{orchestras:u}=Bs(),f=u.map(ae=>ae.name),{formData:h,conductors:p,errors:g,isLoading:m,isSubmitting:x,isLoadingConductors:v,error:E,handleInputChange:O,handleSubmit:b,isOrchestra:C}=uN({initialOrchestra:c,onClose:n,onSave:i}),T=fN({name:h.name,existingNames:f,type:h.type,originalName:c==null?void 0:c.name,isSubmitting:x}),{selectedMembers:z,searchQuery:A,isSearchOpen:R,isLoading:U,searchRef:D,handleSearchChange:k,getFilteredStudents:Q,handleAddMember:J,handleRemoveMember:V}=dN({initialMemberIds:(c==null?void 0:c.memberIds)||[],onMemberIdsChange:ae=>{O({target:{name:"memberIds",value:ae}})}}),Z=ae=>{if(ae.preventDefault(),!T.isValid&&T.message){O({target:{name:"name",value:h.name,dataset:{error:T.message}}});return}b(ae)};if(!s)return null;const se=Q();return r.jsxs("div",{className:"orchestra-form",children:[r.jsx("div",{className:"overlay",onClick:n}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:n,"aria-label":"סגור",children:r.jsx(zt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?C?"עריכת תזמורת":"עריכת הרכב":C?"הוספת תזמורת חדשה":"הוספת הרכב חדש"}),E&&r.jsx("div",{className:"error-message",children:E}),r.jsxs("form",{onSubmit:Z,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:C?"פרטי תזמורת":"פרטי הרכב"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"type",children:"סוג *"}),r.jsxs("select",{id:"type",name:"type",value:h.type,onChange:O,className:g.type?"is-invalid":"",required:!0,disabled:x,children:[r.jsx("option",{value:"",children:"בחר סוג"}),hN.map(ae=>r.jsx("option",{value:ae,children:ae},ae))]}),g.type&&r.jsx("div",{className:"form-error",children:g.type})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"name",children:C?"שם התזמורת *":"שם ההרכב *"}),r.jsxs("div",{className:"name-input-container",children:[r.jsx("input",{type:"text",id:"name",name:"name",value:h.name,onChange:O,className:g.name||!T.isValid&&!x?"is-invalid":"",placeholder:C?"הכנס שם תזמורת...":"הכנס שם הרכב...",required:!0,disabled:x}),!T.isValid&&T.message&&!g.name&&!x&&r.jsxs("div",{className:"name-validation-warning",children:[r.jsx(Db,{size:16}),r.jsx("span",{children:T.message})]})]}),g.name&&r.jsx("div",{className:"form-error",children:g.name})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"location",children:"מקום *"}),r.jsxs("select",{id:"location",name:"location",value:h.location,onChange:O,className:g.location?"is-invalid":"",required:!0,disabled:x,children:[r.jsx("option",{value:"",children:"בחר מקום"}),ll.map(ae=>r.jsx("option",{value:ae,children:ae},ae))]}),g.location&&r.jsx("div",{className:"form-error",children:g.location})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"conductorId",children:C?"מנצח *":"מדריך הרכב *"}),r.jsxs("select",{id:"conductorId",name:"conductorId",value:h.conductorId,onChange:O,className:g.conductorId?"is-invalid":"",required:!0,disabled:v||x,children:[r.jsx("option",{value:"",children:C?"בחר מנצח":"בחר מדריך הרכב"}),p.map(ae=>r.jsx("option",{value:ae._id,children:ae.personalInfo.fullName},ae._id))]}),v&&r.jsx("div",{className:"loading-text",children:C?"טוען מנצחים...":"טוען מדריכים..."}),g.conductorId&&r.jsx("div",{className:"form-error",children:g.conductorId})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{children:C?"תלמידים (חברי התזמורת)":"תלמידים (חברי ההרכב)"}),r.jsxs("div",{ref:D,className:"search-container",children:[r.jsxs("div",{className:"search-input-wrapper",children:[r.jsx(pc,{className:"search-icon",size:16}),r.jsx("input",{type:"text",value:A,onChange:k,placeholder:"חפש תלמידים להוספה...",className:"search-input",onClick:()=>A.length>0,disabled:x})]}),R&&se.length>0&&!x&&r.jsx("div",{className:"search-results-dropdown",children:se.map(ae=>r.jsxs("div",{className:"search-result-item",onClick:()=>J(ae),children:[r.jsx(Zt,{size:16,className:"student-icon"}),r.jsx("span",{children:ae.personalInfo.fullName}),r.jsx("span",{className:"student-instrument",children:ae.academicInfo.instrument})]},ae._id))})]}),r.jsx("div",{className:"selected-members-list",children:U?r.jsx("div",{className:"loading-text",children:"טוען תלמידים..."}):z.length>0?z.map(ae=>r.jsxs("div",{className:"member-badge",children:[r.jsx("span",{children:ae.personalInfo.fullName}),r.jsx("button",{type:"button",className:"remove-btn",onClick:()=>V(ae._id),"aria-label":`הסר את ${ae.personalInfo.fullName}`,disabled:x,children:r.jsx(zt,{size:14})})]},ae._id)):r.jsxs("div",{className:"no-members-message",children:["לא נבחרו תלמידים. השתמש בחיפוש כדי להוסיף תלמידים"," ",C?"לתזמורת":"להרכב","."]})})]})}),r.jsx("input",{type:"hidden",name:"schoolYearId",value:h.schoolYearId})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:m||x||!T.isValid&&!!h.name,children:x?"שומר...":m?"טוען...":c!=null&&c._id?"עדכון":"הוספה"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:n,disabled:x,children:"ביטול"})]})]})]})]})}function mN(){const{orchestras:s,isLoading:n,error:c,loadOrchestras:i,removeOrchestra:u}=Bs(),{loadCurrentSchoolYear:f}=Nl(),[h,p]=j.useState(!1),[g,m]=j.useState(null),[x,v]=j.useState(!1),[E,O]=j.useState(null),b=X=>[X.name,X.type],{filteredEntities:C,handleSearch:T}=Od(s,b),z=ma(),A=qt(),{user:R}=Hs(),U=R==null?void 0:R.roles.includes("מנהל"),D=R==null?void 0:R.roles.includes("מנצח"),k=A.pathname.includes("/orchestras/")&&!A.pathname.endsWith("/orchestras/");j.useEffect(()=>{i(),f()},[i,f]);const Q=()=>{m(null),p(!0)},J=()=>{p(!1),m(null)},V=X=>{const re=s.find(ee=>ee._id===X)||null;m(re),p(!0)},Z=X=>{z(`/orchestras/${X}`)},se=X=>{s.find(ee=>ee._id===X)&&(O(X),v(!0))},ae=async()=>{if(E)try{await u(E),O(null)}catch(X){console.error("Failed to remove orchestra:",X)}},he=()=>{alert("Open filter dialog")},ie=U,ue=U||D;return r.jsxs("div",{className:"app-container",children:[r.jsx(_c,{}),r.jsxs("main",{className:"main-content",children:[!k&&r.jsx("div",{className:"page-header",children:r.jsxs("div",{className:"search-action-container",children:[r.jsx(wd,{onSearch:T,placeholder:"חיפוש תזמורות..."}),r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"btn-icon filter-btn",onClick:he,"aria-label":"סנן תזמורות",children:r.jsx(bd,{className:"icon"})}),ie&&r.jsx("button",{className:"btn-icon add-btn",onClick:Q,"aria-label":"הוספת תזמורת חדשה",children:r.jsx(qs,{className:"icon"})})]})]})}),c&&r.jsx("div",{className:"error-message",children:c}),!k&&r.jsx(oN,{orchestras:C,isLoading:n,onEdit:ue?V:void 0,onView:Z,onRemove:U?se:void 0}),r.jsx(Mr,{context:{loadOrchestras:i}}),r.jsx(jn,{isOpen:x,onClose:()=>v(!1),onConfirm:ae,title:"מחיקת תזמורת",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק את התזמורת?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"}),h&&r.jsx(vy,{isOpen:h,onClose:J,orchestra:g,onSave:i})]}),!k&&!h&&r.jsx(Fr,{})]})}const As={async getRehearsals(s={}){return Ae.get("rehearsal",s)},async getRehearsalById(s){return Ae.get(`rehearsal/${s}`)},async getRehearsalsByOrchestraId(s){return this.getRehearsals({groupId:s})},async addRehearsal(s){if(s.type||(s.type="תזמורת"),s.date&&!s.dayOfWeek){const n=new Date(s.date);s.dayOfWeek=n.getDay()}return Ae.post("rehearsal",s)},async updateRehearsal(s,n){const{_id:c,...i}=n;if(n.date&&!n.dayOfWeek){const u=new Date(n.date);i.dayOfWeek=u.getDay()}return Ae.put(`rehearsal/${s}`,i)},async removeRehearsal(s){if(!s)throw new Error("Invalid rehearsal ID");return Ae.delete(`rehearsal/${s}`)},async bulkCreateRehearsals(s){try{console.log("Bulk create data being sent:",s);const n={orchestraId:s.orchestraId,startDate:s.startDate,endDate:s.endDate,dayOfWeek:Number(s.dayOfWeek),startTime:s.startTime,endTime:s.endTime,location:s.location,notes:s.notes||"",excludeDates:s.excludeDates||[]};return await Ae.post("rehearsal/bulk-create",n)}catch(n){throw console.error("Error in bulk create:",n),n}},async updateAttendance(s,n){return Ae.put(`rehearsal/${s}/attendance`,n)},async getAttendance(s){return Ae.get(`rehearsal/${s}/attendance`)},formatDate(s){return s.toISOString().split("T")[0]},formatTime(s){return s.toTimeString().slice(0,5)},formatDateForDisplay(s){return new Date(s).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"})},formatTimeForDisplay(s){return s},calculateDuration(s,n){const[c,i]=s.split(":").map(Number),[u,f]=n.split(":").map(Number),h=c*60+i;return u*60+f-h}},Dc=bl((s,n)=>({rehearsals:[],selectedRehearsal:null,filterBy:{},isLoading:!1,error:null,loadRehearsals:async(c={})=>{s({isLoading:!0,error:null});try{const i=await As.getRehearsals(c);s({rehearsals:i,filterBy:c,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load rehearsals";s({error:u,isLoading:!1}),console.error("Error loading rehearsals:",i)}},loadRehearsalById:async c=>{s({isLoading:!0,error:null});try{const i=await As.getRehearsalById(c);s({selectedRehearsal:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load rehearsal";s({error:u,isLoading:!1}),console.error("Error loading rehearsal:",i)}},loadRehearsalsByOrchestraId:async c=>{s({isLoading:!0,error:null});try{const i=await As.getRehearsalsByOrchestraId(c);s({rehearsals:i,isLoading:!1})}catch(i){const u=i instanceof Error?i.message:"Failed to load orchestra rehearsals";s({error:u,isLoading:!1}),console.error("Error loading orchestra rehearsals:",i)}},saveRehearsal:async c=>{s({isLoading:!0,error:null});try{let i;if(c._id){i=await As.updateRehearsal(c._id,c);const u=n().rehearsals.map(f=>f._id===i._id?i:f);s({rehearsals:u,selectedRehearsal:i,isLoading:!1})}else i=await As.addRehearsal(c),s({rehearsals:[...n().rehearsals,i],selectedRehearsal:i,isLoading:!1});return i}catch(i){const u=i instanceof Error?i.message:"Failed to save rehearsal";throw s({error:u,isLoading:!1}),console.error("Error saving rehearsal:",i),i}},removeRehearsal:async c=>{var i;s({isLoading:!0,error:null});try{if(!c)throw new Error("Invalid rehearsal ID");await As.removeRehearsal(c),s({rehearsals:n().rehearsals.filter(u=>u._id!==c),selectedRehearsal:((i=n().selectedRehearsal)==null?void 0:i._id)===c?null:n().selectedRehearsal,isLoading:!1})}catch(u){const f=u instanceof Error?u.message:"Failed to remove rehearsal";throw s({error:f,isLoading:!1}),console.error("Error removing rehearsal:",u),u}},bulkCreateRehearsals:async c=>{s({isLoading:!0,error:null});try{const i={orchestraId:c.orchestraId,startDate:c.startDate,endDate:c.endDate,dayOfWeek:Number(c.dayOfWeek),startTime:c.startTime,endTime:c.endTime,location:c.location,notes:c.notes||"",excludeDates:c.excludeDates||[]};console.log("Sending bulk create data:",i);const u=await As.bulkCreateRehearsals(i);return i.orchestraId?await n().loadRehearsalsByOrchestraId(i.orchestraId):await n().loadRehearsals(),s({isLoading:!1}),u}catch(i){const u=i instanceof Error?i.message:"Failed to create bulk rehearsals";throw s({error:u,isLoading:!1}),console.error("Error creating bulk rehearsals:",i),i}},updateAttendance:async(c,i)=>{var u;s({isLoading:!0,error:null});try{const f=await As.updateAttendance(c,i),h=n().rehearsals.map(p=>p._id===c?f:p);s({rehearsals:h,selectedRehearsal:((u=n().selectedRehearsal)==null?void 0:u._id)===c?f:n().selectedRehearsal,isLoading:!1})}catch(f){const h=f instanceof Error?f.message:"Failed to update attendance";throw s({error:h,isLoading:!1}),console.error("Error updating attendance:",f),f}},setFilter:c=>{s({filterBy:{...n().filterBy,...c}})},clearSelectedRehearsal:()=>{s({selectedRehearsal:null})},clearError:()=>{s({error:null})}})),nl=s=>s.toISOString().split("T")[0];function Cd({isOpen:s,onClose:n,rehearsal:c,orchestraId:i,onSave:u}){const{saveRehearsal:f,bulkCreateRehearsals:h,isLoading:p,error:g,clearError:m}=Dc(),{orchestras:x,loadOrchestras:v}=Bs(),{currentSchoolYear:E}=Nl(),O=(E==null?void 0:E._id)||"",[b,C]=j.useState("single"),[T,z]=j.useState({groupId:i||"",date:nl(new Date),startTime:"16:00",endTime:"18:00",location:ll[0],notes:"",isActive:!0,schoolYearId:O,type:"תזמורת",dayOfWeek:new Date().getDay()}),[A,R]=j.useState({orchestraId:i||"",startDate:nl(new Date),endDate:nl(new Date(new Date().getTime()+30*24*60*60*1e3)),dayOfWeek:new Date().getDay(),startTime:"16:00",endTime:"18:00",location:ll[0],notes:"",excludeDates:[]}),[U,D]=j.useState(""),[k,Q]=j.useState({}),[J,V]=j.useState("");j.useEffect(()=>{x.length===0&&v()},[x.length,v]),j.useEffect(()=>{if(c!=null&&c._id&&C("single"),c!=null&&c._id)z({_id:c._id,groupId:c.groupId,date:c.date,startTime:c.startTime,endTime:c.endTime,location:c.location||"",notes:c.notes||"",isActive:c.isActive!==!1,schoolYearId:c.schoolYearId||O,type:c.type||"תזמורת",dayOfWeek:c.dayOfWeek});else{const S=new Date,_=S.getDay();z({groupId:i||"",date:nl(S),startTime:"16:00",endTime:"18:00",location:ll[0],notes:"",isActive:!0,schoolYearId:O,type:"תזמורת",dayOfWeek:_}),R({orchestraId:i||"",startDate:nl(S),endDate:nl(new Date(S.getTime()+30*24*60*60*1e3)),dayOfWeek:_,startTime:"16:00",endTime:"18:00",location:ll[0],notes:"",excludeDates:[]})}Q({}),V(""),m&&m()},[c,s,m,i,O,v]);const Z=S=>{const{name:_,value:q}=S.target;z(B=>({...B,[_]:q})),["startTime","endTime","location","notes","groupId"].includes(_)&&R(B=>({...B,[_==="groupId"?"orchestraId":_]:q})),k[_]&&Q(B=>({...B,[_]:""}))},se=S=>{const{name:_,value:q}=S.target;R(B=>({...B,[_]:q})),["startTime","endTime","location","notes"].includes(_)?z(B=>({...B,[_]:q})):_==="orchestraId"&&z(B=>({...B,groupId:q})),k[_]&&Q(B=>({...B,[_]:""}))},ae=S=>{const _=parseInt(S.target.value,10);R(q=>({...q,dayOfWeek:_})),z(q=>({...q,dayOfWeek:_}))},he=S=>{c!=null&&c._id||C(S)},ie=()=>{U&&(A.excludeDates.includes(U)||(R(S=>({...S,excludeDates:[...S.excludeDates,U]})),D("")))},ue=S=>{R(_=>({..._,excludeDates:_.excludeDates.filter(q=>q!==S)}))},X=S=>["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"][S],re=()=>{const S={};return T.groupId||(S.groupId="יש לבחור תזמורת"),T.date||(S.date="תאריך החזרה הוא שדה חובה"),T.startTime||(S.startTime="שעת התחלה היא שדה חובה"),T.endTime||(S.endTime="שעת סיום היא שדה חובה"),T.location||(S.location="מיקום החזרה הוא שדה חובה"),T.startTime&&T.endTime&&T.endTime<=T.startTime&&(S.endTime="שעת הסיום חייבת להיות אחרי שעת ההתחלה"),Q(S),Object.keys(S).length===0},ee=()=>{const S={};return A.orchestraId||(S.orchestraId="יש לבחור תזמורת"),A.startDate||(S.startDate="תאריך התחלה הוא שדה חובה"),A.endDate||(S.endDate="תאריך סיום הוא שדה חובה"),A.startDate&&A.endDate&&new Date(A.endDate)<new Date(A.startDate)&&(S.endDate="תאריך הסיום חייב להיות אחרי תאריך ההתחלה"),A.startTime||(S.startTime="שעת התחלה היא שדה חובה"),A.endTime||(S.endTime="שעת סיום היא שדה חובה"),A.startTime&&A.endTime&&A.endTime<=A.startTime&&(S.endTime="שעת הסיום חייבת להיות אחרי שעת ההתחלה"),A.location||(S.location="מיקום החזרה הוא שדה חובה"),Q(S),Object.keys(S).length===0},de=async S=>{if(S.preventDefault(),V(""),!!(b==="bulk"?ee():re()))try{if(b==="bulk"){const q={orchestraId:A.orchestraId,startDate:A.startDate,endDate:A.endDate,dayOfWeek:Number(A.dayOfWeek),startTime:A.startTime,endTime:A.endTime,location:A.location,notes:A.notes||"",excludeDates:A.excludeDates||[]};console.log("Sending bulk create data:",q),await h(q)}else{const q={...T,schoolYearId:T.schoolYearId||O,dayOfWeek:T.dayOfWeek||new Date(T.date).getDay()};await f(q)}u&&u(),n()}catch(q){console.error("Error saving rehearsal:",q),V(q instanceof Error?q.message:"שגיאה בשמירת החזרה. נסה שוב.")}};return s?r.jsxs("div",{className:"rehearsal-form",children:[r.jsx("div",{className:"overlay",onClick:n}),r.jsxs("div",{className:"form-modal",children:[r.jsx("button",{className:"btn-icon close-btn",onClick:n,"aria-label":"סגור",children:r.jsx(zt,{size:20})}),r.jsx("h2",{children:c!=null&&c._id?"עריכת חזרה":"הוספת חזרה חדשה"}),g&&r.jsx("div",{className:"error-message",children:g}),J&&r.jsx("div",{className:"error-message",children:J}),!(c!=null&&c._id)&&r.jsxs("div",{className:"mode-toggle",children:[r.jsx("button",{type:"button",className:`btn primary ${b==="single"?"active":""}`,onClick:()=>he("single"),children:"חזרה בודדת"}),r.jsx("button",{type:"button",className:`btn primary ${b==="bulk"?"active":""}`,onClick:()=>he("bulk"),children:"חזרות מרובות"})]}),r.jsxs("form",{onSubmit:de,children:[r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"פרטי תזמורת"}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:b==="single"?"groupId":"orchestraId",children:[r.jsx(vt,{size:16,className:"icon"}),"תזמורת/הרכב *"]}),r.jsxs("select",{id:b==="single"?"groupId":"orchestraId",name:b==="single"?"groupId":"orchestraId",value:b==="single"?T.groupId:A.orchestraId,onChange:b==="single"?Z:se,className:k[b==="single"?"groupId":"orchestraId"]?"is-invalid":"",required:!0,children:[r.jsx("option",{value:"",children:"בחר תזמורת/הרכב"}),x.map(S=>r.jsx("option",{value:S._id,children:S.name},S._id))]}),k[b==="single"?"groupId":"orchestraId"]&&r.jsx("div",{className:"form-error",children:k[b==="single"?"groupId":"orchestraId"]})]})})]}),r.jsxs("div",{className:"form-section",children:[r.jsx("h3",{children:"פרטי חזרה"}),b==="single"?r.jsx(r.Fragment,{children:r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"date",children:[r.jsx(st,{size:16,className:"icon"}),"תאריך *"]}),r.jsx("input",{type:"date",id:"date",name:"date",value:T.date,onChange:Z,className:k.date?"is-invalid":"",required:!0}),k.date&&r.jsx("div",{className:"form-error",children:k.date})]})})}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"startDate",children:[r.jsx(st,{size:16,className:"icon"}),"תאריך התחלה *"]}),r.jsx("input",{type:"date",id:"startDate",name:"startDate",value:A.startDate,onChange:se,className:k.startDate?"is-invalid":"",required:!0}),k.startDate&&r.jsx("div",{className:"form-error",children:k.startDate})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"endDate",children:[r.jsx(st,{size:16,className:"icon"}),"תאריך סיום *"]}),r.jsx("input",{type:"date",id:"endDate",name:"endDate",value:A.endDate,onChange:se,className:k.endDate?"is-invalid":"",required:!0}),k.endDate&&r.jsx("div",{className:"form-error",children:k.endDate})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"dayOfWeek",children:[r.jsx(Wb,{size:16,className:"icon"}),"יום בשבוע *"]}),r.jsxs("select",{id:"dayOfWeek",name:"dayOfWeek",value:A.dayOfWeek,onChange:ae,required:!0,children:[r.jsx("option",{value:0,children:"יום ראשון"}),r.jsx("option",{value:1,children:"יום שני"}),r.jsx("option",{value:2,children:"יום שלישי"}),r.jsx("option",{value:3,children:"יום רביעי"}),r.jsx("option",{value:4,children:"יום חמישי"}),r.jsx("option",{value:5,children:"יום שישי"}),r.jsx("option",{value:6,children:"יום שבת"})]}),r.jsxs("div",{className:"help-text",children:["חזרות ייווצרו בכל יום ",X(A.dayOfWeek)," ","בטווח התאריכים שנבחר"]})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group excluded-dates",children:[r.jsxs("label",{children:[r.jsx(st,{size:16,className:"icon"}),"תאריכים לדילוג"]}),r.jsxs("div",{className:"date-input-group",children:[r.jsx("input",{type:"date",value:U,onChange:S=>D(S.target.value),min:A.startDate,max:A.endDate}),r.jsx("button",{type:"button",onClick:ie,className:"add-date-btn",disabled:!U,children:"הוסף"})]}),A.excludeDates.length>0&&r.jsxs("div",{className:"excluded-dates-list",children:[r.jsx("div",{className:"list-title",children:"תאריכים שיידלגו:"}),r.jsx("ul",{children:A.excludeDates.map(S=>r.jsxs("li",{children:[new Date(S).toLocaleDateString("he-IL"),r.jsx("button",{type:"button",onClick:()=>ue(S),className:"remove-date-btn",children:r.jsx(zt,{size:14})})]},S))})]})]})})]}),r.jsxs("div",{className:"form-row",children:[r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"startTime",children:[r.jsx(Or,{size:16,className:"icon"}),"שעת התחלה *"]}),r.jsx("input",{type:"time",id:"startTime",name:"startTime",value:b==="bulk"?A.startTime:T.startTime,onChange:b==="bulk"?se:Z,className:k.startTime?"is-invalid":"",required:!0}),k.startTime&&r.jsx("div",{className:"form-error",children:k.startTime})]}),r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"endTime",children:[r.jsx(Or,{size:16,className:"icon"}),"שעת סיום *"]}),r.jsx("input",{type:"time",id:"endTime",name:"endTime",value:b==="bulk"?A.endTime:T.endTime,onChange:b==="bulk"?se:Z,className:k.endTime?"is-invalid":"",required:!0}),k.endTime&&r.jsx("div",{className:"form-error",children:k.endTime})]})]}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{htmlFor:"location",children:[r.jsx(Ir,{size:16,className:"icon"}),"מיקום *"]}),r.jsxs("select",{id:"location",name:"location",value:b==="bulk"?A.location:T.location,onChange:b==="bulk"?se:Z,className:k.location?"is-invalid":"",required:!0,children:[r.jsx("option",{value:"",disabled:!0,children:"בחר מיקום"}),ll.map(S=>r.jsx("option",{value:S,children:S},S))]}),k.location&&r.jsx("div",{className:"form-error",children:k.location})]})}),r.jsx("div",{className:"form-row full-width",children:r.jsxs("div",{className:"form-group",children:[r.jsx("label",{htmlFor:"notes",children:"הערות"}),r.jsx("textarea",{id:"notes",name:"notes",value:b==="bulk"?A.notes:T.notes,onChange:b==="bulk"?se:Z,rows:3})]})})]}),r.jsxs("div",{className:"form-actions",children:[r.jsx("button",{type:"submit",className:"btn primary",disabled:p,children:p?"שומר...":b==="bulk"?"יצירת חזרות מרובות":c!=null&&c._id?"עדכון":"הוספה"}),r.jsx("button",{type:"button",className:"btn secondary",onClick:n,children:"ביטול"})]})]})]})]}):null}function sg(){var Et,Je,ls;const{orchestraId:s}=jc(),n=ma(),{user:c}=Hs(),{selectedOrchestra:i,loadOrchestraById:u,removeOrchestra:f,isLoading:h,error:p}=Bs(),{loadTeacherById:g}=ks(),{getStudentsByIds:m}=Sn(),{rehearsals:x,loadRehearsalsByOrchestraId:v,removeRehearsal:E,isLoading:O}=Dc(),[b,C]=j.useState([]),[T,z]=j.useState(!1),[A,R]=j.useState(!1),[U,D]=j.useState(!1),[k,Q]=j.useState(null),[J,V]=j.useState(!1),[Z,se]=j.useState(!1),[ae,he]=j.useState(null),[ie,ue]=j.useState(!1),[X,re]=j.useState(null),[ee,de]=j.useState(!1),[S,_]=j.useState(!1),[q,B]=j.useState(!1),Y=((Et=c==null?void 0:c.roles)==null?void 0:Et.includes("מנהל"))||!1,ne=((Je=c==null?void 0:c.roles)==null?void 0:Je.includes("מנצח"))||!1,le=Y||ne&&(i==null?void 0:i.conductorId)===(c==null?void 0:c._id);j.useEffect(()=>{s&&u(s)},[s,u]),j.useEffect(()=>{s&&v(s)},[s,v]),j.useEffect(()=>{(async()=>{if(i!=null&&i.conductorId){V(!0);try{await g(i.conductorId);const Ma=ks.getState().selectedTeacher;Q(Ma)}catch(Ie){console.error("Failed to load conductor:",Ie)}finally{V(!1)}}})()},[i,g]),j.useEffect(()=>{(async()=>{if(i&&i.memberIds&&i.memberIds.length>0){z(!0);try{const Ma=(await m(i.memberIds)).map(Ht=>({_id:Ht._id,personalInfo:{fullName:Ht.personalInfo.fullName},academicInfo:{instrument:Ht.academicInfo.instrument}}));C(Ma.map(Ht=>({...Ht,academicInfo:{...Ht.academicInfo,instrument:Ht.academicInfo.instrument||""}})))}catch(Ie){console.error("Failed to load members:",Ie)}finally{z(!1)}}else C([])})()},[i,m]);const pe=Ne=>new Date(Ne).toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"}),ge=()=>{n("/orchestras")},xe=()=>{R(!0)},fe=()=>{D(!0)},ce=async()=>{if(i!=null&&i._id)try{await f(i._id),n("/orchestras")}catch(Ne){console.error("Failed to delete orchestra:",Ne)}D(!1)},Le=()=>{he(null),se(!0)},De=Ne=>{he(Ne),se(!0)},oe=Ne=>{re(Ne),ue(!0)},we=async()=>{if(X)try{await E(X),v(s)}catch(Ne){console.error("Failed to delete rehearsal:",Ne)}ue(!1),re(null)},Ze=Ne=>{n(`/rehearsals/${Ne}`)},xt=()=>{de(!ee)},He=()=>{_(!S)},qe=()=>{B(!q)};return h?r.jsx("div",{className:"loading-state",children:"טוען..."}):p?r.jsx("div",{className:"error-state",children:p}):i?r.jsxs("div",{className:"orchestra-details-content",children:[r.jsx("div",{className:"orchestra-details-page",children:r.jsx("div",{className:"orchestra-card-container",children:r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"orchestra-header",children:[r.jsx("div",{className:"header-icon",children:r.jsx(vt,{className:"icon",size:20})}),r.jsx("h2",{className:"header-title",children:i.name}),r.jsxs("div",{className:"header-actions",children:[le&&r.jsx("button",{className:"action-btn edit",onClick:xe,children:r.jsx(vn,{size:16})}),Y&&r.jsx("button",{className:"action-btn delete",onClick:fe,children:r.jsx(zt,{size:16})}),r.jsx("button",{className:"back-button",onClick:ge,"aria-label":"חזרה",children:r.jsx(ua,{size:20})})]})]}),r.jsxs("div",{className:"card-scroll-area",children:[r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${ee?"active":""}`,onClick:xt,children:[i.type==="הרכב"?"פרטי הרכב":"פרטי התזמורת",ee?r.jsx(kt,{className:"toggle-icon",size:20}):r.jsx(yt,{className:"toggle-icon",size:20})]}),ee&&r.jsxs("div",{className:"section-content",children:[r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"מנצח:"}),r.jsx("span",{className:"info-value",children:J?"טוען...":k&&"personalInfo"in k?k.personalInfo.fullName:"לא הוגדר"})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"מספר תלמידים:"}),r.jsx("span",{className:"info-value",children:((ls=i.memberIds)==null?void 0:ls.length)||0})]}),r.jsxs("div",{className:"info-row",children:[r.jsx("span",{className:"info-label",children:"מספר חזרות:"}),r.jsx("span",{className:"info-value",children:(x==null?void 0:x.length)||0})]})]})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${S?"active":""}`,onClick:He,children:[r.jsx(Br,{size:18}),"תלמידים",S?r.jsx(kt,{className:"toggle-icon",size:20}):r.jsx(yt,{className:"toggle-icon",size:20})]}),S&&r.jsx("div",{className:"section-content",children:i.memberIds&&i.memberIds.length>0?r.jsx("div",{className:"members-list",children:T?r.jsx("div",{className:"loading-message",children:"טוען תלמידים..."}):b.length>0?r.jsx("ul",{className:"members-items",children:b.map(Ne=>r.jsx("li",{className:"member-item",children:r.jsxs("div",{className:"member-info",children:[r.jsx("span",{className:"member-name",children:Ne.personalInfo.fullName}),r.jsx("span",{children:" - "}),r.jsx("span",{className:"member-instrument",children:Ne.academicInfo.instrument})]})},Ne._id))}):r.jsx("div",{className:"message-box",children:"לא ניתן לטעון את נתוני התלמידים"})}):r.jsx("div",{className:"warning-box",children:"אין תלמידים בתזמורת זו"})})]}),r.jsxs("div",{className:"section",children:[r.jsxs("div",{className:`section-title clickable ${q?"active":""}`,onClick:qe,children:[r.jsx(st,{size:18}),"חזרות",q?r.jsx(kt,{className:"toggle-icon",size:20}):r.jsx(yt,{className:"toggle-icon",size:20})]}),q&&r.jsxs("div",{className:"section-content",children:[le&&r.jsx("div",{className:"add-rehearsal-btn-container",children:r.jsxs("button",{className:"btn primary add-rehearsal-btn",onClick:Le,children:[r.jsx(qs,{size:16}),"הוסף חזרה"]})}),O?r.jsx("div",{className:"loading-message",children:"טוען חזרות..."}):x&&x.length>0?r.jsx("div",{className:"rehearsals-list",children:x.sort((Ne,Ie)=>new Date(Ne.date).getTime()-new Date(Ie.date).getTime()).map(Ne=>r.jsxs("div",{className:"rehearsal-item",onClick:()=>Ze(Ne._id),style:{cursor:"pointer"},children:[r.jsxs("div",{className:"rehearsal-header",children:[r.jsxs("div",{className:"rehearsal-date",children:[r.jsx(st,{size:16}),r.jsx("span",{children:pe(Ne.date)})]}),le&&r.jsxs("div",{className:"rehearsal-actions",children:[r.jsx("button",{className:"action-btn edit",onClick:Ie=>{Ie.stopPropagation(),De(Ne)},children:r.jsx(vn,{size:14})}),r.jsx("button",{className:"action-btn delete",onClick:Ie=>{Ie.stopPropagation(),oe(Ne._id)},children:r.jsx(zt,{size:14})})]})]}),r.jsxs("div",{className:"rehearsal-details",children:[r.jsxs("div",{className:"rehearsal-time",children:[r.jsx(Or,{size:16}),r.jsxs("span",{children:[Ne.startTime," - ",Ne.endTime]})]}),r.jsxs("div",{className:"rehearsal-location",children:[r.jsx(Ir,{size:16}),r.jsx("span",{children:Ne.location})]}),Ne.notes&&r.jsxs("div",{className:"rehearsal-notes",children:[r.jsx("span",{className:"notes-label",children:"הערות:"}),r.jsx("span",{className:"notes-text",children:Ne.notes})]})]})]},Ne._id))}):r.jsx("div",{className:"warning-box",children:"אין חזרות רשומות לתזמורת זו"})]})]})]})]})})}),A&&r.jsx(vy,{isOpen:A,onClose:()=>R(!1),orchestra:i,onSave:()=>{R(!1),s&&u(s)}}),Z&&r.jsx(Cd,{isOpen:Z,onClose:()=>se(!1),rehearsal:ae,orchestraId:s,onSave:()=>{se(!1),s&&v(s)}}),r.jsx(jn,{isOpen:U,onClose:()=>D(!1),onConfirm:ce,title:"מחיקת תזמורת",message:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:['האם אתה בטוח שברצונך למחוק את התזמורת "',i.name,'"?']}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"}),r.jsx(jn,{isOpen:ie,onClose:()=>ue(!1),onConfirm:we,title:"מחיקת חזרה",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק חזרה זו?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"})]}):r.jsx("div",{className:"not-found-state",children:"תזמורת לא נמצאה"})}function pN({rehearsal:s,orchestraName:n,onView:c,onEdit:i,onRemove:u,isToday:f=!1}){const h=(m,x)=>{const[v,E]=m.split(":").map(Number),[O,b]=x.split(":").map(Number),C=v*60+E;return O*60+b-C},p=m=>{const x=Math.floor(m/60),v=m%60;return x===0?`${v} דקות`:x===1&&v===0?"שעה אחת":x===1?`שעה ו-${v} דקות`:v===0?`${x} שעות`:`${x} שעות ו-${v} דקות`},g=h(s.startTime,s.endTime);return r.jsxs("div",{className:`rehearsal-preview ${f?"today-rehearsal":""}`,onClick:()=>c(s._id),children:[f&&r.jsx("div",{className:"today-badge",children:"היום"}),r.jsxs("div",{className:"preview-header",children:[r.jsx("h4",{children:n}),r.jsxs("div",{className:"time-info",children:[r.jsxs("span",{className:"time-range",children:[r.jsx(Or,{size:18}),s.startTime," - ",s.endTime]}),r.jsxs("span",{className:"duration",children:["(",p(g),")"]})]})]}),r.jsxs("div",{className:"preview-content",children:[r.jsxs("div",{className:"location-info",children:[r.jsx(Ir,{size:16}),r.jsx("span",{className:"location",children:s.location})]}),s.notes&&r.jsxs("div",{className:"notes-info",children:[r.jsx("span",{className:"notes-label",children:"הערות:"}),r.jsx("span",{className:"notes-text",children:s.notes})]})]}),r.jsx("div",{className:"preview-footer",children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("button",{className:"action-btn view",onClick:m=>{m.stopPropagation(),c(s._id)},"aria-label":"הצג פרטי חזרה",children:r.jsx(Lr,{size:16})}),i&&r.jsx("button",{className:"action-btn edit",onClick:m=>{m.stopPropagation(),i(s._id)},"aria-label":"ערוך חזרה",children:r.jsx(vn,{size:16})}),u&&r.jsx("button",{className:"action-btn delete",onClick:m=>{m.stopPropagation(),u(s._id)},"aria-label":"מחק חזרה",children:r.jsx(kr,{size:16})})]})})]})}function gN({rehearsals:s,isLoading:n,orchestras:c,onEdit:i,onView:u,onRemove:f}){const h=j.useMemo(()=>{if(!s.length)return[];const m=new Date().toISOString().split("T")[0],x=s.reduce((v,E)=>{const O=E.date;return v[O]||(v[O]={date:O,rehearsals:[],isToday:O===m}),v[O].rehearsals.push(E),v},{});return Object.values(x).forEach(v=>{v.rehearsals.sort((E,O)=>E.startTime.localeCompare(O.startTime))}),Object.values(x).sort((v,E)=>v.isToday&&!E.isToday?-1:!v.isToday&&E.isToday?1:new Date(v.date).getTime()-new Date(E.date).getTime())},[s]);if(n&&s.length===0)return r.jsx("div",{className:"loading-state",children:"טוען חזרות..."});if(s.length===0)return r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:"לא נמצאו חזרות להצגה"}),r.jsx("p",{children:"נסה לשנות את מסנני החיפוש או להוסיף חזרות חדשות"})]});const p=(m,x)=>x?"חזרות היום":new Date(m).toLocaleDateString("he-IL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),g=m=>{const x=c.find(v=>v._id===m);return x?x.name:"תזמורת לא מוגדרת"};return r.jsx("div",{className:"rehearsal-list-container",children:h.map(({date:m,rehearsals:x,isToday:v})=>r.jsxs("div",{className:`rehearsal-date-group ${v?"today-group":""}`,children:[r.jsxs("div",{className:"date-header",children:[r.jsx(st,{size:20}),r.jsx("h2",{children:p(m,v)}),r.jsxs("span",{className:"date-count",children:[x.length," חזרות"]})]}),r.jsx("div",{className:"rehearsal-grid",children:x.map(E=>r.jsx(pN,{rehearsal:E,orchestraName:g(E.groupId),onEdit:i,onView:u,onRemove:f,isToday:v},E._id))})]},m))})}function yN(){const{rehearsals:s,isLoading:n,error:c,loadRehearsals:i,removeRehearsal:u}=Dc(),{orchestras:f,loadOrchestras:h}=Bs(),[p,g]=pb(),m=p.get("orchestraId"),x=p.get("fromDate"),[v,E]=j.useState(!1),[O,b]=j.useState(null),[C,T]=j.useState(!1),[z,A]=j.useState(null),[R,U]=j.useState(m),[D,k]=j.useState(x),[Q,J]=j.useState(""),V=ma(),Z=qt(),{user:se}=Hs(),ae=se==null?void 0:se.roles.includes("מנהל"),he=se==null?void 0:se.roles.includes("מנצח"),ie=Z.pathname.includes("/rehearsals/")&&!Z.pathname.endsWith("/rehearsals/");j.useEffect(()=>{h();const pe={};if(m&&(pe.groupId=m,U(m)),x)pe.fromDate=x,k(x);else{const xe=new Date().toISOString().split("T")[0];pe.fromDate=xe,k(xe)}i(pe)},[i,h,m,x]),j.useEffect(()=>{const pe=new URLSearchParams(p);R?pe.set("orchestraId",R):pe.delete("orchestraId"),g(pe)},[R,g]);const ue=j.useMemo(()=>{if(!Q.trim())return s;const pe=Q.toLowerCase();return s.filter(ge=>{const xe=f.find(fe=>fe._id===ge.groupId);return xe&&xe.name.toLowerCase().includes(pe)})},[s,Q,f]),X=()=>{b(null),E(!0)},re=()=>{E(!1),b(null)},ee=pe=>{const ge=s.find(xe=>xe._id===pe)||null;b(ge),E(!0)},de=pe=>{V(`/rehearsals/${pe}`)},S=pe=>{s.find(xe=>xe._id===pe)&&(A(pe),T(!0))},_=async()=>{if(z)try{await u(z),A(null)}catch(pe){console.error("Failed to remove rehearsal:",pe)}T(!1)},q=pe=>{const ge=pe.target.value||null;U(ge);const xe=new URLSearchParams(p);ge?xe.set("orchestraId",ge):xe.delete("orchestraId"),g(xe),i({groupId:ge||void 0,fromDate:D||void 0})},B=pe=>{const ge=pe.target.value||null;k(ge);const xe=new URLSearchParams(p);ge?xe.set("fromDate",ge):xe.delete("fromDate"),g(xe),i({groupId:R||void 0,fromDate:ge||void 0})},Y=()=>{U(null),k(null),J(""),g(new URLSearchParams),i({})},ne=ae||he,le=ae||he;return r.jsxs("div",{className:"app-container",children:[r.jsx(_c,{}),r.jsxs("main",{className:"main-content",children:[!ie&&r.jsxs("div",{className:"page-header",children:[r.jsx("div",{className:"page-title",children:r.jsxs("h1",{children:[r.jsx(st,{className:"title-icon"}),"לוח חזרות"]})}),r.jsx("div",{className:"search-action-container-rehearsal",children:r.jsxs("div",{className:"action-buttons",children:[r.jsx("div",{className:"filter-dropdown",children:r.jsxs("select",{value:R||"",onChange:q,className:"filter-select",children:[r.jsx("option",{value:"",children:"כל התזמורות"}),f.map(pe=>r.jsx("option",{value:pe._id,children:pe.name},pe._id))]})}),r.jsx("div",{className:"filter-date",children:r.jsx("input",{type:"date",value:D||"",onChange:B,className:"date-picker"})}),(R||D||Q)&&r.jsx("button",{className:"btn secondary",onClick:Y,children:"איפוס"}),ne&&r.jsx("button",{className:"btn-icon add-btn",onClick:X,"aria-label":"הוספת חזרה חדשה",children:r.jsx(qs,{className:"icon"})})]})})]}),c&&r.jsx("div",{className:"error-message",children:c}),!ie&&r.jsx(gN,{rehearsals:ue,isLoading:n,onEdit:le?ee:void 0,onView:de,onRemove:ae?S:void 0,orchestras:f}),r.jsx(Mr,{}),r.jsx(jn,{isOpen:C,onClose:()=>T(!1),onConfirm:_,title:"מחיקת חזרה",message:r.jsxs(r.Fragment,{children:[r.jsx("p",{children:"האם אתה בטוח שברצונך למחוק את החזרה?"}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"}),v&&r.jsx(Cd,{isOpen:v,onClose:re,rehearsal:O,orchestraId:R||"",onSave:i})]}),!ie&&!v&&r.jsx(Fr,{})]})}function ng(){var ge,xe;const{rehearsalId:s}=jc(),n=ma(),{user:c}=Hs(),{selectedRehearsal:i,loadRehearsalById:u,removeRehearsal:f,updateAttendance:h,isLoading:p,error:g}=Dc(),{loadOrchestraById:m}=Bs(),{getStudentsByIds:x}=Sn(),[v,E]=j.useState(null),[O,b]=j.useState([]),[C,T]=j.useState(!1),[z,A]=j.useState(!1),[R,U]=j.useState(!1),[D,k]=j.useState(!1),[Q,J]=j.useState([]),[V,Z]=j.useState([]),[se,ae]=j.useState(!1),[he,ie]=j.useState(!1),[ue,X]=j.useState(!1),re=((ge=c==null?void 0:c.roles)==null?void 0:ge.includes("מנהל"))||!1,ee=((xe=c==null?void 0:c.roles)==null?void 0:xe.includes("מנצח"))||!1,de=re||ee,S=re||ee;j.useEffect(()=>{s&&u(s)},[s,u]),j.useEffect(()=>{(async()=>{if(i!=null&&i.groupId){T(!0);try{await m(i.groupId);const ce=Bs.getState();E(ce.selectedOrchestra)}catch(ce){console.error("Failed to load orchestra:",ce)}finally{T(!1)}}})()},[i,m]),j.useEffect(()=>{(async()=>{if(v!=null&&v.memberIds&&v.memberIds.length>0){A(!0);try{const ce=await x(v.memberIds);b(ce)}catch(ce){console.error("Failed to load students:",ce)}finally{A(!1)}}else b([])})()},[v,x]),j.useEffect(()=>{i!=null&&i.attendance?(J(i.attendance.present||[]),Z(i.attendance.absent||[])):(J([]),Z([])),ae(!1)},[i]);const _=fe=>new Date(fe).toLocaleDateString("he-IL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),q=fe=>{let ce=[...Q],Le=[...V];Q.includes(fe)?(ce=ce.filter(De=>De!==fe),Le.push(fe)):(V.includes(fe)&&(Le=Le.filter(De=>De!==fe)),ce.push(fe)),J(ce),Z(Le),ae(!0),X(!1)},B=fe=>Q.includes(fe),Y=async()=>{if(!(!s||!i)){ie(!0);try{await h(s,{present:Q,absent:V}),X(!0),ae(!1),await u(s)}catch(fe){console.error("Failed to update attendance:",fe)}finally{ie(!1)}}},ne=()=>{U(!0)},le=()=>{v!=null&&v._id?n(`/rehearsals?orchestraId=${v._id}`):n("/rehearsals")},pe=async()=>{if(i!=null&&i._id)try{await f(i._id),n("/rehearsals")}catch(fe){console.error("Failed to delete rehearsal:",fe)}k(!1)};return p?r.jsx("div",{className:"loading-state",children:"טוען..."}):g?r.jsx("div",{className:"error-state",children:g}):i?r.jsxs("div",{className:"rehearsal-details",children:[r.jsx("div",{className:"rehearsal-details-page",children:r.jsx("div",{className:"rehearsal-card-container",children:r.jsxs("div",{className:"card-content",children:[r.jsxs("div",{className:"rehearsal-header",children:[r.jsx("button",{className:"back-button",onClick:le,"aria-label":"חזור",children:r.jsx(ua,{className:"lucide lucide-arrow-right"})}),r.jsxs("div",{className:"header-title",children:[r.jsx("h2",{children:"דיווח נוכחות לחזרה"}),r.jsxs("div",{className:"date-display",children:[r.jsx(st,{size:18}),r.jsx("span",{children:_(i.date)})]})]}),r.jsx("div",{className:"header-actions",children:de&&r.jsxs("button",{className:"action-btn edit",onClick:ne,children:[r.jsx(vn,{size:16}),"עריכה"]})})]}),r.jsxs("div",{className:"orchestra-info-card",children:[r.jsx("h3",{children:C?"טוען...":(v==null?void 0:v.name)||"לא מוגדר"}),r.jsxs("div",{className:"rehearsal-details-row",children:[r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"מיקום:"}),r.jsx("span",{className:"detail-value",children:i.location})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"זמן:"}),r.jsxs("span",{className:"detail-value",children:[i.startTime," - ",i.endTime]})]})]})]}),r.jsx("div",{className:"attendance-section",children:r.jsx("div",{className:"students-list-container",children:z?r.jsx("div",{className:"loading-students",children:"טוען רשימת תלמידים..."}):O.length>0?r.jsx("ul",{className:"students-list",children:O.map(fe=>r.jsxs("li",{className:`student-item ${B(fe._id)?"present":""}`,children:[r.jsxs("div",{className:"student-info",children:[r.jsx("div",{className:"student-name",children:fe.personalInfo.fullName}),r.jsx("div",{className:"student-instrument",children:fe.academicInfo.instrument})]}),r.jsxs("label",{className:"toggle-switch",children:[r.jsx("input",{type:"checkbox",checked:B(fe._id),onChange:()=>q(fe._id)}),r.jsx("span",{className:"toggle-slider"})]})]},fe._id))}):r.jsx("div",{className:"empty-students",children:"אין תלמידים רשומים לתזמורת זו"})})}),S&&r.jsxs("div",{className:"attendance-footer",children:[ue&&r.jsx("span",{className:"save-success",children:"הנוכחות עודכנה בהצלחה!"}),r.jsx("button",{className:"save-attendance-btn",onClick:Y,disabled:!se||he,children:he?"שומר...":"עדכן נוכחות"})]})]})})}),R&&r.jsx(Cd,{isOpen:R,onClose:()=>U(!1),rehearsal:i,orchestraId:i.groupId,onSave:()=>{U(!1),s&&u(s)}}),r.jsx(jn,{isOpen:D,onClose:()=>k(!1),onConfirm:pe,title:"מחיקת חזרה",message:r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:['האם אתה בטוח שברצונך למחוק את החזרה בתאריך "',_(i.date),'"?']}),r.jsx("p",{className:"text-sm text-muted",children:"פעולה זו היא בלתי הפיכה."})]}),confirmText:"מחק",cancelText:"ביטול",type:"danger"})]}):r.jsx("div",{className:"not-found-state",children:"חזרה לא נמצאה"})}const vN=new Rj({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});function xN(){const s=xc(i=>i.isAuthenticated),n=xc(i=>i.isLoading),c=ks(i=>i.loadBasicTeacherData);return j.useEffect(()=>{s&&c()},[s,c]),n?r.jsx("div",{children:"Loading..."}):s?r.jsx(Mr,{}):r.jsx(mc,{to:"/login",replace:!0})}function bN(){const s=xc(n=>n.initialize);return j.useEffect(()=>{s()},[s]),r.jsx(Dj,{client:vN,children:r.jsx(gS,{children:r.jsx(ub,{children:r.jsxs(q0,{children:[r.jsx(ft,{path:"/login",element:r.jsx(yS,{})}),r.jsx(ft,{path:"/event-registration",element:r.jsx(jS,{})}),r.jsxs(ft,{element:r.jsx(xN,{}),children:[r.jsx(ft,{path:"/dashboard",element:r.jsx(ES,{})}),r.jsxs(ft,{path:"/students",element:r.jsx(YS,{}),children:[r.jsx(ft,{path:":studentId",element:r.jsx(tg,{})}),r.jsx(ft,{path:"new",element:r.jsx(tg,{})})]}),r.jsxs(ft,{path:"/teachers",element:r.jsx(iN,{}),children:[r.jsx(ft,{path:":teacherId",element:r.jsx(ag,{})}),r.jsx(ft,{path:"new",element:r.jsx(ag,{})})]}),r.jsxs(ft,{path:"/orchestras",element:r.jsx(mN,{}),children:[r.jsx(ft,{path:":orchestraId",element:r.jsx(sg,{})}),r.jsx(ft,{path:"new",element:r.jsx(sg,{})})]}),r.jsxs(ft,{path:"/rehearsals",element:r.jsx(yN,{}),children:[r.jsx(ft,{path:":rehearsalId",element:r.jsx(ng,{})}),r.jsx(ft,{path:"new",element:r.jsx(ng,{})})]}),r.jsx(ft,{path:"/",element:r.jsx(mc,{to:"/dashboard",replace:!0})}),r.jsx(ft,{path:"*",element:r.jsx(mc,{to:"/dashboard",replace:!0})})]})]})})})})}Gx.createRoot(document.getElementById("root")).render(r.jsx(j.StrictMode,{children:r.jsx(bN,{})}));
