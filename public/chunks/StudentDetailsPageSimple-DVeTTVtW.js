import{j as e}from"../assets/index-CVVLhZwk.js";import{r as c,a as Ct,R as ve,f as cr,h as Bn,c as Wn,b as Hn,N as Vn}from"./vendor-B2j9q2e_.js";import{U as Ve,G as dr,b as Et,c as fe,M as Z,B as ke,o as gt,r as cs,O as ds,S as us,X as pt,Z as Ts,a3 as Is,e as Ne,j as ms,d as ne,x as et,i as Un,ap as tt,T as fs,P as je,f as Ae,A as Je,a4 as zn,a as ur,C as Gn,u as Kn,aq as Yn,ar as qn,ak as Xn,p as Zn,as as Qn,ag as Jn,at as Ps,n as ea,J as ta,au as As,av as sa,_ as ra,a9 as ks}from"./ui-ypR0-hKN.js";import{a as Y}from"./cascade-deletion-DAN0Gkem.js";import{T as na}from"./TeacherNameDisplay-D57zN_Bm.js";import{useStudent as aa,useTheoryLessons as la,useStudentTheoryLessons as oa,useAvailableTheoryLessons as ia,useTheoryLessonEnrollment as ca}from"./apiCache-T5b6VToj.js";import{c as q,C as J}from"./Card-BaEmwhyU.js";import{c as da}from"./utils-x1PSU_OZ.js";import"./query-BI61muSV.js";import"./theoryEnrollmentService-Bgf_GhXN.js";const Rs={personal:{label:"פרטים אישיים",icon:Ve},academic:{label:"מידע אקדמי",icon:dr},schedule:{label:"לוח זמנים",icon:Et},attendance:{label:"נוכחות",icon:fe},orchestra:{label:"תזמורות",icon:Z},theory:{label:"תאוריה",icon:ke},bagrut:{label:"בגרות",icon:gt},documents:{label:"מסמכים",icon:cs}},ua=({activeTab:t,onTabChange:s,tabs:r=[]})=>!r||r.length===0?null:e.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b border-gray-200 shadow-sm w-full overflow-hidden student-tab-navigation",children:[e.jsx("div",{className:"hidden md:flex w-full overflow-x-auto desktop-tab-nav",children:e.jsx("nav",{className:"flex gap-8 px-6 relative min-w-full","aria-label":"Tabs",children:r.map((n,a)=>{const l=Rs[n.id],i=l?.icon||Ve,o=t===n.id;return e.jsxs("button",{onClick:()=>s(n.id),className:`
                  group inline-flex items-center gap-3 py-4 px-2 border-b-2 font-medium text-sm transition-all duration-300 relative tab-button
                  ${o?"border-primary-500 text-primary-600 bg-primary-50/50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 hover:bg-gray-50/50"}
                `,"aria-current":o?"page":void 0,style:{minHeight:"44px"},children:[e.jsx(i,{className:`w-5 h-5 transition-all duration-300 ${o?"text-primary-500 scale-110":"text-gray-400 group-hover:text-gray-500 group-hover:scale-105"}`}),e.jsx("span",{className:"whitespace-nowrap",children:l?.label||n.label}),o&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-primary-400 to-primary-600 rounded-full animate-scale-in"})]},n.id)})})}),e.jsxs("div",{className:"md:hidden w-full overflow-hidden mobile-tab-nav",children:[e.jsx("div",{className:"overflow-x-auto scrollbar-hide w-full",children:e.jsx("nav",{className:"flex gap-3 px-4 py-3 min-w-max","aria-label":"Tabs",style:{width:"max-content"},children:r.map((n,a)=>{const l=Rs[n.id],i=l?.icon||Ve,o=t===n.id;return e.jsxs("button",{onClick:()=>s(n.id),className:`
                    flex flex-col items-center gap-1 px-4 py-3 rounded-xl font-medium text-xs transition-all duration-300 whitespace-nowrap transform tab-button
                    ${o?"bg-primary-100 text-primary-700 border-2 border-primary-200 scale-105 shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50 hover:scale-102 border-2 border-transparent"}
                  `,"aria-current":o?"page":void 0,style:{minWidth:"80px",minHeight:"44px"},children:[e.jsx(i,{className:`w-5 h-5 transition-all duration-300 ${o?"text-primary-600":"text-gray-500"}`}),e.jsx("span",{className:"leading-tight",children:l?.label||n.label})]},n.id)})})}),e.jsx("div",{className:"flex justify-center py-1",children:e.jsx("div",{className:"w-8 h-1 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-full bg-primary-400 rounded-full transition-all duration-300",style:{width:`${r?.length>0?(r.findIndex(n=>n.id===t)+1)/r.length*100:0}%`}})})})]})]});function mr({isLoading:t,children:s,skeleton:r,minHeight:n="200px"}){const[a,l]=c.useState(!1);return c.useEffect(()=>{let i;return t?i=setTimeout(()=>l(!0),150):l(!1),()=>clearTimeout(i)},[t]),t&&a?e.jsx("div",{style:{minHeight:n},children:r||e.jsx(ma,{})}):t?e.jsx("div",{style:{minHeight:n},className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse text-gray-400",children:"טוען..."})}):e.jsx(e.Fragment,{children:s})}function ma(){return e.jsx("div",{className:"space-y-4 p-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},t))})}const mt={StudentHeader:()=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-start gap-6 animate-pulse",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"h-7 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]})]})]})}),TabContent:()=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 space-y-6 animate-pulse",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-24"})]})]},t))}),TheoryLessons:()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between animate-pulse",children:[e.jsxs("div",{children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-64"})]}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-40"})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(t=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"})]}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-5 bg-gray-200 rounded w-20"})]})]}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-20"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]})]})]},t))})]}),OrchestraList:()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"})})]},t))}),DocumentsList:()=>e.jsx("div",{className:"space-y-4 p-4 animate-pulse",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white border rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex-shrink-0"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"})]})]},t))}),Schedule:()=>e.jsxs("div",{className:"p-4 space-y-4 animate-pulse",children:[e.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded"}),Array.from({length:7}).map((t,s)=>e.jsx("div",{className:"h-6 bg-gray-200 rounded"},s))]}),Array.from({length:10}).map((t,s)=>e.jsxs("div",{className:"grid grid-cols-8 gap-2",children:[e.jsx("div",{className:"h-12 bg-gray-200 rounded"}),Array.from({length:7}).map((r,n)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded opacity-50"},n))]},s))]}),AttendanceChart:()=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border space-y-6 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"}),e.jsx("div",{className:"flex justify-center gap-6",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})]},t))})]}),PersonalInfo:()=>e.jsxs("div",{className:"space-y-6 animate-pulse",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-32 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array.from({length:6}).map((t,s)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},s))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-28 mb-4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array.from({length:4}).map((t,s)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},s))})]})]})},fa=({student:t,studentId:s,isLoading:r,onStudentUpdate:n})=>{const a=t?.personalInfo||{},[l,i]=c.useState(!1),[o,h]=c.useState(!1),[u,m]=c.useState({fullName:a.fullName||"",phone:a.phone||"",age:a.age||"",address:a.address||"",parentName:a.parentName||"",parentPhone:a.parentPhone||"",parentEmail:a.parentEmail||"",studentEmail:a.studentEmail||""});c.useEffect(()=>{m({fullName:a.fullName||"",phone:a.phone||"",age:a.age||"",address:a.address||"",parentName:a.parentName||"",parentPhone:a.parentPhone||"",parentEmail:a.parentEmail||"",studentEmail:a.studentEmail||""})},[a]);const x=async()=>{try{h(!0);const g=await Y.students.updateStudent(s,{personalInfo:u});n&&n(g),i(!1)}catch(g){console.error("Error saving student personal info:",g);let N="שגיאה בשמירת הנתונים";g.message.includes("Authentication failed")?N="פג תוקף הפנייה. אנא התחבר מחדש.":g.message.includes("validation")?N="שגיאה בנתונים שהוזנו. אנא בדוק את הפרטים האישיים.":g.message.includes("not found")?N="התלמיד לא נמצא במערכת.":g.message.includes("Network")&&(N="שגיאת רשת. אנא בדוק את החיבור לאינטרנט."),alert(N)}finally{h(!1)}},f=()=>{m({fullName:a.fullName||"",phone:a.phone||"",age:a.age||"",address:a.address||"",parentName:a.parentName||"",parentPhone:a.parentPhone||"",parentEmail:a.parentEmail||"",studentEmail:a.studentEmail||""}),i(!1)};return r?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:[1,2,3,4,5,6,7,8].map(g=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-32"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-full"})]},g))})}):e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsx("div",{className:"flex justify-end",children:l?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:x,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:[e.jsx(us,{className:"w-4 h-4"}),o?"שומר...":"שמור"]}),e.jsxs("button",{onClick:f,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:[e.jsx(pt,{className:"w-4 h-4"}),"בטל"]})]}):e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:[e.jsx(ds,{className:"w-4 h-4"}),"ערוך"]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"פרטי תלמיד"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"שם מלא"}),l?e.jsx("input",{type:"text",value:u.fullName,onChange:g=>m({...u,fullName:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס שם מלא"}):e.jsx("div",{className:"text-gray-900 text-lg font-medium",children:a.fullName||"לא צוין"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"טלפון"}),l?e.jsx("input",{type:"tel",value:u.phone,onChange:g=>m({...u,phone:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס מספר טלפון"}):e.jsxs("div",{className:"text-gray-900 flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-gray-500"}),a.phone||"לא צוין"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"גיל"}),l?e.jsx("input",{type:"number",value:u.age,onChange:g=>m({...u,age:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס גיל",min:"1",max:"99"}):e.jsx("div",{className:"text-gray-900",children:a.age||"לא צוין"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"אימייל תלמיד"}),l?e.jsx("input",{type:"email",value:u.studentEmail,onChange:g=>m({...u,studentEmail:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס כתובת דוא״ל תלמיד"}):e.jsxs("div",{className:"text-gray-900 flex items-center gap-2",children:[e.jsx(Is,{className:"w-4 h-4 text-gray-500"}),a.studentEmail||"לא צוין"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"כתובת"}),l?e.jsx("textarea",{value:u.address,onChange:g=>m({...u,address:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס כתובת מגורים",rows:2}):e.jsxs("div",{className:"text-gray-900 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-gray-500"}),a.address||"לא צוין"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"פרטי הורה"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"שם הורה"}),l?e.jsx("input",{type:"text",value:u.parentName,onChange:g=>m({...u,parentName:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס שם הורה"}):e.jsx("div",{className:"text-gray-900",children:a.parentName||"לא צוין"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"טלפון הורה"}),l?e.jsx("input",{type:"tel",value:u.parentPhone,onChange:g=>m({...u,parentPhone:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס מספר טלפון הורה"}):e.jsxs("div",{className:"text-gray-900 flex items-center gap-2",children:[e.jsx(Ts,{className:"w-4 h-4 text-gray-500"}),a.parentPhone||"לא צוין"]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"אימייל הורה"}),l?e.jsx("input",{type:"email",value:u.parentEmail,onChange:g=>m({...u,parentEmail:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס כתובת דוא״ל הורה"}):e.jsxs("div",{className:"text-gray-900 flex items-center gap-2",children:[e.jsx(Is,{className:"w-4 h-4 text-gray-500"}),a.parentEmail||"לא צוין"]})]})]})]})]})},Os=["לא נבחן","עבר/ה","לא עבר/ה","עבר/ה בהצטיינות","עבר/ה בהצטיינות יתרה"],Ls=["עבר/ה","עבר/ה בהצטיינות","עבר/ה בהצטיינות יתרה"],xa=({student:t,studentId:s,isLoading:r,onStudentUpdate:n})=>{console.log("🎓 AcademicInfoTabSimple - Full student object:",t),console.log("📚 Student enrollments:",t?.enrollments),console.log("👨‍🏫 Student teacherAssignments:",t?.teacherAssignments);const a=t?.academicInfo||{},l=t?.teacherAssignments||[];t?.enrollments;const i=t?.teacherIds||[],[o,h]=c.useState(!1),[u,m]=c.useState(!1),[x,f]=c.useState([]),[g,N]=c.useState(!1),d=()=>{const y={};return a.instrumentProgress&&a.instrumentProgress.forEach(E=>{y[E.instrumentName]={stageTestStatus:E.tests?.stageTest?.status||"לא נבחן",technicalTestStatus:E.tests?.technicalTest?.status||"לא נבחן"}}),{class:a.class||"",stage:a.stage||a.level||"",startDate:a.startDate||"",instrumentTests:y}},[v,j]=c.useState(d());c.useEffect(()=>{j(d())},[a]),c.useEffect(()=>{(async()=>{if(console.log("🔍 Checking enrolled teacher IDs:",i),console.log("📋 Current teacher assignments:",l),i.length===0){console.log("⚠️ No enrolled teachers found");return}N(!0);try{console.log("🔄 Loading teacher data for IDs:",i);const E=i.map(I=>Y.teachers.getTeacher(I)),S=await Promise.all(E);console.log("✅ Loaded teachers:",S),f(S)}catch(E){console.error("❌ Failed to load teachers:",E)}finally{N(!1)}})()},[i]);const w=c.useMemo(()=>{const y=l?.map(S=>S.teacherId)||[];console.log("🔍 Finding teachers without lessons:"),console.log("  - Enrolled teacher IDs:",i),console.log("  - Assigned teacher IDs:",y),console.log("  - Teachers data:",x);const E=x.filter(S=>i.includes(S._id)&&!y.includes(S._id));return console.log("📊 Teachers without lessons:",E),E},[x,i,l]),C=async()=>{try{m(!0);const y=a.instrumentProgress?.map(S=>{const I=v.instrumentTests?.[S.instrumentName];if(I){const k=S.tests?.stageTest?.status||"לא נבחן",O=I.stageTestStatus,A=Ls.includes(O)&&!Ls.includes(k)&&S.currentStage<8;return{...S,currentStage:A?S.currentStage+1:S.currentStage,tests:{...S.tests,stageTest:{...S.tests?.stageTest,status:I.stageTestStatus},technicalTest:{...S.tests?.technicalTest,status:I.technicalTestStatus}}}}return S});await Y.students.updateStudent(s,{academicInfo:{...a,class:v.class,instrumentProgress:y}});const E=await Y.students.getStudentById(s);n&&n(E),h(!1)}catch(y){console.error("Error saving student academic info:",y);let E="שגיאה בשמירת הנתונים האקדמיים";y.message?.includes("Authentication failed")?E="פג תוקף הפנייה. אנא התחבר מחדש.":y.message?.includes("validation")?E="שגיאה בנתונים שהוזנו. אנא בדוק את הפרטים האקדמיים.":y.message?.includes("not found")?E="התלמיד לא נמצא במערכת.":y.message?.includes("Network")&&(E="שגיאת רשת. אנא בדוק את החיבור לאינטרנט."),alert(E)}finally{m(!1)}},T=()=>{j(d()),h(!1)},P=(y,E,S)=>{j(I=>({...I,instrumentTests:{...I.instrumentTests,[y]:{...I.instrumentTests?.[y],[`${E}Status`]:S}}}))};if(r)return e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:[1,2,3,4].map(y=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-32"}),e.jsx("div",{className:"h-20 bg-gray-200 rounded animate-pulse w-full"})]},y))})});const p=y=>{switch(y){case"עבר/ה":return e.jsx(fe,{className:"w-4 h-4 text-green-500"});case"לא עבר/ה":return e.jsx(Un,{className:"w-4 h-4 text-red-500"});case"עבר/ה בהצטיינות":return e.jsx(et,{className:"w-4 h-4 text-blue-500"});case"עבר/ה בהצטיינות יתרה":return e.jsx(et,{className:"w-4 h-4 text-purple-500"});default:return e.jsx(ne,{className:"w-4 h-4 text-gray-500"})}},b=y=>{switch(y){case"עבר/ה":return"bg-green-100 text-green-800";case"לא עבר/ה":return"bg-red-100 text-red-800";case"עבר/ה בהצטיינות":return"bg-blue-100 text-blue-800";case"עבר/ה בהצטיינות יתרה":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex justify-end mb-4",children:o?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:C,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50",children:[e.jsx(us,{className:"w-4 h-4"}),u?"שומר...":"שמור"]}),e.jsxs("button",{onClick:T,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:[e.jsx(pt,{className:"w-4 h-4"}),"בטל"]})]}):e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:[e.jsx(ds,{className:"w-4 h-4"}),"ערוך"]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ke,{className:"w-4 h-4 text-primary-600"}),"מידע אקדמי"]}),w.length>0&&e.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-orange-700 mb-3",children:[e.jsx(ms,{className:"w-4 h-4"}),e.jsx("span",{children:"מורים ללא שיעור מתוזמן"})]}),e.jsx("div",{className:"space-y-2",children:w.map((y,E)=>e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 flex items-start gap-2",children:[e.jsx("div",{className:"p-1.5 bg-orange-100 rounded flex-shrink-0",children:e.jsx(Ve,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-orange-900",children:y.personalInfo?.fullName||"מורה"}),e.jsx("p",{className:"text-xs text-orange-700 mt-0.5",children:"התלמיד/ה משוייך/ת למורה זה אך טרם נקבע שיעור. יש ליצור קשר עם המורה לתיאום שיעור."})]})]},y._id||E))})]}),e.jsx("div",{className:"mb-4 pb-4 border-b border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-black font-semibold",style:{color:"#000000"},children:"כיתה:"}),o?e.jsx("input",{type:"text",value:v.class,onChange:y=>j({...v,class:y.target.value}),className:"mt-1 w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס כיתה"}):e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.class||"לא צוין"})]}),(!a.instrumentProgress||a.instrumentProgress.length===0)&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-black font-semibold",style:{color:"#000000"},children:"שלב:"}),o?e.jsx("input",{type:"text",value:v.stage,onChange:y=>j({...v,stage:y.target.value}),className:"mt-1 w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"הכנס שלב"}):e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.stage||a.level||"לא צוין"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-black font-semibold",style:{color:"#000000"},children:"תאריך התחלה:"}),o?e.jsx("input",{type:"date",value:v.startDate?new Date(v.startDate).toISOString().split("T")[0]:"",onChange:y=>j({...v,startDate:y.target.value}),className:"mt-1 w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary-500"}):e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.startDate?new Date(a.startDate).toLocaleDateString("he-IL"):"לא צוין"})]})]})}),a.instrumentProgress&&a.instrumentProgress.length>0&&e.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100",children:[e.jsxs("h4",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[e.jsx(Z,{className:"w-3 h-3"}),"כלי נגינה"]}),e.jsx("div",{className:"space-y-3",children:a.instrumentProgress.map((y,E)=>e.jsxs("div",{className:"border border-gray-100 rounded-lg p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:y.instrumentName}),y.isPrimary&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-primary-100 text-primary-800 rounded",children:"ראשי"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600",children:[e.jsxs("span",{children:["שלב: ",y.currentStage||y.stage||y.level||"לא צוין"]}),y.startDate&&e.jsx("span",{children:new Date(y.startDate).toLocaleDateString("he-IL")})]}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-black font-semibold",style:{color:"#000000"},children:"מבחן טכני:"}),o?e.jsx("select",{value:v.instrumentTests?.[y.instrumentName]?.technicalTestStatus||"לא נבחן",onChange:S=>P(y.instrumentName,"technicalTest",S.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:Os.map(S=>e.jsx("option",{value:S,children:S},S))}):e.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-sm ${b(y.tests?.technicalTest?.status||"לא נבחן")}`,children:[p(y.tests?.technicalTest?.status||"לא נבחן"),y.tests?.technicalTest?.status||"לא נבחן"]}),y.tests?.technicalTest?.notes&&!o&&e.jsxs("span",{className:"text-xs text-gray-500",children:["(",y.tests.technicalTest.notes,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-black font-semibold",style:{color:"#000000"},children:"מבחן שלב:"}),o?e.jsx("select",{value:v.instrumentTests?.[y.instrumentName]?.stageTestStatus||"לא נבחן",onChange:S=>P(y.instrumentName,"stageTest",S.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:Os.map(S=>e.jsx("option",{value:S,children:S},S))}):e.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-sm ${b(y.tests?.stageTest?.status||"לא נבחן")}`,children:[p(y.tests?.stageTest?.status||"לא נבחן"),y.tests?.stageTest?.status||"לא נבחן"]}),y.tests?.stageTest?.notes&&!o&&e.jsxs("span",{className:"text-xs text-gray-500",children:["(",y.tests.stageTest.notes,")"]})]})]})]},E))})]}),a.notes&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("h4",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1",children:[e.jsx(cs,{className:"w-3 h-3"}),"הערות"]}),e.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:a.notes})]})]})]})},Yt=c.memo(({lesson:t,isEnrolled:s=!1,onEnroll:r,onUnenroll:n,isEnrolling:a=!1,isUnenrolling:l=!1,studentGrade:i,canEnroll:o=!0})=>{const h=c.useMemo(()=>{switch(t.level?.toLowerCase()){case"beginner":case"מתחילים":return"bg-green-100 text-green-800";case"intermediate":case"בינוני":return"bg-yellow-100 text-yellow-800";case"advanced":case"מתקדמים":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}},[t.level]),u=c.useMemo(()=>{switch(t.category?.toLowerCase()){case"harmony":case"הרמוניה":return e.jsx(Z,{className:"w-4 h-4"});case"theory":case"תיאוריה":return e.jsx(ke,{className:"w-4 h-4"});case"composition":case"קומפוזיציה":return e.jsx(dr,{className:"w-4 h-4"});default:return e.jsx(ke,{className:"w-4 h-4"})}},[t.category]),m=f=>{if(!f)return"";const[g,N]=f.split(":");return`${g}:${N}`},x=c.useMemo(()=>{if(!t.maxStudents)return null;const f=t.studentIds?.length||0,g=f/t.maxStudents*100;return{current:f,total:t.maxStudents,percentage:g}},[t.maxStudents,t.studentIds]);return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u,e.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:t.title||t.name||"שיעור תיאוריה"})]}),t.category&&e.jsxs("span",{className:"text-sm text-gray-600",children:["קטגוריה: ",t.category]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[t.level&&e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h}`,children:t.level}),!s&&t.gradeCompatible&&i&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:["מתאים לכיתה ",i]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"רשום"]}),e.jsx("button",{onClick:n,disabled:l,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"בטל הרשמה",children:l?e.jsx(tt,{className:"w-4 h-4 animate-spin"}):e.jsx(fs,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:r,disabled:!o||a,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${o?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"w-4 h-4 animate-spin"}),"נרשם..."]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-4 h-4"}),"הרשם"]})})})]}),e.jsx(na,{lesson:t,className:"mb-3",showIcon:!0}),(t.date||t.startTime)&&e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[t.date&&new Date(t.date).toLocaleDateString("he-IL"),t.startTime&&t.endTime&&e.jsxs(e.Fragment,{children:[t.date?" • ":"",m(t.startTime)," - ",m(t.endTime)]})]})]})}),t.location&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-3",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:t.location})]}),x&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[x.current," / ",x.total," תלמידים"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.percentage}%`}})})]}),!s&&e.jsxs(e.Fragment,{children:[t.isFull&&e.jsx("div",{className:"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"השיעור מלא"})]})}),!t.gradeCompatible&&e.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"לא מתאים לכיתה"})]})}),!t.levelCompatible&&e.jsx("div",{className:"mb-3 p-3 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2 text-orange-800",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"רמה לא מתאימה"})]})})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-3 pt-3 border-t",children:t.description}),t.targetGrades&&t.targetGrades.length>0&&e.jsx("div",{className:"mt-3 pt-3 border-t",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["מיועד לכיתות: ",t.targetGrades.join(", ")]})]})})]})});Yt.displayName="LessonCard";const qt=c.memo(({icon:t,title:s,description:r,actionLabel:n,onAction:a})=>e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:s}),e.jsx("p",{className:"text-gray-500 mb-6",children:r}),n&&a&&e.jsx("button",{onClick:a,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:n})]}));qt.displayName="EmptyState";const ha=({student:t,studentId:s})=>{const[r,n]=c.useState("current"),[a,l]=c.useState(null),{data:i,isLoading:o,error:h}=aa(s),{data:u,isLoading:m}=la(),x=c.useMemo(()=>t?.academicInfo?.class||i?.academicInfo?.class||"ז",[t,i]),f=c.useMemo(()=>t?.theoryLevel||i?.theoryLevel||"beginner",[t,i]),g=oa(s),N=ia(s,x,f),{enroll:d,unenroll:v,isEnrolling:j,isUnenrolling:w,error:C}=ca(s),T=c.useMemo(()=>S=>{d({lessonId:S})},[d]),P=c.useMemo(()=>S=>{v({lessonId:S}),l(null)},[v]),p=o||m,b=h||C;if(p)return e.jsx(mr,{isLoading:!0,skeleton:e.jsx(mt.TabContent,{}),minHeight:"400px",children:e.jsx("div",{})});if(b)return e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("div",{className:"text-red-600 text-lg mb-2",children:"⚠️ שגיאה בטעינת הנתונים"}),e.jsx("div",{className:"text-gray-600 mb-4 text-sm",children:h?.message||C?.message||"אירעה שגיאה לא צפויה"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors text-sm",children:"נסה שוב"})]});const y=()=>g.length===0?e.jsx(qt,{icon:e.jsx(ke,{className:"w-8 h-8 text-gray-300"}),title:"אין שיעורי תיאוריה רשומים",description:"התלמיד אינו רשום כרגע לשיעורי תיאוריה",actionLabel:"צפה בשיעורים זמינים",onAction:()=>n("manage")}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ke,{className:"w-5 h-5 text-purple-600"}),"שיעורי תיאוריה רשומים (",g.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:g.map(S=>e.jsx(Yt,{lesson:S,isEnrolled:!0,onUnenroll:()=>l(S._id),isUnenrolling:w,studentGrade:x},S._id))})]}),E=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),"שיעורי תיאוריה זמינים להרשמה"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["כיתה: ",x," • רמה: ",f]})]}),N.length===0?e.jsx(qt,{icon:e.jsx(ke,{className:"w-8 h-8 text-gray-300"}),title:"אין שיעורים זמינים",description:"כל השיעורים המתאימים מלאים או שכבר נרשמת אליהם"}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.map(S=>e.jsx(Yt,{lesson:S,isEnrolled:!1,onEnroll:()=>T(S._id),isEnrolling:j,studentGrade:x,canEnroll:S.isCompatible},S._id))})]});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"שיעורי תיאוריה"})}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>n("current"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="current"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),"שיעורים רשומים (",g.length,")"]})}),e.jsx("button",{onClick:()=>n("manage"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${r==="manage"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4"}),"הרשמה חדשה (",N.length,")"]})})]})]}),r==="current"?y():E(),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"בטל הרשמה לשיעור תיאוריה"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"האם אתה בטוח שברצונך לבטל את ההרשמה לשיעור זה? פעולה זו לא ניתנת לביטול."}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"ביטול"}),e.jsx("button",{onClick:()=>P(a),disabled:w,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:w?e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"w-4 h-4 animate-spin"}),"מבטל..."]}):"בטל הרשמה"})]})]})})]})},ga=c.memo(ha),pa=({lessons:t,className:s=""})=>{const r=["ראשון","שני","שלישי","רביעי","חמישי","שישי"],n=t.reduce((o,h)=>(h.dayOfWeek>=0&&h.dayOfWeek<=5&&(o[h.dayOfWeek]||(o[h.dayOfWeek]=[]),o[h.dayOfWeek].push(h)),o),{});Object.keys(n).forEach(o=>{n[parseInt(o)].sort((h,u)=>{const m=h.startTime.split(":").map(Number),x=u.startTime.split(":").map(Number),f=m[0]*60+m[1],g=x[0]*60+x[1];return f-g})});const a=o=>{switch(o){case"individual":return"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-600";case"group":return"bg-gradient-to-r from-green-500 to-green-600 text-white border-green-600";case"orchestra":return"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-purple-600";case"theory":return"bg-gradient-to-r from-orange-500 to-orange-600 text-white border-orange-600";default:return"bg-gradient-to-r from-gray-500 to-gray-600 text-white border-gray-600"}},l=o=>{switch(o){case"individual":return"שיעור אישי";case"group":return"שיעור קבוצתי";case"orchestra":return"תזמורת";case"theory":return"תיאוריה";default:return"שיעור"}},i=(o,h)=>{const[u,m]=o.split(":").map(Number),[x,f]=h.split(":").map(Number),g=u*60+m;return x*60+f-g};return e.jsxs("div",{className:`simple-weekly-grid ${s}`,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"לוח זמנים שבועי"}),e.jsx("p",{className:"text-xs text-gray-600",children:t.length===0?"אין שיעורים השבוע":t.length===1?"שיעור אחד השבוע":`${t.length} שיעורים השבוע`})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 mb-4",children:r.map((o,h)=>{const u=n[h]||[];return e.jsxs("div",{className:"day-column",children:[e.jsxs("div",{className:"day-header bg-gray-50 rounded-t-lg px-3 py-2 border-b",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-center text-sm",children:o}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:u.length===0?"ריק":u.length===1?"1":`${u.length}`})]}),e.jsx("div",{className:"day-content bg-white rounded-b-lg border border-t-0 border-gray-200 min-h-24",children:u.length===0?e.jsxs("div",{className:"p-3 text-center",children:[e.jsx("div",{className:"text-gray-300 mb-1",children:e.jsx(Z,{className:"w-5 h-5 mx-auto"})}),e.jsx("p",{className:"text-gray-400 text-xs",children:"אין"})]}):e.jsx("div",{className:"p-2 space-y-2",children:u.map(m=>e.jsxs("div",{className:`lesson-card rounded-md p-2 border shadow-sm hover:shadow-md transition-all duration-200 ${a(m.lessonType)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h5",{className:"font-semibold text-sm truncate",children:m.instrumentName}),e.jsx("span",{className:"text-xs bg-white bg-opacity-20 px-1 py-0.5 rounded",children:l(m.lessonType)})]}),e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(ne,{className:"w-3 h-3"}),e.jsxs("span",{className:"text-xs font-medium",children:[m.startTime,"-",m.endTime]}),e.jsxs("span",{className:"text-xs bg-white bg-opacity-20 px-1 rounded",children:[i(m.startTime,m.endTime),"ד'"]})]}),e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(Ve,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs truncate",children:m.teacherName})]}),(m.roomNumber||m.location)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ne,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs truncate",children:m.roomNumber?`חדר ${m.roomNumber}`:m.location})]})]},m.id))})})]},h)})}),e.jsxs("div",{className:"legend bg-gray-50 rounded-lg p-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"מקרא"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded"}),e.jsx("span",{className:"text-xs text-gray-700",children:"אישי"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-green-600 rounded"}),e.jsx("span",{className:"text-xs text-gray-700",children:"קבוצתי"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-purple-500 to-purple-600 rounded"}),e.jsx("span",{className:"text-xs text-gray-700",children:"תזמורת"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-orange-500 to-orange-600 rounded"}),e.jsx("span",{className:"text-xs text-gray-700",children:"תיאוריה"})]})]})]})]})},ba=({student:t,studentId:s,isLoading:r})=>{const[n,a]=c.useState({}),[l,i]=c.useState([]),[o,h]=c.useState(!1);c.useEffect(()=>{(async()=>{if(t?.teacherAssignments&&t.teacherAssignments.length>0){const f=[...new Set(t.teacherAssignments.map(N=>N.teacherId).filter(Boolean))],g={};for(const N of f)try{const d=await Y.teachers.getTeacherById(N);g[N]=d,console.log(`Fetched teacher ${N}:`,d.personalInfo?.fullName)}catch(d){console.error(`Failed to fetch teacher ${N}:`,d)}a(g)}})()},[t?.teacherAssignments]),c.useEffect(()=>{(async()=>{if(t)try{h(!0);const g=(await Y.orchestras.getOrchestras()).filter(N=>N.memberIds?.includes(s)||t?.enrollments?.orchestraIds?.includes(N._id));i(g)}catch(f){console.error("Error fetching orchestras:",f),i([])}finally{h(!1)}})()},[t?.enrollments?.orchestraIds,s,t]);const u=c.useMemo(()=>{const x=[];return console.log("Processing student data:",t),t?.teacherAssignments&&t.teacherAssignments.length>0&&t.teacherAssignments.forEach((f,g)=>{console.log(`Processing assignment ${g}:`,f);const d={ראשון:0,שני:1,שלישי:2,רביעי:3,חמישי:4,שישי:5,שבת:6}[f.day]??0,v=f.time||f.startTime||"14:30",j=(p,b)=>{const[y,E]=p.split(":").map(Number),S=y*60+E+b,I=Math.floor(S/60),k=S%60;return`${I.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`},w=f.scheduleInfo?.endTime||j(v,f.duration||45),C=n[f.teacherId],T=C?.personalInfo?.fullName||f.scheduleInfo?.teacherName||f.teacherName||"מורה",P=C?.professionalInfo?.instrument||f.instrument||t?.academicInfo?.instrumentProgress?.[0]?.instrumentName||"כלי נגינה";x.push({id:f._id||f.teacherId||`lesson-${g}`,instrumentName:P,teacherName:T,teacherId:f.teacherId,startTime:v,endTime:w,dayOfWeek:d,location:f.location||f.scheduleInfo?.location,roomNumber:f.roomNumber||f.room,lessonType:f.lessonType||"individual"})}),t?.lessons&&t.lessons.length>0&&t.lessons.forEach((f,g)=>{console.log(`Processing lesson ${g}:`,f);const d=(f.teacherId?n[f.teacherId]:null)?.personalInfo?.fullName||f.teacherName||f.teacher?.personalInfo?.fullName||"מורה";x.push({id:f._id||`lesson-direct-${g}`,instrumentName:f.instrument||f.instrumentName||"כלי נגינה",teacherName:d,startTime:f.startTime||"14:30",endTime:f.endTime||"15:15",dayOfWeek:f.dayOfWeek??2,location:f.location,roomNumber:f.roomNumber||f.room,lessonType:f.lessonType||"individual"})}),l&&l.length>0&&l.forEach((f,g)=>{const N=(()=>{const T=f.conductor||f.conductorInfo;return T?typeof T=="string"?T:T.personalInfo?.fullName?T.personalInfo.fullName:T.personalInfo?.firstName&&T.personalInfo?.lastName?`${T.personalInfo.firstName} ${T.personalInfo.lastName}`:T.personalInfo?.name?T.personalInfo.name:T.personalInfo?.hebrewName?T.personalInfo.hebrewName:T.fullName?T.fullName:T.name?T.name:T.displayName?T.displayName:"מנצח לא מוגד":"מנצח לא מוגד"})();let d=null,v=null,j="17:00",w="18:30",C="אולם גן";f.rehearsalSchedule&&(f.rehearsalSchedule.dayOfWeek!==void 0||f.rehearsalSchedule.dayName)?d=f.rehearsalSchedule:f.schedule&&(f.schedule.dayOfWeek!==void 0||f.schedule.dayName)?d=f.schedule:f.rehearsals&&f.rehearsals.length>0&&(d=f.rehearsals[0]),d?(v=d.dayOfWeek,v===void 0&&d.dayName&&(v={ראשון:0,שני:1,שלישי:2,רביעי:3,חמישי:4,שישי:5,שבת:6}[d.dayName]??1),j=d.startTime||j,w=d.endTime||w,C=d.location||f.location||C):v=3,v!==null&&x.push({id:`orchestra-${f._id}`,instrumentName:f.name||"תזמורת",teacherName:N,startTime:j,endTime:w,dayOfWeek:v,location:C,roomNumber:null,lessonType:"orchestra"})}),x},[t?.teacherAssignments,t?.lessons,n,l]),m=c.useMemo(()=>l.map(x=>({id:x._id,name:x.name||"תזמורת",status:"רשום",conductor:x.conductor,rehearsalSchedule:x.rehearsalSchedule,location:x.location})),[l]);return r||o?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-48"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"})]})}):e.jsxs("div",{className:"p-4 space-y-4 bg-white min-h-screen w-full max-w-full overflow-hidden student-content-area",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"לוח זמנים שבועי"}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:u.length===0?"אין שיעורים מתוכננים":u.length===1?"שיעור אחד בשבוע":`${u.length} שיעורים בשבוע`})]}),u.length>0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 w-full max-w-full overflow-hidden",children:e.jsx(pa,{lessons:u})}):e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(Et,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"אין שיעורים מתוכננים"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"התלמיד עדיין לא שוייך למורים או שלא הוגדרו לו שיעורים קבועים"}),e.jsx("div",{className:"text-sm text-gray-500",children:"ניתן לשייך מורים ולהגדיר שיעורים דרך המערכת"})]}),u.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("h4",{className:"text-base font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-primary-600"}),"שיעורים השבוע"]}),e.jsx("div",{className:"space-y-3",children:u.map(x=>{const f=["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"];return e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:x.instrumentName})]}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:f[x.dayOfWeek]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"w-3 h-3"}),e.jsxs("span",{children:[x.startTime," - ",x.endTime]})]}),(x.roomNumber||x.location)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ne,{className:"w-3 h-3"}),e.jsx("span",{children:x.roomNumber?`חדר ${x.roomNumber}`:x.location})]})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["מורה: ",x.teacherName]})]},x.id)})})]}),m.length>0&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("h4",{className:"text-base font-medium text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-purple-600"}),"תזמורות ופעילויות"]}),e.jsx("div",{className:"space-y-4",children:m.map(x=>e.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900 text-lg",children:x.name})]}),e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:x.status})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"מנצח:"}),e.jsx("span",{className:"text-sm text-gray-900",children:(()=>{const f=x.conductor;return f?typeof f=="string"?f:f.personalInfo?.fullName?f.personalInfo.fullName:f.personalInfo?.firstName&&f.personalInfo?.lastName?`${f.personalInfo.firstName} ${f.personalInfo.lastName}`:f.personalInfo?.name?f.personalInfo.name:f.personalInfo?.hebrewName?f.personalInfo.hebrewName:f.fullName?f.fullName:f.name?f.name:f.displayName?f.displayName:"לא מוגד":"לא מוגד"})()})]})}),x.rehearsalSchedule?e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h5",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600"}),"חזרות שבועיות"]}),e.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-100 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-medium text-blue-900",children:x.rehearsalSchedule.dayName||"לא מוגדר"}),e.jsx("span",{className:"text-blue-600",children:"•"}),e.jsx("span",{className:"font-medium text-blue-800",children:x.rehearsalSchedule.startTime&&x.rehearsalSchedule.endTime?`${x.rehearsalSchedule.startTime} - ${x.rehearsalSchedule.endTime}`:"שעות לא מוגדרות"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-blue-700",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:x.rehearsalSchedule.location||x.location||"אולם גן"})]})]})})]}):e.jsx("div",{className:"mt-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:"לוח זמנים יפורסם בהמשך"})]},x.id))})]}),m.length===0&&e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ae,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"אין תזמורות"}),e.jsx("p",{className:"text-gray-600",children:"לא נרשמת עדיין לתזמורות או פעילויות קבוצתיות"})]})})]}),u.length===0&&m.length>0&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5 text-purple-600"}),"תזמורות ופעילויות"]}),e.jsx("div",{className:"space-y-4",children:m.map(x=>e.jsxs("div",{className:"p-5 bg-purple-50 rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900 text-lg",children:x.name})]}),e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:x.status})]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"מנצח:"}),e.jsx("span",{className:"text-sm text-gray-900",children:(()=>{const f=x.conductor;return f?typeof f=="string"?f:f.personalInfo?.fullName?f.personalInfo.fullName:f.personalInfo?.firstName&&f.personalInfo?.lastName?`${f.personalInfo.firstName} ${f.personalInfo.lastName}`:f.personalInfo?.name?f.personalInfo.name:f.personalInfo?.hebrewName?f.personalInfo.hebrewName:f.fullName?f.fullName:f.name?f.name:f.displayName?f.displayName:"לא מוגד":"לא מוגד"})()})]})}),x.rehearsalSchedule?e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h5",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(ne,{className:"w-4 h-4 text-blue-600"}),"חזרות שבועיות"]}),e.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-100 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-medium text-blue-900",children:x.rehearsalSchedule.dayName||"לא מוגדר"}),e.jsx("span",{className:"text-blue-600",children:"•"}),e.jsx("span",{className:"font-medium text-blue-800",children:x.rehearsalSchedule.startTime&&x.rehearsalSchedule.endTime?`${x.rehearsalSchedule.startTime} - ${x.rehearsalSchedule.endTime}`:"שעות לא מוגדרות"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-blue-700",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:x.rehearsalSchedule.location||x.location||"אולם גן"})]})]})})]}):e.jsx("div",{className:"mt-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:"לוח זמנים יפורסם בהמשך"})]},x.id))})]})]})},va=({student:t,studentId:s,isLoading:r})=>{const[n,a]=c.useState("current"),[l,i]=c.useState([]),[o,h]=c.useState([]),[u,m]=c.useState(!1),[x,f]=c.useState(null),[g,N]=c.useState(null),d=t?.teacherAssignments?.[0]?.instrument||"חצוצרה",v=t?.academicInfo?.class||"ז";c.useEffect(()=>{(async()=>{try{m(!0);const y=(await Y.orchestras.getOrchestras()).filter(O=>O.memberIds?.includes(s)),E=t?.enrollments?.orchestraIds||[],S=new Set([...E,...y.map(O=>O._id)]);if(S.size===0){i([]);return}const I=Array.from(S).map(async O=>{try{const A=await Y.orchestras.getOrchestra(O);let _=null;if(A.conductorId||A.teacherId)try{const M=A.conductorId||A.teacherId;_=await Y.teachers.getTeacher(M)}catch(M){console.warn(`Failed to fetch conductor ${A.conductorId||A.teacherId}:`,M)}const L={hasRehearsals:A.rehearsalIds&&A.rehearsalIds.length>0,rehearsalCount:A.rehearsalIds?.length||0,location:A.location||"אולם המוזיקה הראשי"};return{...A,conductor:_||A.conductor,enrollmentStatus:"enrolled",rehearsalSummary:L}}catch(A){console.warn(`Failed to fetch orchestra ${O}:`,A);const _=y.find(L=>L._id===O);return _?{..._,enrollmentStatus:"enrolled",rehearsalSummary:{hasRehearsals:!1,rehearsalCount:0,location:"לא מוגד"}}:{_id:O,name:"תזמורת לא זמינה",error:!0,enrollmentStatus:"enrolled",rehearsalSummary:{hasRehearsals:!1,rehearsalCount:0,location:"לא מוגד"}}}}),k=await Promise.all(I);i(k),console.log(`Found ${k.length} enrolled orchestras for student ${s}`),k.length>0&&(console.log("📊 Enrolled orchestra sample:",k[0]),console.log("📊 Enrolled orchestra keys:",Object.keys(k[0])),console.log("📊 Enrolled rehearsal schedule:",k[0].rehearsalSchedule))}catch(b){console.error("Error fetching enrolled orchestras:",b)}finally{m(!1)}})()},[t?.enrollments?.orchestraIds,s]),c.useEffect(()=>{(async()=>{if(n==="manage")try{m(!0);const b=await Y.orchestras.getOrchestras(),E=(await Promise.all(b.map(async S=>{const I=t?.enrollments?.orchestraIds?.includes(S._id)||S.memberIds?.includes(s);let k=!0;S.requiredInstruments&&S.requiredInstruments.length>0&&(k=S.requiredInstruments.includes(d));let O=!0;S.gradeRequirements&&S.gradeRequirements.length>0&&(O=S.gradeRequirements.includes(v));let A=null;if(S.conductorId||S.teacherId)try{const L=S.conductorId||S.teacherId;A=await Y.teachers.getTeacher(L)}catch(L){console.warn(`Failed to fetch conductor ${S.conductorId||S.teacherId}:`,L)}const _={hasRehearsals:S.rehearsalIds&&S.rehearsalIds.length>0,rehearsalCount:S.rehearsalIds?.length||0,location:S.location||"אולם המוזיקה הראשי"};return{...S,conductor:A||S.conductor,isEnrolled:I,instrumentCompatible:k,gradeCompatible:O,isCompatible:k&&O,rehearsalSummary:_}}))).filter(S=>!S.isEnrolled);console.log("All orchestras:",b.length,"Available:",E.length),console.log("📊 Orchestra data sample:",b[0]),console.log("📊 Orchestra keys:",b[0]?Object.keys(b[0]):"No orchestras"),b[0]&&(console.log("📊 Rehearsal schedule field:",b[0].rehearsalSchedule),console.log("📊 Schedule field:",b[0].schedule),console.log("📊 Rehearsals field:",b[0].rehearsals)),h(E)}catch(b){console.error("Error fetching available orchestras:",b),h([])}finally{m(!1)}})()},[n,t?.enrollments?.orchestraIds,d,v,s]);const j=p=>{const b=p?.rehearsalSchedule;if(!b||!t?.teacherAssignments)return!1;const y=2,E="14:30",S="15:15";if(b.dayOfWeek!==y)return!1;const I=b.startTime,k=b.endTime;return I<S&&k>E},w=async p=>{try{f(p);const b=[...t.enrollments?.orchestraIds||[],p];await Y.students.updateStudent(s,{enrollments:{...t.enrollments,orchestraIds:b}});try{await Y.orchestras.addMember(p,s),console.log(`Added student ${s} to orchestra ${p} memberIds`)}catch(E){console.error(`Failed to update orchestra ${p} memberIds:`,E)}const y=o.find(E=>E._id===p);y&&(i(E=>[...E,{...y,enrollmentStatus:"enrolled"}]),h(E=>E.filter(S=>S._id!==p))),console.log(`Successfully enrolled in orchestra ${p}`)}catch(b){console.error("Error enrolling in orchestra:",b)}finally{f(null)}},C=async p=>{try{f(p);const b=(t.enrollments?.orchestraIds||[]).filter(E=>E!==p);await Y.students.updateStudent(s,{enrollments:{...t.enrollments,orchestraIds:b}});try{await Y.orchestras.removeMember(p,s),console.log(`Removed student ${s} from orchestra ${p} memberIds`)}catch(E){console.error(`Failed to update orchestra ${p} memberIds:`,E)}const y=l.find(E=>E._id===p);y&&!y.error&&h(E=>[...E,y]),i(E=>E.filter(S=>S._id!==p)),console.log(`Successfully unenrolled from orchestra ${p}`)}catch(b){console.error("Error unenrolling from orchestra:",b)}finally{f(null),N(null)}};if(r)return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse w-48"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-24 bg-gray-200 rounded animate-pulse"})]})});const T=()=>u?e.jsx("div",{className:"space-y-4",children:[1,2].map(p=>e.jsx("div",{className:"bg-gray-200 rounded-lg h-48 animate-pulse"},p))}):l.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Z,{className:"w-8 h-8 text-gray-300"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"אין הרשמות קיימות"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"התלמיד אינו רשום כרגע לתזמורות"}),e.jsx("button",{onClick:()=>a("manage"),className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors",children:"צפה בתזמורות זמינות"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5 text-purple-600"}),"תזמורות רשומות (",l.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l.map(p=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:p.name}),e.jsx("div",{className:"mt-2 space-y-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"מנצח:"}),e.jsx("span",{className:"text-sm text-gray-900",children:(()=>{if(console.log("🎭 Debugging conductor for orchestra:",p.name),console.log("🎭 Orchestra object keys:",Object.keys(p)),console.log("🎭 Orchestra.conductor:",p.conductor),console.log("🎭 Orchestra.conductorId:",p.conductorId),console.log("🎭 Orchestra.teacherId:",p.teacherId),p.conductor){if(console.log("🎭 Conductor object:",p.conductor),console.log("🎭 Conductor type:",typeof p.conductor),console.log("🎭 Conductor keys:",typeof p.conductor=="object"?Object.keys(p.conductor):"N/A"),console.log("🎭 Conductor.personalInfo:",p.conductor.personalInfo),console.log("🎭 Conductor.personalInfo keys:",p.conductor.personalInfo?Object.keys(p.conductor.personalInfo):"No personalInfo"),typeof p.conductor=="string")return console.log("🎭 Using string conductor name:",p.conductor),p.conductor;if(p.conductor.fullName)return console.log("🎭 Using fullName:",p.conductor.fullName),p.conductor.fullName;if(p.conductor.personalInfo?.fullName)return console.log("🎭 Using personalInfo.fullName:",p.conductor.personalInfo.fullName),p.conductor.personalInfo.fullName;if(p.conductor.personalInfo?.firstName&&p.conductor.personalInfo?.lastName){const b=`${p.conductor.personalInfo.firstName} ${p.conductor.personalInfo.lastName}`;return console.log("🎭 Using personalInfo firstName + lastName:",b),b}if(p.conductor.personalInfo?.name)return console.log("🎭 Using personalInfo.name:",p.conductor.personalInfo.name),p.conductor.personalInfo.name;if(p.conductor.name)return console.log("🎭 Using name:",p.conductor.name),p.conductor.name;if(p.conductor.personalInfo?.hebrewName)return console.log("🎭 Using personalInfo.hebrewName:",p.conductor.personalInfo.hebrewName),p.conductor.personalInfo.hebrewName;if(p.conductor.displayName)return console.log("🎭 Using displayName:",p.conductor.displayName),p.conductor.displayName}return console.log("🎭 No conductor data found, returning default"),"לא מוגד"})()})]})}),p.error&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"שגיאה בטעינת פרטי התזמורת"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"רשום"]}),e.jsx("button",{onClick:()=>N(p._id),disabled:x===p._id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"בטל הרשמה",children:e.jsx(fs,{className:"w-4 h-4"})})]})]}),p.description&&e.jsx("p",{className:"text-gray-600 mb-4",children:p.description}),e.jsxs("div",{className:"mb-4 bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h5",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5 text-blue-600"}),"חזרות שבועיות"]}),e.jsx("div",{className:"bg-white p-3 rounded-lg border border-blue-100 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-medium text-blue-900",children:p.rehearsalSchedule?.dayName||"לא מוגדר"}),e.jsx("span",{className:"text-blue-600",children:"•"}),e.jsx("span",{className:"font-medium text-blue-800",children:p.rehearsalSchedule?`${p.rehearsalSchedule.startTime} - ${p.rehearsalSchedule.endTime}`:"שעות לא מוגדרות"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-blue-700",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:p.rehearsalSchedule?.location||p.location||"אולם גן"})]})]})})]}),p.capacity&&e.jsxs("div",{className:"text-sm text-gray-600",children:["קיבולת: ",p.currentMembers||0," / ",p.capacity," חברים"]})]},p._id))})]}),P=()=>u?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>e.jsx("div",{className:"bg-gray-200 rounded-lg h-32 animate-pulse"},p))}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5 text-green-600"}),"תזמורות זמינות להרשמה"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["מציג תזמורות התואמות לכלי: ",d]})]}),o.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Z,{className:"w-8 h-8 text-gray-300"})}),e.jsx("h4",{className:"text-lg font-medium text-gray-600 mb-2",children:"אין תזמורות זמינות"}),e.jsx("p",{className:"text-gray-500",children:"כל התזמורות התואמות לכלי שלך מלאות או שכבר נרשמת אליהן"})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(p=>{const b=j(p),y=p.capacity&&p.currentMembers>=p.capacity,E=!b&&!y&&p.isCompatible;return e.jsxs("div",{className:`bg-white rounded-xl border p-6 hover:shadow-md transition-shadow ${E?"border-gray-200":"border-gray-200 opacity-75"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:p.name}),e.jsx("div",{className:"mt-2 space-y-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"מנצח:"}),e.jsx("span",{className:"text-sm text-gray-900",children:(()=>{if(console.log("🎪 Debugging conductor for available orchestra:",p.name),console.log("🎪 Available orchestra.conductor:",p.conductor),console.log("🎪 Available orchestra.conductorId:",p.conductorId),p.conductor){if(console.log("🎪 Available conductor object:",p.conductor),console.log("🎪 Available conductor type:",typeof p.conductor),console.log("🎪 Available conductor keys:",Object.keys(p.conductor)),console.log("🎪 Available conductor.personalInfo:",p.conductor.personalInfo),console.log("🎪 Available conductor.personalInfo keys:",p.conductor.personalInfo?Object.keys(p.conductor.personalInfo):"No personalInfo"),typeof p.conductor=="string")return console.log("🎪 Using string conductor name:",p.conductor),p.conductor;if(p.conductor.fullName)return console.log("🎪 Using fullName:",p.conductor.fullName),p.conductor.fullName;if(p.conductor.personalInfo?.fullName)return console.log("🎪 Using personalInfo.fullName:",p.conductor.personalInfo.fullName),p.conductor.personalInfo.fullName;if(p.conductor.personalInfo?.firstName&&p.conductor.personalInfo?.lastName){const S=`${p.conductor.personalInfo.firstName} ${p.conductor.personalInfo.lastName}`;return console.log("🎪 Using personalInfo firstName + lastName:",S),S}if(p.conductor.personalInfo?.name)return console.log("🎪 Using personalInfo.name:",p.conductor.personalInfo.name),p.conductor.personalInfo.name;if(p.conductor.name)return console.log("🎪 Using name:",p.conductor.name),p.conductor.name;if(p.conductor.personalInfo?.hebrewName)return console.log("🎪 Using personalInfo.hebrewName:",p.conductor.personalInfo.hebrewName),p.conductor.personalInfo.hebrewName;if(p.conductor.displayName)return console.log("🎪 Using displayName:",p.conductor.displayName),p.conductor.displayName}return console.log("🎪 No conductor data found for available orchestra, returning default"),"לא מוגד"})()})]})}),e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[p.level&&e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.level==="beginner"?"bg-green-100 text-green-800":p.level==="intermediate"?"bg-yellow-100 text-yellow-800":p.level==="advanced"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:p.level==="beginner"?"מתחילים":p.level==="intermediate"?"בינוני":p.level==="advanced"?"מתקדמים":"מעורב"}),p.gradeRequirements&&p.gradeRequirements.includes(v)&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:["מתאים לכיתה ",v]})]})]}),e.jsx("button",{onClick:()=>w(p._id),disabled:!E||x===p._id,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${E?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:x===p._id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"נרשם..."]}):e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"w-4 h-4"}),"הרשם"]})})]}),p.description&&e.jsx("p",{className:"text-gray-600 mb-4",children:p.description}),b&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"התנגשות בלוח זמנים"})]}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:"זמני החזרות מתנגשים עם השיעור שלך בימי שלישי 14:30-15:15"})]}),y&&e.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"התזמורת מלאה"})]}),e.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"כל המקומות בתזמורת תפוסים"})]}),e.jsxs("div",{className:`mb-4 rounded-lg p-4 border ${b?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[e.jsxs("h5",{className:`font-semibold mb-3 flex items-center gap-2 ${b?"text-red-900":"text-blue-900"}`,children:[e.jsx(ne,{className:`w-5 h-5 ${b?"text-red-600":"text-blue-600"}`}),"חזרות שבועיות",b&&e.jsx("span",{className:"text-xs bg-red-200 text-red-800 px-2 py-1 rounded-full",children:"התנגשות!"})]}),e.jsx("div",{className:`p-3 rounded-lg border shadow-sm ${b?"bg-red-100 border-red-200":"bg-white border-blue-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`font-medium ${b?"text-red-900":"text-blue-900"}`,children:p.rehearsalSchedule?.dayName||"לא מוגדר"}),e.jsx("span",{className:b?"text-red-600":"text-blue-600",children:"•"}),e.jsx("span",{className:`font-medium ${b?"text-red-800":"text-blue-800"}`,children:p.rehearsalSchedule?`${p.rehearsalSchedule.startTime} - ${p.rehearsalSchedule.endTime}`:"שעות לא מוגדרות"})]}),e.jsxs("div",{className:`flex items-center gap-1 ${b?"text-red-700":"text-blue-700"}`,children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:p.rehearsalSchedule?.location||p.location||"אולם גן"})]})]})})]}),p.requiredInstruments&&p.requiredInstruments.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:"כלים נדרשים"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:p.requiredInstruments.map((S,I)=>e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S===d?"bg-green-100 text-green-800 ring-1 ring-green-300":"bg-gray-100 text-gray-700"}`,children:S},I))})]}),p.capacity&&e.jsxs("div",{className:"text-sm text-gray-600",children:["קיבולת: ",p.currentMembers||0," / ",p.capacity," חברים"]})]},p._id)})})]});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"תזמורות והרכבים"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["ניהול הרשמות לתזמורות במוסיקה • כלי: ",d," • כיתה: ",v]})]}),e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>a("current"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="current"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"w-4 h-4"}),"הרשמות קיימות"]})}),e.jsx("button",{onClick:()=>a("manage"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="manage"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4"}),"הרשמה חדשה"]})})]})]}),n==="current"?T():P(),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"בטל הרשמה לתזמורת"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"האם אתה בטוח שברצונך לבטל את ההרשמה לתזמורת זו? פעולה זו לא ניתנת לביטול."}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>N(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"ביטול"}),e.jsx("button",{onClick:()=>C(g),disabled:x===g,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:x===g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"מבטל..."]}):"בטל הרשמה"})]})]})})]})};function Ds(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function fr(...t){return s=>{let r=!1;const n=t.map(a=>{const l=Ds(a,s);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let a=0;a<n.length;a++){const l=n[a];typeof l=="function"?l():Ds(t[a],null)}}}}function K(...t){return c.useCallback(fr(...t),t)}function st(t){const s=Na(t),r=c.forwardRef((n,a)=>{const{children:l,...i}=n,o=c.Children.toArray(l),h=o.find(wa);if(h){const u=h.props.children,m=o.map(x=>x===h?c.Children.count(u)>1?c.Children.only(null):c.isValidElement(u)?u.props.children:null:x);return e.jsx(s,{...i,ref:a,children:c.isValidElement(u)?c.cloneElement(u,void 0,m):null})}return e.jsx(s,{...i,ref:a,children:l})});return r.displayName=`${t}.Slot`,r}var ya=st("Slot");function Na(t){const s=c.forwardRef((r,n)=>{const{children:a,...l}=r;if(c.isValidElement(a)){const i=Ca(a),o=Sa(l,a.props);return a.type!==c.Fragment&&(o.ref=n?fr(n,i):i),c.cloneElement(a,o)}return c.Children.count(a)>1?c.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var ja=Symbol("radix.slottable");function wa(t){return c.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ja}function Sa(t,s){const r={...s};for(const n in s){const a=t[n],l=s[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...o)=>{const h=l(...o);return a(...o),h}:a&&(r[n]=a):n==="style"?r[n]={...a,...l}:n==="className"&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...t,...r}}function Ca(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const Ms=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,_s=da,Tt=(t,s)=>r=>{var n;if(s?.variants==null)return _s(t,r?.class,r?.className);const{variants:a,defaultVariants:l}=s,i=Object.keys(a).map(u=>{const m=r?.[u],x=l?.[u];if(m===null)return null;const f=Ms(m)||Ms(x);return a[u][f]}),o=r&&Object.entries(r).reduce((u,m)=>{let[x,f]=m;return f===void 0||(u[x]=f),u},{}),h=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((u,m)=>{let{class:x,className:f,...g}=m;return Object.entries(g).every(N=>{let[d,v]=N;return Array.isArray(v)?v.includes({...l,...o}[d]):{...l,...o}[d]===v})?[...u,x,f]:u},[]);return _s(t,i,h,r?.class,r?.className)},Ea=Tt("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xs=c.forwardRef(({className:t,variant:s,size:r,asChild:n=!1,...a},l)=>{const i=n?ya:"button";return e.jsx(i,{className:q(Ea({variant:s,size:r,className:t})),ref:l,...a})});xs.displayName="Button";const H=c.forwardRef(({className:t,type:s,...r},n)=>e.jsx("input",{type:s,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));H.displayName="Input";var Ta=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],V=Ta.reduce((t,s)=>{const r=st(`Primitive.${s}`),n=c.forwardRef((a,l)=>{const{asChild:i,...o}=a,h=i?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(h,{...o,ref:l})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function Ia(t,s){t&&Ct.flushSync(()=>t.dispatchEvent(s))}var Pa="Label",xr=c.forwardRef((t,s)=>e.jsx(V.label,{...t,ref:s,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xr.displayName=Pa;var hr=xr;const Aa=Tt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=c.forwardRef(({className:t,...s},r)=>e.jsx(hr,{ref:r,className:q(Aa(),t),...s}));G.displayName=hr.displayName;function $s(t,[s,r]){return Math.min(r,Math.max(s,t))}function z(t,s,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return s?.(a)}}function hs(t,s=[]){let r=[];function n(l,i){const o=c.createContext(i),h=r.length;r=[...r,i];const u=x=>{const{scope:f,children:g,...N}=x,d=f?.[t]?.[h]||o,v=c.useMemo(()=>N,Object.values(N));return e.jsx(d.Provider,{value:v,children:g})};u.displayName=l+"Provider";function m(x,f){const g=f?.[t]?.[h]||o,N=c.useContext(g);if(N)return N;if(i!==void 0)return i;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[u,m]}const a=()=>{const l=r.map(i=>c.createContext(i));return function(o){const h=o?.[t]||l;return c.useMemo(()=>({[`__scope${t}`]:{...o,[t]:h}}),[o,h])}};return a.scopeName=t,[n,ka(a,...s)]}function ka(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const i=n.reduce((o,{useScope:h,scopeName:u})=>{const x=h(l)[`__scope${u}`];return{...o,...x}},{});return c.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return r.scopeName=s.scopeName,r}function Ra(t){const s=t+"CollectionProvider",[r,n]=hs(s),[a,l]=r(s,{collectionRef:{current:null},itemMap:new Map}),i=d=>{const{scope:v,children:j}=d,w=ve.useRef(null),C=ve.useRef(new Map).current;return e.jsx(a,{scope:v,itemMap:C,collectionRef:w,children:j})};i.displayName=s;const o=t+"CollectionSlot",h=st(o),u=ve.forwardRef((d,v)=>{const{scope:j,children:w}=d,C=l(o,j),T=K(v,C.collectionRef);return e.jsx(h,{ref:T,children:w})});u.displayName=o;const m=t+"CollectionItemSlot",x="data-radix-collection-item",f=st(m),g=ve.forwardRef((d,v)=>{const{scope:j,children:w,...C}=d,T=ve.useRef(null),P=K(v,T),p=l(m,j);return ve.useEffect(()=>(p.itemMap.set(T,{ref:T,...C}),()=>void p.itemMap.delete(T))),e.jsx(f,{[x]:"",ref:P,children:w})});g.displayName=m;function N(d){const v=l(t+"CollectionConsumer",d);return ve.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${x}]`));return Array.from(v.itemMap.values()).sort((p,b)=>C.indexOf(p.ref.current)-C.indexOf(b.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},N,n]}var Oa=c.createContext(void 0);function La(t){const s=c.useContext(Oa);return t||s||"ltr"}function Re(t){const s=c.useRef(t);return c.useEffect(()=>{s.current=t}),c.useMemo(()=>(...r)=>s.current?.(...r),[])}function Da(t,s=globalThis?.document){const r=Re(t);c.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[r,s])}var Ma="DismissableLayer",Xt="dismissableLayer.update",_a="dismissableLayer.pointerDownOutside",$a="dismissableLayer.focusOutside",Fs,gr=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pr=c.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:i,onDismiss:o,...h}=t,u=c.useContext(gr),[m,x]=c.useState(null),f=m?.ownerDocument??globalThis?.document,[,g]=c.useState({}),N=K(s,b=>x(b)),d=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=d.indexOf(v),w=m?d.indexOf(m):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,T=w>=j,P=Wa(b=>{const y=b.target,E=[...u.branches].some(S=>S.contains(y));!T||E||(a?.(b),i?.(b),b.defaultPrevented||o?.())},f),p=Ha(b=>{const y=b.target;[...u.branches].some(S=>S.contains(y))||(l?.(b),i?.(b),b.defaultPrevented||o?.())},f);return Da(b=>{w===u.layers.size-1&&(n?.(b),!b.defaultPrevented&&o&&(b.preventDefault(),o()))},f),c.useEffect(()=>{if(m)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Fs=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),Bs(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Fs)}},[m,f,r,u]),c.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),Bs())},[m,u]),c.useEffect(()=>{const b=()=>g({});return document.addEventListener(Xt,b),()=>document.removeEventListener(Xt,b)},[]),e.jsx(V.div,{...h,ref:N,style:{pointerEvents:C?T?"auto":"none":void 0,...t.style},onFocusCapture:z(t.onFocusCapture,p.onFocusCapture),onBlurCapture:z(t.onBlurCapture,p.onBlurCapture),onPointerDownCapture:z(t.onPointerDownCapture,P.onPointerDownCapture)})});pr.displayName=Ma;var Fa="DismissableLayerBranch",Ba=c.forwardRef((t,s)=>{const r=c.useContext(gr),n=c.useRef(null),a=K(s,n);return c.useEffect(()=>{const l=n.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),e.jsx(V.div,{...t,ref:a})});Ba.displayName=Fa;function Wa(t,s=globalThis?.document){const r=Re(t),n=c.useRef(!1),a=c.useRef(()=>{});return c.useEffect(()=>{const l=o=>{if(o.target&&!n.current){let h=function(){br(_a,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(s.removeEventListener("click",a.current),a.current=h,s.addEventListener("click",a.current,{once:!0})):h()}else s.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),s.removeEventListener("pointerdown",l),s.removeEventListener("click",a.current)}},[s,r]),{onPointerDownCapture:()=>n.current=!0}}function Ha(t,s=globalThis?.document){const r=Re(t),n=c.useRef(!1);return c.useEffect(()=>{const a=l=>{l.target&&!n.current&&br($a,r,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",a),()=>s.removeEventListener("focusin",a)},[s,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Bs(){const t=new CustomEvent(Xt);document.dispatchEvent(t)}function br(t,s,r,{discrete:n}){const a=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&a.addEventListener(t,s,{once:!0}),n?Ia(a,l):a.dispatchEvent(l)}var Ft=0;function Va(){c.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ws()),document.body.insertAdjacentElement("beforeend",t[1]??Ws()),Ft++,()=>{Ft===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Ft--}},[])}function Ws(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bt="focusScope.autoFocusOnMount",Wt="focusScope.autoFocusOnUnmount",Hs={bubbles:!1,cancelable:!0},Ua="FocusScope",vr=c.forwardRef((t,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...i}=t,[o,h]=c.useState(null),u=Re(a),m=Re(l),x=c.useRef(null),f=K(s,d=>h(d)),g=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(n){let d=function(C){if(g.paused||!o)return;const T=C.target;o.contains(T)?x.current=T:ye(x.current,{select:!0})},v=function(C){if(g.paused||!o)return;const T=C.relatedTarget;T!==null&&(o.contains(T)||ye(x.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&ye(o)};document.addEventListener("focusin",d),document.addEventListener("focusout",v);const w=new MutationObserver(j);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",d),document.removeEventListener("focusout",v),w.disconnect()}}},[n,o,g.paused]),c.useEffect(()=>{if(o){Us.add(g);const d=document.activeElement;if(!o.contains(d)){const j=new CustomEvent(Bt,Hs);o.addEventListener(Bt,u),o.dispatchEvent(j),j.defaultPrevented||(za(Xa(yr(o)),{select:!0}),document.activeElement===d&&ye(o))}return()=>{o.removeEventListener(Bt,u),setTimeout(()=>{const j=new CustomEvent(Wt,Hs);o.addEventListener(Wt,m),o.dispatchEvent(j),j.defaultPrevented||ye(d??document.body,{select:!0}),o.removeEventListener(Wt,m),Us.remove(g)},0)}}},[o,u,m,g]);const N=c.useCallback(d=>{if(!r&&!n||g.paused)return;const v=d.key==="Tab"&&!d.altKey&&!d.ctrlKey&&!d.metaKey,j=document.activeElement;if(v&&j){const w=d.currentTarget,[C,T]=Ga(w);C&&T?!d.shiftKey&&j===T?(d.preventDefault(),r&&ye(C,{select:!0})):d.shiftKey&&j===C&&(d.preventDefault(),r&&ye(T,{select:!0})):j===w&&d.preventDefault()}},[r,n,g.paused]);return e.jsx(V.div,{tabIndex:-1,...i,ref:f,onKeyDown:N})});vr.displayName=Ua;function za(t,{select:s=!1}={}){const r=document.activeElement;for(const n of t)if(ye(n,{select:s}),document.activeElement!==r)return}function Ga(t){const s=yr(t),r=Vs(s,t),n=Vs(s.reverse(),t);return[r,n]}function yr(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Vs(t,s){for(const r of t)if(!Ka(r,{upTo:s}))return r}function Ka(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ya(t){return t instanceof HTMLInputElement&&"select"in t}function ye(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Ya(t)&&s&&t.select()}}var Us=qa();function qa(){let t=[];return{add(s){const r=t[0];s!==r&&r?.pause(),t=zs(t,s),t.unshift(s)},remove(s){t=zs(t,s),t[0]?.resume()}}}function zs(t,s){const r=[...t],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function Xa(t){return t.filter(s=>s.tagName!=="A")}var ee=globalThis?.document?c.useLayoutEffect:()=>{},Za=cr[" useId ".trim().toString()]||(()=>{}),Qa=0;function gs(t){const[s,r]=c.useState(Za());return ee(()=>{r(n=>n??String(Qa++))},[t]),s?`radix-${s}`:""}const Ja=["top","right","bottom","left"],rt=Math.min,Pe=Math.max,el={left:"right",right:"left",bottom:"top",top:"bottom"},tl={start:"end",end:"start"};function Zt(t,s,r){return Pe(t,rt(s,r))}function xe(t,s){return typeof t=="function"?t(s):t}function he(t){return t.split("-")[0]}function ze(t){return t.split("-")[1]}function ps(t){return t==="x"?"y":"x"}function bs(t){return t==="y"?"height":"width"}const sl=new Set(["top","bottom"]);function ie(t){return sl.has(he(t))?"y":"x"}function vs(t){return ps(ie(t))}function rl(t,s,r){r===void 0&&(r=!1);const n=ze(t),a=vs(t),l=bs(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[l]>s.floating[l]&&(i=bt(i)),[i,bt(i)]}function nl(t){const s=bt(t);return[Qt(t),s,Qt(s)]}function Qt(t){return t.replace(/start|end/g,s=>tl[s])}const Gs=["left","right"],Ks=["right","left"],al=["top","bottom"],ll=["bottom","top"];function ol(t,s,r){switch(t){case"top":case"bottom":return r?s?Ks:Gs:s?Gs:Ks;case"left":case"right":return s?al:ll;default:return[]}}function il(t,s,r,n){const a=ze(t);let l=ol(he(t),r==="start",n);return a&&(l=l.map(i=>i+"-"+a),s&&(l=l.concat(l.map(Qt)))),l}function bt(t){return t.replace(/left|right|bottom|top/g,s=>el[s])}function cl(t){return{top:0,right:0,bottom:0,left:0,...t}}function Nr(t){return typeof t!="number"?cl(t):{top:t,right:t,bottom:t,left:t}}function vt(t){const{x:s,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:s,right:s+n,bottom:r+a,x:s,y:r}}function Ys(t,s,r){let{reference:n,floating:a}=t;const l=ie(s),i=vs(s),o=bs(i),h=he(s),u=l==="y",m=n.x+n.width/2-a.width/2,x=n.y+n.height/2-a.height/2,f=n[o]/2-a[o]/2;let g;switch(h){case"top":g={x:m,y:n.y-a.height};break;case"bottom":g={x:m,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:x};break;case"left":g={x:n.x-a.width,y:x};break;default:g={x:n.x,y:n.y}}switch(ze(s)){case"start":g[i]-=f*(r&&u?-1:1);break;case"end":g[i]+=f*(r&&u?-1:1);break}return g}const dl=async(t,s,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:l=[],platform:i}=r,o=l.filter(Boolean),h=await(i.isRTL==null?void 0:i.isRTL(s));let u=await i.getElementRects({reference:t,floating:s,strategy:a}),{x:m,y:x}=Ys(u,n,h),f=n,g={},N=0;for(let d=0;d<o.length;d++){const{name:v,fn:j}=o[d],{x:w,y:C,data:T,reset:P}=await j({x:m,y:x,initialPlacement:n,placement:f,strategy:a,middlewareData:g,rects:u,platform:i,elements:{reference:t,floating:s}});m=w??m,x=C??x,g={...g,[v]:{...g[v],...T}},P&&N<=50&&(N++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(u=P.rects===!0?await i.getElementRects({reference:t,floating:s,strategy:a}):P.rects),{x:m,y:x}=Ys(u,f,h)),d=-1)}return{x:m,y:x,placement:f,strategy:a,middlewareData:g}};async function nt(t,s){var r;s===void 0&&(s={});const{x:n,y:a,platform:l,rects:i,elements:o,strategy:h}=t,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:x="floating",altBoundary:f=!1,padding:g=0}=xe(s,t),N=Nr(g),v=o[f?x==="floating"?"reference":"floating":x],j=vt(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(v)))==null||r?v:v.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(o.floating)),boundary:u,rootBoundary:m,strategy:h})),w=x==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(o.floating)),T=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},P=vt(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:C,strategy:h}):w);return{top:(j.top-P.top+N.top)/T.y,bottom:(P.bottom-j.bottom+N.bottom)/T.y,left:(j.left-P.left+N.left)/T.x,right:(P.right-j.right+N.right)/T.x}}const ul=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:n,placement:a,rects:l,platform:i,elements:o,middlewareData:h}=s,{element:u,padding:m=0}=xe(t,s)||{};if(u==null)return{};const x=Nr(m),f={x:r,y:n},g=vs(a),N=bs(g),d=await i.getDimensions(u),v=g==="y",j=v?"top":"left",w=v?"bottom":"right",C=v?"clientHeight":"clientWidth",T=l.reference[N]+l.reference[g]-f[g]-l.floating[N],P=f[g]-l.reference[g],p=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let b=p?p[C]:0;(!b||!await(i.isElement==null?void 0:i.isElement(p)))&&(b=o.floating[C]||l.floating[N]);const y=T/2-P/2,E=b/2-d[N]/2-1,S=rt(x[j],E),I=rt(x[w],E),k=S,O=b-d[N]-I,A=b/2-d[N]/2+y,_=Zt(k,A,O),L=!h.arrow&&ze(a)!=null&&A!==_&&l.reference[N]/2-(A<k?S:I)-d[N]/2<0,M=L?A<k?A-k:A-O:0;return{[g]:f[g]+M,data:{[g]:_,centerOffset:A-_-M,...L&&{alignmentOffset:M}},reset:L}}}),ml=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,n;const{placement:a,middlewareData:l,rects:i,initialPlacement:o,platform:h,elements:u}=s,{mainAxis:m=!0,crossAxis:x=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:d=!0,...v}=xe(t,s);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const j=he(a),w=ie(o),C=he(o)===o,T=await(h.isRTL==null?void 0:h.isRTL(u.floating)),P=f||(C||!d?[bt(o)]:nl(o)),p=N!=="none";!f&&p&&P.push(...il(o,d,N,T));const b=[o,...P],y=await nt(s,v),E=[];let S=((n=l.flip)==null?void 0:n.overflows)||[];if(m&&E.push(y[j]),x){const A=rl(a,i,T);E.push(y[A[0]],y[A[1]])}if(S=[...S,{placement:a,overflows:E}],!E.every(A=>A<=0)){var I,k;const A=(((I=l.flip)==null?void 0:I.index)||0)+1,_=b[A];if(_&&(!(x==="alignment"?w!==ie(_):!1)||S.every(D=>ie(D.placement)===w?D.overflows[0]>0:!0)))return{data:{index:A,overflows:S},reset:{placement:_}};let L=(k=S.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:k.placement;if(!L)switch(g){case"bestFit":{var O;const M=(O=S.filter(D=>{if(p){const $=ie(D.placement);return $===w||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,Q)=>$+Q,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:O[0];M&&(L=M);break}case"initialPlacement":L=o;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function qs(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function Xs(t){return Ja.some(s=>t[s]>=0)}const fl=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:n="referenceHidden",...a}=xe(t,s);switch(n){case"referenceHidden":{const l=await nt(s,{...a,elementContext:"reference"}),i=qs(l,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Xs(i)}}}case"escaped":{const l=await nt(s,{...a,altBoundary:!0}),i=qs(l,r.floating);return{data:{escapedOffsets:i,escaped:Xs(i)}}}default:return{}}}}},jr=new Set(["left","top"]);async function xl(t,s){const{placement:r,platform:n,elements:a}=t,l=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=he(r),o=ze(r),h=ie(r)==="y",u=jr.has(i)?-1:1,m=l&&h?-1:1,x=xe(s,t);let{mainAxis:f,crossAxis:g,alignmentAxis:N}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return o&&typeof N=="number"&&(g=o==="end"?N*-1:N),h?{x:g*m,y:f*u}:{x:f*u,y:g*m}}const hl=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,n;const{x:a,y:l,placement:i,middlewareData:o}=s,h=await xl(s,t);return i===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+h.x,y:l+h.y,data:{...h,placement:i}}}}},gl=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:n,placement:a}=s,{mainAxis:l=!0,crossAxis:i=!1,limiter:o={fn:v=>{let{x:j,y:w}=v;return{x:j,y:w}}},...h}=xe(t,s),u={x:r,y:n},m=await nt(s,h),x=ie(he(a)),f=ps(x);let g=u[f],N=u[x];if(l){const v=f==="y"?"top":"left",j=f==="y"?"bottom":"right",w=g+m[v],C=g-m[j];g=Zt(w,g,C)}if(i){const v=x==="y"?"top":"left",j=x==="y"?"bottom":"right",w=N+m[v],C=N-m[j];N=Zt(w,N,C)}const d=o.fn({...s,[f]:g,[x]:N});return{...d,data:{x:d.x-r,y:d.y-n,enabled:{[f]:l,[x]:i}}}}}},pl=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:n,placement:a,rects:l,middlewareData:i}=s,{offset:o=0,mainAxis:h=!0,crossAxis:u=!0}=xe(t,s),m={x:r,y:n},x=ie(a),f=ps(x);let g=m[f],N=m[x];const d=xe(o,s),v=typeof d=="number"?{mainAxis:d,crossAxis:0}:{mainAxis:0,crossAxis:0,...d};if(h){const C=f==="y"?"height":"width",T=l.reference[f]-l.floating[C]+v.mainAxis,P=l.reference[f]+l.reference[C]-v.mainAxis;g<T?g=T:g>P&&(g=P)}if(u){var j,w;const C=f==="y"?"width":"height",T=jr.has(he(a)),P=l.reference[x]-l.floating[C]+(T&&((j=i.offset)==null?void 0:j[x])||0)+(T?0:v.crossAxis),p=l.reference[x]+l.reference[C]+(T?0:((w=i.offset)==null?void 0:w[x])||0)-(T?v.crossAxis:0);N<P?N=P:N>p&&(N=p)}return{[f]:g,[x]:N}}}},bl=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,n;const{placement:a,rects:l,platform:i,elements:o}=s,{apply:h=()=>{},...u}=xe(t,s),m=await nt(s,u),x=he(a),f=ze(a),g=ie(a)==="y",{width:N,height:d}=l.floating;let v,j;x==="top"||x==="bottom"?(v=x,j=f===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(j=x,v=f==="end"?"top":"bottom");const w=d-m.top-m.bottom,C=N-m.left-m.right,T=rt(d-m[v],w),P=rt(N-m[j],C),p=!s.middlewareData.shift;let b=T,y=P;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(y=C),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(b=w),p&&!f){const S=Pe(m.left,0),I=Pe(m.right,0),k=Pe(m.top,0),O=Pe(m.bottom,0);g?y=N-2*(S!==0||I!==0?S+I:Pe(m.left,m.right)):b=d-2*(k!==0||O!==0?k+O:Pe(m.top,m.bottom))}await h({...s,availableWidth:y,availableHeight:b});const E=await i.getDimensions(o.floating);return N!==E.width||d!==E.height?{reset:{rects:!0}}:{}}}},Jt=Math.min,Be=Math.max,yt=Math.round,ot=Math.floor,ce=t=>({x:t,y:t});function It(){return typeof window<"u"}function Ge(t){return wr(t)?(t.nodeName||"").toLowerCase():"#document"}function te(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function ue(t){var s;return(s=(wr(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function wr(t){return It()?t instanceof Node||t instanceof te(t).Node:!1}function ae(t){return It()?t instanceof Element||t instanceof te(t).Element:!1}function de(t){return It()?t instanceof HTMLElement||t instanceof te(t).HTMLElement:!1}function Zs(t){return!It()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof te(t).ShadowRoot}const vl=new Set(["inline","contents"]);function lt(t){const{overflow:s,overflowX:r,overflowY:n,display:a}=le(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+r)&&!vl.has(a)}const yl=new Set(["table","td","th"]);function Nl(t){return yl.has(Ge(t))}const jl=[":popover-open",":modal"];function Pt(t){return jl.some(s=>{try{return t.matches(s)}catch{return!1}})}const wl=["transform","translate","scale","rotate","perspective"],Sl=["transform","translate","scale","rotate","perspective","filter"],Cl=["paint","layout","strict","content"];function ys(t){const s=Ns(),r=ae(t)?le(t):t;return wl.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||Sl.some(n=>(r.willChange||"").includes(n))||Cl.some(n=>(r.contain||"").includes(n))}function El(t){let s=we(t);for(;de(s)&&!Ue(s);){if(ys(s))return s;if(Pt(s))return null;s=we(s)}return null}function Ns(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Tl=new Set(["html","body","#document"]);function Ue(t){return Tl.has(Ge(t))}function le(t){return te(t).getComputedStyle(t)}function At(t){return ae(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function we(t){if(Ge(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Zs(t)&&t.host||ue(t);return Zs(s)?s.host:s}function Sr(t){const s=we(t);return Ue(s)?t.ownerDocument?t.ownerDocument.body:t.body:de(s)&&lt(s)?s:Sr(s)}function at(t,s,r){var n;s===void 0&&(s=[]),r===void 0&&(r=!0);const a=Sr(t),l=a===((n=t.ownerDocument)==null?void 0:n.body),i=te(a);if(l){const o=es(i);return s.concat(i,i.visualViewport||[],lt(a)?a:[],o&&r?at(o):[])}return s.concat(a,at(a,[],r))}function es(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Cr(t){const s=le(t);let r=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const a=de(t),l=a?t.offsetWidth:r,i=a?t.offsetHeight:n,o=yt(r)!==l||yt(n)!==i;return o&&(r=l,n=i),{width:r,height:n,$:o}}function js(t){return ae(t)?t:t.contextElement}function We(t){const s=js(t);if(!de(s))return ce(1);const r=s.getBoundingClientRect(),{width:n,height:a,$:l}=Cr(s);let i=(l?yt(r.width):r.width)/n,o=(l?yt(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const Il=ce(0);function Er(t){const s=te(t);return!Ns()||!s.visualViewport?Il:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function Pl(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==te(t)?!1:s}function Oe(t,s,r,n){s===void 0&&(s=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),l=js(t);let i=ce(1);s&&(n?ae(n)&&(i=We(n)):i=We(t));const o=Pl(l,r,n)?Er(l):ce(0);let h=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,m=a.width/i.x,x=a.height/i.y;if(l){const f=te(l),g=n&&ae(n)?te(n):n;let N=f,d=es(N);for(;d&&n&&g!==N;){const v=We(d),j=d.getBoundingClientRect(),w=le(d),C=j.left+(d.clientLeft+parseFloat(w.paddingLeft))*v.x,T=j.top+(d.clientTop+parseFloat(w.paddingTop))*v.y;h*=v.x,u*=v.y,m*=v.x,x*=v.y,h+=C,u+=T,N=te(d),d=es(N)}}return vt({width:m,height:x,x:h,y:u})}function kt(t,s){const r=At(t).scrollLeft;return s?s.left+r:Oe(ue(t)).left+r}function Tr(t,s){const r=t.getBoundingClientRect(),n=r.left+s.scrollLeft-kt(t,r),a=r.top+s.scrollTop;return{x:n,y:a}}function Al(t){let{elements:s,rect:r,offsetParent:n,strategy:a}=t;const l=a==="fixed",i=ue(n),o=s?Pt(s.floating):!1;if(n===i||o&&l)return r;let h={scrollLeft:0,scrollTop:0},u=ce(1);const m=ce(0),x=de(n);if((x||!x&&!l)&&((Ge(n)!=="body"||lt(i))&&(h=At(n)),de(n))){const g=Oe(n);u=We(n),m.x=g.x+n.clientLeft,m.y=g.y+n.clientTop}const f=i&&!x&&!l?Tr(i,h):ce(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-h.scrollLeft*u.x+m.x+f.x,y:r.y*u.y-h.scrollTop*u.y+m.y+f.y}}function kl(t){return Array.from(t.getClientRects())}function Rl(t){const s=ue(t),r=At(t),n=t.ownerDocument.body,a=Be(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),l=Be(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+kt(t);const o=-r.scrollTop;return le(n).direction==="rtl"&&(i+=Be(s.clientWidth,n.clientWidth)-a),{width:a,height:l,x:i,y:o}}const Qs=25;function Ol(t,s){const r=te(t),n=ue(t),a=r.visualViewport;let l=n.clientWidth,i=n.clientHeight,o=0,h=0;if(a){l=a.width,i=a.height;const m=Ns();(!m||m&&s==="fixed")&&(o=a.offsetLeft,h=a.offsetTop)}const u=kt(n);if(u<=0){const m=n.ownerDocument,x=m.body,f=getComputedStyle(x),g=m.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,N=Math.abs(n.clientWidth-x.clientWidth-g);N<=Qs&&(l-=N)}else u<=Qs&&(l+=u);return{width:l,height:i,x:o,y:h}}const Ll=new Set(["absolute","fixed"]);function Dl(t,s){const r=Oe(t,!0,s==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,l=de(t)?We(t):ce(1),i=t.clientWidth*l.x,o=t.clientHeight*l.y,h=a*l.x,u=n*l.y;return{width:i,height:o,x:h,y:u}}function Js(t,s,r){let n;if(s==="viewport")n=Ol(t,r);else if(s==="document")n=Rl(ue(t));else if(ae(s))n=Dl(s,r);else{const a=Er(t);n={x:s.x-a.x,y:s.y-a.y,width:s.width,height:s.height}}return vt(n)}function Ir(t,s){const r=we(t);return r===s||!ae(r)||Ue(r)?!1:le(r).position==="fixed"||Ir(r,s)}function Ml(t,s){const r=s.get(t);if(r)return r;let n=at(t,[],!1).filter(o=>ae(o)&&Ge(o)!=="body"),a=null;const l=le(t).position==="fixed";let i=l?we(t):t;for(;ae(i)&&!Ue(i);){const o=le(i),h=ys(i);!h&&o.position==="fixed"&&(a=null),(l?!h&&!a:!h&&o.position==="static"&&!!a&&Ll.has(a.position)||lt(i)&&!h&&Ir(t,i))?n=n.filter(m=>m!==i):a=o,i=we(i)}return s.set(t,n),n}function _l(t){let{element:s,boundary:r,rootBoundary:n,strategy:a}=t;const i=[...r==="clippingAncestors"?Pt(s)?[]:Ml(s,this._c):[].concat(r),n],o=i[0],h=i.reduce((u,m)=>{const x=Js(s,m,a);return u.top=Be(x.top,u.top),u.right=Jt(x.right,u.right),u.bottom=Jt(x.bottom,u.bottom),u.left=Be(x.left,u.left),u},Js(s,o,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function $l(t){const{width:s,height:r}=Cr(t);return{width:s,height:r}}function Fl(t,s,r){const n=de(s),a=ue(s),l=r==="fixed",i=Oe(t,!0,l,s);let o={scrollLeft:0,scrollTop:0};const h=ce(0);function u(){h.x=kt(a)}if(n||!n&&!l)if((Ge(s)!=="body"||lt(a))&&(o=At(s)),n){const g=Oe(s,!0,l,s);h.x=g.x+s.clientLeft,h.y=g.y+s.clientTop}else a&&u();l&&!n&&a&&u();const m=a&&!n&&!l?Tr(a,o):ce(0),x=i.left+o.scrollLeft-h.x-m.x,f=i.top+o.scrollTop-h.y-m.y;return{x,y:f,width:i.width,height:i.height}}function Ht(t){return le(t).position==="static"}function er(t,s){if(!de(t)||le(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return ue(t)===r&&(r=r.ownerDocument.body),r}function Pr(t,s){const r=te(t);if(Pt(t))return r;if(!de(t)){let a=we(t);for(;a&&!Ue(a);){if(ae(a)&&!Ht(a))return a;a=we(a)}return r}let n=er(t,s);for(;n&&Nl(n)&&Ht(n);)n=er(n,s);return n&&Ue(n)&&Ht(n)&&!ys(n)?r:n||El(t)||r}const Bl=async function(t){const s=this.getOffsetParent||Pr,r=this.getDimensions,n=await r(t.floating);return{reference:Fl(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Wl(t){return le(t).direction==="rtl"}const Hl={convertOffsetParentRelativeRectToViewportRelativeRect:Al,getDocumentElement:ue,getClippingRect:_l,getOffsetParent:Pr,getElementRects:Bl,getClientRects:kl,getDimensions:$l,getScale:We,isElement:ae,isRTL:Wl};function Ar(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function Vl(t,s){let r=null,n;const a=ue(t);function l(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function i(o,h){o===void 0&&(o=!1),h===void 0&&(h=1),l();const u=t.getBoundingClientRect(),{left:m,top:x,width:f,height:g}=u;if(o||s(),!f||!g)return;const N=ot(x),d=ot(a.clientWidth-(m+f)),v=ot(a.clientHeight-(x+g)),j=ot(m),C={rootMargin:-N+"px "+-d+"px "+-v+"px "+-j+"px",threshold:Be(0,Jt(1,h))||1};let T=!0;function P(p){const b=p[0].intersectionRatio;if(b!==h){if(!T)return i();b?i(!1,b):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b===1&&!Ar(u,t.getBoundingClientRect())&&i(),T=!1}try{r=new IntersectionObserver(P,{...C,root:a.ownerDocument})}catch{r=new IntersectionObserver(P,C)}r.observe(t)}return i(!0),l}function Ul(t,s,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,u=js(t),m=a||l?[...u?at(u):[],...at(s)]:[];m.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),l&&j.addEventListener("resize",r)});const x=u&&o?Vl(u,r):null;let f=-1,g=null;i&&(g=new ResizeObserver(j=>{let[w]=j;w&&w.target===u&&g&&(g.unobserve(s),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=g)==null||C.observe(s)})),r()}),u&&!h&&g.observe(u),g.observe(s));let N,d=h?Oe(t):null;h&&v();function v(){const j=Oe(t);d&&!Ar(d,j)&&r(),d=j,N=requestAnimationFrame(v)}return r(),()=>{var j;m.forEach(w=>{a&&w.removeEventListener("scroll",r),l&&w.removeEventListener("resize",r)}),x?.(),(j=g)==null||j.disconnect(),g=null,h&&cancelAnimationFrame(N)}}const zl=hl,Gl=gl,Kl=ml,Yl=bl,ql=fl,tr=ul,Xl=pl,Zl=(t,s,r)=>{const n=new Map,a={platform:Hl,...r},l={...a.platform,_c:n};return dl(t,s,{...a,platform:l})};var Ql=typeof document<"u",Jl=function(){},ft=Ql?c.useLayoutEffect:Jl;function Nt(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,n,a;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(n=r;n--!==0;)if(!Nt(t[n],s[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(s).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(s,a[n]))return!1;for(n=r;n--!==0;){const l=a[n];if(!(l==="_owner"&&t.$$typeof)&&!Nt(t[l],s[l]))return!1}return!0}return t!==t&&s!==s}function kr(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sr(t,s){const r=kr(t);return Math.round(s*r)/r}function Vt(t){const s=c.useRef(t);return ft(()=>{s.current=t}),s}function eo(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:l,floating:i}={},transform:o=!0,whileElementsMounted:h,open:u}=t,[m,x]=c.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[f,g]=c.useState(n);Nt(f,n)||g(n);const[N,d]=c.useState(null),[v,j]=c.useState(null),w=c.useCallback(D=>{D!==p.current&&(p.current=D,d(D))},[]),C=c.useCallback(D=>{D!==b.current&&(b.current=D,j(D))},[]),T=l||N,P=i||v,p=c.useRef(null),b=c.useRef(null),y=c.useRef(m),E=h!=null,S=Vt(h),I=Vt(a),k=Vt(u),O=c.useCallback(()=>{if(!p.current||!b.current)return;const D={placement:s,strategy:r,middleware:f};I.current&&(D.platform=I.current),Zl(p.current,b.current,D).then($=>{const Q={...$,isPositioned:k.current!==!1};A.current&&!Nt(y.current,Q)&&(y.current=Q,Ct.flushSync(()=>{x(Q)}))})},[f,s,r,I,k]);ft(()=>{u===!1&&y.current.isPositioned&&(y.current.isPositioned=!1,x(D=>({...D,isPositioned:!1})))},[u]);const A=c.useRef(!1);ft(()=>(A.current=!0,()=>{A.current=!1}),[]),ft(()=>{if(T&&(p.current=T),P&&(b.current=P),T&&P){if(S.current)return S.current(T,P,O);O()}},[T,P,O,S,E]);const _=c.useMemo(()=>({reference:p,floating:b,setReference:w,setFloating:C}),[w,C]),L=c.useMemo(()=>({reference:T,floating:P}),[T,P]),M=c.useMemo(()=>{const D={position:r,left:0,top:0};if(!L.floating)return D;const $=sr(L.floating,m.x),Q=sr(L.floating,m.y);return o?{...D,transform:"translate("+$+"px, "+Q+"px)",...kr(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:Q}},[r,o,L.floating,m.x,m.y]);return c.useMemo(()=>({...m,update:O,refs:_,elements:L,floatingStyles:M}),[m,O,_,L,M])}const to=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&s(n)?n.current!=null?tr({element:n.current,padding:a}).fn(r):{}:n?tr({element:n,padding:a}).fn(r):{}}}},so=(t,s)=>({...zl(t),options:[t,s]}),ro=(t,s)=>({...Gl(t),options:[t,s]}),no=(t,s)=>({...Xl(t),options:[t,s]}),ao=(t,s)=>({...Kl(t),options:[t,s]}),lo=(t,s)=>({...Yl(t),options:[t,s]}),oo=(t,s)=>({...ql(t),options:[t,s]}),io=(t,s)=>({...to(t),options:[t,s]});var co="Arrow",Rr=c.forwardRef((t,s)=>{const{children:r,width:n=10,height:a=5,...l}=t;return e.jsx(V.svg,{...l,ref:s,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rr.displayName=co;var uo=Rr;function mo(t){const[s,r]=c.useState(void 0);return ee(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let i,o;if("borderBoxSize"in l){const h=l.borderBoxSize,u=Array.isArray(h)?h[0]:h;i=u.inlineSize,o=u.blockSize}else i=t.offsetWidth,o=t.offsetHeight;r({width:i,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),s}var ws="Popper",[Or,Lr]=hs(ws),[fo,Dr]=Or(ws),Mr=t=>{const{__scopePopper:s,children:r}=t,[n,a]=c.useState(null);return e.jsx(fo,{scope:s,anchor:n,onAnchorChange:a,children:r})};Mr.displayName=ws;var _r="PopperAnchor",$r=c.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:n,...a}=t,l=Dr(_r,r),i=c.useRef(null),o=K(s,i),h=c.useRef(null);return c.useEffect(()=>{const u=h.current;h.current=n?.current||i.current,u!==h.current&&l.onAnchorChange(h.current)}),n?null:e.jsx(V.div,{...a,ref:o})});$r.displayName=_r;var Ss="PopperContent",[xo,ho]=Or(Ss),Fr=c.forwardRef((t,s)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:l="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:h=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:x="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:N,...d}=t,v=Dr(Ss,r),[j,w]=c.useState(null),C=K(s,R=>w(R)),[T,P]=c.useState(null),p=mo(T),b=p?.width??0,y=p?.height??0,E=n+(l!=="center"?"-"+l:""),S=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},I=Array.isArray(u)?u:[u],k=I.length>0,O={padding:S,boundary:I.filter(po),altBoundary:k},{refs:A,floatingStyles:_,placement:L,isPositioned:M,middlewareData:D}=eo({strategy:"fixed",placement:E,whileElementsMounted:(...R)=>Ul(...R,{animationFrame:g==="always"}),elements:{reference:v.anchor},middleware:[so({mainAxis:a+y,alignmentAxis:i}),h&&ro({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?no():void 0,...O}),h&&ao({...O}),lo({...O,apply:({elements:R,rects:W,availableWidth:X,availableHeight:F})=>{const{width:B,height:U}=W.reference,se=R.floating.style;se.setProperty("--radix-popper-available-width",`${X}px`),se.setProperty("--radix-popper-available-height",`${F}px`),se.setProperty("--radix-popper-anchor-width",`${B}px`),se.setProperty("--radix-popper-anchor-height",`${U}px`)}}),T&&io({element:T,padding:o}),bo({arrowWidth:b,arrowHeight:y}),f&&oo({strategy:"referenceHidden",...O})]}),[$,Q]=Hr(L),Ee=Re(N);ee(()=>{M&&Ee?.()},[M,Ee]);const Ye=D.arrow?.x,qe=D.arrow?.y,ge=D.arrow?.centerOffset!==0,[Me,Te]=c.useState();return ee(()=>{j&&Te(window.getComputedStyle(j).zIndex)},[j]),e.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:M?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(xo,{scope:r,placedSide:$,onArrowChange:P,arrowX:Ye,arrowY:qe,shouldHideArrow:ge,children:e.jsx(V.div,{"data-side":$,"data-align":Q,...d,ref:C,style:{...d.style,animation:M?void 0:"none"}})})})});Fr.displayName=Ss;var Br="PopperArrow",go={top:"bottom",right:"left",bottom:"top",left:"right"},Wr=c.forwardRef(function(s,r){const{__scopePopper:n,...a}=s,l=ho(Br,n),i=go[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(uo,{...a,ref:r,style:{...a.style,display:"block"}})})});Wr.displayName=Br;function po(t){return t!==null}var bo=t=>({name:"transformOrigin",options:t,fn(s){const{placement:r,rects:n,middlewareData:a}=s,i=a.arrow?.centerOffset!==0,o=i?0:t.arrowWidth,h=i?0:t.arrowHeight,[u,m]=Hr(r),x={start:"0%",center:"50%",end:"100%"}[m],f=(a.arrow?.x??0)+o/2,g=(a.arrow?.y??0)+h/2;let N="",d="";return u==="bottom"?(N=i?x:`${f}px`,d=`${-h}px`):u==="top"?(N=i?x:`${f}px`,d=`${n.floating.height+h}px`):u==="right"?(N=`${-h}px`,d=i?x:`${g}px`):u==="left"&&(N=`${n.floating.width+h}px`,d=i?x:`${g}px`),{data:{x:N,y:d}}}});function Hr(t){const[s,r="center"]=t.split("-");return[s,r]}var vo=Mr,yo=$r,No=Fr,jo=Wr,wo="Portal",Vr=c.forwardRef((t,s)=>{const{container:r,...n}=t,[a,l]=c.useState(!1);ee(()=>l(!0),[]);const i=r||a&&globalThis?.document?.body;return i?Bn.createPortal(e.jsx(V.div,{...n,ref:s}),i):null});Vr.displayName=wo;var So=cr[" useInsertionEffect ".trim().toString()]||ee;function rr({prop:t,defaultProp:s,onChange:r=()=>{},caller:n}){const[a,l,i]=Co({defaultProp:s,onChange:r}),o=t!==void 0,h=o?t:a;{const m=c.useRef(t!==void 0);c.useEffect(()=>{const x=m.current;x!==o&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=o},[o,n])}const u=c.useCallback(m=>{if(o){const x=Eo(m)?m(t):m;x!==t&&i.current?.(x)}else l(m)},[o,t,l,i]);return[h,u]}function Co({defaultProp:t,onChange:s}){const[r,n]=c.useState(t),a=c.useRef(r),l=c.useRef(s);return So(()=>{l.current=s},[s]),c.useEffect(()=>{a.current!==r&&(l.current?.(r),a.current=r)},[r,a]),[r,n,l]}function Eo(t){return typeof t=="function"}function To(t){const s=c.useRef({value:t,previous:t});return c.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Ur=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Io="VisuallyHidden",Po=c.forwardRef((t,s)=>e.jsx(V.span,{...t,ref:s,style:{...Ur,...t.style}}));Po.displayName=Io;var Ao=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},_e=new WeakMap,it=new WeakMap,ct={},Ut=0,zr=function(t){return t&&(t.host||zr(t.parentNode))},ko=function(t,s){return s.map(function(r){if(t.contains(r))return r;var n=zr(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Ro=function(t,s,r,n){var a=ko(s,Array.isArray(t)?t:[t]);ct[r]||(ct[r]=new WeakMap);var l=ct[r],i=[],o=new Set,h=new Set(a),u=function(x){!x||o.has(x)||(o.add(x),u(x.parentNode))};a.forEach(u);var m=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(f){if(o.has(f))m(f);else try{var g=f.getAttribute(n),N=g!==null&&g!=="false",d=(_e.get(f)||0)+1,v=(l.get(f)||0)+1;_e.set(f,d),l.set(f,v),i.push(f),d===1&&N&&it.set(f,!0),v===1&&f.setAttribute(r,"true"),N||f.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",f,j)}})};return m(s),o.clear(),Ut++,function(){i.forEach(function(x){var f=_e.get(x)-1,g=l.get(x)-1;_e.set(x,f),l.set(x,g),f||(it.has(x)||x.removeAttribute(n),it.delete(x)),g||x.removeAttribute(r)}),Ut--,Ut||(_e=new WeakMap,_e=new WeakMap,it=new WeakMap,ct={})}},Oo=function(t,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=Ao(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Ro(n,a,r,"aria-hidden")):function(){return null}},oe=function(){return oe=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},oe.apply(this,arguments)};function Gr(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Lo(t,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,l;n<a;n++)(l||!(n in s))&&(l||(l=Array.prototype.slice.call(s,0,n)),l[n]=s[n]);return t.concat(l||Array.prototype.slice.call(s))}var xt="right-scroll-bar-position",ht="width-before-scroll-bar",Do="with-scroll-bars-hidden",Mo="--removed-body-scroll-bar-size";function zt(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function _o(t,s){var r=c.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var $o=typeof window<"u"?c.useLayoutEffect:c.useEffect,nr=new WeakMap;function Fo(t,s){var r=_o(null,function(n){return t.forEach(function(a){return zt(a,n)})});return $o(function(){var n=nr.get(r);if(n){var a=new Set(n),l=new Set(t),i=r.current;a.forEach(function(o){l.has(o)||zt(o,null)}),l.forEach(function(o){a.has(o)||zt(o,i)})}nr.set(r,t)},[t]),r}function Bo(t){return t}function Wo(t,s){s===void 0&&(s=Bo);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var i=s(l,n);return r.push(i),function(){r=r.filter(function(o){return o!==i})}},assignSyncMedium:function(l){for(n=!0;r.length;){var i=r;r=[],i.forEach(l)}r={push:function(o){return l(o)},filter:function(){return r}}},assignMedium:function(l){n=!0;var i=[];if(r.length){var o=r;r=[],o.forEach(l),i=r}var h=function(){var m=i;i=[],m.forEach(l)},u=function(){return Promise.resolve().then(h)};u(),r={push:function(m){i.push(m),u()},filter:function(m){return i=i.filter(m),r}}}};return a}function Ho(t){t===void 0&&(t={});var s=Wo(null);return s.options=oe({async:!0,ssr:!1},t),s}var Kr=function(t){var s=t.sideCar,r=Gr(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return c.createElement(n,oe({},r))};Kr.isSideCarExport=!0;function Vo(t,s){return t.useMedium(s),Kr}var Yr=Ho(),Gt=function(){},Rt=c.forwardRef(function(t,s){var r=c.useRef(null),n=c.useState({onScrollCapture:Gt,onWheelCapture:Gt,onTouchMoveCapture:Gt}),a=n[0],l=n[1],i=t.forwardProps,o=t.children,h=t.className,u=t.removeScrollBar,m=t.enabled,x=t.shards,f=t.sideCar,g=t.noRelative,N=t.noIsolation,d=t.inert,v=t.allowPinchZoom,j=t.as,w=j===void 0?"div":j,C=t.gapMode,T=Gr(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=f,p=Fo([r,s]),b=oe(oe({},T),a);return c.createElement(c.Fragment,null,m&&c.createElement(P,{sideCar:Yr,removeScrollBar:u,shards:x,noRelative:g,noIsolation:N,inert:d,setCallbacks:l,allowPinchZoom:!!v,lockRef:r,gapMode:C}),i?c.cloneElement(c.Children.only(o),oe(oe({},b),{ref:p})):c.createElement(w,oe({},b,{className:h,ref:p}),o))});Rt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rt.classNames={fullWidth:ht,zeroRight:xt};var Uo=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zo(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=Uo();return s&&t.setAttribute("nonce",s),t}function Go(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function Ko(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var Yo=function(){var t=0,s=null;return{add:function(r){t==0&&(s=zo())&&(Go(s,r),Ko(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},qo=function(){var t=Yo();return function(s,r){c.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},qr=function(){var t=qo(),s=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return s},Xo={left:0,top:0,right:0,gap:0},Kt=function(t){return parseInt(t||"",10)||0},Zo=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],a=s[t==="padding"?"paddingRight":"marginRight"];return[Kt(r),Kt(n),Kt(a)]},Qo=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Xo;var s=Zo(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},Jo=qr(),He="data-scroll-locked",ei=function(t,s,r,n){var a=t.left,l=t.top,i=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Do,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(He,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xt,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(ht,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(xt," .").concat(xt,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ht," .").concat(ht,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(He,`] {
    `).concat(Mo,": ").concat(o,`px;
  }
`)},ar=function(){var t=parseInt(document.body.getAttribute(He)||"0",10);return isFinite(t)?t:0},ti=function(){c.useEffect(function(){return document.body.setAttribute(He,(ar()+1).toString()),function(){var t=ar()-1;t<=0?document.body.removeAttribute(He):document.body.setAttribute(He,t.toString())}},[])},si=function(t){var s=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;ti();var l=c.useMemo(function(){return Qo(a)},[a]);return c.createElement(Jo,{styles:ei(l,!s,a,r?"":"!important")})},ts=!1;if(typeof window<"u")try{var dt=Object.defineProperty({},"passive",{get:function(){return ts=!0,!0}});window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{ts=!1}var $e=ts?{passive:!1}:!1,ri=function(t){return t.tagName==="TEXTAREA"},Xr=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!ri(t)&&r[s]==="visible")},ni=function(t){return Xr(t,"overflowY")},ai=function(t){return Xr(t,"overflowX")},lr=function(t,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=Zr(t,n);if(a){var l=Qr(t,n),i=l[1],o=l[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},li=function(t){var s=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[s,r,n]},oi=function(t){var s=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[s,r,n]},Zr=function(t,s){return t==="v"?ni(s):ai(s)},Qr=function(t,s){return t==="v"?li(s):oi(s)},ii=function(t,s){return t==="h"&&s==="rtl"?-1:1},ci=function(t,s,r,n,a){var l=ii(t,window.getComputedStyle(s).direction),i=l*n,o=r.target,h=s.contains(o),u=!1,m=i>0,x=0,f=0;do{if(!o)break;var g=Qr(t,o),N=g[0],d=g[1],v=g[2],j=d-v-l*N;(N||j)&&Zr(t,o)&&(x+=j,f+=N);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!h&&o!==document.body||h&&(s.contains(o)||s===o));return(m&&(Math.abs(x)<1||!a)||!m&&(Math.abs(f)<1||!a))&&(u=!0),u},ut=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},or=function(t){return[t.deltaX,t.deltaY]},ir=function(t){return t&&"current"in t?t.current:t},di=function(t,s){return t[0]===s[0]&&t[1]===s[1]},ui=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},mi=0,Fe=[];function fi(t){var s=c.useRef([]),r=c.useRef([0,0]),n=c.useRef(),a=c.useState(mi++)[0],l=c.useState(qr)[0],i=c.useRef(t);c.useEffect(function(){i.current=t},[t]),c.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var d=Lo([t.lockRef.current],(t.shards||[]).map(ir),!0).filter(Boolean);return d.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),d.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=c.useCallback(function(d,v){if("touches"in d&&d.touches.length===2||d.type==="wheel"&&d.ctrlKey)return!i.current.allowPinchZoom;var j=ut(d),w=r.current,C="deltaX"in d?d.deltaX:w[0]-j[0],T="deltaY"in d?d.deltaY:w[1]-j[1],P,p=d.target,b=Math.abs(C)>Math.abs(T)?"h":"v";if("touches"in d&&b==="h"&&p.type==="range")return!1;var y=lr(b,p);if(!y)return!0;if(y?P=b:(P=b==="v"?"h":"v",y=lr(b,p)),!y)return!1;if(!n.current&&"changedTouches"in d&&(C||T)&&(n.current=P),!P)return!0;var E=n.current||P;return ci(E,v,d,E==="h"?C:T,!0)},[]),h=c.useCallback(function(d){var v=d;if(!(!Fe.length||Fe[Fe.length-1]!==l)){var j="deltaY"in v?or(v):ut(v),w=s.current.filter(function(P){return P.name===v.type&&(P.target===v.target||v.target===P.shadowParent)&&di(P.delta,j)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var C=(i.current.shards||[]).map(ir).filter(Boolean).filter(function(P){return P.contains(v.target)}),T=C.length>0?o(v,C[0]):!i.current.noIsolation;T&&v.cancelable&&v.preventDefault()}}},[]),u=c.useCallback(function(d,v,j,w){var C={name:d,delta:v,target:j,should:w,shadowParent:xi(j)};s.current.push(C),setTimeout(function(){s.current=s.current.filter(function(T){return T!==C})},1)},[]),m=c.useCallback(function(d){r.current=ut(d),n.current=void 0},[]),x=c.useCallback(function(d){u(d.type,or(d),d.target,o(d,t.lockRef.current))},[]),f=c.useCallback(function(d){u(d.type,ut(d),d.target,o(d,t.lockRef.current))},[]);c.useEffect(function(){return Fe.push(l),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:f}),document.addEventListener("wheel",h,$e),document.addEventListener("touchmove",h,$e),document.addEventListener("touchstart",m,$e),function(){Fe=Fe.filter(function(d){return d!==l}),document.removeEventListener("wheel",h,$e),document.removeEventListener("touchmove",h,$e),document.removeEventListener("touchstart",m,$e)}},[]);var g=t.removeScrollBar,N=t.inert;return c.createElement(c.Fragment,null,N?c.createElement(l,{styles:ui(a)}):null,g?c.createElement(si,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xi(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const hi=Vo(Yr,fi);var Jr=c.forwardRef(function(t,s){return c.createElement(Rt,oe({},t,{ref:s,sideCar:hi}))});Jr.classNames=Rt.classNames;var gi=[" ","Enter","ArrowUp","ArrowDown"],pi=[" ","Enter"],Le="Select",[Ot,Lt,bi]=Ra(Le),[Ke,xc]=hs(Le,[bi,Lr]),Dt=Lr(),[vi,Se]=Ke(Le),[yi,Ni]=Ke(Le),en=t=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:l,value:i,defaultValue:o,onValueChange:h,dir:u,name:m,autoComplete:x,disabled:f,required:g,form:N}=t,d=Dt(s),[v,j]=c.useState(null),[w,C]=c.useState(null),[T,P]=c.useState(!1),p=La(u),[b,y]=rr({prop:n,defaultProp:a??!1,onChange:l,caller:Le}),[E,S]=rr({prop:i,defaultProp:o,onChange:h,caller:Le}),I=c.useRef(null),k=v?N||!!v.closest("form"):!0,[O,A]=c.useState(new Set),_=Array.from(O).map(L=>L.props.value).join(";");return e.jsx(vo,{...d,children:e.jsxs(vi,{required:g,scope:s,trigger:v,onTriggerChange:j,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:T,onValueNodeHasChildrenChange:P,contentId:gs(),value:E,onValueChange:S,open:b,onOpenChange:y,dir:p,triggerPointerDownPosRef:I,disabled:f,children:[e.jsx(Ot.Provider,{scope:s,children:e.jsx(yi,{scope:t.__scopeSelect,onNativeOptionAdd:c.useCallback(L=>{A(M=>new Set(M).add(L))},[]),onNativeOptionRemove:c.useCallback(L=>{A(M=>{const D=new Set(M);return D.delete(L),D})},[]),children:r})}),k?e.jsxs(Cn,{"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:x,value:E,onChange:L=>S(L.target.value),disabled:f,form:N,children:[E===void 0?e.jsx("option",{value:""}):null,Array.from(O)]},_):null]})})};en.displayName=Le;var tn="SelectTrigger",sn=c.forwardRef((t,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,l=Dt(r),i=Se(tn,r),o=i.disabled||n,h=K(s,i.onTriggerChange),u=Lt(r),m=c.useRef("touch"),[x,f,g]=Tn(d=>{const v=u().filter(C=>!C.disabled),j=v.find(C=>C.value===i.value),w=In(v,d,j);w!==void 0&&i.onValueChange(w.value)}),N=d=>{o||(i.onOpenChange(!0),g()),d&&(i.triggerPointerDownPosRef.current={x:Math.round(d.pageX),y:Math.round(d.pageY)})};return e.jsx(yo,{asChild:!0,...l,children:e.jsx(V.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":En(i.value)?"":void 0,...a,ref:h,onClick:z(a.onClick,d=>{d.currentTarget.focus(),m.current!=="mouse"&&N(d)}),onPointerDown:z(a.onPointerDown,d=>{m.current=d.pointerType;const v=d.target;v.hasPointerCapture(d.pointerId)&&v.releasePointerCapture(d.pointerId),d.button===0&&d.ctrlKey===!1&&d.pointerType==="mouse"&&(N(d),d.preventDefault())}),onKeyDown:z(a.onKeyDown,d=>{const v=x.current!=="";!(d.ctrlKey||d.altKey||d.metaKey)&&d.key.length===1&&f(d.key),!(v&&d.key===" ")&&gi.includes(d.key)&&(N(),d.preventDefault())})})})});sn.displayName=tn;var rn="SelectValue",nn=c.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,children:l,placeholder:i="",...o}=t,h=Se(rn,r),{onValueNodeHasChildrenChange:u}=h,m=l!==void 0,x=K(s,h.onValueNodeChange);return ee(()=>{u(m)},[u,m]),e.jsx(V.span,{...o,ref:x,style:{pointerEvents:"none"},children:En(h.value)?e.jsx(e.Fragment,{children:i}):l})});nn.displayName=rn;var ji="SelectIcon",an=c.forwardRef((t,s)=>{const{__scopeSelect:r,children:n,...a}=t;return e.jsx(V.span,{"aria-hidden":!0,...a,ref:s,children:n||"▼"})});an.displayName=ji;var wi="SelectPortal",ln=t=>e.jsx(Vr,{asChild:!0,...t});ln.displayName=wi;var De="SelectContent",on=c.forwardRef((t,s)=>{const r=Se(De,t.__scopeSelect),[n,a]=c.useState();if(ee(()=>{a(new DocumentFragment)},[]),!r.open){const l=n;return l?Ct.createPortal(e.jsx(cn,{scope:t.__scopeSelect,children:e.jsx(Ot.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),l):null}return e.jsx(dn,{...t,ref:s})});on.displayName=De;var re=10,[cn,Ce]=Ke(De),Si="SelectContentImpl",Ci=st("SelectContent.RemoveScroll"),dn=c.forwardRef((t,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:i,side:o,sideOffset:h,align:u,alignOffset:m,arrowPadding:x,collisionBoundary:f,collisionPadding:g,sticky:N,hideWhenDetached:d,avoidCollisions:v,...j}=t,w=Se(De,r),[C,T]=c.useState(null),[P,p]=c.useState(null),b=K(s,R=>T(R)),[y,E]=c.useState(null),[S,I]=c.useState(null),k=Lt(r),[O,A]=c.useState(!1),_=c.useRef(!1);c.useEffect(()=>{if(C)return Oo(C)},[C]),Va();const L=c.useCallback(R=>{const[W,...X]=k().map(U=>U.ref.current),[F]=X.slice(-1),B=document.activeElement;for(const U of R)if(U===B||(U?.scrollIntoView({block:"nearest"}),U===W&&P&&(P.scrollTop=0),U===F&&P&&(P.scrollTop=P.scrollHeight),U?.focus(),document.activeElement!==B))return},[k,P]),M=c.useCallback(()=>L([y,C]),[L,y,C]);c.useEffect(()=>{O&&M()},[O,M]);const{onOpenChange:D,triggerPointerDownPosRef:$}=w;c.useEffect(()=>{if(C){let R={x:0,y:0};const W=F=>{R={x:Math.abs(Math.round(F.pageX)-($.current?.x??0)),y:Math.abs(Math.round(F.pageY)-($.current?.y??0))}},X=F=>{R.x<=10&&R.y<=10?F.preventDefault():C.contains(F.target)||D(!1),document.removeEventListener("pointermove",W),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",W),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",X,{capture:!0})}}},[C,D,$]),c.useEffect(()=>{const R=()=>D(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[D]);const[Q,Ee]=Tn(R=>{const W=k().filter(B=>!B.disabled),X=W.find(B=>B.ref.current===document.activeElement),F=In(W,R,X);F&&setTimeout(()=>F.ref.current.focus())}),Ye=c.useCallback((R,W,X)=>{const F=!_.current&&!X;(w.value!==void 0&&w.value===W||F)&&(E(R),F&&(_.current=!0))},[w.value]),qe=c.useCallback(()=>C?.focus(),[C]),ge=c.useCallback((R,W,X)=>{const F=!_.current&&!X;(w.value!==void 0&&w.value===W||F)&&I(R)},[w.value]),Me=n==="popper"?ss:un,Te=Me===ss?{side:o,sideOffset:h,align:u,alignOffset:m,arrowPadding:x,collisionBoundary:f,collisionPadding:g,sticky:N,hideWhenDetached:d,avoidCollisions:v}:{};return e.jsx(cn,{scope:r,content:C,viewport:P,onViewportChange:p,itemRefCallback:Ye,selectedItem:y,onItemLeave:qe,itemTextRefCallback:ge,focusSelectedItem:M,selectedItemText:S,position:n,isPositioned:O,searchRef:Q,children:e.jsx(Jr,{as:Ci,allowPinchZoom:!0,children:e.jsx(vr,{asChild:!0,trapped:w.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:z(a,R=>{w.trigger?.focus({preventScroll:!0}),R.preventDefault()}),children:e.jsx(pr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:e.jsx(Me,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:R=>R.preventDefault(),...j,...Te,onPlaced:()=>A(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:z(j.onKeyDown,R=>{const W=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!W&&R.key.length===1&&Ee(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let F=k().filter(B=>!B.disabled).map(B=>B.ref.current);if(["ArrowUp","End"].includes(R.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const B=R.target,U=F.indexOf(B);F=F.slice(U+1)}setTimeout(()=>L(F)),R.preventDefault()}})})})})})})});dn.displayName=Si;var Ei="SelectItemAlignedPosition",un=c.forwardRef((t,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,l=Se(De,r),i=Ce(De,r),[o,h]=c.useState(null),[u,m]=c.useState(null),x=K(s,b=>m(b)),f=Lt(r),g=c.useRef(!1),N=c.useRef(!0),{viewport:d,selectedItem:v,selectedItemText:j,focusSelectedItem:w}=i,C=c.useCallback(()=>{if(l.trigger&&l.valueNode&&o&&u&&d&&v&&j){const b=l.trigger.getBoundingClientRect(),y=u.getBoundingClientRect(),E=l.valueNode.getBoundingClientRect(),S=j.getBoundingClientRect();if(l.dir!=="rtl"){const B=S.left-y.left,U=E.left-B,se=b.left-U,Ie=b.width+se,Mt=Math.max(Ie,y.width),_t=window.innerWidth-re,$t=$s(U,[re,Math.max(re,_t-Mt)]);o.style.minWidth=Ie+"px",o.style.left=$t+"px"}else{const B=y.right-S.right,U=window.innerWidth-E.right-B,se=window.innerWidth-b.right-U,Ie=b.width+se,Mt=Math.max(Ie,y.width),_t=window.innerWidth-re,$t=$s(U,[re,Math.max(re,_t-Mt)]);o.style.minWidth=Ie+"px",o.style.right=$t+"px"}const I=f(),k=window.innerHeight-re*2,O=d.scrollHeight,A=window.getComputedStyle(u),_=parseInt(A.borderTopWidth,10),L=parseInt(A.paddingTop,10),M=parseInt(A.borderBottomWidth,10),D=parseInt(A.paddingBottom,10),$=_+L+O+D+M,Q=Math.min(v.offsetHeight*5,$),Ee=window.getComputedStyle(d),Ye=parseInt(Ee.paddingTop,10),qe=parseInt(Ee.paddingBottom,10),ge=b.top+b.height/2-re,Me=k-ge,Te=v.offsetHeight/2,R=v.offsetTop+Te,W=_+L+R,X=$-W;if(W<=ge){const B=I.length>0&&v===I[I.length-1].ref.current;o.style.bottom="0px";const U=u.clientHeight-d.offsetTop-d.offsetHeight,se=Math.max(Me,Te+(B?qe:0)+U+M),Ie=W+se;o.style.height=Ie+"px"}else{const B=I.length>0&&v===I[0].ref.current;o.style.top="0px";const se=Math.max(ge,_+d.offsetTop+(B?Ye:0)+Te)+X;o.style.height=se+"px",d.scrollTop=W-ge+d.offsetTop}o.style.margin=`${re}px 0`,o.style.minHeight=Q+"px",o.style.maxHeight=k+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[f,l.trigger,l.valueNode,o,u,d,v,j,l.dir,n]);ee(()=>C(),[C]);const[T,P]=c.useState();ee(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const p=c.useCallback(b=>{b&&N.current===!0&&(C(),w?.(),N.current=!1)},[C,w]);return e.jsx(Ii,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:p,children:e.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:e.jsx(V.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});un.displayName=Ei;var Ti="SelectPopperPosition",ss=c.forwardRef((t,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=re,...l}=t,i=Dt(r);return e.jsx(No,{...i,...l,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ss.displayName=Ti;var[Ii,Cs]=Ke(De,{}),rs="SelectViewport",mn=c.forwardRef((t,s)=>{const{__scopeSelect:r,nonce:n,...a}=t,l=Ce(rs,r),i=Cs(rs,r),o=K(s,l.onViewportChange),h=c.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Ot.Slot,{scope:r,children:e.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:z(a.onScroll,u=>{const m=u.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:f}=i;if(f?.current&&x){const g=Math.abs(h.current-m.scrollTop);if(g>0){const N=window.innerHeight-re*2,d=parseFloat(x.style.minHeight),v=parseFloat(x.style.height),j=Math.max(d,v);if(j<N){const w=j+g,C=Math.min(N,w),T=w-C;x.style.height=C+"px",x.style.bottom==="0px"&&(m.scrollTop=T>0?T:0,x.style.justifyContent="flex-end")}}}h.current=m.scrollTop})})})]})});mn.displayName=rs;var fn="SelectGroup",[Pi,Ai]=Ke(fn),ki=c.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=gs();return e.jsx(Pi,{scope:r,id:a,children:e.jsx(V.div,{role:"group","aria-labelledby":a,...n,ref:s})})});ki.displayName=fn;var xn="SelectLabel",hn=c.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=Ai(xn,r);return e.jsx(V.div,{id:a.id,...n,ref:s})});hn.displayName=xn;var jt="SelectItem",[Ri,gn]=Ke(jt),pn=c.forwardRef((t,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:l,...i}=t,o=Se(jt,r),h=Ce(jt,r),u=o.value===n,[m,x]=c.useState(l??""),[f,g]=c.useState(!1),N=K(s,w=>h.itemRefCallback?.(w,n,a)),d=gs(),v=c.useRef("touch"),j=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ri,{scope:r,value:n,disabled:a,textId:d,isSelected:u,onItemTextChange:c.useCallback(w=>{x(C=>C||(w?.textContent??"").trim())},[]),children:e.jsx(Ot.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:e.jsx(V.div,{role:"option","aria-labelledby":d,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:N,onFocus:z(i.onFocus,()=>g(!0)),onBlur:z(i.onBlur,()=>g(!1)),onClick:z(i.onClick,()=>{v.current!=="mouse"&&j()}),onPointerUp:z(i.onPointerUp,()=>{v.current==="mouse"&&j()}),onPointerDown:z(i.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:z(i.onPointerMove,w=>{v.current=w.pointerType,a?h.onItemLeave?.():v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:z(i.onPointerLeave,w=>{w.currentTarget===document.activeElement&&h.onItemLeave?.()}),onKeyDown:z(i.onKeyDown,w=>{h.searchRef?.current!==""&&w.key===" "||(pi.includes(w.key)&&j(),w.key===" "&&w.preventDefault())})})})})});pn.displayName=jt;var Xe="SelectItemText",bn=c.forwardRef((t,s)=>{const{__scopeSelect:r,className:n,style:a,...l}=t,i=Se(Xe,r),o=Ce(Xe,r),h=gn(Xe,r),u=Ni(Xe,r),[m,x]=c.useState(null),f=K(s,j=>x(j),h.onItemTextChange,j=>o.itemTextRefCallback?.(j,h.value,h.disabled)),g=m?.textContent,N=c.useMemo(()=>e.jsx("option",{value:h.value,disabled:h.disabled,children:g},h.value),[h.disabled,h.value,g]),{onNativeOptionAdd:d,onNativeOptionRemove:v}=u;return ee(()=>(d(N),()=>v(N)),[d,v,N]),e.jsxs(e.Fragment,{children:[e.jsx(V.span,{id:h.textId,...l,ref:f}),h.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ct.createPortal(l.children,i.valueNode):null]})});bn.displayName=Xe;var vn="SelectItemIndicator",yn=c.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return gn(vn,r).isSelected?e.jsx(V.span,{"aria-hidden":!0,...n,ref:s}):null});yn.displayName=vn;var ns="SelectScrollUpButton",Nn=c.forwardRef((t,s)=>{const r=Ce(ns,t.__scopeSelect),n=Cs(ns,t.__scopeSelect),[a,l]=c.useState(!1),i=K(s,n.onScrollButtonChange);return ee(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=h.scrollTop>0;l(u)};const h=r.viewport;return o(),h.addEventListener("scroll",o),()=>h.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(wn,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:h}=r;o&&h&&(o.scrollTop=o.scrollTop-h.offsetHeight)}}):null});Nn.displayName=ns;var as="SelectScrollDownButton",jn=c.forwardRef((t,s)=>{const r=Ce(as,t.__scopeSelect),n=Cs(as,t.__scopeSelect),[a,l]=c.useState(!1),i=K(s,n.onScrollButtonChange);return ee(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=h.scrollHeight-h.clientHeight,m=Math.ceil(h.scrollTop)<u;l(m)};const h=r.viewport;return o(),h.addEventListener("scroll",o),()=>h.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),a?e.jsx(wn,{...t,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:h}=r;o&&h&&(o.scrollTop=o.scrollTop+h.offsetHeight)}}):null});jn.displayName=as;var wn=c.forwardRef((t,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,l=Ce("SelectScrollButton",r),i=c.useRef(null),o=Lt(r),h=c.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return c.useEffect(()=>()=>h(),[h]),ee(()=>{o().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),e.jsx(V.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:z(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:z(a.onPointerMove,()=>{l.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:z(a.onPointerLeave,()=>{h()})})}),Oi="SelectSeparator",Sn=c.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t;return e.jsx(V.div,{"aria-hidden":!0,...n,ref:s})});Sn.displayName=Oi;var ls="SelectArrow",Li=c.forwardRef((t,s)=>{const{__scopeSelect:r,...n}=t,a=Dt(r),l=Se(ls,r),i=Ce(ls,r);return l.open&&i.position==="popper"?e.jsx(jo,{...a,...n,ref:s}):null});Li.displayName=ls;var Di="SelectBubbleInput",Cn=c.forwardRef(({__scopeSelect:t,value:s,...r},n)=>{const a=c.useRef(null),l=K(n,a),i=To(s);return c.useEffect(()=>{const o=a.current;if(!o)return;const h=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(h,"value").set;if(i!==s&&m){const x=new Event("change",{bubbles:!0});m.call(o,s),o.dispatchEvent(x)}},[i,s]),e.jsx(V.select,{...r,style:{...Ur,...r.style},ref:l,defaultValue:s})});Cn.displayName=Di;function En(t){return t===""||t===void 0}function Tn(t){const s=Re(t),r=c.useRef(""),n=c.useRef(0),a=c.useCallback(i=>{const o=r.current+i;s(o),function h(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>h(""),1e3))}(o)},[s]),l=c.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return c.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,l]}function In(t,s,r){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,l=r?t.indexOf(r):-1;let i=Mi(t,Math.max(l,0));a.length===1&&(i=i.filter(u=>u!==r));const h=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==r?h:void 0}function Mi(t,s){return t.map((r,n)=>t[(s+n)%t.length])}var _i=en,Pn=sn,$i=nn,Fi=an,Bi=ln,An=on,Wi=mn,kn=hn,Rn=pn,Hi=bn,Vi=yn,On=Nn,Ln=jn,Dn=Sn;const os=_i,is=$i,wt=c.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(Pn,{ref:n,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[s,e.jsx(Fi,{asChild:!0,children:e.jsx(ur,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=Pn.displayName;const Mn=c.forwardRef(({className:t,...s},r)=>e.jsx(On,{ref:r,className:q("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Gn,{className:"h-4 w-4"})}));Mn.displayName=On.displayName;const _n=c.forwardRef(({className:t,...s},r)=>e.jsx(Ln,{ref:r,className:q("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ur,{className:"h-4 w-4"})}));_n.displayName=Ln.displayName;const St=c.forwardRef(({className:t,children:s,position:r="popper",...n},a)=>e.jsx(Bi,{children:e.jsxs(An,{ref:a,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[e.jsx(Mn,{}),e.jsx(Wi,{className:q("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(_n,{})]})}));St.displayName=An.displayName;const Ui=c.forwardRef(({className:t,...s},r)=>e.jsx(kn,{ref:r,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));Ui.displayName=kn.displayName;const me=c.forwardRef(({className:t,children:s,...r},n)=>e.jsxs(Rn,{ref:n,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Vi,{children:e.jsx(Kn,{className:"h-4 w-4"})})}),e.jsx(Hi,{children:s})]}));me.displayName=Rn.displayName;const zi=c.forwardRef(({className:t,...s},r)=>e.jsx(Dn,{ref:r,className:q("-mx-1 my-1 h-px bg-muted",t),...s}));zi.displayName=Dn.displayName;const Ze=c.forwardRef(({className:t,value:s=0,max:r=100,...n},a)=>e.jsx("div",{ref:a,className:q("relative h-2 w-full overflow-hidden rounded-full bg-gray-200",t),...n,children:e.jsx("div",{className:"h-full w-full flex-1 bg-primary-600 transition-all duration-300 ease-in-out",style:{transform:`translateX(-${100-s/r*100}%)`}})}));Ze.displayName="Progress";const Gi=Tt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}},defaultVariants:{variant:"default"}});function Qe({className:t,variant:s,...r}){return e.jsx("div",{className:q(Gi({variant:s}),t),...r})}const Ki=Tt("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-red-200 bg-red-50 text-red-800 [&>svg]:text-red-600"}},defaultVariants:{variant:"default"}}),$n=c.forwardRef(({className:t,variant:s,...r},n)=>e.jsx("div",{ref:n,role:"alert",className:q(Ki({variant:s}),t),...r}));$n.displayName="Alert";const Fn=c.forwardRef(({className:t,...s},r)=>e.jsx("div",{ref:r,className:q("text-sm [&_p]:leading-relaxed",t),...s}));Fn.displayName="AlertDescription";const Yi=({conservatoryName:t="מרכז המוסיקה רעננה",directorName:s="לימור אקטע",recitalField:r,recitalUnits:n,studentName:a,studentId:l,onRecitalFieldChange:i,onRecitalUnitsChange:o,onStudentNameChange:h,onStudentIdChange:u})=>e.jsxs(J,{className:"p-6 mb-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-blue-800 mb-2",children:"משרד החינוך"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-1",children:"מגן בגרות - מוסיקה"}),e.jsx("div",{className:"text-lg text-gray-700",children:t}),e.jsxs("div",{className:"text-md text-gray-600 mt-2",children:["מנהל/ת: ",s]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"recital-field",className:"text-right block mb-2 font-semibold",children:"תחום הרסיטל"}),e.jsxs(os,{value:r,onValueChange:i,children:[e.jsx(wt,{id:"recital-field",className:"text-right",children:e.jsx(is,{placeholder:"בחר תחום רסיטל"})}),e.jsxs(St,{children:[e.jsx(me,{value:"קלאסי",children:"קלאסי"}),e.jsx(me,{value:"ג'אז",children:"ג'אז"}),e.jsx(me,{value:"שירה",children:"שירה"})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"recital-units",className:"text-right block mb-2 font-semibold",children:"יחידות לימוד"}),e.jsxs(os,{value:n?.toString(),onValueChange:m=>o?.(parseInt(m)),children:[e.jsx(wt,{id:"recital-units",className:"text-right",children:e.jsx(is,{placeholder:"בחר מספר יחידות"})}),e.jsxs(St,{children:[e.jsx(me,{value:"3",children:"3 יחידות"}),e.jsx(me,{value:"5",children:"5 יחידות"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"student-name",className:"text-right block mb-2 font-semibold",children:"שם התלמיד/ה"}),e.jsx(H,{id:"student-name",value:a||"",onChange:m=>h?.(m.target.value),placeholder:"הכנס שם התלמיד",className:"text-right",dir:"rtl"})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"student-id",className:"text-right block mb-2 font-semibold",children:"תעודת זהות"}),e.jsx(H,{id:"student-id",value:l||"",onChange:m=>u?.(m.target.value),placeholder:"הכנס מספר תעודת זהות",className:"text-right",dir:"rtl"})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"text-sm text-gray-600 text-center",children:[e.jsx("p",{className:"font-semibold mb-1",children:"הערות חשובות:"}),e.jsx("p",{children:"• הרסיטל יכלול 5 יצירות מתקופות שונות"}),e.jsx("p",{children:"• תלמידי 5 יחידות נדרשים לבצע יצירה אחת לפחות בעל פה"}),e.jsx("p",{children:"• ההשמעות 1-3 הן השמעות הכנה, ההשמעה הרביעית היא מגן הבגרות הסופי"})]})})]});function qi({program:t,onChange:s,requiredPieces:r,readonly:n=!1}){const[a,l]=c.useState(null),[i,o]=c.useState(null),[h,u]=c.useState(!1),[m,x]=c.useState({pieceTitle:"",composer:"",duration:"",movement:"",youtubeLink:null}),f=b=>{l(b),o({...t[b]})},g=()=>{l(null),o(null)},N=()=>{if(a!==null&&i){const b=[...t];b[a]=i,s(b),l(null),o(null)}},d=b=>{if(window.confirm("האם אתה בטוח שברצונך למחוק יצירה זו?")){const y=t.filter((E,S)=>S!==b);s(y)}},v=()=>{if(m.pieceTitle&&m.composer&&m.duration){const b=[...t,m];s(b),x({pieceTitle:"",composer:"",duration:"",movement:"",youtubeLink:null}),u(!1)}},j=()=>{x({pieceTitle:"",composer:"",duration:"",movement:"",youtubeLink:null}),u(!1)},w=b=>{const y=b.split(":");return y.length===2?parseInt(y[0])*60+parseInt(y[1]):0},C=b=>{const y=Math.floor(b/60),E=b%60;return`${y}:${E.toString().padStart(2,"0")}`},T=()=>{const b=t.reduce((y,E)=>y+w(E.duration),0);return C(b)},P=b=>b?/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/).+/.test(b):!0,p=(b,y)=>{const E=a===y;return e.jsx(J,{padding:"md",className:"relative",children:e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"flex-1",children:E?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם היצירה *"}),e.jsx("input",{type:"text",value:i?.pieceTitle||"",onChange:S=>o(I=>I?{...I,pieceTitle:S.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"שם היצירה"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"מלחין *"}),e.jsx("input",{type:"text",value:i?.composer||"",onChange:S=>o(I=>I?{...I,composer:S.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"שם המלחין"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"משך זמן *"}),e.jsx("input",{type:"text",value:i?.duration||"",onChange:S=>o(I=>I?{...I,duration:S.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"5:30",pattern:"[0-9]+:[0-9]{2}"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"פרק (אופציונלי)"}),e.jsx("input",{type:"text",value:i?.movement||"",onChange:S=>o(I=>I?{...I,movement:S.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"פרק ראשון"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"קישור YouTube (אופציונלי)"}),e.jsx("input",{type:"url",value:i?.youtubeLink||"",onChange:S=>o(I=>I?{...I,youtubeLink:S.target.value||null}:null),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${i?.youtubeLink&&!P(i.youtubeLink)?"border-red-300 focus:ring-red-500":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=..."}),i?.youtubeLink&&!P(i.youtubeLink)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"קישור YouTube לא תקין"})]})]}):e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:b.pieceTitle}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Ve,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"text-sm",children:b.composer}),b.movement&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{className:"text-sm",children:b.movement})]})]}),e.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-3",children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),b.duration]}),b.youtubeLink&&e.jsxs("a",{href:b.youtubeLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-red-600 hover:text-red-800 text-sm",children:[e.jsx(Yn,{className:"w-4 h-4 mr-1"}),"צפה ב-YouTube",e.jsx(qn,{className:"w-3 h-3 mr-1"})]})]})}),!n&&e.jsx("div",{className:"flex items-center gap-2 mr-4",children:E?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:N,disabled:!i?.pieceTitle||!i?.composer||!i?.duration,className:"p-2 text-green-600 hover:text-green-800 disabled:text-gray-400",children:e.jsx(us,{className:"w-4 h-4"})}),e.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:text-gray-800",children:e.jsx(pt,{className:"w-4 h-4"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f(y),className:"p-2 text-primary-600 hover:text-primary-800",children:e.jsx(ds,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>d(y),className:"p-2 text-red-600 hover:text-red-800",children:e.jsx(fs,{className:"w-4 h-4"})})]})})]})},y)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Z,{className:"w-6 h-6 mr-3 text-primary-600"}),"תוכנית הבגרות"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:'סה"כ זמן:'})," ",T()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"יצירות:"})," ",t.length]}),!n&&e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"הוסף יצירה"]})]})]}),e.jsx(J,{padding:"md",className:"bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Z,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"דרישות התוכנית"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• לפחות 3 יצירות שונות"}),e.jsx("li",{children:"• משך זמן מינימלי: 15 דקות"}),e.jsx("li",{children:"• לכל יצירה חייב להיות קישור להשמעה (מומלץ YouTube)"}),e.jsx("li",{children:"• יש לציין פרק ספציפי אם היצירה מורכבת מכמה פרקים"})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-6",children:[e.jsxs("div",{className:`flex items-center text-sm ${t.length>=3?"text-green-700":"text-red-700"}`,children:[e.jsx("span",{className:"font-medium",children:"יצירות:"}),e.jsxs("span",{className:"mr-1",children:[t.length,"/3 (מינימום)"]}),t.length>=3?" ✓":" ⚠️"]}),e.jsxs("div",{className:`flex items-center text-sm ${w(T())>=900?"text-green-700":"text-red-700"}`,children:[e.jsx("span",{className:"font-medium",children:"זמן כולל:"}),e.jsxs("span",{className:"mr-1",children:[T()," (מינימום 15:00)"]}),w(T())>=900?" ✓":" ⚠️"]})]})]})]})}),h&&!n&&e.jsxs(J,{padding:"md",className:"border-2 border-primary-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"הוספת יצירה חדשה"}),e.jsx("button",{onClick:j,className:"text-gray-500 hover:text-gray-700",children:e.jsx(pt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"שם היצירה *"}),e.jsx("input",{type:"text",value:m.pieceTitle,onChange:b=>x(y=>({...y,pieceTitle:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"שם היצירה"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"מלחין *"}),e.jsx("input",{type:"text",value:m.composer,onChange:b=>x(y=>({...y,composer:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"שם המלחין"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"משך זמן * (דק:שנ)"}),e.jsx("input",{type:"text",value:m.duration,onChange:b=>x(y=>({...y,duration:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"5:30",pattern:"[0-9]+:[0-9]{2}"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"פרק (אופציונלי)"}),e.jsx("input",{type:"text",value:m.movement||"",onChange:b=>x(y=>({...y,movement:b.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"פרק ראשון"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"קישור YouTube (אופציונלי)"}),e.jsx("input",{type:"url",value:m.youtubeLink||"",onChange:b=>x(y=>({...y,youtubeLink:b.target.value||null})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${m.youtubeLink&&!P(m.youtubeLink)?"border-red-300 focus:ring-red-500":"border-gray-300"}`,placeholder:"https://www.youtube.com/watch?v=..."}),m.youtubeLink&&!P(m.youtubeLink)&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"קישור YouTube לא תקין"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:j,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"ביטול"}),e.jsx("button",{onClick:v,disabled:!m.pieceTitle||!m.composer||!m.duration,className:"px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"הוסף יצירה"})]})]})]}),t.length>0?e.jsx("div",{className:"space-y-4",children:t.map((b,y)=>p(b,y))}):e.jsx(J,{padding:"md",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Z,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"אין יצירות בתוכנית"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"הוסף יצירות לתוכנית הבגרות שלך"}),!n&&e.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"הוסף יצירה ראשונה"]})]})})]})}const Es=c.forwardRef(({className:t,...s},r)=>e.jsx("textarea",{className:q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...s}));Es.displayName="Textarea";const Xi=({magenBagrut:t={},onUpdate:s,readonly:r=!1})=>{const[n,a]=c.useState({date:t.date,review:t.review||"",reviewedBy:t.reviewedBy||"",recordingLinks:t.recordingLinks||[""],completed:t.completed||!1,status:t.status||"pending",grade:t.grade,gradeLevel:t.gradeLevel,detailedGrading:{playingSkills:{points:t?.detailedGrading?.playingSkills?.points||void 0,maxPoints:40,comments:t?.detailedGrading?.playingSkills?.comments||""},musicalUnderstanding:{points:t?.detailedGrading?.musicalUnderstanding?.points||void 0,maxPoints:30,comments:t?.detailedGrading?.musicalUnderstanding?.comments||""},textKnowledge:{points:t?.detailedGrading?.textKnowledge?.points||void 0,maxPoints:20,comments:t?.detailedGrading?.textKnowledge?.comments||""},playingByHeart:{points:t?.detailedGrading?.playingByHeart?.points||void 0,maxPoints:10,comments:t?.detailedGrading?.playingByHeart?.comments||""}}}),[l,i]=c.useState({examiner1:"",examiner2:"",examiner3:""});c.useEffect(()=>{const d=o(),v={...n,grade:d,gradeLevel:h(d)};a(v),s(v)},[n.detailedGrading?.playingSkills.points,n.detailedGrading?.musicalUnderstanding.points,n.detailedGrading?.textKnowledge.points,n.detailedGrading?.playingByHeart.points]);const o=()=>{const{playingSkills:d,musicalUnderstanding:v,textKnowledge:j,playingByHeart:w}=n.detailedGrading;return(d.points||0)+(v.points||0)+(j.points||0)+(w.points||0)},h=d=>d>=95?"מצוין (95-100)":d>=85?"טוב מאוד (85-94)":d>=75?"טוב (75-84)":d>=65?"כמעט טוב (65-74)":d>=55?"מספק (55-64)":d>=45?"כמעט מספק (45-54)":d>=35?"לא מספק (35-44)":"גרוע (0-34)",u=(d,v)=>{const j={...n,[d]:v};a(j),s(j)},m=(d,v,j)=>{const w={...n,detailedGrading:{...n.detailedGrading,[d]:{...n.detailedGrading[d],[v]:j}}};a(w),s(w)},x=(d,v)=>{const j=[...n.recordingLinks||[""]];j[d]=v,d===j.length-1&&v&&j.push(""),u("recordingLinks",j.filter((w,C)=>w||C===j.length-1))},f=d=>d?new Date(d).toISOString().split("T")[0]:"",g=d=>d?new Date(d):void 0,N=()=>{const{playingSkills:d,musicalUnderstanding:v,textKnowledge:j,playingByHeart:w}=n.detailedGrading;return d.points!==void 0&&v.points!==void 0&&j.points!==void 0&&w.points!==void 0&&n.date&&n.reviewedBy};return e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(gt,{className:"w-6 h-6 ml-3 text-gold-600"}),"מגן בגרות - השמעה סופית"]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${n.completed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.completed?"הושלמה":"טרם הושלמה"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"magen-date",className:"text-right block mb-2 font-semibold",children:[e.jsx(Et,{className:"w-4 h-4 inline ml-2"}),"תאריך מגן הבגרות"]}),e.jsx(H,{id:"magen-date",type:"date",value:f(n.date),onChange:d=>u("date",g(d.target.value)),disabled:r,className:"text-right"})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"magen-reviewedBy",className:"text-right block mb-2 font-semibold",children:[e.jsx(Ae,{className:"w-4 h-4 inline ml-2"}),"ועדת הבוחנים"]}),e.jsx(H,{id:"magen-reviewedBy",value:n.reviewedBy||"",onChange:d=>u("reviewedBy",d.target.value),placeholder:"שמות הבוחנים בוועדה",disabled:r,className:"text-right",dir:"rtl"})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4",children:"טבלת ציונים - מגן בגרות במוסיקה"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse border-2 border-gray-400",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-blue-100",children:[e.jsx("th",{className:"border-2 border-gray-400 px-4 py-3 text-right font-bold text-gray-900",children:"קריטריון הערכה"}),e.jsx("th",{className:"border-2 border-gray-400 px-4 py-3 text-center font-bold text-gray-900",children:"ניקוד מקסימלי"}),e.jsx("th",{className:"border-2 border-gray-400 px-4 py-3 text-center font-bold text-gray-900",children:"ניקוד שהתקבל"}),e.jsx("th",{className:"border-2 border-gray-400 px-4 py-3 text-right font-bold text-gray-900",children:"הערות"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 font-semibold text-right",children:"מיומנות נגינה"}),e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 text-center font-bold text-lg",children:"40"}),e.jsx("td",{className:"border-2 border-gray-400 px-2 py-2 text-center",children:e.jsx(H,{type:"number",min:"0",max:"40",value:n.detailedGrading?.playingSkills.points||"",onChange:d=>m("playingSkills","points",parseInt(d.target.value)||0),disabled:r,className:"w-20 mx-auto text-center font-bold text-lg border-2 focus:border-blue-500"})}),e.jsx("td",{className:"border-2 border-gray-400 px-2 py-2",children:e.jsx(H,{value:n.detailedGrading?.playingSkills.comments||"",onChange:d=>m("playingSkills","comments",d.target.value),disabled:r,placeholder:"הערות על מיומנות הנגינה",className:"border-0 text-right text-sm",dir:"rtl"})})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 font-semibold text-right",children:"הבנה מוסיקלית"}),e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 text-center font-bold text-lg",children:"30"}),e.jsx("td",{className:"border-2 border-gray-400 px-2 py-2 text-center",children:e.jsx(H,{type:"number",min:"0",max:"30",value:n.detailedGrading?.musicalUnderstanding.points||"",onChange:d=>m("musicalUnderstanding","points",parseInt(d.target.value)||0),disabled:r,className:"w-20 mx-auto text-center font-bold text-lg border-2 focus:border-blue-500"})}),e.jsx("td",{className:"border-2 border-gray-400 px-2 py-2",children:e.jsx(H,{value:n.detailedGrading?.musicalUnderstanding.comments||"",onChange:d=>m("musicalUnderstanding","comments",d.target.value),disabled:r,placeholder:"הערות על הבנה מוסיקלית",className:"border-0 text-right text-sm",dir:"rtl"})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 font-semibold text-right",children:"ידיעת הטקסט"}),e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 text-center font-bold text-lg",children:"20"}),e.jsx("td",{className:"border-2 border-gray-400 px-2 py-2 text-center",children:e.jsx(H,{type:"number",min:"0",max:"20",value:n.detailedGrading?.textKnowledge.points||"",onChange:d=>m("textKnowledge","points",parseInt(d.target.value)||0),disabled:r,className:"w-20 mx-auto text-center font-bold text-lg border-2 focus:border-blue-500"})}),e.jsx("td",{className:"border-2 border-gray-400 px-2 py-2",children:e.jsx(H,{value:n.detailedGrading?.textKnowledge.comments||"",onChange:d=>m("textKnowledge","comments",d.target.value),disabled:r,placeholder:"הערות על ידיעת הטקסט",className:"border-0 text-right text-sm",dir:"rtl"})})]}),e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 font-semibold text-right",children:'נגינה בע"פ'}),e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 text-center font-bold text-lg",children:"10"}),e.jsx("td",{className:"border-2 border-gray-400 px-2 py-2 text-center",children:e.jsx(H,{type:"number",min:"0",max:"10",value:n.detailedGrading?.playingByHeart.points||"",onChange:d=>m("playingByHeart","points",parseInt(d.target.value)||0),disabled:r,className:"w-20 mx-auto text-center font-bold text-lg border-2 focus:border-blue-500"})}),e.jsx("td",{className:"border-2 border-gray-400 px-2 py-2",children:e.jsx(H,{value:n.detailedGrading?.playingByHeart.comments||"",onChange:d=>m("playingByHeart","comments",d.target.value),disabled:r,placeholder:"הערות על נגינה בעל פה",className:"border-0 text-right text-sm",dir:"rtl"})})]}),e.jsxs("tr",{className:"bg-blue-200",children:[e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 font-bold text-right text-lg",children:'סה"כ ציון'}),e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 text-center font-bold text-xl",children:"100"}),e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 text-center",children:e.jsx("div",{className:"text-2xl font-bold text-blue-800",children:o()})}),e.jsx("td",{className:"border-2 border-gray-400 px-4 py-3 text-right",children:e.jsx("div",{className:"font-semibold text-blue-800",children:h(o())})})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsxs(G,{className:"text-right block mb-2 font-semibold",children:[e.jsx(Xn,{className:"w-4 h-4 inline ml-2"}),"קישורי הקלטות למגן"]}),e.jsx("div",{className:"space-y-2",children:(n.recordingLinks||[""]).map((d,v)=>e.jsx(H,{value:d,onChange:j=>x(v,j.target.value),placeholder:`קישור הקלטה ${v+1}`,disabled:r,className:"text-left",dir:"ltr"},v))})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"magen-review",className:"text-right block mb-2 font-semibold",children:"הערות כלליות של הוועדה"}),e.jsx(Es,{id:"magen-review",value:n.review||"",onChange:d=>u("review",d.target.value),placeholder:"הערות כלליות על הביצוע והרמה הכללית...",disabled:r,className:"text-right min-h-[120px]",dir:"rtl"})]})]}),e.jsxs("div",{className:"mb-6 p-4 border-2 border-gray-300 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"חתימות ועדת הבוחנים"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-right block mb-2",children:"בוחן ראשי"}),e.jsx(H,{value:l.examiner1,onChange:d=>i(v=>({...v,examiner1:d.target.value})),placeholder:"חתימה",disabled:r,className:"text-right",dir:"rtl"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-right block mb-2",children:"בוחן שני"}),e.jsx(H,{value:l.examiner2,onChange:d=>i(v=>({...v,examiner2:d.target.value})),placeholder:"חתימה",disabled:r,className:"text-right",dir:"rtl"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-right block mb-2",children:"בוחן שלישי"}),e.jsx(H,{value:l.examiner3,onChange:d=>i(v=>({...v,examiner3:d.target.value})),placeholder:"חתימה",disabled:r,className:"text-right",dir:"rtl"})]})]})]}),!r&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(xs,{onClick:()=>u("completed",!n.completed),disabled:!N(),variant:n.completed?"destructive":"default",className:"flex items-center",children:n.completed?e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-4 h-4 ml-2"}),"בטל השלמת מגן"]}):e.jsxs(e.Fragment,{children:[e.jsx(gt,{className:"w-4 h-4 ml-2"}),"השלם מגן בגרות"]})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-800",children:["ציון סופי: ",o(),"/100"]}),e.jsx("div",{className:"text-sm text-gray-600",children:h(o())})]})]})]})},Zi=({directorEvaluation:t={},directorName:s="לימור אקטע",onUpdate:r,readonly:n=!1})=>{const[a,l]=c.useState({points:t.points,percentage:t.percentage,comments:t.comments||""}),[i,o]=c.useState(""),[h,u]=c.useState("");c.useEffect(()=>{const g=a.points!==void 0?a.points/10*100:void 0,N={...a,percentage:g};l(N),r(N)},[a.points]);const m=(g,N)=>{const d={...a,[g]:N};l(d),r(d)},x=g=>g>=9?"מצוין":g>=8?"טוב מאוד":g>=7?"טוב":g>=6?"מספק":g>=5?"כמעט מספק":"לא מספק",f=g=>g>=8?"text-green-700":g>=6?"text-blue-700":g>=5?"text-yellow-700":"text-red-700";return e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[e.jsx(Zn,{className:"w-6 h-6 ml-3 text-blue-600"}),"הערכת המנהל/ת"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"משקל:"})," 10% מהציון הסופי"]})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(et,{className:"w-5 h-5 text-blue-600 ml-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"על הערכת המנהל/ת"}),e.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"הערכת המנהל/ת מהווה 10% מהציון הסופי בבגרות המוסיקה ומבוססת על:"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• מעורבות והשתתפות בחיי בית הספר המוסיקלי"}),e.jsx("li",{children:"• התקדמות והתפתחות לאורך השנים"}),e.jsx("li",{children:"• יחס והתנהגות כלפי הלמידה והחברים"}),e.jsx("li",{children:"• תרומה לקהילה המוסיקלית"}),e.jsx("li",{children:"• מוכנות והקפדה על משימות"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(G,{htmlFor:"director-points",className:"text-right block mb-3 font-semibold text-lg",children:"ציון המנהל/ת (0-10 נקודות)"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{id:"director-points",type:"number",min:"0",max:"10",step:"0.1",value:a.points||"",onChange:g=>m("points",parseFloat(g.target.value)||void 0),disabled:n,className:"text-center text-2xl font-bold h-16 border-2 focus:border-blue-500",placeholder:"0.0"}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"/10"})]}),a.points!==void 0&&e.jsxs("div",{className:`text-center mt-2 font-semibold ${f(a.points)}`,children:[x(a.points),a.percentage!==void 0&&e.jsxs("span",{className:"block text-sm text-gray-600 mt-1",children:["(",a.percentage.toFixed(1),"%)"]})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"evaluation-date",className:"text-right block mb-2 font-semibold",children:"תאריך הערכה"}),e.jsx(H,{id:"evaluation-date",type:"date",value:h,onChange:g=>u(g.target.value),disabled:n,className:"text-right"})]}),e.jsxs("div",{children:[e.jsxs(G,{htmlFor:"director-signature",className:"text-right block mb-2 font-semibold",children:[e.jsx(Qn,{className:"w-4 h-4 inline ml-2"}),"חתימת המנהל/ת"]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2 text-right",children:s}),e.jsx(H,{id:"director-signature",value:i,onChange:g=>o(g.target.value),placeholder:"חתימה דיגיטלית",disabled:n,className:"text-right",dir:"rtl"})]})]}),e.jsxs("div",{children:[e.jsx(G,{htmlFor:"director-comments",className:"text-right block mb-2 font-semibold",children:"הערות והסבר להערכה"}),e.jsx(Es,{id:"director-comments",value:a.comments||"",onChange:g=>m("comments",g.target.value),placeholder:"הערות המנהל/ת על התלמיד/ה: התקדמות, מעורבות, יחס, תרומה לקהילה...",disabled:n,className:"text-right min-h-[200px] resize-y",dir:"rtl"})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"חישוב במסגרת הציון הסופי:"}),e.jsxs("div",{className:"text-sm text-yellow-700",children:[e.jsx("p",{children:"• ציון מגן הבגרות: 90% מהציון הסופי"}),e.jsx("p",{children:"• הערכת המנהל/ת: 10% מהציון הסופי"}),a.points!==void 0&&e.jsxs("p",{className:"mt-2 font-semibold",children:["תרומה לציון הסופי: ",(a.points/10*10).toFixed(1)," נקודות"]})]})]}),e.jsxs("div",{className:"mt-6 p-4 border-2 border-gray-300 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3",children:"סולם הערכה"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between p-2 bg-green-100 rounded",children:[e.jsx("span",{className:"font-medium",children:"מצוין"}),e.jsx("span",{children:"9.0-10.0"})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-blue-100 rounded",children:[e.jsx("span",{className:"font-medium",children:"טוב מאוד"}),e.jsx("span",{children:"8.0-8.9"})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-blue-50 rounded",children:[e.jsx("span",{className:"font-medium",children:"טוב"}),e.jsx("span",{children:"7.0-7.9"})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-yellow-100 rounded",children:[e.jsx("span",{className:"font-medium",children:"מספק"}),e.jsx("span",{children:"6.0-6.9"})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-orange-100 rounded",children:[e.jsx("span",{className:"font-medium",children:"כמעט מספק"}),e.jsx("span",{children:"5.0-5.9"})]}),e.jsxs("div",{className:"flex justify-between p-2 bg-red-100 rounded",children:[e.jsx("span",{className:"font-medium",children:"לא מספק"}),e.jsx("span",{children:"0.0-4.9"})]})]})]}),!n&&a.points!==void 0&&e.jsxs("div",{className:"mt-6 text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["הערכת המנהל/ת: ",a.points,"/10"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["משמעות: ",x(a.points)," • תרומה לציון הסופי: ",(a.points/10*10).toFixed(1)," נקודות"]})]})]})},Qi=({bagrut:t,completionStatus:s,validationErrors:r})=>{const n=()=>{const m=t.presentations?.[3];if(!m?.grade)return 0;const x=m.grade*.9,f=(t.directorEvaluation?.points||0)*.1*10;return Math.round(x+f)},a=m=>{const x=[{level:"מצוין",range:"95-100",description:"רמה יוצאת דופן",min:95,color:"bg-green-600"},{level:"טוב מאוד",range:"85-94",description:"רמה גבוהה מאוד",min:85,color:"bg-green-500"},{level:"טוב",range:"75-84",description:"רמה טובה",min:75,color:"bg-blue-500"},{level:"כמעט טוב",range:"65-74",description:"רמה מעל הממוצע",min:65,color:"bg-blue-400"},{level:"מספק",range:"55-64",description:"רמה מספקת",min:55,color:"bg-yellow-500"},{level:"כמעט מספק",range:"45-54",description:"רמה מתחת לממוצע",min:45,color:"bg-orange-500"},{level:"לא מספק",range:"35-44",description:"רמה נמוכה",min:35,color:"bg-red-500"},{level:"גרוע",range:"0-34",description:"רמה לא מתאימה",min:0,color:"bg-red-600"}];for(const f of x)if(m>=f.min)return f;return x[x.length-1]},l=n(),i=a(l),o=t.presentations?.[3],h=!!(o?.grade&&t.directorEvaluation?.points);r.filter(m=>m.type==="error").length>0;const u=()=>[{level:"מצוין",range:"95-100",description:"רמה יוצאת דופן",color:"bg-green-600"},{level:"טוב מאוד",range:"85-94",description:"רמה גבוהה מאוד",color:"bg-green-500"},{level:"טוב",range:"75-84",description:"רמה טובה",color:"bg-blue-500"},{level:"כמעט טוב",range:"65-74",description:"רמה מעל הממוצע",color:"bg-blue-400"},{level:"מספק",range:"55-64",description:"רמה מספקת",color:"bg-yellow-500"},{level:"כמעט מספק",range:"45-54",description:"רמה מתחת לממוצע",color:"bg-orange-500"},{level:"לא מספק",range:"35-44",description:"רמה נמוכה",color:"bg-red-500"},{level:"גרוע",range:"0-34",description:"רמה לא מתאימה",color:"bg-red-600"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(Jn,{className:"w-7 h-7 ml-3 text-blue-600"}),"סיכום ציונים - בגרות במוסיקה"]}),h&&e.jsxs(Qe,{variant:"success",className:"text-lg px-4 py-2",children:[e.jsx(Ps,{className:"w-5 h-5 ml-2"}),"הושלם"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[e.jsx(gt,{className:"w-8 h-8 mx-auto text-blue-600 mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"ציון מגן בגרות"}),e.jsxs("div",{className:"text-3xl font-bold text-blue-800",children:[o?.grade!==void 0?o.grade:"--","/100"]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"90% מהציון הסופי"}),o?.grade!==void 0&&e.jsxs("div",{className:"text-xs text-blue-700 mt-1",children:["תרומה: ",(o.grade*.9).toFixed(1)," נקודות"]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[e.jsx(et,{className:"w-8 h-8 mx-auto text-green-600 mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"הערכת המנהל/ת"}),e.jsxs("div",{className:"text-3xl font-bold text-green-800",children:[t.directorEvaluation?.points!==void 0?t.directorEvaluation.points:"--","/10"]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"10% מהציון הסופי"}),t.directorEvaluation?.points!==void 0&&e.jsxs("div",{className:"text-xs text-green-700 mt-1",children:["תרומה: ",(t.directorEvaluation.points*.1*10).toFixed(1)," נקודות"]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:`rounded-lg p-4 border-2 ${h?`${i.color} text-white`:"bg-gray-50 border-gray-200"}`,children:[e.jsx(Ps,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("h4",{className:"font-semibold mb-1",children:"ציון סופי"}),e.jsxs("div",{className:"text-3xl font-bold",children:[h?l.toFixed(1):"--","/100"]}),h&&e.jsx("div",{className:"text-sm mt-1 font-medium",children:i.level})]})})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-center",children:"נוסחת החישוב"}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-4 text-lg",children:[e.jsxs("div",{className:"bg-blue-100 px-3 py-1 rounded",children:[e.jsx("span",{className:"font-semibold",children:"ציון מגן בגרות"})," × 90%"]}),e.jsx("span",{className:"text-xl",children:"+"}),e.jsxs("div",{className:"bg-green-100 px-3 py-1 rounded",children:[e.jsx("span",{className:"font-semibold",children:"הערכת המנהל/ת"})," × 10%"]}),e.jsx("span",{className:"text-xl",children:"="}),e.jsx("div",{className:`px-3 py-1 rounded font-bold ${h?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"ציון סופי"})]})}),h&&e.jsxs("div",{className:"text-center mt-4 text-sm text-gray-700",children:[e.jsxs("div",{className:"font-mono",children:[o.grade," × 0.9 + ",t.directorEvaluation.points," × 1.0 = ",l.toFixed(1)]}),e.jsxs("div",{className:"mt-1",children:["(",(o.grade*.9).toFixed(1)," + ",(t.directorEvaluation.points*1).toFixed(1)," = ",l.toFixed(1),")"]})]}),r.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:r.map((m,x)=>e.jsxs("div",{className:`flex items-center p-3 rounded-lg ${m.type==="error"?"bg-red-50 border border-red-200 text-red-800":"bg-yellow-50 border border-yellow-200 text-yellow-800"}`,children:[e.jsx(ms,{className:"w-4 h-4 ml-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:m.message})]},x))}),s&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"סטטוס השלמה"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"השמעות"}),e.jsxs("div",{className:`text-lg ${s.presentations.completed===4?"text-green-600":"text-gray-600"}`,children:[s.presentations.completed,"/4"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"תכנית"}),e.jsxs("div",{className:`text-lg ${s.programPieces.percentage===100?"text-green-600":"text-gray-600"}`,children:[s.programPieces.completed,"/",s.programPieces.required]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"הערכת מנהל"}),e.jsx("div",{className:`text-lg ${s.directorEvaluation.completed?"text-green-600":"text-gray-600"}`,children:s.directorEvaluation.completed?"✓":"✗"})]})]})]})]}),h&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-block p-6 rounded-lg border-2 border-blue-200 bg-blue-50",children:[e.jsx("h4",{className:"text-xl font-bold text-blue-900 mb-2",children:"תוצאה סופית"}),e.jsx("div",{className:"text-4xl font-bold text-blue-800 mb-2",children:l.toFixed(1)}),e.jsxs("div",{className:"text-lg font-semibold mb-1",children:[i.level," (",i.range,")"]}),e.jsx("div",{className:"text-sm text-blue-700",children:i.description})]})})]}),e.jsxs(J,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"סולם הציונים - משרד החינוך"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:u().map((m,x)=>e.jsxs("div",{className:`p-3 rounded-lg border-2 ${h&&l>=m.range.split("-")[0]?`${m.color} text-white border-transparent`:"bg-white border-gray-200 text-gray-700"}`,children:[e.jsx("div",{className:"font-semibold text-sm",children:m.level}),e.jsx("div",{className:"text-xs mt-1",children:m.range}),e.jsx("div",{className:"text-xs mt-1 opacity-90",children:m.description})]},x))})]})]})},Ji=({student:t,studentId:s,onStudentUpdate:r})=>{const[n,a]=c.useState(null),[l,i]=c.useState(!0),[o,h]=c.useState([]),[u,m]=c.useState(null),x=()=>[{completed:!1,status:"pending",notes:"",recordingLinks:[]},{completed:!1,status:"pending",notes:"",recordingLinks:[]},{completed:!1,status:"pending",notes:"",recordingLinks:[]},{completed:!1,status:"pending",notes:"",recordingLinks:[],grade:0,gradeLevel:""}];c.useEffect(()=>{f()},[s]),c.useEffect(()=>{n&&(g(),N())},[n]);const f=async()=>{i(!0);try{const b={_id:`bagrut_${s}`,studentId:s,teacherId:t.teacherId||"",conservatoryName:"מרכז המוסיקה רעננה",directorName:"לימור אקטע",recitalField:void 0,recitalUnits:void 0,program:[],accompaniment:{type:"נגן מלווה",accompanists:[]},presentations:x(),directorEvaluation:{points:void 0,percentage:void 0,comments:""},isCompleted:!1,isActive:!0,createdAt:new Date,updatedAt:new Date};a(b)}catch(b){console.error("Failed to load Bagrut data:",b)}finally{i(!1)}},g=()=>{if(!n)return;const b=[];n.recitalField||b.push({field:"recitalField",message:"יש לבחור תחום רסיטל",type:"error"}),n.recitalUnits||b.push({field:"recitalUnits",message:"יש לבחור מספר יחידות לימוד",type:"error"});const y=n.recitalUnits===5?5:3;n.program.length<y&&b.push({field:"program",message:`נדרשות ${y} יצירות לתכנית`,type:"error"});const E=n.presentations||[];for(let I=1;I<E.length;I++)E[I].completed&&!E[I-1].completed&&b.push({field:`presentation_${I}`,message:`לא ניתן להשלים השמעה ${I+1} לפני השלמת השמעה ${I}`,type:"error"});const S=E[3];if(S?.completed){const I=S?.detailedGrading;if(I){const k=(I.playingSkills.points||0)+(I.musicalUnderstanding.points||0)+(I.textKnowledge.points||0)+(I.playingByHeart.points||0);k>100&&b.push({field:"magenGrading",message:"סך הנקודות חורג מ-100",type:"warning"}),k<55&&b.push({field:"magenGrading",message:"ציון נמוך מהמינימום הנדרש",type:"warning"}),(I.playingSkills.points||0)>I.playingSkills.maxPoints&&b.push({field:"playingSkills",message:`נקודות מיומנות נגינה חורגות מהמקסימום (${I.playingSkills.maxPoints})`,type:"error"}),(I.musicalUnderstanding.points||0)>I.musicalUnderstanding.maxPoints&&b.push({field:"musicalUnderstanding",message:`נקודות הבנה מוסיקלית חורגות מהמקסימום (${I.musicalUnderstanding.maxPoints})`,type:"error"}),(I.textKnowledge.points||0)>I.textKnowledge.maxPoints&&b.push({field:"textKnowledge",message:`נקודות ידיעת טקסט חורגות מהמקסימום (${I.textKnowledge.maxPoints})`,type:"error"}),(I.playingByHeart.points||0)>I.playingByHeart.maxPoints&&b.push({field:"playingByHeart",message:`נקודות נגינה בע״פ חורגות מהמקסימום (${I.playingByHeart.maxPoints})`,type:"error"})}}E.filter(I=>I.completed).length===4&&(n.directorEvaluation?.points||b.push({field:"directorEvaluation",message:"נדרשת הערכת מנהל לפני סיום התהליך",type:"error"})),n.recitalUnits===5&&!n.program.some(k=>k.movement?.toLowerCase().includes("בעל פה")||k.pieceTitle?.toLowerCase().includes("בעל פה"))&&n.program.length>=5&&b.push({field:"program",message:"תלמידי 5 יחידות נדרשים לבצע יצירה אחת לפחות בעל פה",type:"warning"}),h(b)},N=()=>{if(!n)return;const y=(n.presentations||[]).filter(L=>L.completed).length,E=n.recitalUnits===5?5:3,S=Math.min(n.program.length/E*100,100),I=!!n.directorEvaluation?.points,k=y/4*100,O=I?100:0,A=k*.6+S*.3+O*.1,_=y===4&&I&&n.program.length>=E&&o.filter(L=>L.type==="error").length===0;m({presentations:{completed:y,total:4,percentage:k},programPieces:{completed:n.program.length,required:E,percentage:S},directorEvaluation:{completed:I,percentage:O},overall:{percentage:A,canComplete:_}})},d=b=>{if(!n)return;const y={...n,...b,updatedAt:new Date};a(y)},v=(b,y)=>{if(!n)return;const E=[...n.presentations||[]];E[b]={...E[b],...y},d({presentations:E})},j=b=>{d({directorEvaluation:b})},w=b=>n?.presentations?b===0?!0:n.presentations[b-1]?.completed||!1:!1,C=()=>e.jsxs(J,{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Z,{className:"w-6 h-6 ml-3 text-primary-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"הגדרת רסיטל"})]}),e.jsx(Yi,{conservatoryName:n?.conservatoryName,directorName:n?.directorName,recitalField:n?.recitalField,recitalUnits:n?.recitalUnits,studentName:t.name,studentId:s,onRecitalFieldChange:b=>d({recitalField:b}),onRecitalUnitsChange:b=>d({recitalUnits:b})})]}),T=()=>u?e.jsxs(J,{className:"p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ta,{className:"w-6 h-6 ml-3 text-green-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"התקדמות כללית"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:[u.presentations.completed,"/4"]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"השמעות הושלמו"}),e.jsx(Ze,{value:u.presentations.percentage,className:"h-2"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:[u.programPieces.completed,"/",u.programPieces.required]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"יצירות בתכנית"}),e.jsx(Ze,{value:u.programPieces.percentage,className:"h-2"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:u.directorEvaluation.completed?"✓":"✗"}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"הערכת מנהל"}),e.jsx(Ze,{value:u.directorEvaluation.percentage,className:"h-2"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:[Math.round(u.overall.percentage),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:"השלמה כללית"}),e.jsx(Ze,{value:u.overall.percentage,className:"h-3 mb-4"}),u.overall.canComplete?e.jsxs(Qe,{variant:"success",className:"text-sm",children:[e.jsx(fe,{className:"w-4 h-4 ml-1"}),"מוכן להשלמה"]}):e.jsxs(Qe,{variant:"secondary",className:"text-sm",children:[e.jsx(ne,{className:"w-4 h-4 ml-1"}),"בתהליך"]})]})]}):null,P=()=>o.length===0?null:e.jsx("div",{className:"mb-6 space-y-2",children:o.map((b,y)=>e.jsxs($n,{variant:b.type==="error"?"destructive":"default",children:[e.jsx(ms,{className:"h-4 w-4"}),e.jsx(Fn,{children:b.message})]},y))}),p=()=>n?.presentations?e.jsxs("div",{className:"space-y-6 mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Et,{className:"w-6 h-6 ml-3 text-orange-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"השמעות"})]}),n.presentations.map((b,y)=>{const E=w(y),S=y===3;return e.jsxs(J,{className:`p-6 relative ${E?"":"opacity-50"}`,children:[!E&&e.jsx("div",{className:"absolute inset-0 bg-gray-100/50 flex items-center justify-center z-10 rounded-lg",children:e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg flex items-center",children:[e.jsx(As,{className:"w-5 h-5 ml-2 text-gray-500"}),e.jsxs("span",{className:"text-gray-600",children:["השלם את השמעה ",y," תחילה"]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[S?e.jsx(et,{className:"w-6 h-6 ml-3 text-yellow-500"}):e.jsx(Z,{className:"w-6 h-6 ml-3 text-blue-500"}),e.jsx("h4",{className:"text-lg font-bold",children:S?"מגן בגרות":`השמעה ${y+1}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b.completed?e.jsxs(Qe,{variant:"success",children:[e.jsx(fe,{className:"w-4 h-4 ml-1"}),"הושלמה"]}):e.jsxs(Qe,{variant:"secondary",children:[e.jsx(ne,{className:"w-4 h-4 ml-1"}),"ממתינה"]}),E?e.jsx(sa,{className:"w-4 h-4 text-green-500"}):e.jsx(As,{className:"w-4 h-4 text-gray-400"})]})]}),S&&E?e.jsx(Xi,{magenBagrut:b,onUpdate:I=>v(y,I),readonly:!E}):E?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(G,{className:"text-right",children:"תאריך השמעה"}),e.jsx(H,{type:"date",value:b.date?new Date(b.date).toISOString().split("T")[0]:"",onChange:I=>v(y,{date:I.target.value?new Date(I.target.value):void 0,completed:!!I.target.value}),className:"text-right"})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-right",children:"סטטוס"}),e.jsxs(os,{value:b.status||"pending",onValueChange:I=>v(y,{status:I}),children:[e.jsx(wt,{className:"text-right",children:e.jsx(is,{})}),e.jsxs(St,{children:[e.jsx(me,{value:"pending",children:"ממתין"}),e.jsx(me,{value:"completed",children:"הושלם"}),e.jsx(me,{value:"needs_improvement",children:"זקוק שיפור"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(G,{className:"text-right",children:"הערות ומשוב"}),e.jsx(H,{value:b.notes||"",onChange:I=>v(y,{notes:I.target.value}),placeholder:"הערות על ההשמעה...",className:"text-right",dir:"rtl"})]})]}):null]},y)})]}):null;return l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{className:"w-8 h-8 animate-pulse mx-auto mb-4 text-primary-600"}),e.jsx("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:"טוען נתוני בגרות..."})]})}):n?e.jsxs("div",{className:"space-y-6",children:[C(),T(),P(),e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(cs,{className:"w-6 h-6 ml-3 text-purple-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"תכנית הרסיטל"})]}),e.jsx(qi,{program:n.program||[],onChange:b=>d({program:b}),requiredPieces:n.recitalUnits===5?5:3,readonly:!1})]}),p(),e.jsxs(J,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ea,{className:"w-6 h-6 ml-3 text-indigo-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"הערכת מנהל"})]}),e.jsx(Zi,{evaluation:n.directorEvaluation||{points:void 0,comments:""},onUpdate:j,readonly:!1})]}),e.jsx(Qi,{bagrut:n,completionStatus:u,validationErrors:o})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-red-600 text-lg mb-2",children:"⚠️ שגיאה בטעינת נתוני בגרות"}),e.jsx(xs,{onClick:f,variant:"outline",children:"נסה שוב"})]})},ec=({student:t})=>e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-4",children:"✅"}),e.jsx("div",{children:"נוכחות - בפיתוח"})]}),tc=({student:t})=>e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📄"}),e.jsx("div",{children:"מסמכים - בפיתוח"})]}),pe=()=>e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ra,{className:"w-6 h-6 animate-spin mx-auto mb-3 text-primary-600"}),e.jsx("div",{className:"text-sm text-gray-600",children:"טוען נתונים..."})]})}),sc=({error:t,resetError:s,tabName:r})=>e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"text-red-600 text-lg mb-2",children:["⚠️ שגיאה בטעינת ",r]}),e.jsx("div",{className:"text-gray-600 mb-4 text-sm",children:t.message}),e.jsx("button",{onClick:s,className:"px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors text-sm",children:"נסה שוב"})]});class be extends ve.Component{constructor(s){super(s),this.state={hasError:!1,error:null}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error(`Error in ${this.props.tabName} tab:`,s,r)}render(){return this.state.hasError&&this.state.error?e.jsx(sc,{error:this.state.error,resetError:()=>this.setState({hasError:!1,error:null}),tabName:this.props.tabName}):this.props.children}}const rc=({activeTab:t,studentId:s,student:r,isLoading:n,errors:a={},actions:l={},fileHandling:i={},onStudentUpdate:o})=>{const h=()=>{switch(t){case"documents":return e.jsx(mt.DocumentsList,{});case"schedule":return e.jsx(mt.Schedule,{});default:return e.jsx(mt.TabContent,{})}},u=typeof n=="object"?n[t]||n.student:n;if(u)return e.jsx(mr,{isLoading:!0,skeleton:h(),minHeight:"400px",children:e.jsx("div",{})});if(!r)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"📄"}),e.jsx("div",{className:"text-gray-600",children:"אין נתונים להצגה"})]})});const m=()=>{switch(t){case"personal":return e.jsx(be,{tabName:"פרטים אישיים",children:e.jsx(c.Suspense,{fallback:e.jsx(pe,{}),children:e.jsx(fa,{student:r,studentId:s,onStudentUpdate:o})})});case"academic":return e.jsx(be,{tabName:"פרטים אקדמיים",children:e.jsx(c.Suspense,{fallback:e.jsx(pe,{}),children:e.jsx(xa,{student:r,studentId:s,onStudentUpdate:o})})});case"schedule":return e.jsx(be,{tabName:"לוח זמנים",children:e.jsx(c.Suspense,{fallback:e.jsx(pe,{}),children:e.jsx(ba,{student:r,studentId:s,isLoading:u})})});case"attendance":return e.jsx(be,{tabName:"נוכחות",children:e.jsx(c.Suspense,{fallback:e.jsx(pe,{}),children:e.jsx(ec,{student:r})})});case"orchestra":return e.jsx(be,{tabName:"תזמורות",children:e.jsx(c.Suspense,{fallback:e.jsx(pe,{}),children:e.jsx(va,{student:r,studentId:s,isLoading:u})})});case"theory":return e.jsx(be,{tabName:"תיאוריה",children:e.jsx(c.Suspense,{fallback:e.jsx(pe,{}),children:e.jsx(ga,{student:r,studentId:s})})});case"bagrut":return e.jsx(be,{tabName:"בגרות",children:e.jsx(c.Suspense,{fallback:e.jsx(pe,{}),children:e.jsx(Ji,{student:r,studentId:s,onStudentUpdate:o})})});case"documents":return e.jsx(be,{tabName:"מסמכים",children:e.jsx(c.Suspense,{fallback:e.jsx(pe,{}),children:e.jsx(tc,{student:r})})});default:return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-lg mb-2",children:"🚧"}),e.jsx("div",{className:"text-gray-600",children:"תוכן טרם פותח"})]})}};return e.jsx("div",{className:"min-h-96",children:m()})},hc=()=>{console.log("🔍 StudentDetailsPage component loading...");const{studentId:t}=Wn();console.log("📝 Student ID from params:",t);const s=Hn(),[r,n]=c.useState("personal"),[a,l]=c.useState(null),[i,o]=c.useState(!0),[h,u]=c.useState(null),m=f=>{console.log("🔄 Updating student data in parent component:",f),l(f)},x=[{id:"personal",label:"פרטים אישיים",component:()=>null},{id:"academic",label:"מידע אקדמי",component:()=>null},{id:"schedule",label:"לוח זמנים",component:()=>null},{id:"attendance",label:"נוכחות",component:()=>null},{id:"orchestra",label:"תזמורות",component:()=>null},{id:"theory",label:"תאוריה",component:()=>null},{id:"documents",label:"מסמכים",component:()=>null}];return!t||t.trim()===""?e.jsx(Vn,{to:"/students",replace:!0}):(c.useEffect(()=>{t&&(async()=>{try{o(!0),u(null),console.log("🌐 Fetching student data for ID:",t);const g=await Y.students.getStudentById(t);console.log("✅ Student data received:",g),console.log("📚 Enrollments in response:",g?.enrollments),console.log("👨‍🏫 Teacher assignments in response:",g?.teacherAssignments),l(g)}catch(g){console.error("❌ Error fetching student:",g),u(g.message||"Failed to load student data")}finally{o(!1)}})()},[t]),i?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(tt,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary-600"}),e.jsx("div",{className:"text-lg text-gray-600",children:"טוען פרטי תלמיד..."})]})}):h?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"❌"}),e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"שגיאה בטעינת הנתונים"}),e.jsx("p",{className:"text-gray-600 mb-6",children:h}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600",children:[e.jsx(tt,{className:"w-4 h-4"}),"נסה שוב"]})]}):a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("button",{onClick:()=>s("/students"),className:"hover:text-primary-600 transition-colors",children:"תלמידים"}),e.jsx(ks,{className:"w-4 h-4 rotate-180"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"פרטי תלמיד"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-primary-600",children:a.personalInfo?.fullName?.charAt(0)||"?"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.personalInfo?.fullName||"שם לא זמין"}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.isActive?"פעיל":"לא פעיל"})})]})]})}),e.jsx(ua,{activeTab:r,onTabChange:n,tabs:x}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:e.jsx(rc,{activeTab:r,studentId:t,student:a,isLoading:!1,onStudentUpdate:m})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-96 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"תלמיד לא נמצא"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"לא נמצאו פרטים עבור התלמיד המבוקש"}),e.jsxs("button",{onClick:()=>s("/students"),className:"flex items-center gap-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600",children:[e.jsx(ks,{className:"w-4 h-4"}),"חזור לרשימת התלמידים"]})]}))};export{hc as default};
